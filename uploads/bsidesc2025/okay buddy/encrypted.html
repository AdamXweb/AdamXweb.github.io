const __vite__mapDeps = (i, m = __vite__mapDeps, d = (m.f || (m.f = ["./highlight.BeG7RkMn.js", "./preload-helper.sfJBF_Il.js", "./runtime.DYyTtHTE.js", "./index-client.C9IGugnl.js", "./store.Cx9RWPhg.js"]))) => i.map(i => d[i]);
var __defProp = Object.defineProperty,
	__typeError = t => { throw TypeError(t) },
	__defNormalProp = (t, e, i) => e in t ? __defProp(t, e, { enumerable: !0, configurable: !0, writable: !0, value: i }) : t[e] = i,
	__publicField = (t, e, i) => __defNormalProp(t, "symbol" != typeof e ? e + "" : e, i),
	__accessCheck = (t, e, i) => e.has(t) || __typeError("Cannot " + i),
	__privateGet = (t, e, i) => (__accessCheck(t, e, "read from private field"), i ? i.call(t) : e.get(t)),
	__privateAdd = (t, e, i) => e.has(t) ? __typeError("Cannot add the same private member more than once") : e instanceof WeakSet ? e.add(t) : e.set(t, i),
	_isOpen, _preventMovement, _currentDialog, _area, _selfHome, _availableEmotes, _selectedEmote, _availableItems, _havePaintings, _currentHomePaintings, _isFlagPaintingOpen, _haveShopItems, _currentSkinId, _isMenuOpen, _isPaintingShopOpen, _isShopOpen, _isPixelServiceOpen, _isHowToPlayOpen, _isHeadDisplayOpen, _currentHeadType, _ping, __connectionStatus, _onlinePlayers, _isSinglePlayerMode, _showPlayerLabels, _isMusicMuted, _currentMusic, _stopUpdates, _user, _isInitialised, _isAuthenticated, _isFirstTime, _error;
import { e as create_fragment_from_html, b as assign_nodes, t as template, a as append, d as text$6, c as comment$1, n as ns_template, h as head$1 } from "./disclose-version.CYOggStq.js";
import { W as queue_micro_task, ai as create_text, G as block, z as is_array, ag as array_from, J as branch, at as EACH_ITEM_REACTIVE, au as EACH_ITEM_IMMUTABLE, v as mutable_source, A as source, av as EACH_INDEX_REACTIVE, L as hydrating, aw as internal_set, ax as INERT, I as resume_effect, ay as pause_children, am as clear_text_content, az as run_out_transitions, aA as destroy_effect, D as active_effect, a9 as active_reaction, K as pause_effect, aB as EACH_IS_CONTROLLED, P as set_hydrate_node, ac as get_first_child, M as hydrate_next, N as HYDRATION_START_ELSE, O as remove_nodes, Q as set_hydrating, R as hydrate_node, aj as HYDRATION_END, aC as EACH_IS_ANIMATED, ae as get_next_sibling, ak as hydration_mismatch, af as HYDRATION_ERROR, H as EFFECT_TRANSPARENT, o as noop$1, w as get_prototype_of, aD as LOADING_ATTR_SYMBOL, aE as get_descriptors, aF as is_function, a8 as set_active_reaction, a1 as set_active_effect, aG as TRANSITION_GLOBAL, aH as BLOCK_EFFECT, aI as EFFECT_RAN, T as effect, b as untrack, aJ as TRANSITION_IN, aK as TRANSITION_OUT, s as set, g as get, i as state, f as derived, k as child, j as sibling, m as reset, p as push$1, t as template_effect, l as pop, n as first_child, aL as next, a as user_effect, a3 as derived_safe_equal } from "./runtime.DYyTtHTE.js";
import { i as if_block, r as rest_props, _ as __vitePreload, b as bind_this } from "./preload-helper.sfJBF_Il.js";
import { p as proxy, o as onMount } from "./index-client.C9IGugnl.js";
import { A as API_BASE_URL, D as Direction, P as PLAYER_BBOX, c as PLAYER_SPRITES, S as SKINS, I as ItemConfigs, d as PaintingConfigs, e as DIRECTIONS, f as directionToString, s as stringToDirection, g as SHOP_ITEMS, b as api, h as PortalConfigs, i as ITEM_SKIN_MAPPING, j as ShopItemConfigs, a as attr, l as loadingGif } from "./loading.oC37d3kM.js";
import "./legacy.CP2dHcr3.js";
import { i as is_capture_event, a as is_delegated, c as create_event, d as delegate, n as normalize_attribute, b as should_intro, s as set_text, r as replay_events } from "./render.Dh3nSRMd.js";
import { i as init } from "./lifecycle.BaHCz6jt.js";

function autofocus(t, e) { if (e) { const e = document.body;
		t.autofocus = !0, queue_micro_task((() => { document.activeElement === e && t.focus() })) } }

function index$1(t, e) { return e }

function pause_effects(t, e, i, n) { for (var r = [], s = e.length, o = 0; o < s; o++) pause_children(e[o].e, r, !0); var a = s > 0 && 0 === r.length && null !== i; if (a) { var l = i.parentNode;
		clear_text_content(l), l.append(i), n.clear(), link$2(t, e[0].prev, e[s - 1].next) } run_out_transitions(r, (() => { for (var i = 0; i < s; i++) { var r = e[i];
			a || (n.delete(r.k), link$2(t, r.prev, r.next)), destroy_effect(r.e, !a) } })) }

function each(t, e, i, n, r, s = null) { var o = t,
		a = { items: new Map, first: null }; if (e & EACH_IS_CONTROLLED) { var l = t;
		o = hydrating ? set_hydrate_node(get_first_child(l)) : l.appendChild(create_text()) } hydrating && hydrate_next(); var h = null,
		u = !1;
	block((() => { var t = i(),
			l = is_array(t) ? t : null == t ? [] : array_from(t),
			c = l.length; if (u && 0 === c) return;
		u = 0 === c; let d = !1; if (hydrating && o.data === HYDRATION_START_ELSE != (0 === c) && (o = remove_nodes(), set_hydrate_node(o), set_hydrating(!1), d = !0), hydrating) { for (var f, p = null, g = 0; g < c; g++) { if (8 === hydrate_node.nodeType && hydrate_node.data === HYDRATION_END) { o = hydrate_node, d = !0, set_hydrating(!1); break } var m = l[g],
					v = n(m, g);
				f = create_item(hydrate_node, a, p, null, m, v, g, r, e), a.items.set(v, f), p = f } c > 0 && set_hydrate_node(remove_nodes()) } hydrating || reconcile(l, a, o, r, e, !!(active_reaction.f & INERT), n), null !== s && (0 === c ? h ? resume_effect(h) : h = branch((() => s(o))) : null !== h && pause_effect(h, (() => { h = null }))), d && set_hydrating(!0), i() })), hydrating && (o = hydrate_node) }

function reconcile(t, e, i, n, r, s, o) { var a, l, h, u, c, d, f, p, g, m, v = !!(r & EACH_IS_ANIMATED),
		y = !!(r & (EACH_ITEM_REACTIVE | EACH_INDEX_REACTIVE)),
		x = t.length,
		b = e.items,
		w = e.first,
		T = null,
		S = [],
		_ = []; if (v)
		for (m = 0; m < x; m += 1) p = o(f = t[m], m), void 0 !== (g = b.get(p)) && (null == (a = g.a) || a.measure(), (d ?? (d = new Set)).add(g)); for (m = 0; m < x; m += 1)
		if (p = o(f = t[m], m), void 0 !== (g = b.get(p))) { if (y && update_item(g, f, m, r), g.e.f & INERT && (resume_effect(g.e), v && (null == (l = g.a) || l.unfix(), (d ?? (d = new Set)).delete(g))), g !== w) { if (void 0 !== c && c.has(g)) { if (S.length < _.length) { var E, A = _[0];
						T = A.prev; var C = S[0],
							k = S[S.length - 1]; for (E = 0; E < S.length; E += 1) move(S[E], A, i); for (E = 0; E < _.length; E += 1) c.delete(_[E]);
						link$2(e, C.prev, k.next), link$2(e, T, C), link$2(e, k, A), w = A, T = k, m -= 1, S = [], _ = [] } else c.delete(g), move(g, w, i), link$2(e, g.prev, g.next), link$2(e, g, null === T ? e.first : T.next), link$2(e, T, g), T = g; continue } for (S = [], _ = []; null !== w && w.k !== p;) !s && w.e.f & INERT || (c ?? (c = new Set)).add(w), _.push(w), w = w.next; if (null === w) continue;
				g = w } S.push(g), T = g, w = g.next } else T = create_item(w ? w.e.nodes_start : i, e, T, null === T ? e.first : T.next, f, p, m, n, r), b.set(p, T), S = [], _ = [], w = T.next; if (null !== w || void 0 !== c) { for (var P = void 0 === c ? [] : array_from(c); null !== w;) !s && w.e.f & INERT || P.push(w), w = w.next; var O = P.length; if (O > 0) { var R = r & EACH_IS_CONTROLLED && 0 === x ? i : null; if (v) { for (m = 0; m < O; m += 1) null == (h = P[m].a) || h.measure(); for (m = 0; m < O; m += 1) null == (u = P[m].a) || u.fix() } pause_effects(e, P, R, b) } } v && queue_micro_task((() => { var t; if (void 0 !== d)
			for (g of d) null == (t = g.a) || t.apply() })), active_effect.first = e.first && e.first.e, active_effect.last = T && T.e }

function update_item(t, e, i, n) { n & EACH_ITEM_REACTIVE && internal_set(t.v, e), n & EACH_INDEX_REACTIVE ? internal_set(t.i, i) : t.i = i }

function create_item(t, e, i, n, r, s, o, a, l) { var h = l & EACH_ITEM_REACTIVE ? l & EACH_ITEM_IMMUTABLE ? source(r) : mutable_source(r) : r,
		u = l & EACH_INDEX_REACTIVE ? source(o) : o,
		c = { i: u, v: h, k: s, a: null, e: null, prev: i, next: n }; try { return c.e = branch((() => a(t, h, u)), hydrating), c.e.prev = i && i.e, c.e.next = n && n.e, null === i ? e.first = c : (i.next = c, i.e.next = c.e), null !== n && (n.prev = c, n.e.prev = c.e), c } finally {} }

function move(t, e, i) { for (var n = t.next ? t.next.e.nodes_start : i, r = e ? e.e.nodes_start : i, s = t.e.nodes_start; s !== n;) { var o = get_next_sibling(s);
		r.before(s), s = o } }

function link$2(t, e, i) { null === e ? t.first = i : (e.next = i, e.e.next = i && i.e), null !== i && (i.prev = e, i.e.prev = e && e.e) }

function html$6(t, e, i, n, r) { var s, o = t,
		a = "";
	block((() => { a !== (a = e() ?? "") ? (void 0 !== s && (destroy_effect(s), s = void 0), "" !== a && (s = branch((() => { if (hydrating) { hydrate_node.data; for (var t = hydrate_next(), e = t; null !== t && (8 !== t.nodeType || "" !== t.data);) e = t, t = get_next_sibling(t); if (null === t) throw hydration_mismatch(), HYDRATION_ERROR; return assign_nodes(hydrate_node, e), void(o = set_hydrate_node(t)) } var i = create_fragment_from_html(a + "");
			assign_nodes(get_first_child(i), i.lastChild), o.before(i) })))) : hydrating && hydrate_next() })) }

function snippet(t, e, ...i) { var n, r = t,
		s = noop$1;
	block((() => { s !== (s = e()) && (n && (destroy_effect(n), n = null), n = branch((() => s(r, ...i)))) }), EFFECT_TRANSPARENT), hydrating && (r = hydrate_node) }

function set_attribute(t, e, i, n) { var r = t.__attributes ?? (t.__attributes = {});
	hydrating && (r[e] = t.getAttribute(e), "src" === e || "srcset" === e || "href" === e && "LINK" === t.nodeName) || r[e] !== (r[e] = i) && ("style" === e && "__styles" in t && (t.__styles = {}), "loading" === e && (t[LOADING_ATTR_SYMBOL] = i), null == i ? t.removeAttribute(e) : "string" != typeof i && get_setters(t).includes(e) ? t[e] = i : t.setAttribute(e, i)) }

function set_attributes(t, e, i, n, r = !1, s = !1, o = !1) { var a = e || {},
		l = "OPTION" === t.tagName; for (var h in e) h in i || (i[h] = null); var u = get_setters(t),
		c = t.__attributes ?? (t.__attributes = {}),
		d = []; for (const v in i) { let n = i[v]; if (l && "value" === v && null == n) t.value = t.__value = "", a[v] = n;
		else { var f = a[v]; if (n !== f) { a[v] = n; var p = v[0] + v[1]; if ("$$" !== p) { if ("on" === p) { const i = {},
							r = "$$" + v; let s = v.slice(2); var g = is_delegated(s); if (is_capture_event(s) && (s = s.slice(0, -7), i.capture = !0), !g && f) { if (null != n) continue;
							t.removeEventListener(s, a[r], i), a[r] = null } if (null != n)
							if (g) t[`__${s}`] = n, delegate([s]);
							else { let o = function(t) { a[v].call(this, t) };
								e ? a[r] = create_event(s, t, o, i) : d.push([v, n, () => a[r] = create_event(s, t, o, i)]) } } else if ("style" === v && null != n) t.style.cssText = n + "";
					else if ("autofocus" === v) autofocus(t, Boolean(n));
					else if ("__value" === v || "value" === v && null != n) t.value = t[v] = t.__value = n;
					else { var m = v;
						r || (m = normalize_attribute(m)), null != n || s ? u.includes(m) && (s || "string" != typeof n) ? t[m] = n : "function" != typeof n && (!hydrating || "src" !== m && "href" !== m && "srcset" !== m) && set_attribute(t, m, n) : (c[v] = null, t.removeAttribute(v)) } "style" === v && "__styles" in t && (t.__styles = {}) } } } } return e || queue_micro_task((() => { if (t.isConnected)
			for (const [t, e, i] of d) a[t] === e && i() })), a }
var setters_cache = new Map;

function get_setters(t) { var e, i = setters_cache.get(t.nodeName); if (i) return i;
	setters_cache.set(t.nodeName, i = []); for (var n = get_prototype_of(t), r = Element.prototype; r !== n;) { for (var s in e = get_descriptors(n)) e[s].set && i.push(s);
		n = get_prototype_of(n) } return i }

function handle_lazy_img(t) { if (!hydrating && "lazy" === t.loading) { var e = t.src;
		t[LOADING_ATTR_SYMBOL] = null, t.loading = "eager", t.removeAttribute("src"), requestAnimationFrame((() => { "eager" !== t[LOADING_ATTR_SYMBOL] && (t.loading = "lazy"), t.src = e })) } }

function set_class(t, e) { var i = t.__className,
		n = to_class(e);
	hydrating && t.className === n ? t.__className = n : (i !== n || hydrating && t.className !== n) && (null == e ? t.removeAttribute("class") : t.className = n, t.__className = n) }

function to_class(t) { return null == t ? "" : t }

function toggle_class(t, e, i) { if (i) { if (t.classList.contains(e)) return;
		t.classList.add(e) } else { if (!t.classList.contains(e)) return;
		t.classList.remove(e) } }
const now = () => performance.now(),
	raf = { tick: t => requestAnimationFrame(t), now: () => now(), tasks: new Set };

function run_tasks(t) { raf.tasks.forEach((e => { e.c(t) || (raf.tasks.delete(e), e.f()) })), 0 !== raf.tasks.size && raf.tick(run_tasks) }

function loop(t) { let e; return 0 === raf.tasks.size && raf.tick(run_tasks), { promise: new Promise((i => { raf.tasks.add(e = { c: t, f: i }) })), abort() { raf.tasks.delete(e) } } }

function dispatch_event(t, e) { t.dispatchEvent(new CustomEvent(e)) }

function css_property_to_camelcase(t) { if ("float" === t) return "cssFloat"; if ("offset" === t) return "cssOffset"; if (t.startsWith("--")) return t; const e = t.split("-"); return 1 === e.length ? e[0] : e[0] + e.slice(1).map((t => t[0].toUpperCase() + t.slice(1))).join("") }

function css_to_keyframe(t) { const e = {},
		i = t.split(";"); for (const n of i) { const [t, i] = n.split(":"); if (!t || void 0 === i) break;
		e[css_property_to_camelcase(t.trim())] = i.trim() } return e }
const linear$1 = t => t;

function transition(t, e, i, n) { var r, s, o, a = !!(t & TRANSITION_IN),
		l = !!(t & TRANSITION_OUT),
		h = !!(t & TRANSITION_GLOBAL),
		u = a && l ? "both" : a ? "in" : "out",
		c = e.inert;

	function d() { var t = active_reaction,
			s = active_effect;
		set_active_reaction(null), set_active_effect(null); try { return r ?? (r = i()(e, (null == n ? void 0 : n()) ?? {}, { direction: u })) } finally { set_active_reaction(t), set_active_effect(s) } } var f = { is_global: h, in() { var t; if (e.inert = c, !a) return null == o || o.abort(), void(null == (t = null == o ? void 0 : o.reset) || t.call(o));
				l || null == s || s.abort(), dispatch_event(e, "introstart"), s = animate(e, d(), o, 1, (() => { dispatch_event(e, "introend"), null == s || s.abort(), s = r = void 0 })) }, out(t) { if (!l) return null == t || t(), void(r = void 0);
				e.inert = !0, dispatch_event(e, "outrostart"), o = animate(e, d(), s, 0, (() => { dispatch_event(e, "outroend"), null == t || t() })) }, stop: () => { null == s || s.abort(), null == o || o.abort() } },
		p = active_effect; if ((p.transitions ?? (p.transitions = [])).push(f), a && should_intro) { var g = h; if (!g) { for (var m = p.parent; m && m.f & EFFECT_TRANSPARENT;)
				for (;
					(m = m.parent) && !(m.f & BLOCK_EFFECT););
			g = !m || !!(m.f & EFFECT_RAN) } g && effect((() => { untrack((() => f.in())) })) } }

function animate(t, e, i, n, r) { var s = 1 === n; if (is_function(e)) { var o, a = !1; return queue_micro_task((() => { if (!a) { var l = e({ direction: s ? "in" : "out" });
				o = animate(t, l, i, n, r) } })), { abort: () => { a = !0, null == o || o.abort() }, deactivate: () => o.deactivate(), reset: () => o.reset(), t: () => o.t() } } if (null == i || i.deactivate(), !(null == e ? void 0 : e.duration)) return r(), { abort: noop$1, deactivate: noop$1, reset: noop$1, t: () => n }; const { delay: l = 0, css: h, tick: u, easing: c = linear$1 } = e; var d = []; if (s && void 0 === i && (u && u(0, 1), h)) { var f = css_to_keyframe(h(0, 1));
		d.push(f, f) } var p = () => 1 - n,
		g = t.animate(d, { duration: l }); return g.onfinish = () => { var s = (null == i ? void 0 : i.t()) ?? 1 - n;
		null == i || i.abort(); var o = n - s,
			a = e.duration * Math.abs(o),
			l = []; if (a > 0) { if (h)
				for (var d = Math.ceil(a / (1e3 / 60)), f = 0; f <= d; f += 1) { var m = s + o * c(f / d),
						v = h(m, 1 - m);
					l.push(css_to_keyframe(v)) } p = () => { var t = g.currentTime; return s + o * c(t / a) }, u && loop((() => { if ("running" !== g.playState) return !1; var t = p(); return u(t, 1 - t), !0 })) }(g = t.animate(l, { duration: a, fill: "forwards" })).onfinish = () => { p = () => n, null == u || u(n, 1 - n), r() } }, { abort: () => { g && (g.cancel(), g.effect = null, g.onfinish = noop$1) }, deactivate: () => { r = noop$1 }, reset: () => { 0 === n && (null == u || u(1, 0)) }, t: () => p() } }

function reactive_import(t) { var e = source(0); return function() { return 1 === arguments.length ? (set(e, get(e) + 1), arguments[0]) : (get(e), t()) } }
var commonjsGlobal = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};

function getDefaultExportFromCjs(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t }
var phaser = { exports: {} },
	factory2;
factory2 = () => (() => { var t = { 50792: t => { var e = Object.prototype.hasOwnProperty,
					i = "~";

				function n() {}

				function r(t, e, i) { this.fn = t, this.context = e, this.once = i || !1 }

				function s(t, e, n, s, o) { if ("function" != typeof n) throw new TypeError("The listener must be a function"); var a = new r(n, s || t, o),
						l = i ? i + e : e; return t._events[l] ? t._events[l].fn ? t._events[l] = [t._events[l], a] : t._events[l].push(a) : (t._events[l] = a, t._eventsCount++), t }

				function o(t, e) { 0 == --t._eventsCount ? t._events = new n : delete t._events[e] }

				function a() { this._events = new n, this._eventsCount = 0 } Object.create && (n.prototype = Object.create(null), (new n).__proto__ || (i = !1)), a.prototype.eventNames = function() { var t, n, r = []; if (0 === this._eventsCount) return r; for (n in t = this._events) e.call(t, n) && r.push(i ? n.slice(1) : n); return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(t)) : r }, a.prototype.listeners = function(t) { var e = i ? i + t : t,
						n = this._events[e]; if (!n) return []; if (n.fn) return [n.fn]; for (var r = 0, s = n.length, o = new Array(s); r < s; r++) o[r] = n[r].fn; return o }, a.prototype.listenerCount = function(t) { var e = i ? i + t : t,
						n = this._events[e]; return n ? n.fn ? 1 : n.length : 0 }, a.prototype.emit = function(t, e, n, r, s, o) { var a = i ? i + t : t; if (!this._events[a]) return !1; var l, h, u = this._events[a],
						c = arguments.length; if (u.fn) { switch (u.once && this.removeListener(t, u.fn, void 0, !0), c) {
							case 1:
								return u.fn.call(u.context), !0;
							case 2:
								return u.fn.call(u.context, e), !0;
							case 3:
								return u.fn.call(u.context, e, n), !0;
							case 4:
								return u.fn.call(u.context, e, n, r), !0;
							case 5:
								return u.fn.call(u.context, e, n, r, s), !0;
							case 6:
								return u.fn.call(u.context, e, n, r, s, o), !0 } for (h = 1, l = new Array(c - 1); h < c; h++) l[h - 1] = arguments[h];
						u.fn.apply(u.context, l) } else { var d, f = u.length; for (h = 0; h < f; h++) switch (u[h].once && this.removeListener(t, u[h].fn, void 0, !0), c) {
							case 1:
								u[h].fn.call(u[h].context); break;
							case 2:
								u[h].fn.call(u[h].context, e); break;
							case 3:
								u[h].fn.call(u[h].context, e, n); break;
							case 4:
								u[h].fn.call(u[h].context, e, n, r); break;
							default:
								if (!l)
									for (d = 1, l = new Array(c - 1); d < c; d++) l[d - 1] = arguments[d];
								u[h].fn.apply(u[h].context, l) } } return !0 }, a.prototype.on = function(t, e, i) { return s(this, t, e, i, !1) }, a.prototype.once = function(t, e, i) { return s(this, t, e, i, !0) }, a.prototype.removeListener = function(t, e, n, r) { var s = i ? i + t : t; if (!this._events[s]) return this; if (!e) return o(this, s), this; var a = this._events[s]; if (a.fn) a.fn !== e || r && !a.once || n && a.context !== n || o(this, s);
					else { for (var l = 0, h = [], u = a.length; l < u; l++)(a[l].fn !== e || r && !a[l].once || n && a[l].context !== n) && h.push(a[l]);
						h.length ? this._events[s] = 1 === h.length ? h[0] : h : o(this, s) } return this }, a.prototype.removeAllListeners = function(t) { var e; return t ? (e = i ? i + t : t, this._events[e] && o(this, e)) : (this._events = new n, this._eventsCount = 0), this }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = i, a.EventEmitter = a, t.exports = a }, 11517: (t, e, i) => { var n = i(38829);
				t.exports = function(t, e, i, r) { for (var s = t[0], o = 1; o < t.length; o++) { var a = t[o];
						n(a, s, e, i, r), s = a } return t } }, 80318: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s) { return n(t, "angle", e, i, r, s) } }, 60757: t => { t.exports = function(t, e, i) { for (var n = 0; n < t.length; n++) { var r = t[n];
						e.call(i, r) } return t } }, 69927: t => { t.exports = function(t, e, i) { void 0 === i && (i = 0); for (var n = i; n < t.length; n++) { var r = t[n],
							s = !0; for (var o in e) r[o] !== e[o] && (s = !1); if (s) return r } return null } }, 32265: t => { t.exports = function(t, e, i) { void 0 === i && (i = 0); for (var n = t.length - 1; n >= i; n--) { var r = t[n],
							s = !0; for (var o in e) r[o] !== e[o] && (s = !1); if (s) return r } return null } }, 94420: (t, e, i) => { var n = i(11879),
					r = i(60461),
					s = i(95540),
					o = i(29747),
					a = new(i(41481))({ sys: { queueDepthSort: o, events: { once: o } } }, 0, 0, 1, 1).setOrigin(0, 0);
				t.exports = function(t, e) { void 0 === e && (e = {}); var i = e.hasOwnProperty("width"),
						o = e.hasOwnProperty("height"),
						l = s(e, "width", -1),
						h = s(e, "height", -1),
						u = s(e, "cellWidth", 1),
						c = s(e, "cellHeight", u),
						d = s(e, "position", r.TOP_LEFT),
						f = s(e, "x", 0),
						p = s(e, "y", 0),
						g = 0,
						m = 0,
						v = l * u,
						y = h * c;
					a.setPosition(f, p), a.setSize(u, c); for (var x = 0; x < t.length; x++)
						if (n(t[x], a, d), i && -1 === l) a.x += u;
						else if (o && -1 === h) a.y += c;
					else if (o && !i) { if (m += c, a.y += c, m === y && (m = 0, g += u, a.y = p, a.x += u, g === v)) break } else if (g += u, a.x += u, g === v && (g = 0, m += c, a.x = f, a.y += c, m === y)) break; return t } }, 41721: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s) { return n(t, "alpha", e, i, r, s) } }, 67285: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s) { return n(t, "x", e, i, r, s) } }, 9074: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s, o, a) { return null == i && (i = e), n(t, "x", e, r, o, a), n(t, "y", i, s, o, a) } }, 75222: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s) { return n(t, "y", e, i, r, s) } }, 22983: t => { t.exports = function(t, e, i, n) { void 0 === i && (i = 0), void 0 === n && (n = 6.28); for (var r = i, s = (n - i) / t.length, o = e.x, a = e.y, l = e.radius, h = 0; h < t.length; h++) t[h].x = o + l * Math.cos(r), t[h].y = a + l * Math.sin(r), r += s; return t } }, 95253: t => { t.exports = function(t, e, i, n) { void 0 === i && (i = 0), void 0 === n && (n = 6.28); for (var r = i, s = (n - i) / t.length, o = e.width / 2, a = e.height / 2, l = 0; l < t.length; l++) t[l].x = e.x + o * Math.cos(r), t[l].y = e.y + a * Math.sin(r), r += s; return t } }, 88505: (t, e, i) => { var n = i(15258),
					r = i(26708);
				t.exports = function(t, e, i) { var s;
					s = i ? r(e, i, t.length) : n(e, t.length); for (var o = 0; o < t.length; o++) { var a = t[o],
							l = s[o];
						a.x = l.x, a.y = l.y } return t } }, 41346: (t, e, i) => { var n = i(14649),
					r = i(86003),
					s = i(49498);
				t.exports = function(t, e, i) { void 0 === i && (i = 0); var o = n(e, !1, t.length);
					i > 0 ? r(o, i) : i < 0 && s(o, Math.abs(i)); for (var a = 0; a < t.length; a++) t[a].x = o[a].x, t[a].y = o[a].y; return t } }, 11575: (t, e, i) => { var n = i(84993);
				t.exports = function(t, e, i) { var r = n({ x1: e.x1, y1: e.y1, x2: e.x2, y2: e.y2 }, i),
						s = n({ x1: e.x2, y1: e.y2, x2: e.x3, y2: e.y3 }, i),
						o = n({ x1: e.x3, y1: e.y3, x2: e.x1, y2: e.y1 }, i);
					r.pop(), s.pop(), o.pop(); for (var a = (r = r.concat(s, o)).length / t.length, l = 0, h = 0; h < t.length; h++) { var u = t[h],
							c = r[Math.floor(l)];
						u.x = c.x, u.y = c.y, l += a } return t } }, 29953: t => { t.exports = function(t, e, i) { for (var n = 0; n < t.length; n++) { var r = t[n];
						r.anims && r.anims.play(e, i) } return t } }, 66979: t => { t.exports = function(t, e, i, n, r, s) { var o;
					void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 1); var a = 0,
						l = t.length; if (1 === s)
						for (o = r; o < l; o++) t[o][e] += i + a * n, a++;
					else
						for (o = r; o >= 0; o--) t[o][e] += i + a * n, a++; return t } }, 43967: t => { t.exports = function(t, e, i, n, r, s) { var o;
					void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 1); var a = 0,
						l = t.length; if (1 === s)
						for (o = r; o < l; o++) t[o][e] = i + a * n, a++;
					else
						for (o = r; o >= 0; o--) t[o][e] = i + a * n, a++; return t } }, 88926: (t, e, i) => { var n = i(28176);
				t.exports = function(t, e) { for (var i = 0; i < t.length; i++) n(e, t[i]); return t } }, 33286: (t, e, i) => { var n = i(24820);
				t.exports = function(t, e) { for (var i = 0; i < t.length; i++) n(e, t[i]); return t } }, 96e3: (t, e, i) => { var n = i(65822);
				t.exports = function(t, e) { for (var i = 0; i < t.length; i++) n(e, t[i]); return t } }, 28789: (t, e, i) => { var n = i(26597);
				t.exports = function(t, e) { for (var i = 0; i < t.length; i++) n(e, t[i]); return t } }, 97154: (t, e, i) => { var n = i(90260);
				t.exports = function(t, e) { for (var i = 0; i < t.length; i++) n(e, t[i]); return t } }, 20510: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s) { return n(t, "rotation", e, i, r, s) } }, 91051: (t, e, i) => { var n = i(1163),
					r = i(20339);
				t.exports = function(t, e, i) { for (var s = e.x, o = e.y, a = 0; a < t.length; a++) { var l = t[a];
						n(l, s, o, i, Math.max(1, r(l.x, l.y, s, o))) } return t } }, 76332: (t, e, i) => { var n = i(1163);
				t.exports = function(t, e, i, r) { var s = e.x,
						o = e.y; if (0 === r) return t; for (var a = 0; a < t.length; a++) n(t[a], s, o, i, r); return t } }, 61619: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s) { return n(t, "scaleX", e, i, r, s) } }, 94868: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s, o, a) { return null == i && (i = e), n(t, "scaleX", e, r, o, a), n(t, "scaleY", i, s, o, a) } }, 95532: (t, e, i) => { var n = i(66979);
				t.exports = function(t, e, i, r, s) { return n(t, "scaleY", e, i, r, s) } }, 8689: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "alpha", e, i, r, s) } }, 2645: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r) { return n(t, "blendMode", e, 0, i, r) } }, 32372: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "depth", e, i, r, s) } }, 85373: t => { t.exports = function(t, e, i) { for (var n = 0; n < t.length; n++) t[n].setInteractive(e, i); return t } }, 81583: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s, o, a) { return null == i && (i = e), n(t, "originX", e, r, o, a), n(t, "originY", i, s, o, a), t.forEach((function(t) { t.updateDisplayOrigin() })), t } }, 79939: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "rotation", e, i, r, s) } }, 2699: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s, o, a) { return null == i && (i = e), n(t, "scaleX", e, r, o, a), n(t, "scaleY", i, s, o, a) } }, 98739: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "scaleX", e, i, r, s) } }, 98476: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "scaleY", e, i, r, s) } }, 6207: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s, o, a) { return null == i && (i = e), n(t, "scrollFactorX", e, r, o, a), n(t, "scrollFactorY", i, s, o, a) } }, 6607: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "scrollFactorX", e, i, r, s) } }, 72248: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "scrollFactorY", e, i, r, s) } }, 14036: t => { t.exports = function(t, e, i, n, r) { for (var s = 0; s < t.length; s++) t[s].setTint(e, i, n, r); return t } }, 50159: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r) { return n(t, "visible", e, 0, i, r) } }, 77597: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "x", e, i, r, s) } }, 83194: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s, o, a) { return null == i && (i = e), n(t, "x", e, r, o, a), n(t, "y", i, s, o, a) } }, 67678: (t, e, i) => { var n = i(43967);
				t.exports = function(t, e, i, r, s) { return n(t, "y", e, i, r, s) } }, 35850: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s) { var o, a;
					void 0 === r && (r = 0), void 0 === s && (s = new n); var l = t.length; if (1 === l) o = t[0].x, a = t[0].y, t[0].x = e, t[0].y = i;
					else { var h = 1,
							u = 0;
						0 === r && (u = l - 1, h = l - 2), o = t[u].x, a = t[u].y, t[u].x = e, t[u].y = i; for (var c = 0; c < l; c++)
							if (!(h >= l || -1 === h)) { var d = t[h],
									f = d.x,
									p = d.y;
								d.x = o, d.y = a, o = f, a = p, 0 === r ? h-- : h++ } } return s.x = o, s.y = a, s } }, 8628: (t, e, i) => { var n = i(33680);
				t.exports = function(t) { return n(t) } }, 21837: (t, e, i) => { var n = i(7602);
				t.exports = function(t, e, i, r, s) { void 0 === s && (s = !1); var o, a = Math.abs(r - i) / t.length; if (s)
						for (o = 0; o < t.length; o++) t[o][e] += n(o * a, i, r);
					else
						for (o = 0; o < t.length; o++) t[o][e] = n(o * a, i, r); return t } }, 21910: (t, e, i) => { var n = i(54261);
				t.exports = function(t, e, i, r, s) { void 0 === s && (s = !1); var o, a = Math.abs(r - i) / t.length; if (s)
						for (o = 0; o < t.length; o++) t[o][e] += n(o * a, i, r);
					else
						for (o = 0; o < t.length; o++) t[o][e] = n(o * a, i, r); return t } }, 62054: t => { t.exports = function(t, e, i, n, r) { if (void 0 === r && (r = !1), 0 === t.length) return t; if (1 === t.length) return r ? t[0][e] += (n + i) / 2 : t[0][e] = (n + i) / 2, t; var s, o = Math.abs(n - i) / (t.length - 1); if (r)
						for (s = 0; s < t.length; s++) t[s][e] += s * o + i;
					else
						for (s = 0; s < t.length; s++) t[s][e] = s * o + i; return t } }, 79815: t => { t.exports = function(t) { for (var e = 0; e < t.length; e++) t[e].visible = !t[e].visible; return t } }, 39665: (t, e, i) => { var n = i(15994);
				t.exports = function(t, e, i) { void 0 === i && (i = 0); for (var r = 0; r < t.length; r++) { var s = t[r];
						s.x = n(s.x, e.left - i, e.right + i), s.y = n(s.y, e.top - i, e.bottom + i) } return t } }, 61061: (t, e, i) => { t.exports = { AlignTo: i(11517), Angle: i(80318), Call: i(60757), GetFirst: i(69927), GetLast: i(32265), GridAlign: i(94420), IncAlpha: i(41721), IncX: i(67285), IncXY: i(9074), IncY: i(75222), PlaceOnCircle: i(22983), PlaceOnEllipse: i(95253), PlaceOnLine: i(88505), PlaceOnRectangle: i(41346), PlaceOnTriangle: i(11575), PlayAnimation: i(29953), PropertyValueInc: i(66979), PropertyValueSet: i(43967), RandomCircle: i(88926), RandomEllipse: i(33286), RandomLine: i(96e3), RandomRectangle: i(28789), RandomTriangle: i(97154), Rotate: i(20510), RotateAround: i(91051), RotateAroundDistance: i(76332), ScaleX: i(61619), ScaleXY: i(94868), ScaleY: i(95532), SetAlpha: i(8689), SetBlendMode: i(2645), SetDepth: i(32372), SetHitArea: i(85373), SetOrigin: i(81583), SetRotation: i(79939), SetScale: i(2699), SetScaleX: i(98739), SetScaleY: i(98476), SetScrollFactor: i(6207), SetScrollFactorX: i(6607), SetScrollFactorY: i(72248), SetTint: i(14036), SetVisible: i(50159), SetX: i(77597), SetXY: i(83194), SetY: i(67678), ShiftPosition: i(35850), Shuffle: i(8628), SmootherStep: i(21910), SmoothStep: i(21837), Spread: i(62054), ToggleVisible: i(79815), WrapInRectangle: i(39665) } }, 42099: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(74943),
					o = i(81957),
					a = i(41138),
					l = i(35154),
					h = i(90126),
					u = new r({ initialize: function(t, e, i) { this.manager = t, this.key = e, this.type = "frame", this.frames = this.getFrames(t.textureManager, l(i, "frames", []), l(i, "defaultTextureKey", null), l(i, "sortFrames", !0)), this.frameRate = l(i, "frameRate", null), this.duration = l(i, "duration", null), this.msPerFrame, this.skipMissedFrames = l(i, "skipMissedFrames", !0), this.delay = l(i, "delay", 0), this.repeat = l(i, "repeat", 0), this.repeatDelay = l(i, "repeatDelay", 0), this.yoyo = l(i, "yoyo", !1), this.showBeforeDelay = l(i, "showBeforeDelay", !1), this.showOnStart = l(i, "showOnStart", !1), this.hideOnComplete = l(i, "hideOnComplete", !1), this.randomFrame = l(i, "randomFrame", !1), this.paused = !1, this.calculateDuration(this, this.getTotalFrames(), this.duration, this.frameRate), this.manager.on && (this.manager.on(s.PAUSE_ALL, this.pause, this), this.manager.on(s.RESUME_ALL, this.resume, this)) }, getTotalFrames: function() { return this.frames.length }, calculateDuration: function(t, e, i, n) { null === i && null === n ? (t.frameRate = 24, t.duration = 24 / e * 1e3) : i && null === n ? (t.duration = i, t.frameRate = e / (i / 1e3)) : (t.frameRate = n, t.duration = e / n * 1e3), t.msPerFrame = 1e3 / t.frameRate }, addFrame: function(t) { return this.addFrameAt(this.frames.length, t) }, addFrameAt: function(t, e) { var i = this.getFrames(this.manager.textureManager, e); if (i.length > 0) { if (0 === t) this.frames = i.concat(this.frames);
								else if (t === this.frames.length) this.frames = this.frames.concat(i);
								else { var n = this.frames.slice(0, t),
										r = this.frames.slice(t);
									this.frames = n.concat(i, r) } this.updateFrameSequence() } return this }, checkFrame: function(t) { return t >= 0 && t < this.frames.length }, getFirstTick: function(t) { t.accumulator = 0, t.nextTick = t.currentFrame.duration ? t.currentFrame.duration : t.msPerFrame }, getFrameAt: function(t) { return this.frames[t] }, getFrames: function(t, e, i, n) { void 0 === n && (n = !0); var r, s, o, u, c = [],
								d = 1; if ("string" == typeof e) { if (u = e, !t.exists(u)) return console.warn('Texture "%s" not found', u), c; var f = t.get(u).getFrameNames();
								n && h(f), e = [], f.forEach((function(t) { e.push({ key: u, frame: t }) })) } if (!Array.isArray(e) || 0 === e.length) return c; for (o = 0; o < e.length; o++) { var p = e[o],
									g = l(p, "key", i); if (g) { var m = l(p, "frame", 0),
										v = t.getFrame(g, m);
									v ? ((s = new a(g, m, d, v)).duration = l(p, "duration", 0), s.isFirst = !r, r && (r.nextFrame = s, s.prevFrame = r), c.push(s), r = s, d++) : console.warn('Texture "%s" not found', g) } } if (c.length > 0) { s.isLast = !0, s.nextFrame = c[0], c[0].prevFrame = s; var y = 1 / (c.length - 1); for (o = 0; o < c.length; o++) c[o].progress = o * y } return c }, getNextTick: function(t) { t.accumulator -= t.nextTick, t.nextTick = t.currentFrame.duration ? t.currentFrame.duration : t.msPerFrame }, getFrameByProgress: function(t) { return t = n(t, 0, 1), o(t, this.frames, "progress") }, nextFrame: function(t) { var e = t.currentFrame;
							e.isLast ? t.yoyo ? this.handleYoyoFrame(t, !1) : t.repeatCounter > 0 ? t.inReverse && t.forward ? t.forward = !1 : this.repeatAnimation(t) : t.complete() : this.updateAndGetNextTick(t, e.nextFrame) }, handleYoyoFrame: function(t, e) { if (e || (e = !1), t.inReverse === !e && t.repeatCounter > 0) return (0 === t.repeatDelay || t.pendingRepeat) && (t.forward = e), void this.repeatAnimation(t); if (t.inReverse === e || 0 !== t.repeatCounter) { t.forward = e; var i = e ? t.currentFrame.nextFrame : t.currentFrame.prevFrame;
								this.updateAndGetNextTick(t, i) } else t.complete() }, getLastFrame: function() { return this.frames[this.frames.length - 1] }, previousFrame: function(t) { var e = t.currentFrame;
							e.isFirst ? t.yoyo ? this.handleYoyoFrame(t, !0) : t.repeatCounter > 0 ? (t.inReverse && !t.forward || (t.forward = !0), this.repeatAnimation(t)) : t.complete() : this.updateAndGetNextTick(t, e.prevFrame) }, updateAndGetNextTick: function(t, e) { t.setCurrentFrame(e), this.getNextTick(t) }, removeFrame: function(t) { var e = this.frames.indexOf(t); return -1 !== e && this.removeFrameAt(e), this }, removeFrameAt: function(t) { return this.frames.splice(t, 1), this.updateFrameSequence(), this }, repeatAnimation: function(t) { if (2 === t._pendingStop) { if (0 === t._pendingStopValue) return t.stop();
								t._pendingStopValue-- } t.repeatDelay > 0 && !t.pendingRepeat ? (t.pendingRepeat = !0, t.accumulator -= t.nextTick, t.nextTick += t.repeatDelay) : (t.repeatCounter--, t.forward ? t.setCurrentFrame(t.currentFrame.nextFrame) : t.setCurrentFrame(t.currentFrame.prevFrame), t.isPlaying && (this.getNextTick(t), t.handleRepeat())) }, toJSON: function() { var t = { key: this.key, type: this.type, frames: [], frameRate: this.frameRate, duration: this.duration, skipMissedFrames: this.skipMissedFrames, delay: this.delay, repeat: this.repeat, repeatDelay: this.repeatDelay, yoyo: this.yoyo, showBeforeDelay: this.showBeforeDelay, showOnStart: this.showOnStart, randomFrame: this.randomFrame, hideOnComplete: this.hideOnComplete }; return this.frames.forEach((function(e) { t.frames.push(e.toJSON()) })), t }, updateFrameSequence: function() { for (var t, e = this.frames.length, i = 1 / (e - 1), n = 0; n < e; n++)(t = this.frames[n]).index = n + 1, t.isFirst = !1, t.isLast = !1, t.progress = n * i, 0 === n ? (t.isFirst = !0, 1 === e ? (t.isLast = !0, t.nextFrame = t, t.prevFrame = t) : (t.isLast = !1, t.prevFrame = this.frames[e - 1], t.nextFrame = this.frames[n + 1])) : n === e - 1 && e > 1 ? (t.isLast = !0, t.prevFrame = this.frames[e - 2], t.nextFrame = this.frames[0]) : e > 1 && (t.prevFrame = this.frames[n - 1], t.nextFrame = this.frames[n + 1]); return this }, pause: function() { return this.paused = !0, this }, resume: function() { return this.paused = !1, this }, destroy: function() { this.manager.off && (this.manager.off(s.PAUSE_ALL, this.pause, this), this.manager.off(s.RESUME_ALL, this.resume, this)), this.manager.remove(this.key); for (var t = 0; t < this.frames.length; t++) this.frames[t].destroy();
							this.frames = [], this.manager = null } });
				t.exports = u }, 41138: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i, n, r) { void 0 === r && (r = !1), this.textureKey = t, this.textureFrame = e, this.index = i, this.frame = n, this.isFirst = !1, this.isLast = !1, this.prevFrame = null, this.nextFrame = null, this.duration = 0, this.progress = 0, this.isKeyFrame = r }, toJSON: function() { return { key: this.textureKey, frame: this.textureFrame, duration: this.duration, keyframe: this.isKeyFrame } }, destroy: function() { this.frame = void 0 } });
				t.exports = n }, 60848: (t, e, i) => { var n = i(42099),
					r = i(83419),
					s = i(90330),
					o = i(50792),
					a = i(74943),
					l = i(8443),
					h = i(95540),
					u = i(35154),
					c = i(36383),
					d = i(20283),
					f = i(41836),
					p = new r({ Extends: o, initialize: function(t) { o.call(this), this.game = t, this.textureManager = null, this.globalTimeScale = 1, this.anims = new s, this.mixes = new s, this.paused = !1, this.name = "AnimationManager", t.events.once(l.BOOT, this.boot, this) }, boot: function() { this.textureManager = this.game.textures, this.game.events.once(l.DESTROY, this.destroy, this) }, addMix: function(t, e, i) { var n = this.anims,
								r = this.mixes,
								s = "string" == typeof t ? t : t.key,
								o = "string" == typeof e ? e : e.key; if (n.has(s) && n.has(o)) { var a = r.get(s);
								a || (a = {}), a[o] = i, r.set(s, a) } return this }, removeMix: function(t, e) { var i = this.mixes,
								n = "string" == typeof t ? t : t.key,
								r = i.get(n); if (r)
								if (e) { var s = "string" == typeof e ? e : e.key;
									r.hasOwnProperty(s) && delete r[s] } else e || i.delete(n); return this }, getMix: function(t, e) { var i = this.mixes,
								n = "string" == typeof t ? t : t.key,
								r = "string" == typeof e ? e : e.key,
								s = i.get(n); return s && s.hasOwnProperty(r) ? s[r] : 0 }, add: function(t, e) { return this.anims.has(t) ? (console.warn("Animation key exists: " + t), this) : (e.key = t, this.anims.set(t, e), this.emit(a.ADD_ANIMATION, t, e), this) }, exists: function(t) { return this.anims.has(t) }, createFromAseprite: function(t, e, i) { var n = [],
								r = this.game.cache.json.get(t); if (!r) return console.warn("No Aseprite data found for: " + t), n; var s = this,
								o = u(r, "meta", null),
								a = u(r, "frames", null); return o && a && u(o, "frameTags", []).forEach((function(r) { var o = [],
									l = h(r, "name", null),
									u = h(r, "from", 0),
									d = h(r, "to", 0),
									f = h(r, "direction", "forward"); if (l && (!e || e && e.indexOf(l) > -1)) { for (var p = 0, g = u; g <= d; g++) { var m = g.toString(),
											v = a[m]; if (v) { var y = h(v, "duration", c.MAX_SAFE_INTEGER);
											o.push({ key: t, frame: m, duration: y }), p += y } } "reverse" === f && (o = o.reverse()); var x, b = { key: l, frames: o, duration: p, yoyo: "pingpong" === f };
									i ? i.anims && (x = i.anims.create(b)) : x = s.create(b), x && n.push(x) } })), n }, create: function(t) { var e = t.key,
								i = !1; return e && ((i = this.get(e)) ? console.warn("AnimationManager key already exists: " + e) : (i = new n(this, e, t), this.anims.set(e, i), this.emit(a.ADD_ANIMATION, e, i))), i }, fromJSON: function(t, e) { void 0 === e && (e = !1), e && this.anims.clear(), "string" == typeof t && (t = JSON.parse(t)); var i = []; if (t.hasOwnProperty("anims") && Array.isArray(t.anims)) { for (var n = 0; n < t.anims.length; n++) i.push(this.create(t.anims[n]));
								t.hasOwnProperty("globalTimeScale") && (this.globalTimeScale = t.globalTimeScale) } else t.hasOwnProperty("key") && "frame" === t.type && i.push(this.create(t)); return i }, generateFrameNames: function(t, e) { var i = u(e, "prefix", ""),
								n = u(e, "start", 0),
								r = u(e, "end", 0),
								s = u(e, "suffix", ""),
								o = u(e, "zeroPad", 0),
								a = u(e, "outputArray", []),
								l = u(e, "frames", !1); if (!this.textureManager.exists(t)) return console.warn('Texture "%s" not found', t), a; var h, c = this.textureManager.get(t); if (!c) return a; if (e)
								for (l || (l = d(n, r)), h = 0; h < l.length; h++) { var p = i + f(l[h], o, "0", 1) + s;
									c.has(p) ? a.push({ key: t, frame: p }) : console.warn('Frame "%s" not found in texture "%s"', p, t) } else
									for (l = c.getFrameNames(), h = 0; h < l.length; h++) a.push({ key: t, frame: l[h] }); return a }, generateFrameNumbers: function(t, e) { var i = u(e, "start", 0),
								n = u(e, "end", -1),
								r = u(e, "first", !1),
								s = u(e, "outputArray", []),
								o = u(e, "frames", !1); if (!this.textureManager.exists(t)) return console.warn('Texture "%s" not found', t), s; var a = this.textureManager.get(t); if (!a) return s;
							r && a.has(r) && s.push({ key: t, frame: r }), o || (-1 === n && (n = a.frameTotal - 2), o = d(i, n)); for (var l = 0; l < o.length; l++) { var h = o[l];
								a.has(h) ? s.push({ key: t, frame: h }) : console.warn('Frame "%s" not found in texture "%s"', h, t) } return s }, get: function(t) { return this.anims.get(t) }, getAnimsFromTexture: function(t) { for (var e = this.textureManager.get(t).key, i = this.anims.getArray(), n = [], r = 0; r < i.length; r++)
								for (var s = i[r], o = s.frames, a = 0; a < o.length; a++)
									if (o[a].textureKey === e) { n.push(s.key); break } return n }, pauseAll: function() { return this.paused || (this.paused = !0, this.emit(a.PAUSE_ALL)), this }, play: function(t, e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++) e[i].anims.play(t); return this }, staggerPlay: function(t, e, i, n) { void 0 === i && (i = 0), void 0 === n && (n = !0), Array.isArray(e) || (e = [e]); var r = e.length;
							n || r--; for (var s = 0; s < e.length; s++) { var o = i < 0 ? Math.abs(i) * (r - s) : i * s;
								e[s].anims.playAfterDelay(t, o) } return this }, remove: function(t) { var e = this.get(t); return e && (this.emit(a.REMOVE_ANIMATION, t, e), this.anims.delete(t), this.removeMix(t)), e }, resumeAll: function() { return this.paused && (this.paused = !1, this.emit(a.RESUME_ALL)), this }, toJSON: function(t) { var e = { anims: [], globalTimeScale: this.globalTimeScale }; return void 0 !== t && "" !== t ? e.anims.push(this.anims.get(t).toJSON()) : this.anims.each((function(t, i) { e.anims.push(i.toJSON()) })), e }, destroy: function() { this.anims.clear(), this.mixes.clear(), this.textureManager = null, this.game = null } });
				t.exports = p }, 9674: (t, e, i) => { var n = i(42099),
					r = i(30976),
					s = i(83419),
					o = i(90330),
					a = i(74943),
					l = i(95540),
					h = new s({ initialize: function(t) { this.parent = t, this.animationManager = t.scene.sys.anims, this.animationManager.on(a.REMOVE_ANIMATION, this.globalRemove, this), this.textureManager = this.animationManager.textureManager, this.anims = null, this.isPlaying = !1, this.hasStarted = !1, this.currentAnim = null, this.currentFrame = null, this.nextAnim = null, this.nextAnimsQueue = [], this.timeScale = 1, this.frameRate = 0, this.duration = 0, this.msPerFrame = 0, this.skipMissedFrames = !0, this.randomFrame = !1, this.delay = 0, this.repeat = 0, this.repeatDelay = 0, this.yoyo = !1, this.showBeforeDelay = !1, this.showOnStart = !1, this.hideOnComplete = !1, this.forward = !0, this.inReverse = !1, this.accumulator = 0, this.nextTick = 0, this.delayCounter = 0, this.repeatCounter = 0, this.pendingRepeat = !1, this._paused = !1, this._wasPlaying = !1, this._pendingStop = 0, this._pendingStopValue }, chain: function(t) { var e = this.parent; if (void 0 === t) return this.nextAnimsQueue.length = 0, this.nextAnim = null, e;
							Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var n = t[i];
								this.nextAnim ? this.nextAnimsQueue.push(n) : this.nextAnim = n } return this.parent }, getName: function() { return this.currentAnim ? this.currentAnim.key : "" }, getFrameName: function() { return this.currentFrame ? this.currentFrame.textureFrame : "" }, load: function(t) { this.isPlaying && this.stop(); var e = this.animationManager,
								i = "string" == typeof t ? t : l(t, "key", null),
								n = this.exists(i) ? this.get(i) : e.get(i); if (n) { this.currentAnim = n; var s = n.getTotalFrames(),
									o = l(t, "frameRate", n.frameRate),
									a = l(t, "duration", n.duration);
								n.calculateDuration(this, s, a, o), this.delay = l(t, "delay", n.delay), this.repeat = l(t, "repeat", n.repeat), this.repeatDelay = l(t, "repeatDelay", n.repeatDelay), this.yoyo = l(t, "yoyo", n.yoyo), this.showBeforeDelay = l(t, "showBeforeDelay", n.showBeforeDelay), this.showOnStart = l(t, "showOnStart", n.showOnStart), this.hideOnComplete = l(t, "hideOnComplete", n.hideOnComplete), this.skipMissedFrames = l(t, "skipMissedFrames", n.skipMissedFrames), this.randomFrame = l(t, "randomFrame", n.randomFrame), this.timeScale = l(t, "timeScale", this.timeScale); var h = l(t, "startFrame", 0);
								h > s && (h = 0), this.randomFrame && (h = r(0, s - 1)); var u = n.frames[h];
								0 !== h || this.forward || (u = n.getLastFrame()), this.currentFrame = u } else console.warn("Missing animation: " + i); return this.parent }, pause: function(t) { return this._paused || (this._paused = !0, this._wasPlaying = this.isPlaying, this.isPlaying = !1), void 0 !== t && this.setCurrentFrame(t), this.parent }, resume: function(t) { return this._paused && (this._paused = !1, this.isPlaying = this._wasPlaying), void 0 !== t && this.setCurrentFrame(t), this.parent }, playAfterDelay: function(t, e) { if (this.isPlaying) { var i = this.nextAnim,
									n = this.nextAnimsQueue;
								i && n.unshift(i), this.nextAnim = t, this._pendingStop = 1, this._pendingStopValue = e } else this.delayCounter = e, this.play(t, !0); return this.parent }, playAfterRepeat: function(t, e) { if (void 0 === e && (e = 1), this.isPlaying) { var i = this.nextAnim,
									n = this.nextAnimsQueue;
								i && n.unshift(i), -1 !== this.repeatCounter && e > this.repeatCounter && (e = this.repeatCounter), this.nextAnim = t, this._pendingStop = 2, this._pendingStopValue = e } else this.play(t); return this.parent }, play: function(t, e) { void 0 === e && (e = !1); var i = this.currentAnim,
								n = this.parent,
								r = "string" == typeof t ? t : t.key; if (e && this.isPlaying && i.key === r) return n; if (i && this.isPlaying) { var s = this.animationManager.getMix(i.key, t); if (s > 0) return this.playAfterDelay(t, s) } return this.forward = !0, this.inReverse = !1, this._paused = !1, this._wasPlaying = !0, this.startAnimation(t) }, playReverse: function(t, e) { void 0 === e && (e = !1); var i = "string" == typeof t ? t : t.key; return e && this.isPlaying && this.currentAnim.key === i ? this.parent : (this.forward = !1, this.inReverse = !0, this._paused = !1, this._wasPlaying = !0, this.startAnimation(t)) }, startAnimation: function(t) { this.load(t); var e = this.currentAnim,
								i = this.parent; return e ? (this.repeatCounter = -1 === this.repeat ? Number.MAX_VALUE : this.repeat, e.getFirstTick(this), this.isPlaying = !0, this.pendingRepeat = !1, this.hasStarted = !1, this._pendingStop = 0, this._pendingStopValue = 0, this._paused = !1, this.delayCounter += this.delay, 0 === this.delayCounter ? this.handleStart() : this.showBeforeDelay && this.setCurrentFrame(this.currentFrame), i) : i }, handleStart: function() { this.showOnStart && this.parent.setVisible(!0), this.setCurrentFrame(this.currentFrame), this.hasStarted = !0, this.emitEvents(a.ANIMATION_START) }, handleRepeat: function() { this.pendingRepeat = !1, this.emitEvents(a.ANIMATION_REPEAT) }, handleStop: function() { this._pendingStop = 0, this.isPlaying = !1, this.emitEvents(a.ANIMATION_STOP) }, handleComplete: function() { this._pendingStop = 0, this.isPlaying = !1, this.hideOnComplete && this.parent.setVisible(!1), this.emitEvents(a.ANIMATION_COMPLETE, a.ANIMATION_COMPLETE_KEY) }, emitEvents: function(t, e) { var i = this.currentAnim; if (i) { var n = this.currentFrame,
									r = this.parent,
									s = n.textureFrame;
								r.emit(t, i, n, r, s), e && r.emit(e + i.key, i, n, r, s) } }, reverse: function() { return this.isPlaying && (this.inReverse = !this.inReverse, this.forward = !this.forward), this.parent }, getProgress: function() { var t = this.currentFrame; if (!t) return 0; var e = t.progress; return this.inReverse && (e *= -1), e }, setProgress: function(t) { return this.forward || (t = 1 - t), this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)), this.parent }, setRepeat: function(t) { return this.repeatCounter = -1 === t ? Number.MAX_VALUE : t, this.parent }, globalRemove: function(t, e) { void 0 === e && (e = this.currentAnim), this.isPlaying && e.key === this.currentAnim.key && (this.stop(), this.setCurrentFrame(this.currentAnim.frames[0])) }, restart: function(t, e) { void 0 === t && (t = !1), void 0 === e && (e = !1); var i = this.currentAnim,
								n = this.parent; return i ? (e && (this.repeatCounter = -1 === this.repeat ? Number.MAX_VALUE : this.repeat), i.getFirstTick(this), this.emitEvents(a.ANIMATION_RESTART), this.isPlaying = !0, this.pendingRepeat = !1, this.hasStarted = !t, this._pendingStop = 0, this._pendingStopValue = 0, this._paused = !1, this.setCurrentFrame(i.frames[0]), this.parent) : n }, complete: function() { if (this._pendingStop = 0, this.isPlaying = !1, this.currentAnim && this.handleComplete(), this.nextAnim) { var t = this.nextAnim;
								this.nextAnim = this.nextAnimsQueue.length > 0 ? this.nextAnimsQueue.shift() : null, this.play(t) } return this.parent }, stop: function() { if (this._pendingStop = 0, this.isPlaying = !1, this.delayCounter = 0, this.currentAnim && this.handleStop(), this.nextAnim) { var t = this.nextAnim;
								this.nextAnim = this.nextAnimsQueue.shift(), this.play(t) } return this.parent }, stopAfterDelay: function(t) { return this._pendingStop = 1, this._pendingStopValue = t, this.parent }, stopAfterRepeat: function(t) { return void 0 === t && (t = 1), -1 !== this.repeatCounter && t > this.repeatCounter && (t = this.repeatCounter), this._pendingStop = 2, this._pendingStopValue = t, this.parent }, stopOnFrame: function(t) { return this._pendingStop = 3, this._pendingStopValue = t, this.parent }, getTotalFrames: function() { return this.currentAnim ? this.currentAnim.getTotalFrames() : 0 }, update: function(t, e) { var i = this.currentAnim; if (this.isPlaying && i && !i.paused) { if (this.accumulator += e * this.timeScale * this.animationManager.globalTimeScale, 1 === this._pendingStop && (this._pendingStopValue -= e, this._pendingStopValue <= 0)) return this.stop(); if (this.hasStarted) { if (this.accumulator >= this.nextTick && (this.forward ? i.nextFrame(this) : i.previousFrame(this), this.isPlaying && 0 === this._pendingStop && this.skipMissedFrames && this.accumulator > this.nextTick)) { var n = 0;
										do { this.forward ? i.nextFrame(this) : i.previousFrame(this), n++ } while (this.isPlaying && this.accumulator > this.nextTick && n < 60) } } else this.accumulator >= this.delayCounter && (this.accumulator -= this.delayCounter, this.handleStart()) } }, setCurrentFrame: function(t) { var e = this.parent; return this.currentFrame = t, e.texture = t.frame.texture, e.frame = t.frame, e.isCropped && e.frame.updateCropUVs(e._crop, e.flipX, e.flipY), t.setAlpha && (e.alpha = t.alpha), e.setSizeToFrame(), e._originComponent && (t.frame.customPivot ? e.setOrigin(t.frame.pivotX, t.frame.pivotY) : e.updateDisplayOrigin()), this.isPlaying && this.hasStarted && (this.emitEvents(a.ANIMATION_UPDATE), 3 === this._pendingStop && this._pendingStopValue === t && this.stop()), e }, nextFrame: function() { return this.currentAnim && this.currentAnim.nextFrame(this), this.parent }, previousFrame: function() { return this.currentAnim && this.currentAnim.previousFrame(this), this.parent }, get: function(t) { return this.anims ? this.anims.get(t) : null }, exists: function(t) { return !!this.anims && this.anims.has(t) }, create: function(t) { var e = t.key,
								i = !1; return e && ((i = this.get(e)) ? console.warn("Animation key already exists: " + e) : (i = new n(this, e, t), this.anims || (this.anims = new o), this.anims.set(e, i))), i }, createFromAseprite: function(t, e) { return this.animationManager.createFromAseprite(t, e, this.parent) }, generateFrameNames: function(t, e) { return this.animationManager.generateFrameNames(t, e) }, generateFrameNumbers: function(t, e) { return this.animationManager.generateFrameNumbers(t, e) }, remove: function(t) { var e = this.get(t); return e && (this.currentAnim === e && this.stop(), this.anims.delete(t)), e }, destroy: function() { this.animationManager.off(a.REMOVE_ANIMATION, this.globalRemove, this), this.anims && this.anims.clear(), this.animationManager = null, this.parent = null, this.nextAnim = null, this.nextAnimsQueue.length = 0, this.currentAnim = null, this.currentFrame = null }, isPaused: { get: function() { return this._paused } } });
				t.exports = h }, 57090: t => { t.exports = "add" }, 25312: t => { t.exports = "animationcomplete" }, 89580: t => { t.exports = "animationcomplete-" }, 52860: t => { t.exports = "animationrepeat" }, 63850: t => { t.exports = "animationrestart" }, 99085: t => { t.exports = "animationstart" }, 28087: t => { t.exports = "animationstop" }, 1794: t => { t.exports = "animationupdate" }, 52562: t => { t.exports = "pauseall" }, 57953: t => { t.exports = "remove" }, 68339: t => { t.exports = "resumeall" }, 74943: (t, e, i) => { t.exports = { ADD_ANIMATION: i(57090), ANIMATION_COMPLETE: i(25312), ANIMATION_COMPLETE_KEY: i(89580), ANIMATION_REPEAT: i(52860), ANIMATION_RESTART: i(63850), ANIMATION_START: i(99085), ANIMATION_STOP: i(28087), ANIMATION_UPDATE: i(1794), PAUSE_ALL: i(52562), REMOVE_ANIMATION: i(57953), RESUME_ALL: i(68339) } }, 60421: (t, e, i) => { t.exports = { Animation: i(42099), AnimationFrame: i(41138), AnimationManager: i(60848), AnimationState: i(9674), Events: i(74943) } }, 2161: (t, e, i) => { var n = i(83419),
					r = i(90330),
					s = i(50792),
					o = i(24736),
					a = new n({ initialize: function() { this.entries = new r, this.events = new s }, add: function(t, e) { return this.entries.set(t, e), this.events.emit(o.ADD, this, t, e), this }, has: function(t) { return this.entries.has(t) }, exists: function(t) { return this.entries.has(t) }, get: function(t) { return this.entries.get(t) }, remove: function(t) { var e = this.get(t); return e && (this.entries.delete(t), this.events.emit(o.REMOVE, this, t, e.data)), this }, getKeys: function() { return this.entries.keys() }, destroy: function() { this.entries.clear(), this.events.removeAllListeners(), this.entries = null, this.events = null } });
				t.exports = a }, 24047: (t, e, i) => { var n = i(2161),
					r = i(83419),
					s = i(8443),
					o = new r({ initialize: function(t) { this.game = t, this.binary = new n, this.bitmapFont = new n, this.json = new n, this.physics = new n, this.shader = new n, this.audio = new n, this.video = new n, this.text = new n, this.html = new n, this.obj = new n, this.tilemap = new n, this.xml = new n, this.custom = {}, this.game.events.once(s.DESTROY, this.destroy, this) }, addCustom: function(t) { return this.custom.hasOwnProperty(t) || (this.custom[t] = new n), this.custom[t] }, destroy: function() { for (var t = ["binary", "bitmapFont", "json", "physics", "shader", "audio", "video", "text", "html", "obj", "tilemap", "xml"], e = 0; e < t.length; e++) this[t[e]].destroy(), this[t[e]] = null; for (var i in this.custom) this.custom[i].destroy();
							this.custom = null, this.game = null } });
				t.exports = o }, 51464: t => { t.exports = "add" }, 59261: t => { t.exports = "remove" }, 24736: (t, e, i) => { t.exports = { ADD: i(51464), REMOVE: i(59261) } }, 83388: (t, e, i) => { t.exports = { BaseCache: i(2161), CacheManager: i(24047), Events: i(24736) } }, 71911: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(39506),
					o = i(50792),
					a = i(19715),
					l = i(87841),
					h = i(61340),
					u = i(80333),
					c = i(26099),
					d = new n({ Extends: o, Mixins: [r.AlphaSingle, r.Visible], initialize: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), o.call(this), this.scene, this.sceneManager, this.scaleManager, this.cameraManager, this.id = 0, this.name = "", this.roundPixels = !1, this.useBounds = !1, this.worldView = new l, this.dirty = !0, this._x = t, this._y = e, this._width = i, this._height = n, this._bounds = new l, this._scrollX = 0, this._scrollY = 0, this._zoomX = 1, this._zoomY = 1, this._rotation = 0, this.matrix = new h, this.transparent = !0, this.backgroundColor = u("rgba(0,0,0,0)"), this.disableCull = !1, this.culledObjects = [], this.midPoint = new c(i / 2, n / 2), this.originX = .5, this.originY = .5, this._customViewport = !1, this.mask = null, this._maskCamera = null, this.renderList = [], this.isSceneCamera = !0, this.renderRoundPixels = !0 }, addToRenderList: function(t) { this.renderList.push(t) }, setOrigin: function(t, e) { return void 0 === t && (t = .5), void 0 === e && (e = t), this.originX = t, this.originY = e, this }, getScroll: function(t, e, i) { void 0 === i && (i = new c); var n = .5 * this.width,
								r = .5 * this.height; return i.x = t - n, i.y = e - r, this.useBounds && (i.x = this.clampX(i.x), i.y = this.clampY(i.y)), i }, centerOnX: function(t) { var e = .5 * this.width; return this.midPoint.x = t, this.scrollX = t - e, this.useBounds && (this.scrollX = this.clampX(this.scrollX)), this }, centerOnY: function(t) { var e = .5 * this.height; return this.midPoint.y = t, this.scrollY = t - e, this.useBounds && (this.scrollY = this.clampY(this.scrollY)), this }, centerOn: function(t, e) { return this.centerOnX(t), this.centerOnY(e), this }, centerToBounds: function() { if (this.useBounds) { var t = this._bounds,
									e = .5 * this.width,
									i = .5 * this.height;
								this.midPoint.set(t.centerX, t.centerY), this.scrollX = t.centerX - e, this.scrollY = t.centerY - i } return this }, centerToSize: function() { return this.scrollX = .5 * this.width, this.scrollY = .5 * this.height, this }, cull: function(t) { if (this.disableCull) return t; var e = this.matrix.matrix,
								i = e[0],
								n = e[1],
								r = e[2],
								s = e[3],
								o = i * s - n * r; if (!o) return t; var a = e[4],
								l = e[5],
								h = this.scrollX,
								u = this.scrollY,
								c = this.width,
								d = this.height,
								f = this.y,
								p = f + d,
								g = this.x,
								m = g + c,
								v = this.culledObjects,
								y = t.length;
							o = 1 / o, v.length = 0; for (var x = 0; x < y; ++x) { var b = t[x]; if (b.hasOwnProperty("width") && !b.parentContainer) { var w = b.width,
										T = b.height,
										S = b.x - h * b.scrollFactorX - w * b.originX,
										_ = b.y - u * b.scrollFactorY - T * b.originY;
									(S + w) * i + (_ + T) * r + a > g && S * i + _ * r + a < m && (S + w) * n + (_ + T) * s + l > f && S * n + _ * s + l < p && v.push(b) } else v.push(b) } return v }, getWorldPoint: function(t, e, i) { void 0 === i && (i = new c); var n = this.matrix.matrix,
								r = n[0],
								s = n[1],
								o = n[2],
								a = n[3],
								l = n[4],
								h = n[5],
								u = r * a - s * o; if (!u) return i.x = t, i.y = e, i; var d = a * (u = 1 / u),
								f = -s * u,
								p = -o * u,
								g = r * u,
								m = (o * h - a * l) * u,
								v = (s * l - r * h) * u,
								y = Math.cos(this.rotation),
								x = Math.sin(this.rotation),
								b = this.zoomX,
								w = this.zoomY,
								T = this.scrollX,
								S = this.scrollY,
								_ = t + (T * y - S * x) * b,
								E = e + (T * x + S * y) * w; return i.x = _ * d + E * p + m, i.y = _ * f + E * g + v, i }, ignore: function(t) { var e = this.id;
							Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var n = t[i];
								Array.isArray(n) ? this.ignore(n) : n.isParent ? this.ignore(n.getChildren()) : n.cameraFilter |= e } return this }, clampX: function(t) { var e = this._bounds,
								i = this.displayWidth,
								n = e.x + (i - this.width) / 2,
								r = Math.max(n, n + e.width - i); return t < n ? t = n : t > r && (t = r), t }, clampY: function(t) { var e = this._bounds,
								i = this.displayHeight,
								n = e.y + (i - this.height) / 2,
								r = Math.max(n, n + e.height - i); return t < n ? t = n : t > r && (t = r), t }, removeBounds: function() { return this.useBounds = !1, this.dirty = !0, this._bounds.setEmpty(), this }, setAngle: function(t) { return void 0 === t && (t = 0), this.rotation = s(t), this }, setBackgroundColor: function(t) { return void 0 === t && (t = "rgba(0,0,0,0)"), this.backgroundColor = u(t), this.transparent = 0 === this.backgroundColor.alpha, this }, setBounds: function(t, e, i, n, r) { return void 0 === r && (r = !1), this._bounds.setTo(t, e, i, n), this.dirty = !0, this.useBounds = !0, r ? this.centerToBounds() : (this.scrollX = this.clampX(this.scrollX), this.scrollY = this.clampY(this.scrollY)), this }, getBounds: function(t) { void 0 === t && (t = new l); var e = this._bounds; return t.setTo(e.x, e.y, e.width, e.height), t }, setName: function(t) { return void 0 === t && (t = ""), this.name = t, this }, setPosition: function(t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setRotation: function(t) { return void 0 === t && (t = 0), this.rotation = t, this }, setRoundPixels: function(t) { return this.roundPixels = t, this }, setScene: function(t, e) { void 0 === e && (e = !0), this.scene && this._customViewport && this.sceneManager.customViewports--, this.scene = t, this.isSceneCamera = e; var i = t.sys; return this.sceneManager = i.game.scene, this.scaleManager = i.scale, this.cameraManager = i.cameras, this.updateSystem(), this }, setScroll: function(t, e) { return void 0 === e && (e = t), this.scrollX = t, this.scrollY = e, this }, setSize: function(t, e) { return void 0 === e && (e = t), this.width = t, this.height = e, this }, setViewport: function(t, e, i, n) { return this.x = t, this.y = e, this.width = i, this.height = n, this }, setZoom: function(t, e) { return void 0 === t && (t = 1), void 0 === e && (e = t), 0 === t && (t = .001), 0 === e && (e = .001), this.zoomX = t, this.zoomY = e, this }, setMask: function(t, e) { return void 0 === e && (e = !0), this.mask = t, this._maskCamera = e ? this.cameraManager.default : this, this }, clearMask: function(t) { return void 0 === t && (t = !1), t && this.mask && this.mask.destroy(), this.mask = null, this }, toJSON: function() { var t = { name: this.name, x: this.x, y: this.y, width: this.width, height: this.height, zoom: this.zoom, rotation: this.rotation, roundPixels: this.roundPixels, scrollX: this.scrollX, scrollY: this.scrollY, backgroundColor: this.backgroundColor.rgba }; return this.useBounds && (t.bounds = { x: this._bounds.x, y: this._bounds.y, width: this._bounds.width, height: this._bounds.height }), t }, update: function() {}, setIsSceneCamera: function(t) { return this.isSceneCamera = t, this }, updateSystem: function() { if (this.scaleManager && this.isSceneCamera) { var t = 0 !== this._x || 0 !== this._y || this.scaleManager.width !== this._width || this.scaleManager.height !== this._height,
									e = this.sceneManager;
								t && !this._customViewport ? e.customViewports++ : !t && this._customViewport && e.customViewports--, this.dirty = !0, this._customViewport = t } }, destroy: function() { this.emit(a.DESTROY, this), this.removeAllListeners(), this.matrix.destroy(), this.culledObjects = [], this._customViewport && this.sceneManager.customViewports--, this.renderList = [], this._bounds = null, this.scene = null, this.scaleManager = null, this.sceneManager = null, this.cameraManager = null }, x: { get: function() { return this._x }, set: function(t) { this._x = t, this.updateSystem() } }, y: { get: function() { return this._y }, set: function(t) { this._y = t, this.updateSystem() } }, width: { get: function() { return this._width }, set: function(t) { this._width = t, this.updateSystem() } }, height: { get: function() { return this._height }, set: function(t) { this._height = t, this.updateSystem() } }, scrollX: { get: function() { return this._scrollX }, set: function(t) { t !== this._scrollX && (this._scrollX = t, this.dirty = !0) } }, scrollY: { get: function() { return this._scrollY }, set: function(t) { t !== this._scrollY && (this._scrollY = t, this.dirty = !0) } }, zoom: { get: function() { return (this._zoomX + this._zoomY) / 2 }, set: function(t) { this._zoomX = t, this._zoomY = t, this.dirty = !0 } }, zoomX: { get: function() { return this._zoomX }, set: function(t) { this._zoomX = t, this.dirty = !0 } }, zoomY: { get: function() { return this._zoomY }, set: function(t) { this._zoomY = t, this.dirty = !0 } }, rotation: { get: function() { return this._rotation }, set: function(t) { this._rotation = t, this.dirty = !0 } }, centerX: { get: function() { return this.x + .5 * this.width } }, centerY: { get: function() { return this.y + .5 * this.height } }, displayWidth: { get: function() { return this.width / this.zoomX } }, displayHeight: { get: function() { return this.height / this.zoomY } } });
				t.exports = d }, 38058: (t, e, i) => { var n = i(71911),
					r = i(67502),
					s = i(45319),
					o = i(83419),
					a = i(31401),
					l = i(20052),
					h = i(19715),
					u = i(28915),
					c = i(87841),
					d = i(26099),
					f = new o({ Extends: n, Mixins: [a.PostPipeline], initialize: function(t, e, i, r) { n.call(this, t, e, i, r), this.initPostPipeline(), this.inputEnabled = !0, this.fadeEffect = new l.Fade(this), this.flashEffect = new l.Flash(this), this.shakeEffect = new l.Shake(this), this.panEffect = new l.Pan(this), this.rotateToEffect = new l.RotateTo(this), this.zoomEffect = new l.Zoom(this), this.lerp = new d(1, 1), this.followOffset = new d, this.deadzone = null, this._follow = null }, setDeadzone: function(t, e) { if (void 0 === t) this.deadzone = null;
							else { if (this.deadzone ? (this.deadzone.width = t, this.deadzone.height = e) : this.deadzone = new c(0, 0, t, e), this._follow) { var i = this.width / 2,
										n = this.height / 2,
										s = this._follow.x - this.followOffset.x,
										o = this._follow.y - this.followOffset.y;
									this.midPoint.set(s, o), this.scrollX = s - i, this.scrollY = o - n } r(this.deadzone, this.midPoint.x, this.midPoint.y) } return this }, fadeIn: function(t, e, i, n, r, s) { return this.fadeEffect.start(!1, t, e, i, n, !0, r, s) }, fadeOut: function(t, e, i, n, r, s) { return this.fadeEffect.start(!0, t, e, i, n, !0, r, s) }, fadeFrom: function(t, e, i, n, r, s, o) { return this.fadeEffect.start(!1, t, e, i, n, r, s, o) }, fade: function(t, e, i, n, r, s, o) { return this.fadeEffect.start(!0, t, e, i, n, r, s, o) }, flash: function(t, e, i, n, r, s, o) { return this.flashEffect.start(t, e, i, n, r, s, o) }, shake: function(t, e, i, n, r) { return this.shakeEffect.start(t, e, i, n, r) }, pan: function(t, e, i, n, r, s, o) { return this.panEffect.start(t, e, i, n, r, s, o) }, rotateTo: function(t, e, i, n, r, s, o) { return this.rotateToEffect.start(t, e, i, n, r, s, o) }, zoomTo: function(t, e, i, n, r, s) { return this.zoomEffect.start(t, e, i, n, r, s) }, preRender: function() { this.renderList.length = 0; var t = this.width,
								e = this.height,
								i = .5 * t,
								n = .5 * e,
								s = this.zoomX,
								o = this.zoomY,
								a = this.matrix;
							this.renderRoundPixels = this.roundPixels && Number.isInteger(s) && Number.isInteger(o); var l = t * this.originX,
								c = e * this.originY,
								d = this._follow,
								f = this.deadzone,
								p = this.scrollX,
								g = this.scrollY;
							f && r(f, this.midPoint.x, this.midPoint.y); var m = !1; if (d && !this.panEffect.isRunning) { var v = this.lerp,
									y = d.x - this.followOffset.x,
									x = d.y - this.followOffset.y;
								f ? (y < f.x ? p = u(p, p - (f.x - y), v.x) : y > f.right && (p = u(p, p + (y - f.right), v.x)), x < f.y ? g = u(g, g - (f.y - x), v.y) : x > f.bottom && (g = u(g, g + (x - f.bottom), v.y))) : (p = u(p, y - l, v.x), g = u(g, x - c, v.y)), m = !0 } this.roundPixels && (p = Math.floor(p), g = Math.floor(g)), this.useBounds && (p = this.clampX(p), g = this.clampY(g)), this.scrollX = p, this.scrollY = g; var b = p + i,
								w = g + n;
							this.midPoint.set(b, w); var T = Math.floor(t / s + .5),
								S = Math.floor(e / o + .5),
								_ = Math.floor(b - T / 2 + .5),
								E = Math.floor(w - S / 2 + .5);
							this.worldView.setTo(_, E, T, S), a.applyITRS(Math.floor(this.x + l + .5), Math.floor(this.y + c + .5), this.rotation, s, o), a.translate(-l, -c), this.shakeEffect.preRender(), m && this.emit(h.FOLLOW_UPDATE, this, d) }, setLerp: function(t, e) { return void 0 === t && (t = 1), void 0 === e && (e = t), this.lerp.set(t, e), this }, setFollowOffset: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = 0), this.followOffset.set(t, e), this }, startFollow: function(t, e, i, n, r, o) { void 0 === e && (e = !1), void 0 === i && (i = 1), void 0 === n && (n = i), void 0 === r && (r = 0), void 0 === o && (o = r), this._follow = t, this.roundPixels = e, i = s(i, 0, 1), n = s(n, 0, 1), this.lerp.set(i, n), this.followOffset.set(r, o); var a = this.width / 2,
								l = this.height / 2,
								h = t.x - r,
								u = t.y - o; return this.midPoint.set(h, u), this.scrollX = h - a, this.scrollY = u - l, this.useBounds && (this.scrollX = this.clampX(this.scrollX), this.scrollY = this.clampY(this.scrollY)), this }, stopFollow: function() { return this._follow = null, this }, resetFX: function() { return this.rotateToEffect.reset(), this.panEffect.reset(), this.shakeEffect.reset(), this.flashEffect.reset(), this.fadeEffect.reset(), this }, update: function(t, e) { this.visible && (this.rotateToEffect.update(t, e), this.panEffect.update(t, e), this.zoomEffect.update(t, e), this.shakeEffect.update(t, e), this.flashEffect.update(t, e), this.fadeEffect.update(t, e)) }, destroy: function() { this.resetFX(), n.prototype.destroy.call(this), this._follow = null, this.deadzone = null } });
				t.exports = f }, 32743: (t, e, i) => { var n = i(38058),
					r = i(83419),
					s = i(95540),
					o = i(37277),
					a = i(37303),
					l = i(97480),
					h = i(44594),
					u = new r({ initialize: function(t) { this.scene = t, this.systems = t.sys, this.roundPixels = t.sys.game.config.roundPixels, this.cameras = [], this.main, this.default, t.sys.events.once(h.BOOT, this.boot, this), t.sys.events.on(h.START, this.start, this) }, boot: function() { var t = this.systems;
							t.settings.cameras ? this.fromJSON(t.settings.cameras) : this.add(), this.main = this.cameras[0], this.default = new n(0, 0, t.scale.width, t.scale.height).setScene(this.scene), t.game.scale.on(l.RESIZE, this.onResize, this), this.systems.events.once(h.DESTROY, this.destroy, this) }, start: function() { if (!this.main) { var t = this.systems;
								t.settings.cameras ? this.fromJSON(t.settings.cameras) : this.add(), this.main = this.cameras[0] } var e = this.systems.events;
							e.on(h.UPDATE, this.update, this), e.once(h.SHUTDOWN, this.shutdown, this) }, add: function(t, e, i, r, s, o) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.scale.width), void 0 === r && (r = this.scene.sys.scale.height), void 0 === s && (s = !1), void 0 === o && (o = ""); var a = new n(t, e, i, r); return a.setName(o), a.setScene(this.scene), a.setRoundPixels(this.roundPixels), a.id = this.getNextID(), this.cameras.push(a), s && (this.main = a), a }, addExisting: function(t, e) { return void 0 === e && (e = !1), -1 === this.cameras.indexOf(t) ? (t.id = this.getNextID(), t.setRoundPixels(this.roundPixels), this.cameras.push(t), e && (this.main = t), t) : null }, getNextID: function() { for (var t = this.cameras, e = 1, i = 0; i < 32; i++) { for (var n = !1, r = 0; r < t.length; r++) { var s = t[r];
									s && s.id === e && (n = !0) } if (!n) return e;
								e <<= 1 } return 0 }, getTotal: function(t) { void 0 === t && (t = !1); for (var e = 0, i = this.cameras, n = 0; n < i.length; n++) { var r = i[n];
								(!t || t && r.visible) && e++ } return e }, fromJSON: function(t) { Array.isArray(t) || (t = [t]); for (var e = this.scene.sys.scale.width, i = this.scene.sys.scale.height, n = 0; n < t.length; n++) { var r = t[n],
									o = s(r, "x", 0),
									a = s(r, "y", 0),
									l = s(r, "width", e),
									h = s(r, "height", i),
									u = this.add(o, a, l, h);
								u.name = s(r, "name", ""), u.zoom = s(r, "zoom", 1), u.rotation = s(r, "rotation", 0), u.scrollX = s(r, "scrollX", 0), u.scrollY = s(r, "scrollY", 0), u.roundPixels = s(r, "roundPixels", !1), u.visible = s(r, "visible", !0); var c = s(r, "backgroundColor", !1);
								c && u.setBackgroundColor(c); var d = s(r, "bounds", null); if (d) { var f = s(d, "x", 0),
										p = s(d, "y", 0),
										g = s(d, "width", e),
										m = s(d, "height", i);
									u.setBounds(f, p, g, m) } } return this }, getCamera: function(t) { for (var e = this.cameras, i = 0; i < e.length; i++)
								if (e[i].name === t) return e[i]; return null }, getCamerasBelowPointer: function(t) { for (var e = this.cameras, i = t.x, n = t.y, r = [], s = 0; s < e.length; s++) { var o = e[s];
								o.visible && o.inputEnabled && a(o, i, n) && r.unshift(o) } return r }, remove: function(t, e) { void 0 === e && (e = !0), Array.isArray(t) || (t = [t]); for (var i = 0, n = this.cameras, r = 0; r < t.length; r++) { var s = n.indexOf(t[r]); - 1 !== s && (e ? n[s].destroy() : n[s].renderList = [], n.splice(s, 1), i++) } return !this.main && n[0] && (this.main = n[0]), i }, render: function(t, e) { for (var i = this.scene, n = this.cameras, r = 0; r < n.length; r++) { var s = n[r]; if (s.visible && s.alpha > 0) { s.preRender(); var o = this.getVisibleChildren(e.getChildren(), s);
									t.render(i, o, s) } } }, getVisibleChildren: function(t, e) { return t.filter((function(t) { return t.willRender(e) })) }, resetAll: function() { for (var t = 0; t < this.cameras.length; t++) this.cameras[t].destroy(); return this.cameras = [], this.main = this.add(), this.main }, update: function(t, e) { for (var i = 0; i < this.cameras.length; i++) this.cameras[i].update(t, e) }, onResize: function(t, e, i, n, r) { for (var s = 0; s < this.cameras.length; s++) { var o = this.cameras[s];
								0 === o._x && 0 === o._y && o._width === n && o._height === r && o.setSize(e.width, e.height) } }, resize: function(t, e) { for (var i = 0; i < this.cameras.length; i++) this.cameras[i].setSize(t, e) }, shutdown: function() { this.main = void 0; for (var t = 0; t < this.cameras.length; t++) this.cameras[t].destroy();
							this.cameras = []; var e = this.systems.events;
							e.off(h.UPDATE, this.update, this), e.off(h.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.default.destroy(), this.systems.events.off(h.START, this.start, this), this.systems.events.off(h.DESTROY, this.destroy, this), this.systems.game.scale.off(l.RESIZE, this.onResize, this), this.scene = null, this.systems = null } });
				o.register("CameraManager", u, "cameras"), t.exports = u }, 5020: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(19715),
					o = new r({ initialize: function(t) { this.camera = t, this.isRunning = !1, this.isComplete = !1, this.direction = !0, this.duration = 0, this.red = 0, this.green = 0, this.blue = 0, this.alpha = 0, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope }, start: function(t, e, i, n, r, o, a, l) { if (void 0 === t && (t = !0), void 0 === e && (e = 1e3), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === o && (o = !1), void 0 === a && (a = null), void 0 === l && (l = this.camera.scene), !o && this.isRunning) return this.camera;
							this.isRunning = !0, this.isComplete = !1, this.duration = e, this.direction = t, this.progress = 0, this.red = i, this.green = n, this.blue = r, this.alpha = t ? Number.MIN_VALUE : 1, this._elapsed = 0, this._onUpdate = a, this._onUpdateScope = l; var h = t ? s.FADE_OUT_START : s.FADE_IN_START; return this.camera.emit(h, this.camera, this, e, i, n, r), this.camera }, update: function(t, e) { this.isRunning && (this._elapsed += e, this.progress = n(this._elapsed / this.duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress), this._elapsed < this.duration ? this.alpha = this.direction ? this.progress : 1 - this.progress : (this.alpha = this.direction ? 1 : 0, this.effectComplete())) }, postRenderCanvas: function(t) { if (!this.isRunning && !this.isComplete) return !1; var e = this.camera; return t.fillStyle = "rgba(" + this.red + "," + this.green + "," + this.blue + "," + this.alpha + ")", t.fillRect(e.x, e.y, e.width, e.height), !0 }, postRenderWebGL: function(t, e) { if (!this.isRunning && !this.isComplete) return !1; var i = this.camera,
								n = this.red / 255,
								r = this.green / 255,
								s = this.blue / 255; return t.drawFillRect(i.x, i.y, i.width, i.height, e(s, r, n, 1), this.alpha), !0 }, effectComplete: function() { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.isComplete = !0; var t = this.direction ? s.FADE_OUT_COMPLETE : s.FADE_IN_COMPLETE;
							this.camera.emit(t, this.camera, this) }, reset: function() { this.isRunning = !1, this.isComplete = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function() { this.reset(), this.camera = null } });
				t.exports = o }, 10662: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(19715),
					o = new r({ initialize: function(t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.red = 0, this.green = 0, this.blue = 0, this.alpha = 1, this.progress = 0, this._elapsed = 0, this._alpha, this._onUpdate, this._onUpdateScope }, start: function(t, e, i, n, r, o, a) { return void 0 === t && (t = 250), void 0 === e && (e = 255), void 0 === i && (i = 255), void 0 === n && (n = 255), void 0 === r && (r = !1), void 0 === o && (o = null), void 0 === a && (a = this.camera.scene), !r && this.isRunning || (this.isRunning = !0, this.duration = t, this.progress = 0, this.red = e, this.green = i, this.blue = n, this._alpha = this.alpha, this._elapsed = 0, this._onUpdate = o, this._onUpdateScope = a, this.camera.emit(s.FLASH_START, this.camera, this, t, e, i, n)), this.camera }, update: function(t, e) { this.isRunning && (this._elapsed += e, this.progress = n(this._elapsed / this.duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress), this._elapsed < this.duration ? this.alpha = this._alpha * (1 - this.progress) : this.effectComplete()) }, postRenderCanvas: function(t) { if (!this.isRunning) return !1; var e = this.camera; return t.fillStyle = "rgba(" + this.red + "," + this.green + "," + this.blue + "," + this.alpha + ")", t.fillRect(e.x, e.y, e.width, e.height), !0 }, postRenderWebGL: function(t, e) { if (!this.isRunning) return !1; var i = this.camera,
								n = this.red / 255,
								r = this.green / 255,
								s = this.blue / 255; return t.drawFillRect(i.x, i.y, i.width, i.height, e(s, r, n, 1), this.alpha), !0 }, effectComplete: function() { this.alpha = this._alpha, this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(s.FLASH_COMPLETE, this.camera, this) }, reset: function() { this.isRunning = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function() { this.reset(), this.camera = null } });
				t.exports = o }, 20359: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(62640),
					o = i(19715),
					a = i(26099),
					l = new r({ initialize: function(t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.source = new a, this.current = new a, this.destination = new a, this.ease, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope }, start: function(t, e, i, n, r, a, l) { void 0 === i && (i = 1e3), void 0 === n && (n = s.Linear), void 0 === r && (r = !1), void 0 === a && (a = null), void 0 === l && (l = this.camera.scene); var h = this.camera; return !r && this.isRunning || (this.isRunning = !0, this.duration = i, this.progress = 0, this.source.set(h.scrollX, h.scrollY), this.destination.set(t, e), h.getScroll(t, e, this.current), "string" == typeof n && s.hasOwnProperty(n) ? this.ease = s[n] : "function" == typeof n && (this.ease = n), this._elapsed = 0, this._onUpdate = a, this._onUpdateScope = l, this.camera.emit(o.PAN_START, this.camera, this, i, t, e)), h }, update: function(t, e) { if (this.isRunning) { this._elapsed += e; var i = n(this._elapsed / this.duration, 0, 1);
								this.progress = i; var r = this.camera; if (this._elapsed < this.duration) { var s = this.ease(i);
									r.getScroll(this.destination.x, this.destination.y, this.current); var o = this.source.x + (this.current.x - this.source.x) * s,
										a = this.source.y + (this.current.y - this.source.y) * s;
									r.setScroll(o, a), this._onUpdate && this._onUpdate.call(this._onUpdateScope, r, i, o, a) } else r.centerOn(this.destination.x, this.destination.y), this._onUpdate && this._onUpdate.call(this._onUpdateScope, r, i, r.scrollX, r.scrollY), this.effectComplete() } }, effectComplete: function() { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(o.PAN_COMPLETE, this.camera, this) }, reset: function() { this.isRunning = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function() { this.reset(), this.camera = null, this.source = null, this.destination = null } });
				t.exports = l }, 34208: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(19715),
					o = i(62640),
					a = new r({ initialize: function(t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.source = 0, this.current = 0, this.destination = 0, this.ease, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope, this.clockwise = !0, this.shortestPath = !1 }, start: function(t, e, i, n, r, a, l) { void 0 === i && (i = 1e3), void 0 === n && (n = o.Linear), void 0 === r && (r = !1), void 0 === a && (a = null), void 0 === l && (l = this.camera.scene), void 0 === e && (e = !1), this.shortestPath = e; var h = t;
							t < 0 ? (h = -1 * t, this.clockwise = !1) : this.clockwise = !0; var u = 360 * Math.PI / 180;
							h -= Math.floor(h / u) * u; var c = this.camera; if (!r && this.isRunning) return c; if (this.isRunning = !0, this.duration = i, this.progress = 0, this.source = c.rotation, this.destination = h, "string" == typeof n && o.hasOwnProperty(n) ? this.ease = o[n] : "function" == typeof n && (this.ease = n), this._elapsed = 0, this._onUpdate = a, this._onUpdateScope = l, this.shortestPath) { var d, f;
								(d = this.destination > this.source ? Math.abs(this.destination - this.source) : Math.abs(this.destination + u) - this.source) < (f = this.source > this.destination ? Math.abs(this.source - this.destination) : Math.abs(this.source + u) - this.destination) ? this.clockwise = !0: d > f && (this.clockwise = !1) } return this.camera.emit(s.ROTATE_START, this.camera, this, i, h), c }, update: function(t, e) { if (this.isRunning) { this._elapsed += e; var i = n(this._elapsed / this.duration, 0, 1);
								this.progress = i; var r = this.camera; if (this._elapsed < this.duration) { var s = this.ease(i);
									this.current = r.rotation; var o, a = 360 * Math.PI / 180,
										l = this.destination,
										h = this.current;!1 === this.clockwise && (l = this.current, h = this.destination), o = l >= h ? Math.abs(l - h) : Math.abs(l + a) - h; var u;
									u = this.clockwise ? r.rotation + o * s : r.rotation - o * s, r.rotation = u, this._onUpdate && this._onUpdate.call(this._onUpdateScope, r, i, u) } else r.rotation = this.destination, this._onUpdate && this._onUpdate.call(this._onUpdateScope, r, i, this.destination), this.effectComplete() } }, effectComplete: function() { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(s.ROTATE_COMPLETE, this.camera, this) }, reset: function() { this.isRunning = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function() { this.reset(), this.camera = null, this.source = null, this.destination = null } });
				t.exports = a }, 30330: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(19715),
					o = i(26099),
					a = new r({ initialize: function(t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.intensity = new o, this.progress = 0, this._elapsed = 0, this._offsetX = 0, this._offsetY = 0, this._onUpdate, this._onUpdateScope }, start: function(t, e, i, n, r) { return void 0 === t && (t = 100), void 0 === e && (e = .05), void 0 === i && (i = !1), void 0 === n && (n = null), void 0 === r && (r = this.camera.scene), !i && this.isRunning || (this.isRunning = !0, this.duration = t, this.progress = 0, "number" == typeof e ? this.intensity.set(e) : this.intensity.set(e.x, e.y), this._elapsed = 0, this._offsetX = 0, this._offsetY = 0, this._onUpdate = n, this._onUpdateScope = r, this.camera.emit(s.SHAKE_START, this.camera, this, t, e)), this.camera }, preRender: function() { this.isRunning && this.camera.matrix.translate(this._offsetX, this._offsetY) }, update: function(t, e) { if (this.isRunning)
								if (this._elapsed += e, this.progress = n(this._elapsed / this.duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress), this._elapsed < this.duration) { var i = this.intensity,
										r = this.camera.width,
										s = this.camera.height,
										o = this.camera.zoom;
									this._offsetX = (Math.random() * i.x * r * 2 - i.x * r) * o, this._offsetY = (Math.random() * i.y * s * 2 - i.y * s) * o, this.camera.roundPixels && (this._offsetX = Math.round(this._offsetX), this._offsetY = Math.round(this._offsetY)) } else this.effectComplete() }, effectComplete: function() { this._offsetX = 0, this._offsetY = 0, this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(s.SHAKE_COMPLETE, this.camera, this) }, reset: function() { this.isRunning = !1, this._offsetX = 0, this._offsetY = 0, this._onUpdate = null, this._onUpdateScope = null }, destroy: function() { this.reset(), this.camera = null, this.intensity = null } });
				t.exports = a }, 45641: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(62640),
					o = i(19715),
					a = new r({ initialize: function(t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.source = 1, this.destination = 1, this.ease, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope }, start: function(t, e, i, n, r, a) { void 0 === e && (e = 1e3), void 0 === i && (i = s.Linear), void 0 === n && (n = !1), void 0 === r && (r = null), void 0 === a && (a = this.camera.scene); var l = this.camera; return !n && this.isRunning || (this.isRunning = !0, this.duration = e, this.progress = 0, this.source = l.zoom, this.destination = t, "string" == typeof i && s.hasOwnProperty(i) ? this.ease = s[i] : "function" == typeof i && (this.ease = i), this._elapsed = 0, this._onUpdate = r, this._onUpdateScope = a, this.camera.emit(o.ZOOM_START, this.camera, this, e, t)), l }, update: function(t, e) { this.isRunning && (this._elapsed += e, this.progress = n(this._elapsed / this.duration, 0, 1), this._elapsed < this.duration ? (this.camera.zoom = this.source + (this.destination - this.source) * this.ease(this.progress), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress, this.camera.zoom)) : (this.camera.zoom = this.destination, this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress, this.destination), this.effectComplete())) }, effectComplete: function() { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(o.ZOOM_COMPLETE, this.camera, this) }, reset: function() { this.isRunning = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function() { this.reset(), this.camera = null } });
				t.exports = a }, 20052: (t, e, i) => { t.exports = { Fade: i(5020), Flash: i(10662), Pan: i(20359), Shake: i(30330), RotateTo: i(34208), Zoom: i(45641) } }, 16438: t => { t.exports = "cameradestroy" }, 32726: t => { t.exports = "camerafadeincomplete" }, 87807: t => { t.exports = "camerafadeinstart" }, 45917: t => { t.exports = "camerafadeoutcomplete" }, 95666: t => { t.exports = "camerafadeoutstart" }, 47056: t => { t.exports = "cameraflashcomplete" }, 91261: t => { t.exports = "cameraflashstart" }, 45047: t => { t.exports = "followupdate" }, 81927: t => { t.exports = "camerapancomplete" }, 74264: t => { t.exports = "camerapanstart" }, 54419: t => { t.exports = "postrender" }, 79330: t => { t.exports = "prerender" }, 93183: t => { t.exports = "camerarotatecomplete" }, 80112: t => { t.exports = "camerarotatestart" }, 62252: t => { t.exports = "camerashakecomplete" }, 86017: t => { t.exports = "camerashakestart" }, 539: t => { t.exports = "camerazoomcomplete" }, 51892: t => { t.exports = "camerazoomstart" }, 19715: (t, e, i) => { t.exports = { DESTROY: i(16438), FADE_IN_COMPLETE: i(32726), FADE_IN_START: i(87807), FADE_OUT_COMPLETE: i(45917), FADE_OUT_START: i(95666), FLASH_COMPLETE: i(47056), FLASH_START: i(91261), FOLLOW_UPDATE: i(45047), PAN_COMPLETE: i(81927), PAN_START: i(74264), POST_RENDER: i(54419), PRE_RENDER: i(79330), ROTATE_COMPLETE: i(93183), ROTATE_START: i(80112), SHAKE_COMPLETE: i(62252), SHAKE_START: i(86017), ZOOM_COMPLETE: i(539), ZOOM_START: i(51892) } }, 87969: (t, e, i) => { t.exports = { Camera: i(38058), BaseCamera: i(71911), CameraManager: i(32743), Effects: i(20052), Events: i(19715) } }, 63091: (t, e, i) => { var n = i(83419),
					r = i(35154),
					s = new n({ initialize: function(t) { this.camera = r(t, "camera", null), this.left = r(t, "left", null), this.right = r(t, "right", null), this.up = r(t, "up", null), this.down = r(t, "down", null), this.zoomIn = r(t, "zoomIn", null), this.zoomOut = r(t, "zoomOut", null), this.zoomSpeed = r(t, "zoomSpeed", .01), this.minZoom = r(t, "minZoom", .001), this.maxZoom = r(t, "maxZoom", 1e3), this.speedX = 0, this.speedY = 0; var e = r(t, "speed", null); "number" == typeof e ? (this.speedX = e, this.speedY = e) : (this.speedX = r(t, "speed.x", 0), this.speedY = r(t, "speed.y", 0)), this._zoom = 0, this.active = null !== this.camera }, start: function() { return this.active = null !== this.camera, this }, stop: function() { return this.active = !1, this }, setCamera: function(t) { return this.camera = t, this }, update: function(t) { if (this.active) { void 0 === t && (t = 1); var e = this.camera;
								this.up && this.up.isDown ? e.scrollY -= this.speedY * t | 0 : this.down && this.down.isDown && (e.scrollY += this.speedY * t | 0), this.left && this.left.isDown ? e.scrollX -= this.speedX * t | 0 : this.right && this.right.isDown && (e.scrollX += this.speedX * t | 0), this.zoomIn && this.zoomIn.isDown ? (e.zoom -= this.zoomSpeed, e.zoom < this.minZoom && (e.zoom = this.minZoom)) : this.zoomOut && this.zoomOut.isDown && (e.zoom += this.zoomSpeed, e.zoom > this.maxZoom && (e.zoom = this.maxZoom)) } }, destroy: function() { this.camera = null, this.left = null, this.right = null, this.up = null, this.down = null, this.zoomIn = null, this.zoomOut = null } });
				t.exports = s }, 58818: (t, e, i) => { var n = i(83419),
					r = i(35154),
					s = new n({ initialize: function(t) { this.camera = r(t, "camera", null), this.left = r(t, "left", null), this.right = r(t, "right", null), this.up = r(t, "up", null), this.down = r(t, "down", null), this.zoomIn = r(t, "zoomIn", null), this.zoomOut = r(t, "zoomOut", null), this.zoomSpeed = r(t, "zoomSpeed", .01), this.minZoom = r(t, "minZoom", .001), this.maxZoom = r(t, "maxZoom", 1e3), this.accelX = 0, this.accelY = 0; var e = r(t, "acceleration", null); "number" == typeof e ? (this.accelX = e, this.accelY = e) : (this.accelX = r(t, "acceleration.x", 0), this.accelY = r(t, "acceleration.y", 0)), this.dragX = 0, this.dragY = 0; var i = r(t, "drag", null); "number" == typeof i ? (this.dragX = i, this.dragY = i) : (this.dragX = r(t, "drag.x", 0), this.dragY = r(t, "drag.y", 0)), this.maxSpeedX = 0, this.maxSpeedY = 0; var n = r(t, "maxSpeed", null); "number" == typeof n ? (this.maxSpeedX = n, this.maxSpeedY = n) : (this.maxSpeedX = r(t, "maxSpeed.x", 0), this.maxSpeedY = r(t, "maxSpeed.y", 0)), this._speedX = 0, this._speedY = 0, this._zoom = 0, this.active = null !== this.camera }, start: function() { return this.active = null !== this.camera, this }, stop: function() { return this.active = !1, this }, setCamera: function(t) { return this.camera = t, this }, update: function(t) { if (this.active) { void 0 === t && (t = 1); var e = this.camera;
								this._speedX > 0 ? (this._speedX -= this.dragX * t, this._speedX < 0 && (this._speedX = 0)) : this._speedX < 0 && (this._speedX += this.dragX * t, this._speedX > 0 && (this._speedX = 0)), this._speedY > 0 ? (this._speedY -= this.dragY * t, this._speedY < 0 && (this._speedY = 0)) : this._speedY < 0 && (this._speedY += this.dragY * t, this._speedY > 0 && (this._speedY = 0)), this.up && this.up.isDown ? (this._speedY += this.accelY, this._speedY > this.maxSpeedY && (this._speedY = this.maxSpeedY)) : this.down && this.down.isDown && (this._speedY -= this.accelY, this._speedY < -this.maxSpeedY && (this._speedY = -this.maxSpeedY)), this.left && this.left.isDown ? (this._speedX += this.accelX, this._speedX > this.maxSpeedX && (this._speedX = this.maxSpeedX)) : this.right && this.right.isDown && (this._speedX -= this.accelX, this._speedX < -this.maxSpeedX && (this._speedX = -this.maxSpeedX)), this.zoomIn && this.zoomIn.isDown ? this._zoom = -this.zoomSpeed : this.zoomOut && this.zoomOut.isDown ? this._zoom = this.zoomSpeed : this._zoom = 0, 0 !== this._speedX && (e.scrollX -= this._speedX * t | 0), 0 !== this._speedY && (e.scrollY -= this._speedY * t | 0), 0 !== this._zoom && (e.zoom += this._zoom, e.zoom < this.minZoom ? e.zoom = this.minZoom : e.zoom > this.maxZoom && (e.zoom = this.maxZoom)) } }, destroy: function() { this.camera = null, this.left = null, this.right = null, this.up = null, this.down = null, this.zoomIn = null, this.zoomOut = null } });
				t.exports = s }, 38865: (t, e, i) => { t.exports = { FixedKeyControl: i(63091), SmoothedKeyControl: i(58818) } }, 26638: (t, e, i) => { t.exports = { Controls: i(38865), Scene2D: i(87969) } }, 8054: (t, e, i) => { var n = { VERSION: "3.87", LOG_VERSION: "v387", BlendModes: i(10312), ScaleModes: i(29795), AUTO: 0, CANVAS: 1, WEBGL: 2, HEADLESS: 3, FOREVER: -1, NONE: 4, UP: 5, DOWN: 6, LEFT: 7, RIGHT: 8 };
				t.exports = n }, 69547: (t, e, i) => { var n = i(83419),
					r = i(8054),
					s = i(42363),
					o = i(82264),
					a = i(95540),
					l = i(35154),
					h = i(41212),
					u = i(29747),
					c = i(75508),
					d = i(36060),
					f = i(80333),
					p = new n({ initialize: function(t) { void 0 === t && (t = {}); var e = l(t, "scale", null);
							this.width = l(e, "width", 1024, t), this.height = l(e, "height", 768, t), this.zoom = l(e, "zoom", 1, t), this.parent = l(e, "parent", void 0, t), this.scaleMode = l(e, e ? "mode" : "scaleMode", 0, t), this.expandParent = l(e, "expandParent", !0, t), this.autoRound = l(e, "autoRound", !1, t), this.autoCenter = l(e, "autoCenter", 0, t), this.resizeInterval = l(e, "resizeInterval", 500, t), this.fullscreenTarget = l(e, "fullscreenTarget", null, t), this.minWidth = l(e, "min.width", 0, t), this.maxWidth = l(e, "max.width", 0, t), this.minHeight = l(e, "min.height", 0, t), this.maxHeight = l(e, "max.height", 0, t), this.snapWidth = l(e, "snap.width", 0, t), this.snapHeight = l(e, "snap.height", 0, t), this.renderType = l(t, "type", r.AUTO), this.canvas = l(t, "canvas", null), this.context = l(t, "context", null), this.canvasStyle = l(t, "canvasStyle", null), this.customEnvironment = l(t, "customEnvironment", !1), this.sceneConfig = l(t, "scene", null), this.seed = l(t, "seed", [(Date.now() * Math.random()).toString()]), c.RND = new c.RandomDataGenerator(this.seed), this.gameTitle = l(t, "title", ""), this.gameURL = l(t, "url", "https://phaser.io/" + r.LOG_VERSION), this.gameVersion = l(t, "version", ""), this.autoFocus = l(t, "autoFocus", !0), this.stableSort = l(t, "stableSort", -1), -1 === this.stableSort && (this.stableSort = o.browser.es2019 ? 1 : 0), o.features.stableSort = this.stableSort, this.domCreateContainer = l(t, "dom.createContainer", !1), this.domPointerEvents = l(t, "dom.pointerEvents", "none"), this.inputKeyboard = l(t, "input.keyboard", !0), this.inputKeyboardEventTarget = l(t, "input.keyboard.target", window), this.inputKeyboardCapture = l(t, "input.keyboard.capture", []), this.inputMouse = l(t, "input.mouse", !0), this.inputMouseEventTarget = l(t, "input.mouse.target", null), this.inputMousePreventDefaultDown = l(t, "input.mouse.preventDefaultDown", !0), this.inputMousePreventDefaultUp = l(t, "input.mouse.preventDefaultUp", !0), this.inputMousePreventDefaultMove = l(t, "input.mouse.preventDefaultMove", !0), this.inputMousePreventDefaultWheel = l(t, "input.mouse.preventDefaultWheel", !0), this.inputTouch = l(t, "input.touch", o.input.touch), this.inputTouchEventTarget = l(t, "input.touch.target", null), this.inputTouchCapture = l(t, "input.touch.capture", !0), this.inputActivePointers = l(t, "input.activePointers", 1), this.inputSmoothFactor = l(t, "input.smoothFactor", 0), this.inputWindowEvents = l(t, "input.windowEvents", !0), this.inputGamepad = l(t, "input.gamepad", !1), this.inputGamepadEventTarget = l(t, "input.gamepad.target", window), this.disableContextMenu = l(t, "disableContextMenu", !1), this.audio = l(t, "audio", {}), this.hideBanner = !1 === l(t, "banner", null), this.hidePhaser = l(t, "banner.hidePhaser", !1), this.bannerTextColor = l(t, "banner.text", "#ffffff"), this.bannerBackgroundColor = l(t, "banner.background", ["#ff0000", "#ffff00", "#00ff00", "#00ffff", "#000000"]), "" === this.gameTitle && this.hidePhaser && (this.hideBanner = !0), this.fps = l(t, "fps", null), this.disablePreFX = l(t, "disablePreFX", !1), this.disablePostFX = l(t, "disablePostFX", !1); var i = l(t, "render", null);
							this.pipeline = l(i, "pipeline", null, t), this.autoMobilePipeline = l(i, "autoMobilePipeline", !0, t), this.defaultPipeline = l(i, "defaultPipeline", d.MULTI_PIPELINE, t), this.antialias = l(i, "antialias", !0, t), this.antialiasGL = l(i, "antialiasGL", !0, t), this.mipmapFilter = l(i, "mipmapFilter", "", t), this.desynchronized = l(i, "desynchronized", !1, t), this.roundPixels = l(i, "roundPixels", !1, t), this.pixelArt = l(i, "pixelArt", 1 !== this.zoom, t), this.pixelArt && (this.antialias = !1, this.antialiasGL = !1, this.roundPixels = !0), this.transparent = l(i, "transparent", !1, t), this.clearBeforeRender = l(i, "clearBeforeRender", !0, t), this.preserveDrawingBuffer = l(i, "preserveDrawingBuffer", !1, t), this.premultipliedAlpha = l(i, "premultipliedAlpha", !0, t), this.failIfMajorPerformanceCaveat = l(i, "failIfMajorPerformanceCaveat", !1, t), this.powerPreference = l(i, "powerPreference", "default", t), this.batchSize = l(i, "batchSize", 4096, t), this.maxTextures = l(i, "maxTextures", -1, t), this.maxLights = l(i, "maxLights", 10, t); var n = l(t, "backgroundColor", 0);
							this.backgroundColor = f(n), this.transparent && (this.backgroundColor = f(0), this.backgroundColor.alpha = 0), this.preBoot = l(t, "callbacks.preBoot", u), this.postBoot = l(t, "callbacks.postBoot", u), this.physics = l(t, "physics", {}), this.defaultPhysicsSystem = l(this.physics, "default", !1), this.loaderBaseURL = l(t, "loader.baseURL", ""), this.loaderPath = l(t, "loader.path", ""), this.loaderMaxParallelDownloads = l(t, "loader.maxParallelDownloads", o.os.android ? 6 : 32), this.loaderCrossOrigin = l(t, "loader.crossOrigin", void 0), this.loaderResponseType = l(t, "loader.responseType", ""), this.loaderAsync = l(t, "loader.async", !0), this.loaderUser = l(t, "loader.user", ""), this.loaderPassword = l(t, "loader.password", ""), this.loaderTimeout = l(t, "loader.timeout", 0), this.loaderMaxRetries = l(t, "loader.maxRetries", 2), this.loaderWithCredentials = l(t, "loader.withCredentials", !1), this.loaderImageLoadType = l(t, "loader.imageLoadType", "XHR"), this.loaderLocalScheme = l(t, "loader.localScheme", ["file://", "capacitor://"]), this.glowFXQuality = l(t, "fx.glow.quality", .1), this.glowFXDistance = l(t, "fx.glow.distance", 10), this.installGlobalPlugins = [], this.installScenePlugins = []; var p = l(t, "plugins", null),
								g = s.DefaultScene;
							p && (Array.isArray(p) ? this.defaultPlugins = p : h(p) && (this.installGlobalPlugins = a(p, "global", []), this.installScenePlugins = a(p, "scene", []), Array.isArray(p.default) ? g = p.default : Array.isArray(p.defaultMerge) && (g = g.concat(p.defaultMerge)))), this.defaultPlugins = g; var m = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";
							this.defaultImage = l(t, "images.default", m + "AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="), this.missingImage = l(t, "images.missing", m + "CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="), this.whiteImage = l(t, "images.white", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"), window && (window.FORCE_WEBGL ? this.renderType = r.WEBGL : window.FORCE_CANVAS && (this.renderType = r.CANVAS)) } });
				t.exports = p }, 86054: (t, e, i) => { var n = i(20623),
					r = i(27919),
					s = i(8054),
					o = i(89357);
				t.exports = function(t) { var e = t.config; if ((e.customEnvironment || e.canvas) && e.renderType === s.AUTO) throw new Error("Must set explicit renderType in custom environment"); if (!e.customEnvironment && !e.canvas && e.renderType !== s.HEADLESS)
						if (e.renderType === s.AUTO && (e.renderType = o.webGL ? s.WEBGL : s.CANVAS), e.renderType === s.WEBGL) { if (!o.webGL) throw new Error("Cannot create WebGL context, aborting.") } else { if (e.renderType !== s.CANVAS) throw new Error("Unknown value for renderer type: " + e.renderType); if (!o.canvas) throw new Error("Cannot create Canvas context, aborting.") } e.antialias || r.disableSmoothing(); var a, l, h = t.scale.baseSize,
						u = h.width,
						c = h.height;
					e.canvas ? (t.canvas = e.canvas, t.canvas.width = u, t.canvas.height = c) : t.canvas = r.create(t, u, c, e.renderType), e.canvasStyle && (t.canvas.style = e.canvasStyle), e.antialias || n.setCrisp(t.canvas), e.renderType !== s.HEADLESS && (a = i(68627), l = i(74797), e.renderType === s.WEBGL ? t.renderer = new l(t) : (t.renderer = new a(t), t.context = t.renderer.gameContext)) } }, 96391: (t, e, i) => { var n = i(8054);
				t.exports = function(t) { var e = t.config; if (!e.hideBanner) { var i = "WebGL";
						e.renderType === n.CANVAS ? i = "Canvas" : e.renderType === n.HEADLESS && (i = "Headless"); var r, s = e.audio,
							o = t.device.audio; if (r = o.webAudio && !s.disableWebAudio ? "Web Audio" : s.noAudio || !o.webAudio && !o.audioData ? "No Audio" : "HTML5 Audio", t.device.browser.ie) window.console && console.log("Phaser v" + n.VERSION + " / https://phaser.io");
						else { var a, l = "",
								h = [l];
							Array.isArray(e.bannerBackgroundColor) ? (e.bannerBackgroundColor.forEach((function(t) { l = l.concat("%c "), h.push("background: " + t), a = t })), h[h.length - 1] = "color: " + e.bannerTextColor + "; background: " + a) : (l = l.concat("%c "), h.push("color: " + e.bannerTextColor + "; background: " + e.bannerBackgroundColor)), h.push("background: transparent"), e.gameTitle && (l = l.concat(e.gameTitle), e.gameVersion && (l = l.concat(" v" + e.gameVersion)), e.hidePhaser || (l = l.concat(" / "))), e.hidePhaser || (l = l.concat("Phaser v" + n.VERSION + " (" + i + " | " + r + ")")), l = l.concat(" %c " + e.gameURL), h[0] = l, console.log.apply(console, h) } } } }, 50127: (t, e, i) => { var n = i(40366),
					r = i(60848),
					s = i(24047),
					o = i(27919),
					a = i(83419),
					l = i(69547),
					h = i(83719),
					u = i(86054),
					c = i(45893),
					d = i(96391),
					f = i(82264),
					p = i(57264),
					g = i(50792),
					m = i(8443),
					v = i(7003),
					y = i(37277),
					x = i(77332),
					b = i(76531),
					w = i(60903),
					T = i(69442),
					S = i(17130),
					_ = i(65898),
					E = i(51085),
					A = i(14747),
					C = new a({ initialize: function(t) { this.config = new l(t), this.renderer = null, this.domContainer = null, this.canvas = null, this.context = null, this.isBooted = !1, this.isRunning = !1, this.events = new g, this.anims = new r(this), this.textures = new S(this), this.cache = new s(this), this.registry = new c(this, new g), this.input = new v(this, this.config), this.scene = new w(this, this.config.sceneConfig), this.device = f, this.scale = new b(this, this.config), this.sound = null, this.sound = A.create(this), this.loop = new _(this, this.config.fps), this.plugins = new x(this, this.config), this.pendingDestroy = !1, this.removeCanvas = !1, this.noReturn = !1, this.hasFocus = !1, this.isPaused = !1, p(this.boot.bind(this)) }, boot: function() { y.hasCore("EventEmitter") ? (this.isBooted = !0, this.config.preBoot(this), this.scale.preBoot(), u(this), h(this), d(this), n(this.canvas, this.config.parent), this.textures.once(T.READY, this.texturesReady, this), this.events.emit(m.BOOT)) : console.warn("Aborting. Core Plugins missing.") }, texturesReady: function() { this.events.emit(m.READY), this.start() }, start: function() { this.isRunning = !0, this.config.postBoot(this), this.renderer ? this.loop.start(this.step.bind(this)) : this.loop.start(this.headlessStep.bind(this)), E(this); var t = this.events;
							t.on(m.HIDDEN, this.onHidden, this), t.on(m.VISIBLE, this.onVisible, this), t.on(m.BLUR, this.onBlur, this), t.on(m.FOCUS, this.onFocus, this) }, step: function(t, e) { if (this.pendingDestroy) return this.runDestroy(); if (!this.isPaused) { var i = this.events;
								i.emit(m.PRE_STEP, t, e), i.emit(m.STEP, t, e), this.scene.update(t, e), i.emit(m.POST_STEP, t, e); var n = this.renderer;
								n.preRender(), i.emit(m.PRE_RENDER, n, t, e), this.scene.render(n), n.postRender(), i.emit(m.POST_RENDER, n, t, e) } }, headlessStep: function(t, e) { if (this.pendingDestroy) return this.runDestroy(); if (!this.isPaused) { var i = this.events;
								i.emit(m.PRE_STEP, t, e), i.emit(m.STEP, t, e), this.scene.update(t, e), i.emit(m.POST_STEP, t, e), this.scene.isProcessing = !1, i.emit(m.PRE_RENDER, null, t, e), i.emit(m.POST_RENDER, null, t, e) } }, onHidden: function() { this.loop.pause(), this.events.emit(m.PAUSE) }, pause: function() { var t = this.isPaused;
							this.isPaused = !0, t || this.events.emit(m.PAUSE) }, onVisible: function() { this.loop.resume(), this.events.emit(m.RESUME, this.loop.pauseDuration) }, resume: function() { var t = this.isPaused;
							this.isPaused = !1, t && this.events.emit(m.RESUME, 0) }, onBlur: function() { this.hasFocus = !1, this.loop.blur() }, onFocus: function() { this.hasFocus = !0, this.loop.focus() }, getFrame: function() { return this.loop.frame }, getTime: function() { return this.loop.now }, destroy: function(t, e) { void 0 === e && (e = !1), this.pendingDestroy = !0, this.removeCanvas = t, this.noReturn = e }, runDestroy: function() { this.scene.destroy(), this.events.emit(m.DESTROY), this.events.removeAllListeners(), this.renderer && this.renderer.destroy(), this.removeCanvas && this.canvas && (o.remove(this.canvas), this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas)), this.domContainer && this.domContainer.parentNode && this.domContainer.parentNode.removeChild(this.domContainer), this.loop.destroy(), this.pendingDestroy = !1 } });
				t.exports = C }, 65898: (t, e, i) => { var n = i(83419),
					r = i(35154),
					s = i(29747),
					o = i(43092),
					a = new n({ initialize: function(t, e) { this.game = t, this.raf = new o, this.started = !1, this.running = !1, this.minFps = r(e, "min", 5), this.targetFps = r(e, "target", 60), this.fpsLimit = r(e, "limit", 0), this.hasFpsLimit = this.fpsLimit > 0, this._limitRate = this.hasFpsLimit ? 1e3 / this.fpsLimit : 0, this._min = 1e3 / this.minFps, this._target = 1e3 / this.targetFps, this.actualFps = this.targetFps, this.nextFpsUpdate = 0, this.framesThisSecond = 0, this.callback = s, this.forceSetTimeOut = r(e, "forceSetTimeOut", !1), this.time = 0, this.startTime = 0, this.lastTime = 0, this.frame = 0, this.inFocus = !0, this.pauseDuration = 0, this._pauseTime = 0, this._coolDown = 0, this.delta = 0, this.deltaIndex = 0, this.deltaHistory = [], this.deltaSmoothingMax = r(e, "deltaHistory", 10), this.panicMax = r(e, "panicMax", 120), this.rawDelta = 0, this.now = 0, this.smoothStep = r(e, "smoothStep", !0) }, blur: function() { this.inFocus = !1 }, focus: function() { this.inFocus = !0, this.resetDelta() }, pause: function() { this._pauseTime = window.performance.now() }, resume: function() { this.resetDelta(), this.pauseDuration = this.time - this._pauseTime, this.startTime += this.pauseDuration }, resetDelta: function() { var t = window.performance.now();
							this.time = t, this.lastTime = t, this.nextFpsUpdate = t + 1e3, this.framesThisSecond = 0; for (var e = 0; e < this.deltaSmoothingMax; e++) this.deltaHistory[e] = Math.min(this._target, this.deltaHistory[e]);
							this.delta = 0, this.deltaIndex = 0, this._coolDown = this.panicMax }, start: function(t) { if (this.started) return this;
							this.started = !0, this.running = !0; for (var e = 0; e < this.deltaSmoothingMax; e++) this.deltaHistory[e] = this._target;
							this.resetDelta(), this.startTime = window.performance.now(), this.callback = t; var i = this.hasFpsLimit ? this.stepLimitFPS.bind(this) : this.step.bind(this);
							this.raf.start(i, this.forceSetTimeOut, this._target) }, smoothDelta: function(t) { var e = this.deltaIndex,
								i = this.deltaHistory,
								n = this.deltaSmoothingMax;
							(this._coolDown > 0 || !this.inFocus) && (this._coolDown--, t = Math.min(t, this._target)), t > this._min && (t = i[e], t = Math.min(t, this._min)), i[e] = t, this.deltaIndex++, this.deltaIndex >= n && (this.deltaIndex = 0); for (var r = 0, s = 0; s < n; s++) r += i[s]; return r / n }, updateFPS: function(t) { this.actualFps = .25 * this.framesThisSecond + .75 * this.actualFps, this.nextFpsUpdate = t + 1e3, this.framesThisSecond = 0 }, stepLimitFPS: function(t) { this.now = t; var e = Math.max(0, t - this.lastTime);
							this.rawDelta = e, this.time += this.rawDelta, this.smoothStep && (e = this.smoothDelta(e)), this.delta += e, t >= this.nextFpsUpdate && this.updateFPS(t), this.framesThisSecond++, this.delta >= this._limitRate && (this.callback(t, this.delta), this.delta = 0), this.lastTime = t, this.frame++ }, step: function(t) { this.now = t; var e = Math.max(0, t - this.lastTime);
							this.rawDelta = e, this.time += this.rawDelta, this.smoothStep && (e = this.smoothDelta(e)), this.delta = e, t >= this.nextFpsUpdate && this.updateFPS(t), this.framesThisSecond++, this.callback(t, e), this.lastTime = t, this.frame++ }, tick: function() { var t = window.performance.now();
							this.hasFpsLimit ? this.stepLimitFPS(t) : this.step(t) }, sleep: function() { this.running && (this.raf.stop(), this.running = !1) }, wake: function(t) { void 0 === t && (t = !1); var e = window.performance.now(); if (!this.running) { t && (this.startTime += -this.lastTime + (this.lastTime + e)); var i = this.hasFpsLimit ? this.stepLimitFPS.bind(this) : this.step.bind(this);
								this.raf.start(i, this.forceSetTimeOut, this._target), this.running = !0, this.nextFpsUpdate = e + 1e3, this.framesThisSecond = 0, this.fpsLimitTriggered = !1, this.tick() } }, getDuration: function() { return Math.round(this.lastTime - this.startTime) / 1e3 }, getDurationMS: function() { return Math.round(this.lastTime - this.startTime) }, stop: function() { return this.running = !1, this.started = !1, this.raf.stop(), this }, destroy: function() { this.stop(), this.raf.destroy(), this.raf = null, this.game = null, this.callback = null } });
				t.exports = a }, 51085: (t, e, i) => { var n = i(8443);
				t.exports = function(t) { var e, i = t.events;
					void 0 !== document.hidden ? e = "visibilitychange" : ["webkit", "moz", "ms"].forEach((function(t) { void 0 !== document[t + "Hidden"] && (document.hidden = function() { return document[t + "Hidden"] }, e = t + "visibilitychange") })), e && document.addEventListener(e, (function(t) { document.hidden || "pause" === t.type ? i.emit(n.HIDDEN) : i.emit(n.VISIBLE) }), !1), window.onblur = function() { i.emit(n.BLUR) }, window.onfocus = function() { i.emit(n.FOCUS) }, window.focus && t.config.autoFocus && window.focus() } }, 97217: t => { t.exports = "blur" }, 47548: t => { t.exports = "boot" }, 19814: t => { t.exports = "contextlost" }, 68446: t => { t.exports = "destroy" }, 41700: t => { t.exports = "focus" }, 25432: t => { t.exports = "hidden" }, 65942: t => { t.exports = "pause" }, 59211: t => { t.exports = "postrender" }, 47789: t => { t.exports = "poststep" }, 39066: t => { t.exports = "prerender" }, 460: t => { t.exports = "prestep" }, 16175: t => { t.exports = "ready" }, 42331: t => { t.exports = "resume" }, 11966: t => { t.exports = "step" }, 32969: t => { t.exports = "systemready" }, 94830: t => { t.exports = "visible" }, 8443: (t, e, i) => { t.exports = { BLUR: i(97217), BOOT: i(47548), CONTEXT_LOST: i(19814), DESTROY: i(68446), FOCUS: i(41700), HIDDEN: i(25432), PAUSE: i(65942), POST_RENDER: i(59211), POST_STEP: i(47789), PRE_RENDER: i(39066), PRE_STEP: i(460), READY: i(16175), RESUME: i(42331), STEP: i(11966), SYSTEM_READY: i(32969), VISIBLE: i(94830) } }, 42857: (t, e, i) => { t.exports = { Config: i(69547), CreateRenderer: i(86054), DebugHeader: i(96391), Events: i(8443), TimeStep: i(65898), VisibilityHandler: i(51085) } }, 99584: (t, e, i) => { var n = i(5290),
					r = i(27919),
					s = i(35154);
				t.exports = function(t) { var e = s(t, "data", []),
						i = s(t, "canvas", null),
						o = s(t, "palette", n),
						a = s(t, "pixelWidth", 1),
						l = s(t, "pixelHeight", a),
						h = s(t, "resizeCanvas", !0),
						u = s(t, "clearCanvas", !0),
						c = s(t, "preRender", null),
						d = s(t, "postRender", null),
						f = Math.floor(Math.abs(e[0].length * a)),
						p = Math.floor(Math.abs(e.length * l));
					i || (i = r.create2D(this, f, p), h = !1, u = !1), h && (i.width = f, i.height = p); var g = i.getContext("2d", { willReadFrequently: !0 });
					u && g.clearRect(0, 0, f, p), c && c(i, g); for (var m = 0; m < e.length; m++)
						for (var v = e[m], y = 0; y < v.length; y++) { var x = v[y]; "." !== x && " " !== x && (g.fillStyle = o[x], g.fillRect(y * a, m * l, a, l)) }
					return d && d(i, g), i } }, 15822: (t, e, i) => { t.exports = { GenerateTexture: i(99584), Palettes: i(57763) } }, 5290: t => { t.exports = { 0: "#000", 1: "#9D9D9D", 2: "#FFF", 3: "#BE2633", 4: "#E06F8B", 5: "#493C2B", 6: "#A46422", 7: "#EB8931", 8: "#F7E26B", 9: "#2F484E", A: "#44891A", B: "#A3CE27", C: "#1B2632", D: "#005784", E: "#31A2F2", F: "#B2DCEF" } }, 23816: t => { t.exports = { 0: "#000", 1: "#fff", 2: "#8b4131", 3: "#7bbdc5", 4: "#8b41ac", 5: "#6aac41", 6: "#3931a4", 7: "#d5de73", 8: "#945a20", 9: "#5a4100", A: "#bd736a", B: "#525252", C: "#838383", D: "#acee8b", E: "#7b73de", F: "#acacac" } }, 9866: t => { t.exports = { 0: "#000", 1: "#2234d1", 2: "#0c7e45", 3: "#44aacc", 4: "#8a3622", 5: "#5c2e78", 6: "#aa5c3d", 7: "#b5b5b5", 8: "#5e606e", 9: "#4c81fb", A: "#6cd947", B: "#7be2f9", C: "#eb8a60", D: "#e23d69", E: "#ffd93f", F: "#fff" } }, 77552: t => { t.exports = { 0: "#000", 1: "#191028", 2: "#46af45", 3: "#a1d685", 4: "#453e78", 5: "#7664fe", 6: "#833129", 7: "#9ec2e8", 8: "#dc534b", 9: "#e18d79", A: "#d6b97b", B: "#e9d8a1", C: "#216c4b", D: "#d365c8", E: "#afaab9", F: "#f5f4eb" } }, 92259: t => { t.exports = { 0: "#000", 1: "#191028", 2: "#46af45", 3: "#a1d685", 4: "#453e78", 5: "#7664fe", 6: "#833129", 7: "#9ec2e8", 8: "#dc534b", 9: "#e18d79", A: "#d6b97b", B: "#e9d8a1", C: "#216c4b", D: "#d365c8", E: "#afaab9", F: "#fff" } }, 57763: (t, e, i) => { t.exports = { ARNE16: i(5290), C64: i(23816), CGA: i(9866), JMP: i(77552), MSX: i(92259) } }, 46728: (t, e, i) => { var n = i(83419),
					r = i(36316),
					s = i(80021),
					o = i(26099),
					a = new n({ Extends: s, initialize: function(t, e, i, n) { s.call(this, "CubicBezierCurve"), Array.isArray(t) && (n = new o(t[6], t[7]), i = new o(t[4], t[5]), e = new o(t[2], t[3]), t = new o(t[0], t[1])), this.p0 = t, this.p1 = e, this.p2 = i, this.p3 = n }, getStartPoint: function(t) { return void 0 === t && (t = new o), t.copy(this.p0) }, getResolution: function(t) { return t }, getPoint: function(t, e) { void 0 === e && (e = new o); var i = this.p0,
								n = this.p1,
								s = this.p2,
								a = this.p3; return e.set(r(t, i.x, n.x, s.x, a.x), r(t, i.y, n.y, s.y, a.y)) }, draw: function(t, e) { void 0 === e && (e = 32); var i = this.getPoints(e);
							t.beginPath(), t.moveTo(this.p0.x, this.p0.y); for (var n = 1; n < i.length; n++) t.lineTo(i[n].x, i[n].y); return t.strokePath(), t }, toJSON: function() { return { type: this.type, points: [this.p0.x, this.p0.y, this.p1.x, this.p1.y, this.p2.x, this.p2.y, this.p3.x, this.p3.y] } } });
				a.fromJSON = function(t) { var e = t.points,
						i = new o(e[0], e[1]),
						n = new o(e[2], e[3]),
						r = new o(e[4], e[5]),
						s = new o(e[6], e[7]); return new a(i, n, r, s) }, t.exports = a }, 80021: (t, e, i) => { var n = i(83419),
					r = i(19217),
					s = i(87841),
					o = i(26099),
					a = new n({ initialize: function(t) { this.type = t, this.defaultDivisions = 5, this.arcLengthDivisions = 100, this.cacheArcLengths = [], this.needsUpdate = !0, this.active = !0, this._tmpVec2A = new o, this._tmpVec2B = new o }, draw: function(t, e) { return void 0 === e && (e = 32), t.strokePoints(this.getPoints(e)) }, getBounds: function(t, e) { t || (t = new s), void 0 === e && (e = 16); var i = this.getLength();
							e > i && (e = i / 2); var n = Math.max(1, Math.round(i / e)); return r(this.getSpacedPoints(n), t) }, getDistancePoints: function(t) { var e = this.getLength(),
								i = Math.max(1, e / t); return this.getSpacedPoints(i) }, getEndPoint: function(t) { return void 0 === t && (t = new o), this.getPointAt(1, t) }, getLength: function() { var t = this.getLengths(); return t[t.length - 1] }, getLengths: function(t) { if (void 0 === t && (t = this.arcLengthDivisions), this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths;
							this.needsUpdate = !1; var e, i = [],
								n = this.getPoint(0, this._tmpVec2A),
								r = 0;
							i.push(0); for (var s = 1; s <= t; s++) r += (e = this.getPoint(s / t, this._tmpVec2B)).distance(n), i.push(r), n.copy(e); return this.cacheArcLengths = i, i }, getPointAt: function(t, e) { var i = this.getUtoTmapping(t); return this.getPoint(i, e) }, getPoints: function(t, e, i) { void 0 === i && (i = []), t || (t = e ? this.getLength() / e : this.defaultDivisions); for (var n = 0; n <= t; n++) i.push(this.getPoint(n / t)); return i }, getRandomPoint: function(t) { return void 0 === t && (t = new o), this.getPoint(Math.random(), t) }, getSpacedPoints: function(t, e, i) { void 0 === i && (i = []), t || (t = e ? this.getLength() / e : this.defaultDivisions); for (var n = 0; n <= t; n++) { var r = this.getUtoTmapping(n / t, null, t);
								i.push(this.getPoint(r)) } return i }, getStartPoint: function(t) { return void 0 === t && (t = new o), this.getPointAt(0, t) }, getTangent: function(t, e) { void 0 === e && (e = new o); var i = 1e-4,
								n = t - i,
								r = t + i; return n < 0 && (n = 0), r > 1 && (r = 1), this.getPoint(n, this._tmpVec2A), this.getPoint(r, e), e.subtract(this._tmpVec2A).normalize() }, getTangentAt: function(t, e) { var i = this.getUtoTmapping(t); return this.getTangent(i, e) }, getTFromDistance: function(t, e) { return t <= 0 ? 0 : this.getUtoTmapping(0, t, e) }, getUtoTmapping: function(t, e, i) { var n, r = this.getLengths(i),
								s = 0,
								o = r.length;
							n = e ? Math.min(e, r[o - 1]) : t * r[o - 1]; for (var a, l = 0, h = o - 1; l <= h;)
								if ((a = r[s = Math.floor(l + (h - l) / 2)] - n) < 0) l = s + 1;
								else { if (!(a > 0)) { h = s; break } h = s - 1 } if (r[s = h] === n) return s / (o - 1); var u = r[s]; return (s + (n - u) / (r[s + 1] - u)) / (o - 1) }, updateArcLengths: function() { this.needsUpdate = !0, this.getLengths() } });
				t.exports = a }, 73825: (t, e, i) => { var n = i(83419),
					r = i(80021),
					s = i(39506),
					o = i(35154),
					a = i(43396),
					l = i(26099),
					h = new n({ Extends: r, initialize: function(t, e, i, n, a, h, u, c) { if ("object" == typeof t) { var d = t;
								t = o(d, "x", 0), e = o(d, "y", 0), i = o(d, "xRadius", 0), n = o(d, "yRadius", i), a = o(d, "startAngle", 0), h = o(d, "endAngle", 360), u = o(d, "clockwise", !1), c = o(d, "rotation", 0) } else void 0 === n && (n = i), void 0 === a && (a = 0), void 0 === h && (h = 360), void 0 === u && (u = !1), void 0 === c && (c = 0);
							r.call(this, "EllipseCurve"), this.p0 = new l(t, e), this._xRadius = i, this._yRadius = n, this._startAngle = s(a), this._endAngle = s(h), this._clockwise = u, this._rotation = s(c) }, getStartPoint: function(t) { return void 0 === t && (t = new l), this.getPoint(0, t) }, getResolution: function(t) { return 2 * t }, getPoint: function(t, e) { void 0 === e && (e = new l); for (var i = 2 * Math.PI, n = this._endAngle - this._startAngle, r = Math.abs(n) < Number.EPSILON; n < 0;) n += i; for (; n > i;) n -= i;
							n < Number.EPSILON && (n = r ? 0 : i), this._clockwise && !r && (n === i ? n = -i : n -= i); var s = this._startAngle + t * n,
								o = this.p0.x + this._xRadius * Math.cos(s),
								a = this.p0.y + this._yRadius * Math.sin(s); if (0 !== this._rotation) { var h = Math.cos(this._rotation),
									u = Math.sin(this._rotation),
									c = o - this.p0.x,
									d = a - this.p0.y;
								o = c * h - d * u + this.p0.x, a = c * u + d * h + this.p0.y } return e.set(o, a) }, setXRadius: function(t) { return this.xRadius = t, this }, setYRadius: function(t) { return this.yRadius = t, this }, setWidth: function(t) { return this.xRadius = t / 2, this }, setHeight: function(t) { return this.yRadius = t / 2, this }, setStartAngle: function(t) { return this.startAngle = t, this }, setEndAngle: function(t) { return this.endAngle = t, this }, setClockwise: function(t) { return this.clockwise = t, this }, setRotation: function(t) { return this.rotation = t, this }, x: { get: function() { return this.p0.x }, set: function(t) { this.p0.x = t } }, y: { get: function() { return this.p0.y }, set: function(t) { this.p0.y = t } }, xRadius: { get: function() { return this._xRadius }, set: function(t) { this._xRadius = t } }, yRadius: { get: function() { return this._yRadius }, set: function(t) { this._yRadius = t } }, startAngle: { get: function() { return a(this._startAngle) }, set: function(t) { this._startAngle = s(t) } }, endAngle: { get: function() { return a(this._endAngle) }, set: function(t) { this._endAngle = s(t) } }, clockwise: { get: function() { return this._clockwise }, set: function(t) { this._clockwise = t } }, angle: { get: function() { return a(this._rotation) }, set: function(t) { this._rotation = s(t) } }, rotation: { get: function() { return this._rotation }, set: function(t) { this._rotation = t } }, toJSON: function() { return { type: this.type, x: this.p0.x, y: this.p0.y, xRadius: this._xRadius, yRadius: this._yRadius, startAngle: a(this._startAngle), endAngle: a(this._endAngle), clockwise: this._clockwise, rotation: a(this._rotation) } } });
				h.fromJSON = function(t) { return new h(t) }, t.exports = h }, 33951: (t, e, i) => { var n = i(83419),
					r = i(80021),
					s = i(19217),
					o = i(87841),
					a = i(26099),
					l = new n({ Extends: r, initialize: function(t, e) { r.call(this, "LineCurve"), Array.isArray(t) && (e = new a(t[2], t[3]), t = new a(t[0], t[1])), this.p0 = t, this.p1 = e, this.arcLengthDivisions = 1 }, getBounds: function(t) { return void 0 === t && (t = new o), s([this.p0, this.p1], t) }, getStartPoint: function(t) { return void 0 === t && (t = new a), t.copy(this.p0) }, getResolution: function(t) { return void 0 === t && (t = 1), t }, getPoint: function(t, e) { return void 0 === e && (e = new a), 1 === t ? e.copy(this.p1) : (e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0), e) }, getPointAt: function(t, e) { return this.getPoint(t, e) }, getTangent: function(t, e) { return void 0 === e && (e = new a), e.copy(this.p1).subtract(this.p0).normalize(), e }, getUtoTmapping: function(t, e, i) { var n; if (e) { var r = this.getLengths(i),
									s = r[r.length - 1];
								n = Math.min(e, s) / s } else n = t; return n }, draw: function(t) { return t.lineBetween(this.p0.x, this.p0.y, this.p1.x, this.p1.y), t }, toJSON: function() { return { type: this.type, points: [this.p0.x, this.p0.y, this.p1.x, this.p1.y] } } });
				l.fromJSON = function(t) { var e = t.points,
						i = new a(e[0], e[1]),
						n = new a(e[2], e[3]); return new l(i, n) }, t.exports = l }, 14744: (t, e, i) => { var n = i(83419),
					r = i(80021),
					s = i(32112),
					o = i(26099),
					a = new n({ Extends: r, initialize: function(t, e, i) { r.call(this, "QuadraticBezierCurve"), Array.isArray(t) && (i = new o(t[4], t[5]), e = new o(t[2], t[3]), t = new o(t[0], t[1])), this.p0 = t, this.p1 = e, this.p2 = i }, getStartPoint: function(t) { return void 0 === t && (t = new o), t.copy(this.p0) }, getResolution: function(t) { return t }, getPoint: function(t, e) { void 0 === e && (e = new o); var i = this.p0,
								n = this.p1,
								r = this.p2; return e.set(s(t, i.x, n.x, r.x), s(t, i.y, n.y, r.y)) }, draw: function(t, e) { void 0 === e && (e = 32); var i = this.getPoints(e);
							t.beginPath(), t.moveTo(this.p0.x, this.p0.y); for (var n = 1; n < i.length; n++) t.lineTo(i[n].x, i[n].y); return t.strokePath(), t }, toJSON: function() { return { type: this.type, points: [this.p0.x, this.p0.y, this.p1.x, this.p1.y, this.p2.x, this.p2.y] } } });
				a.fromJSON = function(t) { var e = t.points,
						i = new o(e[0], e[1]),
						n = new o(e[2], e[3]),
						r = new o(e[4], e[5]); return new a(i, n, r) }, t.exports = a }, 42534: (t, e, i) => { var n = i(87842),
					r = i(83419),
					s = i(80021),
					o = i(26099),
					a = new r({ Extends: s, initialize: function(t) { void 0 === t && (t = []), s.call(this, "SplineCurve"), this.points = [], this.addPoints(t) }, addPoints: function(t) { for (var e = 0; e < t.length; e++) { var i = new o; "number" == typeof t[e] ? (i.x = t[e], i.y = t[e + 1], e++) : Array.isArray(t[e]) ? (i.x = t[e][0], i.y = t[e][1]) : (i.x = t[e].x, i.y = t[e].y), this.points.push(i) } return this }, addPoint: function(t, e) { var i = new o(t, e); return this.points.push(i), i }, getStartPoint: function(t) { return void 0 === t && (t = new o), t.copy(this.points[0]) }, getResolution: function(t) { return t * this.points.length }, getPoint: function(t, e) { void 0 === e && (e = new o); var i = this.points,
								r = (i.length - 1) * t,
								s = Math.floor(r),
								a = r - s,
								l = i[0 === s ? s : s - 1],
								h = i[s],
								u = i[s > i.length - 2 ? i.length - 1 : s + 1],
								c = i[s > i.length - 3 ? i.length - 1 : s + 2]; return e.set(n(a, l.x, h.x, u.x, c.x), n(a, l.y, h.y, u.y, c.y)) }, toJSON: function() { for (var t = [], e = 0; e < this.points.length; e++) t.push(this.points[e].x), t.push(this.points[e].y); return { type: this.type, points: t } } });
				a.fromJSON = function(t) { return new a(t.points) }, t.exports = a }, 25410: (t, e, i) => { t.exports = { Path: i(46669), MoveTo: i(68618), CubicBezier: i(46728), Curve: i(80021), Ellipse: i(73825), Line: i(33951), QuadraticBezier: i(14744), Spline: i(42534) } }, 68618: (t, e, i) => { var n = i(83419),
					r = i(26099),
					s = new n({ initialize: function(t, e) { this.active = !1, this.p0 = new r(t, e) }, getPoint: function(t, e) { return void 0 === e && (e = new r), e.copy(this.p0) }, getPointAt: function(t, e) { return this.getPoint(t, e) }, getResolution: function() { return 1 }, getLength: function() { return 0 }, toJSON: function() { return { type: "MoveTo", points: [this.p0.x, this.p0.y] } } });
				t.exports = s }, 46669: (t, e, i) => { var n = i(83419),
					r = i(46728),
					s = i(73825),
					o = i(39429),
					a = i(33951),
					l = i(68618),
					h = i(14744),
					u = i(87841),
					c = i(42534),
					d = i(26099),
					f = i(36383),
					p = new n({ initialize: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = 0), this.name = "", this.defaultDivisions = 12, this.curves = [], this.cacheLengths = [], this.autoClose = !1, this.startPoint = new d, this._tmpVec2A = new d, this._tmpVec2B = new d, "object" == typeof t ? this.fromJSON(t) : this.startPoint.set(t, e) }, add: function(t) { return this.curves.push(t), this }, circleTo: function(t, e, i) { return void 0 === e && (e = !1), this.ellipseTo(t, t, 0, 360, e, i) }, closePath: function() { var t = this.curves[0].getPoint(0),
								e = this.curves[this.curves.length - 1].getPoint(1); return t.equals(e) || this.curves.push(new a(e, t)), this }, cubicBezierTo: function(t, e, i, n, s, o) { var a, l, h, u = this.getEndPoint(); return t instanceof d ? (a = t, l = e, h = i) : (a = new d(i, n), l = new d(s, o), h = new d(t, e)), this.add(new r(u, a, l, h)) }, quadraticBezierTo: function(t, e, i, n) { var r, s, o = this.getEndPoint(); return t instanceof d ? (r = t, s = e) : (r = new d(i, n), s = new d(t, e)), this.add(new h(o, r, s)) }, draw: function(t, e) { for (var i = 0; i < this.curves.length; i++) { var n = this.curves[i];
								n.active && n.draw(t, e) } return t }, ellipseTo: function(t, e, i, n, r, o) { var a = new s(0, 0, t, e, i, n, r, o),
								l = this.getEndPoint(this._tmpVec2A),
								h = a.getStartPoint(this._tmpVec2B); return l.subtract(h), a.x = l.x, a.y = l.y, this.add(a) }, fromJSON: function(t) { this.curves = [], this.cacheLengths = [], this.startPoint.set(t.x, t.y), this.autoClose = t.autoClose; for (var e = 0; e < t.curves.length; e++) { var i = t.curves[e]; switch (i.type) {
									case "LineCurve":
										this.add(a.fromJSON(i)); break;
									case "EllipseCurve":
										this.add(s.fromJSON(i)); break;
									case "SplineCurve":
										this.add(c.fromJSON(i)); break;
									case "CubicBezierCurve":
										this.add(r.fromJSON(i)); break;
									case "QuadraticBezierCurve":
										this.add(h.fromJSON(i)) } } return this }, getBounds: function(t, e) { void 0 === t && (t = new u), void 0 === e && (e = 16), t.x = Number.MAX_VALUE, t.y = Number.MAX_VALUE; for (var i = new u, n = f.MIN_SAFE_INTEGER, r = f.MIN_SAFE_INTEGER, s = 0; s < this.curves.length; s++) { var o = this.curves[s];
								o.active && (o.getBounds(i, e), t.x = Math.min(t.x, i.x), t.y = Math.min(t.y, i.y), n = Math.max(n, i.right), r = Math.max(r, i.bottom)) } return t.right = n, t.bottom = r, t }, getCurveLengths: function() { if (this.cacheLengths.length === this.curves.length) return this.cacheLengths; for (var t = [], e = 0, i = 0; i < this.curves.length; i++) e += this.curves[i].getLength(), t.push(e); return this.cacheLengths = t, t }, getCurveAt: function(t) { for (var e = t * this.getLength(), i = this.getCurveLengths(), n = 0; n < i.length;) { if (i[n] >= e) return this.curves[n];
								n++ } return null }, getEndPoint: function(t) { return void 0 === t && (t = new d), this.curves.length > 0 ? this.curves[this.curves.length - 1].getPoint(1, t) : t.copy(this.startPoint), t }, getLength: function() { var t = this.getCurveLengths(); return t[t.length - 1] }, getPoint: function(t, e) { void 0 === e && (e = new d); for (var i = t * this.getLength(), n = this.getCurveLengths(), r = 0; r < n.length;) { if (n[r] >= i) { var s = n[r] - i,
										o = this.curves[r],
										a = o.getLength(),
										l = 0 === a ? 0 : 1 - s / a; return o.getPointAt(l, e) } r++ } return null }, getPoints: function(t, e) { t || e || (t = this.defaultDivisions); for (var i, n = [], r = 0; r < this.curves.length; r++) { var s = this.curves[r]; if (s.active)
									for (var o = s.getResolution(t), a = s.getPoints(o, e), l = 0; l < a.length; l++) { var h = a[l];
										i && i.equals(h) || (n.push(h), i = h) } } return this.autoClose && n.length > 1 && !n[n.length - 1].equals(n[0]) && n.push(n[0]), n }, getRandomPoint: function(t) { return void 0 === t && (t = new d), this.getPoint(Math.random(), t) }, getSpacedPoints: function(t) { void 0 === t && (t = 40); for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t)); return this.autoClose && e.push(e[0]), e }, getStartPoint: function(t) { return void 0 === t && (t = new d), t.copy(this.startPoint) }, getTangent: function(t, e) { void 0 === e && (e = new d); for (var i = t * this.getLength(), n = this.getCurveLengths(), r = 0; r < n.length;) { if (n[r] >= i) { var s = n[r] - i,
										o = this.curves[r],
										a = o.getLength(),
										l = 0 === a ? 0 : 1 - s / a; return o.getTangentAt(l, e) } r++ } return null }, lineTo: function(t, e) { t instanceof d ? this._tmpVec2B.copy(t) : "object" == typeof t ? this._tmpVec2B.setFromObject(t) : this._tmpVec2B.set(t, e); var i = this.getEndPoint(this._tmpVec2A); return this.add(new a([i.x, i.y, this._tmpVec2B.x, this._tmpVec2B.y])) }, splineTo: function(t) { return t.unshift(this.getEndPoint()), this.add(new c(t)) }, moveTo: function(t, e) { return t instanceof d ? this.add(new l(t.x, t.y)) : this.add(new l(t, e)) }, toJSON: function() { for (var t = [], e = 0; e < this.curves.length; e++) t.push(this.curves[e].toJSON()); return { type: "Path", x: this.startPoint.x, y: this.startPoint.y, autoClose: this.autoClose, curves: t } }, updateArcLengths: function() { this.cacheLengths = [], this.getCurveLengths() }, destroy: function() { this.curves.length = 0, this.cacheLengths.length = 0, this.startPoint = void 0 } });
				o.register("path", (function(t, e) { return new p(t, e) })), t.exports = p }, 45893: (t, e, i) => { var n = i(83419),
					r = i(24882),
					s = new n({ initialize: function(t, e) { this.parent = t, this.events = e, e || (this.events = t.events ? t.events : t), this.list = {}, this.values = {}, this._frozen = !1, !t.hasOwnProperty("sys") && this.events && this.events.once(r.DESTROY, this.destroy, this) }, get: function(t) { var e = this.list; if (Array.isArray(t)) { for (var i = [], n = 0; n < t.length; n++) i.push(e[t[n]]); return i } return e[t] }, getAll: function() { var t = {}; for (var e in this.list) this.list.hasOwnProperty(e) && (t[e] = this.list[e]); return t }, query: function(t) { var e = {}; for (var i in this.list) this.list.hasOwnProperty(i) && i.match(t) && (e[i] = this.list[i]); return e }, set: function(t, e) { if (this._frozen) return this; if ("string" == typeof t) return this.setValue(t, e); for (var i in t) this.setValue(i, t[i]); return this }, inc: function(t, e) { if (this._frozen) return this;
							void 0 === e && (e = 1); var i = this.get(t); return void 0 === i && (i = 0), this.set(t, i + e), this }, toggle: function(t) { return this._frozen || this.set(t, !this.get(t)), this }, setValue: function(t, e) { if (this._frozen) return this; if (this.has(t)) this.values[t] = e;
							else { var i = this,
									n = this.list,
									s = this.events,
									o = this.parent;
								Object.defineProperty(this.values, t, { enumerable: !0, configurable: !0, get: function() { return n[t] }, set: function(e) { if (!i._frozen) { var a = n[t];
											n[t] = e, s.emit(r.CHANGE_DATA, o, t, e, a), s.emit(r.CHANGE_DATA_KEY + t, o, e, a) } } }), n[t] = e, s.emit(r.SET_DATA, o, t, e) } return this }, each: function(t, e) { for (var i = [this.parent, null, void 0], n = 1; n < arguments.length; n++) i.push(arguments[n]); for (var r in this.list) i[1] = r, i[2] = this.list[r], t.apply(e, i); return this }, merge: function(t, e) { for (var i in void 0 === e && (e = !0), t) t.hasOwnProperty(i) && (e || !e && !this.has(i)) && this.setValue(i, t[i]); return this }, remove: function(t) { if (this._frozen) return this; if (!Array.isArray(t)) return this.removeValue(t); for (var e = 0; e < t.length; e++) this.removeValue(t[e]); return this }, removeValue: function(t) { if (this.has(t)) { var e = this.list[t];
								delete this.list[t], delete this.values[t], this.events.emit(r.REMOVE_DATA, this.parent, t, e) } return this }, pop: function(t) { var e = void 0; return !this._frozen && this.has(t) && (e = this.list[t], delete this.list[t], delete this.values[t], this.events.emit(r.REMOVE_DATA, this.parent, t, e)), e }, has: function(t) { return this.list.hasOwnProperty(t) }, setFreeze: function(t) { return this._frozen = t, this }, reset: function() { for (var t in this.list) delete this.list[t], delete this.values[t]; return this._frozen = !1, this }, destroy: function() { this.reset(), this.events.off(r.CHANGE_DATA), this.events.off(r.SET_DATA), this.events.off(r.REMOVE_DATA), this.parent = null }, freeze: { get: function() { return this._frozen }, set: function(t) { this._frozen = !!t } }, count: { get: function() { var t = 0; for (var e in this.list) void 0 !== this.list[e] && t++; return t } } });
				t.exports = s }, 63646: (t, e, i) => { var n = i(83419),
					r = i(45893),
					s = i(37277),
					o = i(44594),
					a = new n({ Extends: r, initialize: function(t) { r.call(this, t, t.sys.events), this.scene = t, this.systems = t.sys, t.sys.events.once(o.BOOT, this.boot, this), t.sys.events.on(o.START, this.start, this) }, boot: function() { this.events = this.systems.events, this.events.once(o.DESTROY, this.destroy, this) }, start: function() { this.events.once(o.SHUTDOWN, this.shutdown, this) }, shutdown: function() { this.systems.events.off(o.SHUTDOWN, this.shutdown, this) }, destroy: function() { r.prototype.destroy.call(this), this.events.off(o.START, this.start, this), this.scene = null, this.systems = null } });
				s.register("DataManagerPlugin", a, "data"), t.exports = a }, 10700: t => { t.exports = "changedata" }, 93608: t => { t.exports = "changedata-" }, 60883: t => { t.exports = "destroy" }, 69780: t => { t.exports = "removedata" }, 22166: t => { t.exports = "setdata" }, 24882: (t, e, i) => { t.exports = { CHANGE_DATA: i(10700), CHANGE_DATA_KEY: i(93608), DESTROY: i(60883), REMOVE_DATA: i(69780), SET_DATA: i(22166) } }, 44965: (t, e, i) => { t.exports = { DataManager: i(45893), DataManagerPlugin: i(63646), Events: i(24882) } }, 7098: (t, e, i) => { var n = i(84148),
					r = { flac: !1, aac: !1, audioData: !1, dolby: !1, m4a: !1, mp3: !1, ogg: !1, opus: !1, wav: !1, webAudio: !1, webm: !1 };
				t.exports = function() { if ("function" == typeof importScripts) return r;
					r.audioData = !!window.Audio, r.webAudio = !(!window.AudioContext && !window.webkitAudioContext); var t = document.createElement("audio"),
						e = !!t.canPlayType; try { if (e) { var i = function(e, i) { var n = t.canPlayType("audio/" + e).replace(/^no$/, ""); return i ? Boolean(n || t.canPlayType("audio/" + i).replace(/^no$/, "")) : Boolean(n) }; if (r.ogg = i('ogg; codecs="vorbis"'), r.opus = i('ogg; codecs="opus"', "opus"), r.mp3 = i("mpeg"), r.wav = i("wav"), r.m4a = i("x-m4a"), r.aac = i("aac"), r.flac = i("flac", "x-flac"), r.webm = i('webm; codecs="vorbis"'), "" !== t.canPlayType('audio/mp4; codecs="ec-3"'))
								if (n.edge) r.dolby = !0;
								else if (n.safari && n.safariVersion >= 9 && /Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)) { var s = parseInt(RegExp.$1, 10),
									o = parseInt(RegExp.$2, 10);
								(10 === s && o >= 11 || s > 10) && (r.dolby = !0) } } } catch (a) {} return r }() }, 84148: (t, e, i) => { var n, r = i(25892),
					s = { chrome: !1, chromeVersion: 0, edge: !1, firefox: !1, firefoxVersion: 0, ie: !1, ieVersion: 0, mobileSafari: !1, opera: !1, safari: !1, safariVersion: 0, silk: !1, trident: !1, tridentVersion: 0, es2019: !1 };
				t.exports = (n = navigator.userAgent, /Edg\/\d+/.test(n) ? (s.edge = !0, s.es2019 = !0) : /OPR/.test(n) ? (s.opera = !0, s.es2019 = !0) : /Chrome\/(\d+)/.test(n) && !r.windowsPhone ? (s.chrome = !0, s.chromeVersion = parseInt(RegExp.$1, 10), s.es2019 = s.chromeVersion > 69) : /Firefox\D+(\d+)/.test(n) ? (s.firefox = !0, s.firefoxVersion = parseInt(RegExp.$1, 10), s.es2019 = s.firefoxVersion > 10) : /AppleWebKit\/(?!.*CriOS)/.test(n) && r.iOS ? (s.mobileSafari = !0, s.es2019 = !0) : /MSIE (\d+\.\d+);/.test(n) ? (s.ie = !0, s.ieVersion = parseInt(RegExp.$1, 10)) : /Version\/(\d+\.\d+(\.\d+)?) Safari/.test(n) && !r.windowsPhone ? (s.safari = !0, s.safariVersion = parseInt(RegExp.$1, 10), s.es2019 = s.safariVersion > 10) : /Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(n) && (s.ie = !0, s.trident = !0, s.tridentVersion = parseInt(RegExp.$1, 10), s.ieVersion = parseInt(RegExp.$3, 10)), /Silk/.test(n) && (s.silk = !0), s) }, 89289: (t, e, i) => { var n, r, s, o = i(27919),
					a = { supportInverseAlpha: !1, supportNewBlendModes: !1 };
				t.exports = ("function" != typeof importScripts && void 0 !== document && (a.supportNewBlendModes = (n = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/", r = "AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==", (s = new Image).onload = function() { var t = new Image;
					t.onload = function() { var e = o.create2D(t, 6).getContext("2d", { willReadFrequently: !0 }); if (e.globalCompositeOperation = "multiply", e.drawImage(s, 0, 0), e.drawImage(t, 2, 0), !e.getImageData(2, 0, 1, 1)) return !1; var i = e.getImageData(2, 0, 1, 1).data;
						o.remove(t), a.supportNewBlendModes = 255 === i[0] && 0 === i[1] && 0 === i[2] }, t.src = n + "/wCKxvRF" + r }, s.src = n + "AP804Oa6" + r, !1), a.supportInverseAlpha = function() { var t = o.create2D(this, 2).getContext("2d", { willReadFrequently: !0 });
					t.fillStyle = "rgba(10, 20, 30, 0.5)", t.fillRect(0, 0, 1, 1); var e = t.getImageData(0, 0, 1, 1); if (null === e) return !1;
					t.putImageData(e, 1, 0); var i = t.getImageData(1, 0, 1, 1),
						n = i.data[0] === e.data[0] && i.data[1] === e.data[1] && i.data[2] === e.data[2] && i.data[3] === e.data[3]; return o.remove(this), n }()), a) }, 89357: (t, e, i) => { var n = i(25892),
					r = i(84148),
					s = i(27919),
					o = { canvas: !1, canvasBitBltShift: null, file: !1, fileSystem: !1, getUserMedia: !0, littleEndian: !1, localStorage: !1, pointerLock: !1, stableSort: !1, support32bit: !1, vibration: !1, webGL: !1, worker: !1 };
				t.exports = function() { if ("function" == typeof importScripts) return o;
					o.canvas = !!window.CanvasRenderingContext2D; try { o.localStorage = !!localStorage.getItem } catch (l) { o.localStorage = !1 } o.file = !!(window.File && window.FileReader && window.FileList && window.Blob), o.fileSystem = !!window.requestFileSystem; var t, e, i, a = !1; return o.webGL = function() { if (window.WebGLRenderingContext) try { var t = s.createWebGL(this),
								e = t.getContext("webgl") || t.getContext("experimental-webgl"),
								i = s.create2D(this),
								n = i.getContext("2d", { willReadFrequently: !0 }).createImageData(1, 1); return a = n.data instanceof Uint8ClampedArray, s.remove(t), s.remove(i), !!e } catch (r) { return !1 }
						return !1 }(), o.worker = !!window.Worker, o.pointerLock = "pointerLockElement" in document || "mozPointerLockElement" in document || "webkitPointerLockElement" in document, navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia, window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL, o.getUserMedia = o.getUserMedia && !!navigator.getUserMedia && !!window.URL, r.firefox && r.firefoxVersion < 21 && (o.getUserMedia = !1), !n.iOS && (r.ie || r.firefox || r.chrome) && (o.canvasBitBltShift = !0), (r.safari || r.mobileSafari) && (o.canvasBitBltShift = !1), navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate, navigator.vibrate && (o.vibration = !0), "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array && "undefined" != typeof Uint32Array && (o.littleEndian = (t = new ArrayBuffer(4), e = new Uint8Array(t), i = new Uint32Array(t), e[0] = 161, e[1] = 178, e[2] = 195, e[3] = 212, 3569595041 === i[0] || 2712847316 !== i[0] && null)), o.support32bit = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8ClampedArray && "undefined" != typeof Int32Array && null !== o.littleEndian && a, o }() }, 91639: t => { var e = { available: !1, cancel: "", keyboard: !1, request: "" };
				t.exports = function() { if ("function" == typeof importScripts) return e; var t, i = "Fullscreen",
						n = "FullScreen",
						r = ["request" + i, "request" + n, "webkitRequest" + i, "webkitRequest" + n, "msRequest" + i, "msRequest" + n, "mozRequest" + n, "mozRequest" + i]; for (t = 0; t < r.length; t++)
						if (document.documentElement[r[t]]) { e.available = !0, e.request = r[t]; break } var s = ["cancel" + n, "exit" + i, "webkitCancel" + n, "webkitExit" + i, "msCancel" + n, "msExit" + i, "mozCancel" + n, "mozExit" + i]; if (e.available)
						for (t = 0; t < s.length; t++)
							if (document[s[t]]) { e.cancel = s[t]; break } return window.Element && Element.ALLOW_KEYBOARD_INPUT && !/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent) && (e.keyboard = !0), Object.defineProperty(e, "active", { get: function() { return !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) } }), e }() }, 31784: (t, e, i) => { var n = i(84148),
					r = { gamepads: !1, mspointer: !1, touch: !1, wheelEvent: null };
				t.exports = ("function" == typeof importScripts || (("ontouchstart" in document.documentElement || navigator.maxTouchPoints && navigator.maxTouchPoints >= 1) && (r.touch = !0), (navigator.msPointerEnabled || navigator.pointerEnabled) && (r.mspointer = !0), navigator.getGamepads && (r.gamepads = !0), "onwheel" in window || n.ie && "WheelEvent" in window ? r.wheelEvent = "wheel" : "onmousewheel" in window ? r.wheelEvent = "mousewheel" : n.firefox && "MouseScrollEvent" in window && (r.wheelEvent = "DOMMouseScroll")), r) }, 25892: t => { var e = { android: !1, chromeOS: !1, cordova: !1, crosswalk: !1, desktop: !1, ejecta: !1, electron: !1, iOS: !1, iOSVersion: 0, iPad: !1, iPhone: !1, kindle: !1, linux: !1, macOS: !1, node: !1, nodeWebkit: !1, pixelRatio: 1, webApp: !1, windows: !1, windowsPhone: !1 };
				t.exports = function() { if ("function" == typeof importScripts) return e; var t = navigator.userAgent; /Windows/.test(t) ? e.windows = !0 : /Mac OS/.test(t) && !/like Mac OS/.test(t) ? navigator.maxTouchPoints && navigator.maxTouchPoints > 2 ? (e.iOS = !0, e.iPad = !0, navigator.appVersion.match(/Version\/(\d+)/), e.iOSVersion = parseInt(RegExp.$1, 10)) : e.macOS = !0 : /Android/.test(t) ? e.android = !0 : /Linux/.test(t) ? e.linux = !0 : /iP[ao]d|iPhone/i.test(t) ? (e.iOS = !0, navigator.appVersion.match(/OS (\d+)/), e.iOSVersion = parseInt(RegExp.$1, 10), e.iPhone = -1 !== t.toLowerCase().indexOf("iphone"), e.iPad = -1 !== t.toLowerCase().indexOf("ipad")) : /Kindle/.test(t) || /\bKF[A-Z][A-Z]+/.test(t) || /Silk.*Mobile Safari/.test(t) ? e.kindle = !0 : /CrOS/.test(t) && (e.chromeOS = !0), (/Windows Phone/i.test(t) || /IEMobile/i.test(t)) && (e.android = !1, e.iOS = !1, e.macOS = !1, e.windows = !0, e.windowsPhone = !0); var i = /Silk/.test(t); return (e.windows || e.macOS || e.linux && !i || e.chromeOS) && (e.desktop = !0), (e.windowsPhone || /Windows NT/i.test(t) && /Touch/i.test(t)) && (e.desktop = !1), navigator.standalone && (e.webApp = !0), "function" != typeof importScripts && (void 0 !== window.cordova && (e.cordova = !0), void 0 !== window.ejecta && (e.ejecta = !0)), "undefined" != typeof process && process.versions && process.versions.node && (e.node = !0), e.node && "object" == typeof process.versions && (e.nodeWebkit = !!process.versions["node-webkit"], e.electron = !!process.versions.electron), /Crosswalk/.test(t) && (e.crosswalk = !0), e.pixelRatio = window.devicePixelRatio || 1, e }() }, 43267: (t, e, i) => { var n = i(95540),
					r = { h264: !1, hls: !1, mp4: !1, m4v: !1, ogg: !1, vp9: !1, webm: !1, hasRequestVideoFrame: !1 };
				t.exports = function() { if ("function" == typeof importScripts) return r; var t = document.createElement("video"),
						e = !!t.canPlayType,
						i = /^no$/; try { e && (t.canPlayType('video/ogg; codecs="theora"').replace(i, "") && (r.ogg = !0), t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i, "") && (r.h264 = !0, r.mp4 = !0), t.canPlayType("video/x-m4v").replace(i, "") && (r.m4v = !0), t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i, "") && (r.webm = !0), t.canPlayType('video/webm; codecs="vp9"').replace(i, "") && (r.vp9 = !0), t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i, "") && (r.hls = !0)) } catch (s) {} return t.parentNode && t.parentNode.removeChild(t), r.getVideoURL = function(t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i, s = n(t[e], "url", t[e]); if (0 === s.indexOf("blob:")) return { url: s, type: "" }; if (i = 0 === s.indexOf("data:") ? s.split(",")[0].match(/\/(.*?);/) : s.match(/\.([a-zA-Z0-9]+)($|\?)/), i = n(t[e], "type", i ? i[1] : "").toLowerCase(), r[i]) return { url: s, type: i } } return null }, r }() }, 82264: (t, e, i) => { t.exports = { os: i(25892), browser: i(84148), features: i(89357), input: i(31784), audio: i(7098), video: i(43267), fullscreen: i(91639), canvasFeatures: i(89289) } }, 89422: (t, e, i) => { var n = i(83419),
					r = new Float32Array(20),
					s = new n({ initialize: function() { this._matrix = new Float32Array(20), this.alpha = 1, this._dirty = !0, this._data = new Float32Array(20), this.reset() }, set: function(t) { return this._matrix.set(t), this._dirty = !0, this }, reset: function() { var t = this._matrix; return t.fill(0), t[0] = 1, t[6] = 1, t[12] = 1, t[18] = 1, this.alpha = 1, this._dirty = !0, this }, getData: function() { var t = this._data; return this._dirty && (t.set(this._matrix), t[4] /= 255, t[9] /= 255, t[14] /= 255, t[19] /= 255, this._dirty = !1), t }, brightness: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = !1); var i = t; return this.multiply([i, 0, 0, 0, 0, 0, i, 0, 0, 0, 0, 0, i, 0, 0, 0, 0, 0, 1, 0], e) }, saturate: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = !1); var i = 2 * t / 3 + 1,
								n = -.5 * (i - 1); return this.multiply([i, n, n, 0, 0, n, i, n, 0, 0, n, n, i, 0, 0, 0, 0, 0, 1, 0], e) }, desaturate: function(t) { return void 0 === t && (t = !1), this.saturate(-1, t) }, hue: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = !1), t = t / 180 * Math.PI; var i = Math.cos(t),
								n = Math.sin(t),
								r = .213,
								s = .715,
								o = .072; return this.multiply([r + .787 * i + n * -r, s + i * -s + n * -s, o + i * -o + .928 * n, 0, 0, r + i * -r + .143 * n, s + i * (1 - s) + .14 * n, o + i * -o + -.283 * n, 0, 0, r + i * -r + -.787 * n, s + i * -s + n * s, o + .928 * i + n * o, 0, 0, 0, 0, 0, 1, 0], e) }, grayscale: function(t, e) { return void 0 === t && (t = 1), void 0 === e && (e = !1), this.saturate(-t, e) }, blackWhite: function(t) { return void 0 === t && (t = !1), this.multiply(s.BLACK_WHITE, t) }, contrast: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = !1); var i = t + 1,
								n = -.5 * (i - 1); return this.multiply([i, 0, 0, 0, n, 0, i, 0, 0, n, 0, 0, i, 0, n, 0, 0, 0, 1, 0], e) }, negative: function(t) { return void 0 === t && (t = !1), this.multiply(s.NEGATIVE, t) }, desaturateLuminance: function(t) { return void 0 === t && (t = !1), this.multiply(s.DESATURATE_LUMINANCE, t) }, sepia: function(t) { return void 0 === t && (t = !1), this.multiply(s.SEPIA, t) }, night: function(t, e) { return void 0 === t && (t = .1), void 0 === e && (e = !1), this.multiply([-2 * t, -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0], e) }, lsd: function(t) { return void 0 === t && (t = !1), this.multiply(s.LSD, t) }, brown: function(t) { return void 0 === t && (t = !1), this.multiply(s.BROWN, t) }, vintagePinhole: function(t) { return void 0 === t && (t = !1), this.multiply(s.VINTAGE, t) }, kodachrome: function(t) { return void 0 === t && (t = !1), this.multiply(s.KODACHROME, t) }, technicolor: function(t) { return void 0 === t && (t = !1), this.multiply(s.TECHNICOLOR, t) }, polaroid: function(t) { return void 0 === t && (t = !1), this.multiply(s.POLAROID, t) }, shiftToBGR: function(t) { return void 0 === t && (t = !1), this.multiply(s.SHIFT_BGR, t) }, multiply: function(t, e) { void 0 === e && (e = !1), e || this.reset(); var i = this._matrix,
								n = r; return n.set(i), i.set([n[0] * t[0] + n[1] * t[5] + n[2] * t[10] + n[3] * t[15], n[0] * t[1] + n[1] * t[6] + n[2] * t[11] + n[3] * t[16], n[0] * t[2] + n[1] * t[7] + n[2] * t[12] + n[3] * t[17], n[0] * t[3] + n[1] * t[8] + n[2] * t[13] + n[3] * t[18], n[0] * t[4] + n[1] * t[9] + n[2] * t[14] + n[3] * t[19] + n[4], n[5] * t[0] + n[6] * t[5] + n[7] * t[10] + n[8] * t[15], n[5] * t[1] + n[6] * t[6] + n[7] * t[11] + n[8] * t[16], n[5] * t[2] + n[6] * t[7] + n[7] * t[12] + n[8] * t[17], n[5] * t[3] + n[6] * t[8] + n[7] * t[13] + n[8] * t[18], n[5] * t[4] + n[6] * t[9] + n[7] * t[14] + n[8] * t[19] + n[9], n[10] * t[0] + n[11] * t[5] + n[12] * t[10] + n[13] * t[15], n[10] * t[1] + n[11] * t[6] + n[12] * t[11] + n[13] * t[16], n[10] * t[2] + n[11] * t[7] + n[12] * t[12] + n[13] * t[17], n[10] * t[3] + n[11] * t[8] + n[12] * t[13] + n[13] * t[18], n[10] * t[4] + n[11] * t[9] + n[12] * t[14] + n[13] * t[19] + n[14], n[15] * t[0] + n[16] * t[5] + n[17] * t[10] + n[18] * t[15], n[15] * t[1] + n[16] * t[6] + n[17] * t[11] + n[18] * t[16], n[15] * t[2] + n[16] * t[7] + n[17] * t[12] + n[18] * t[17], n[15] * t[3] + n[16] * t[8] + n[17] * t[13] + n[18] * t[18], n[15] * t[4] + n[16] * t[9] + n[17] * t[14] + n[18] * t[19] + n[19]]), this._dirty = !0, this } });
				s.BLACK_WHITE = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0], s.NEGATIVE = [-1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0], s.DESATURATE_LUMINANCE = [.2764723, .929708, .0938197, 0, -37.1, .2764723, .929708, .0938197, 0, -37.1, .2764723, .929708, .0938197, 0, -37.1, 0, 0, 0, 1, 0], s.SEPIA = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0], s.LSD = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0], s.BROWN = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0], s.VINTAGE = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0], s.KODACHROME = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0], s.TECHNICOLOR = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0], s.POLAROID = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0], s.SHIFT_BGR = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], t.exports = s }, 51767: (t, e, i) => { var n = i(83419),
					r = i(29747),
					s = new n({ initialize: function(t, e, i) { this._rgb = [0, 0, 0], this.onChangeCallback = r, this.dirty = !1, this.set(t, e, i) }, set: function(t, e, i) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), this._rgb = [t, e, i], this.onChange(), this }, equals: function(t, e, i) { var n = this._rgb; return n[0] === t && n[1] === e && n[2] === i }, onChange: function() { this.dirty = !0; var t = this._rgb;
							this.onChangeCallback.call(this, t[0], t[1], t[2]) }, r: { get: function() { return this._rgb[0] }, set: function(t) { this._rgb[0] = t, this.onChange() } }, g: { get: function() { return this._rgb[1] }, set: function(t) { this._rgb[1] = t, this.onChange() } }, b: { get: function() { return this._rgb[2] }, set: function(t) { this._rgb[2] = t, this.onChange() } }, destroy: function() { this.onChangeCallback = null } });
				t.exports = s }, 60461: t => { t.exports = { TOP_LEFT: 0, TOP_CENTER: 1, TOP_RIGHT: 2, LEFT_TOP: 3, LEFT_CENTER: 4, LEFT_BOTTOM: 5, CENTER: 6, RIGHT_TOP: 7, RIGHT_CENTER: 8, RIGHT_BOTTOM: 9, BOTTOM_LEFT: 10, BOTTOM_CENTER: 11, BOTTOM_RIGHT: 12 } }, 54312: (t, e, i) => { var n = i(62235),
					r = i(35893),
					s = i(86327),
					o = i(88417);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) + i), s(t, n(e) + a), t } }, 46768: (t, e, i) => { var n = i(62235),
					r = i(26541),
					s = i(86327),
					o = i(385);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) - i), s(t, n(e) + a), t } }, 35827: (t, e, i) => { var n = i(62235),
					r = i(54380),
					s = i(86327),
					o = i(40136);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) + i), s(t, n(e) + a), t } }, 46871: (t, e, i) => { var n = i(66786),
					r = i(35893),
					s = i(7702);
				t.exports = function(t, e, i, o) { return void 0 === i && (i = 0), void 0 === o && (o = 0), n(t, r(e) + i, s(e) + o), t } }, 5198: (t, e, i) => { var n = i(7702),
					r = i(26541),
					s = i(20786),
					o = i(385);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) - i), s(t, n(e) + a), t } }, 11879: (t, e, i) => { var n = i(60461),
					r = [];
				r[n.BOTTOM_CENTER] = i(54312), r[n.BOTTOM_LEFT] = i(46768), r[n.BOTTOM_RIGHT] = i(35827), r[n.CENTER] = i(46871), r[n.LEFT_CENTER] = i(5198), r[n.RIGHT_CENTER] = i(80503), r[n.TOP_CENTER] = i(89698), r[n.TOP_LEFT] = i(922), r[n.TOP_RIGHT] = i(21373), r[n.LEFT_BOTTOM] = r[n.BOTTOM_LEFT], r[n.LEFT_TOP] = r[n.TOP_LEFT], r[n.RIGHT_BOTTOM] = r[n.BOTTOM_RIGHT], r[n.RIGHT_TOP] = r[n.TOP_RIGHT], t.exports = function(t, e, i, n, s) { return r[i](t, e, n, s) } }, 80503: (t, e, i) => { var n = i(7702),
					r = i(54380),
					s = i(20786),
					o = i(40136);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) + i), s(t, n(e) + a), t } }, 89698: (t, e, i) => { var n = i(35893),
					r = i(17717),
					s = i(88417),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, n(e) + i), o(t, r(e) - a), t } }, 922: (t, e, i) => { var n = i(26541),
					r = i(17717),
					s = i(385),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, n(e) - i), o(t, r(e) - a), t } }, 21373: (t, e, i) => { var n = i(54380),
					r = i(17717),
					s = i(40136),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, n(e) + i), o(t, r(e) - a), t } }, 91660: (t, e, i) => { t.exports = { BottomCenter: i(54312), BottomLeft: i(46768), BottomRight: i(35827), Center: i(46871), LeftCenter: i(5198), QuickSet: i(11879), RightCenter: i(80503), TopCenter: i(89698), TopLeft: i(922), TopRight: i(21373) } }, 71926: (t, e, i) => { var n = i(60461),
					r = i(79291),
					s = { In: i(91660), To: i(16694) };
				s = r(!1, s, n), t.exports = s }, 21578: (t, e, i) => { var n = i(62235),
					r = i(35893),
					s = i(88417),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, r(e) + i), o(t, n(e) + a), t } }, 10210: (t, e, i) => { var n = i(62235),
					r = i(26541),
					s = i(385),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, r(e) - i), o(t, n(e) + a), t } }, 82341: (t, e, i) => { var n = i(62235),
					r = i(54380),
					s = i(40136),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, r(e) + i), o(t, n(e) + a), t } }, 87958: (t, e, i) => { var n = i(62235),
					r = i(26541),
					s = i(86327),
					o = i(40136);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) - i), s(t, n(e) + a), t } }, 40080: (t, e, i) => { var n = i(7702),
					r = i(26541),
					s = i(20786),
					o = i(40136);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) - i), s(t, n(e) + a), t } }, 88466: (t, e, i) => { var n = i(26541),
					r = i(17717),
					s = i(40136),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, n(e) - i), o(t, r(e) - a), t } }, 38829: (t, e, i) => { var n = i(60461),
					r = [];
				r[n.BOTTOM_CENTER] = i(21578), r[n.BOTTOM_LEFT] = i(10210), r[n.BOTTOM_RIGHT] = i(82341), r[n.LEFT_BOTTOM] = i(87958), r[n.LEFT_CENTER] = i(40080), r[n.LEFT_TOP] = i(88466), r[n.RIGHT_BOTTOM] = i(19211), r[n.RIGHT_CENTER] = i(34609), r[n.RIGHT_TOP] = i(48741), r[n.TOP_CENTER] = i(49440), r[n.TOP_LEFT] = i(81288), r[n.TOP_RIGHT] = i(61323), t.exports = function(t, e, i, n, s) { return r[i](t, e, n, s) } }, 19211: (t, e, i) => { var n = i(62235),
					r = i(54380),
					s = i(86327),
					o = i(385);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) + i), s(t, n(e) + a), t } }, 34609: (t, e, i) => { var n = i(7702),
					r = i(54380),
					s = i(20786),
					o = i(385);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, r(e) + i), s(t, n(e) + a), t } }, 48741: (t, e, i) => { var n = i(54380),
					r = i(17717),
					s = i(385),
					o = i(66737);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), s(t, n(e) + i), o(t, r(e) - a), t } }, 49440: (t, e, i) => { var n = i(35893),
					r = i(17717),
					s = i(86327),
					o = i(88417);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, n(e) + i), s(t, r(e) - a), t } }, 81288: (t, e, i) => { var n = i(26541),
					r = i(17717),
					s = i(86327),
					o = i(385);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, n(e) - i), s(t, r(e) - a), t } }, 61323: (t, e, i) => { var n = i(54380),
					r = i(17717),
					s = i(86327),
					o = i(40136);
				t.exports = function(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = 0), o(t, n(e) + i), s(t, r(e) - a), t } }, 16694: (t, e, i) => { t.exports = { BottomCenter: i(21578), BottomLeft: i(10210), BottomRight: i(82341), LeftBottom: i(87958), LeftCenter: i(40080), LeftTop: i(88466), QuickSet: i(38829), RightBottom: i(19211), RightCenter: i(34609), RightTop: i(48741), TopCenter: i(49440), TopLeft: i(81288), TopRight: i(61323) } }, 66786: (t, e, i) => { var n = i(88417),
					r = i(20786);
				t.exports = function(t, e, i) { return n(t, e), r(t, i) } }, 62235: t => { t.exports = function(t) { return t.y + t.height - t.height * t.originY } }, 72873: (t, e, i) => { var n = i(62235),
					r = i(26541),
					s = i(54380),
					o = i(17717),
					a = i(87841);
				t.exports = function(t, e) { void 0 === e && (e = new a); var i = r(t),
						l = o(t); return e.x = i, e.y = l, e.width = s(t) - i, e.height = n(t) - l, e } }, 35893: t => { t.exports = function(t) { return t.x - t.width * t.originX + .5 * t.width } }, 7702: t => { t.exports = function(t) { return t.y - t.height * t.originY + .5 * t.height } }, 26541: t => { t.exports = function(t) { return t.x - t.width * t.originX } }, 87431: t => { t.exports = function(t) { return t.width * t.originX } }, 46928: t => { t.exports = function(t) { return t.height * t.originY } }, 54380: t => { t.exports = function(t) { return t.x + t.width - t.width * t.originX } }, 17717: t => { t.exports = function(t) { return t.y - t.height * t.originY } }, 86327: t => { t.exports = function(t, e) { return t.y = e - t.height + t.height * t.originY, t } }, 88417: t => { t.exports = function(t, e) { var i = t.width * t.originX; return t.x = e + i - .5 * t.width, t } }, 20786: t => { t.exports = function(t, e) { var i = t.height * t.originY; return t.y = e + i - .5 * t.height, t } }, 385: t => { t.exports = function(t, e) { return t.x = e + t.width * t.originX, t } }, 40136: t => { t.exports = function(t, e) { return t.x = e - t.width + t.width * t.originX, t } }, 66737: t => { t.exports = function(t, e) { return t.y = e + t.height * t.originY, t } }, 58724: (t, e, i) => { t.exports = { CenterOn: i(66786), GetBottom: i(62235), GetBounds: i(72873), GetCenterX: i(35893), GetCenterY: i(7702), GetLeft: i(26541), GetOffsetX: i(87431), GetOffsetY: i(46928), GetRight: i(54380), GetTop: i(17717), SetBottom: i(86327), SetCenterX: i(88417), SetCenterY: i(20786), SetLeft: i(385), SetRight: i(40136), SetTop: i(66737) } }, 20623: t => { t.exports = { setCrisp: function(t) { return ["optimizeSpeed", "-moz-crisp-edges", "-o-crisp-edges", "-webkit-optimize-contrast", "optimize-contrast", "crisp-edges", "pixelated"].forEach((function(e) { t.style["image-rendering"] = e })), t.style.msInterpolationMode = "nearest-neighbor", t }, setBicubic: function(t) { return t.style["image-rendering"] = "auto", t.style.msInterpolationMode = "bicubic", t } } }, 27919: (t, e, i) => { var n, r, s, o = i(8054),
					a = i(68703),
					l = [],
					h = !1;
				t.exports = (s = function() { var t = 0; return l.forEach((function(e) { e.parent && t++ })), t }, { create2D: function(t, e, i) { return n(t, e, i, o.CANVAS) }, create: n = function(t, e, i, n, s) { var u;
						void 0 === e && (e = 1), void 0 === i && (i = 1), void 0 === n && (n = o.CANVAS), void 0 === s && (s = !1); var c = r(n); return null === c ? (c = { parent: t, canvas: document.createElement("canvas"), type: n }, n === o.CANVAS && l.push(c), u = c.canvas) : (c.parent = t, u = c.canvas), s && (c.parent = u), u.width = e, u.height = i, h && n === o.CANVAS && a.disable(u.getContext("2d", { willReadFrequently: !1 })), u }, createWebGL: function(t, e, i) { return n(t, e, i, o.WEBGL) }, disableSmoothing: function() { h = !0 }, enableSmoothing: function() { h = !1 }, first: r = function(t) { if (void 0 === t && (t = o.CANVAS), t === o.WEBGL) return null; for (var e = 0; e < l.length; e++) { var i = l[e]; if (!i.parent && i.type === t) return i } return null }, free: function() { return l.length - s() }, pool: l, remove: function(t) { var e = t instanceof HTMLCanvasElement;
						l.forEach((function(i) {
							(e && i.canvas === t || !e && i.parent === t) && (i.parent = null, i.canvas.width = 1, i.canvas.height = 1) })) }, total: s }) }, 68703: t => { var e, i = "";
				t.exports = { disable: function(t) { return "" === i && (i = e(t)), i && (t[i] = !1), t }, enable: function(t) { return "" === i && (i = e(t)), i && (t[i] = !0), t }, getPrefix: e = function(t) { for (var e = ["i", "webkitI", "msI", "mozI", "oI"], i = 0; i < e.length; i++) { var n = e[i] + "mageSmoothingEnabled"; if (n in t) return n } return null }, isEnabled: function(t) { return null !== i ? t[i] : null } } }, 65208: t => { t.exports = function(t, e) { return void 0 === e && (e = "none"), t.style.msTouchAction = e, t.style["ms-touch-action"] = e, t.style["touch-action"] = e, t } }, 91610: t => { t.exports = function(t, e) { return void 0 === e && (e = "none"), ["-webkit-", "-khtml-", "-moz-", "-ms-", ""].forEach((function(i) { t.style[i + "user-select"] = e })), t.style["-webkit-touch-callout"] = e, t.style["-webkit-tap-highlight-color"] = "rgba(0, 0, 0, 0)", t } }, 26253: (t, e, i) => { t.exports = { CanvasInterpolation: i(20623), CanvasPool: i(27919), Smoothing: i(68703), TouchAction: i(65208), UserSelect: i(91610) } }, 40987: (t, e, i) => { var n = i(83419),
					r = i(37589),
					s = i(1e3),
					o = i(7537),
					a = i(87837),
					l = new n({ initialize: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 255), this.r = 0, this.g = 0, this.b = 0, this.a = 255, this._h = 0, this._s = 0, this._v = 0, this._locked = !1, this.gl = [0, 0, 0, 1], this._color = 0, this._color32 = 0, this._rgba = "", this.setTo(t, e, i, n) }, transparent: function() { return this._locked = !0, this.red = 0, this.green = 0, this.blue = 0, this.alpha = 0, this._locked = !1, this.update(!0) }, setTo: function(t, e, i, n, r) { return void 0 === n && (n = 255), void 0 === r && (r = !0), this._locked = !0, this.red = t, this.green = e, this.blue = i, this.alpha = n, this._locked = !1, this.update(r) }, setGLTo: function(t, e, i, n) { return void 0 === n && (n = 1), this._locked = !0, this.redGL = t, this.greenGL = e, this.blueGL = i, this.alphaGL = n, this._locked = !1, this.update(!0) }, setFromRGB: function(t) { return this._locked = !0, this.red = t.r, this.green = t.g, this.blue = t.b, t.hasOwnProperty("a") && (this.alpha = t.a), this._locked = !1, this.update(!0) }, setFromHSV: function(t, e, i) { return o(t, e, i, this) }, update: function(t) { if (void 0 === t && (t = !1), this._locked) return this; var e = this.r,
								i = this.g,
								n = this.b,
								o = this.a; return this._color = r(e, i, n), this._color32 = s(e, i, n, o), this._rgba = "rgba(" + e + "," + i + "," + n + "," + o / 255 + ")", t && a(e, i, n, this), this }, updateHSV: function() { var t = this.r,
								e = this.g,
								i = this.b; return a(t, e, i, this), this }, clone: function() { return new l(this.r, this.g, this.b, this.a) }, gray: function(t) { return this.setTo(t, t, t) }, random: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = 255); var i = Math.floor(t + Math.random() * (e - t)),
								n = Math.floor(t + Math.random() * (e - t)),
								r = Math.floor(t + Math.random() * (e - t)); return this.setTo(i, n, r) }, randomGray: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = 255); var i = Math.floor(t + Math.random() * (e - t)); return this.setTo(i, i, i) }, saturate: function(t) { return this.s += t / 100, this }, desaturate: function(t) { return this.s -= t / 100, this }, lighten: function(t) { return this.v += t / 100, this }, darken: function(t) { return this.v -= t / 100, this }, brighten: function(t) { var e = this.r,
								i = this.g,
								n = this.b; return e = Math.max(0, Math.min(255, e - Math.round(-t / 100 * 255))), i = Math.max(0, Math.min(255, i - Math.round(-t / 100 * 255))), n = Math.max(0, Math.min(255, n - Math.round(-t / 100 * 255))), this.setTo(e, i, n) }, color: { get: function() { return this._color } }, color32: { get: function() { return this._color32 } }, rgba: { get: function() { return this._rgba } }, redGL: { get: function() { return this.gl[0] }, set: function(t) { this.gl[0] = Math.min(Math.abs(t), 1), this.r = Math.floor(255 * this.gl[0]), this.update(!0) } }, greenGL: { get: function() { return this.gl[1] }, set: function(t) { this.gl[1] = Math.min(Math.abs(t), 1), this.g = Math.floor(255 * this.gl[1]), this.update(!0) } }, blueGL: { get: function() { return this.gl[2] }, set: function(t) { this.gl[2] = Math.min(Math.abs(t), 1), this.b = Math.floor(255 * this.gl[2]), this.update(!0) } }, alphaGL: { get: function() { return this.gl[3] }, set: function(t) { this.gl[3] = Math.min(Math.abs(t), 1), this.a = Math.floor(255 * this.gl[3]), this.update() } }, red: { get: function() { return this.r }, set: function(t) { t = Math.floor(Math.abs(t)), this.r = Math.min(t, 255), this.gl[0] = t / 255, this.update(!0) } }, green: { get: function() { return this.g }, set: function(t) { t = Math.floor(Math.abs(t)), this.g = Math.min(t, 255), this.gl[1] = t / 255, this.update(!0) } }, blue: { get: function() { return this.b }, set: function(t) { t = Math.floor(Math.abs(t)), this.b = Math.min(t, 255), this.gl[2] = t / 255, this.update(!0) } }, alpha: { get: function() { return this.a }, set: function(t) { t = Math.floor(Math.abs(t)), this.a = Math.min(t, 255), this.gl[3] = t / 255, this.update() } }, h: { get: function() { return this._h }, set: function(t) { this._h = t, o(t, this._s, this._v, this) } }, s: { get: function() { return this._s }, set: function(t) { this._s = t, o(this._h, t, this._v, this) } }, v: { get: function() { return this._v }, set: function(t) { this._v = t, o(this._h, this._s, t, this) } } });
				t.exports = l }, 92728: (t, e, i) => { var n = i(37589);
				t.exports = function(t) { void 0 === t && (t = 1024); var e, i = [],
						r = 255,
						s = 255,
						o = 0,
						a = 0; for (e = 0; e <= r; e++) i.push({ r: s, g: e, b: a, color: n(s, e, a) }); for (o = 255, e = r; e >= 0; e--) i.push({ r: e, g: o, b: a, color: n(e, o, a) }); for (s = 0, e = 0; e <= r; e++, o--) i.push({ r: s, g: o, b: e, color: n(s, o, e) }); for (o = 0, a = 255, e = 0; e <= r; e++, a--, s++) i.push({ r: s, g: o, b: a, color: n(s, o, a) }); if (1024 === t) return i; var l = [],
						h = 0,
						u = 1024 / t; for (e = 0; e < t; e++) l.push(i[Math.floor(h)]), h += u; return l } }, 91588: t => { t.exports = function(t) { var e = { r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t, a: 255 }; return t > 16777215 && (e.a = t >>> 24), e } }, 62957: t => { t.exports = function(t) { var e = t.toString(16); return 1 === e.length ? "0" + e : e } }, 37589: t => { t.exports = function(t, e, i) { return t << 16 | e << 8 | i } }, 1e3: t => { t.exports = function(t, e, i, n) { return n << 24 | t << 16 | e << 8 | i } }, 62183: (t, e, i) => { var n = i(40987),
					r = i(89528);
				t.exports = function(t, e, i) { var s = i,
						o = i,
						a = i; if (0 !== e) { var l = i < .5 ? i * (1 + e) : i + e - i * e,
							h = 2 * i - l;
						s = r(h, l, t + 1 / 3), o = r(h, l, t), a = r(h, l, t - 1 / 3) } return (new n).setGLTo(s, o, a, 1) } }, 27939: (t, e, i) => { var n = i(7537);
				t.exports = function(t, e) { void 0 === t && (t = 1), void 0 === e && (e = 1); for (var i = [], r = 0; r <= 359; r++) i.push(n(r / 359, t, e)); return i } }, 7537: (t, e, i) => { var n = i(37589);

				function r(t, e, i, n) { var r = (t + 6 * e) % 6,
						s = Math.min(r, 4 - r, 1); return Math.round(255 * (n - n * i * Math.max(0, s))) } t.exports = function(t, e, i, s) { void 0 === e && (e = 1), void 0 === i && (i = 1); var o = r(5, t, e, i),
						a = r(3, t, e, i),
						l = r(1, t, e, i); return s ? s.setTo ? s.setTo(o, a, l, s.alpha, !0) : (s.r = o, s.g = a, s.b = l, s.color = n(o, a, l), s) : { r: o, g: a, b: l, color: n(o, a, l) } } }, 70238: (t, e, i) => { var n = i(40987);
				t.exports = function(t) { var e = new n;
					t = t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i, (function(t, e, i, n) { return e + e + i + i + n + n })); var i = /^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t); if (i) { var r = parseInt(i[1], 16),
							s = parseInt(i[2], 16),
							o = parseInt(i[3], 16);
						e.setTo(r, s, o) } return e } }, 89528: t => { t.exports = function(t, e, i) { return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + (e - t) * (2 / 3 - i) * 6 : t } }, 30100: (t, e, i) => { var n = i(40987),
					r = i(90664);
				t.exports = function(t) { var e = r(t); return new n(e.r, e.g, e.b, e.a) } }, 90664: t => { t.exports = function(t) { return t > 16777215 ? { a: t >>> 24, r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t } : { a: 255, r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t } } }, 13699: (t, e, i) => { var n = i(28915),
					r = function(t, e, i, r, s, o, a, l) { void 0 === a && (a = 100), void 0 === l && (l = 0); var h = l / a; return { r: n(t, r, h), g: n(e, s, h), b: n(i, o, h) } };
				t.exports = { RGBWithRGB: r, ColorWithRGB: function(t, e, i, n, s, o) { return void 0 === s && (s = 100), void 0 === o && (o = 0), r(t.r, t.g, t.b, e, i, n, s, o) }, ColorWithColor: function(t, e, i, n) { return void 0 === i && (i = 100), void 0 === n && (n = 0), r(t.r, t.g, t.b, e.r, e.g, e.b, i, n) } } }, 68957: (t, e, i) => { var n = i(40987);
				t.exports = function(t) { return new n(t.r, t.g, t.b, t.a) } }, 87388: (t, e, i) => { var n = i(40987);
				t.exports = function(t) { var e = new n,
						i = /^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase()); if (i) { var r = parseInt(i[1], 10),
							s = parseInt(i[2], 10),
							o = parseInt(i[3], 10),
							a = void 0 !== i[4] ? parseFloat(i[4]) : 1;
						e.setTo(r, s, o, 255 * a) } return e } }, 87837: t => { t.exports = function(t, e, i, n) { void 0 === n && (n = { h: 0, s: 0, v: 0 }), t /= 255, e /= 255, i /= 255; var r = Math.min(t, e, i),
						s = Math.max(t, e, i),
						o = s - r,
						a = 0,
						l = 0 === s ? 0 : o / s,
						h = s; return s !== r && (s === t ? a = (e - i) / o + (e < i ? 6 : 0) : s === e ? a = (i - t) / o + 2 : s === i && (a = (t - e) / o + 4), a /= 6), n.hasOwnProperty("_h") ? (n._h = a, n._s = l, n._v = h) : (n.h = a, n.s = l, n.v = h), n } }, 75723: (t, e, i) => { var n = i(62957);
				t.exports = function(t, e, i, r, s) { return void 0 === r && (r = 255), void 0 === s && (s = "#"), "#" === s ? "#" + ((1 << 24) + (t << 16) + (e << 8) + i).toString(16).slice(1, 7) : "0x" + n(r) + n(t) + n(e) + n(i) } }, 85386: (t, e, i) => { var n = i(30976),
					r = i(40987);
				t.exports = function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = 255), new r(n(t, e), n(t, e), n(t, e)) } }, 80333: (t, e, i) => { var n = i(70238),
					r = i(30100),
					s = i(68957),
					o = i(87388);
				t.exports = function(t) { switch (typeof t) {
						case "string":
							return "rgb" === t.substr(0, 3).toLowerCase() ? o(t) : n(t);
						case "number":
							return r(t);
						case "object":
							return s(t) } } }, 3956: (t, e, i) => { var n = i(40987);
				n.ColorSpectrum = i(92728), n.ColorToRGBA = i(91588), n.ComponentToHex = i(62957), n.GetColor = i(37589), n.GetColor32 = i(1e3), n.HexStringToColor = i(70238), n.HSLToColor = i(62183), n.HSVColorWheel = i(27939), n.HSVToRGB = i(7537), n.HueToComponent = i(89528), n.IntegerToColor = i(30100), n.IntegerToRGB = i(90664), n.Interpolate = i(13699), n.ObjectToColor = i(68957), n.RandomRGB = i(85386), n.RGBStringToColor = i(87388), n.RGBToHSV = i(87837), n.RGBToString = i(75723), n.ValueToColor = i(80333), t.exports = n }, 27460: (t, e, i) => { t.exports = { Align: i(71926), BaseShader: i(73894), Bounds: i(58724), Canvas: i(26253), Color: i(3956), ColorMatrix: i(89422), Masks: i(69781), RGB: i(51767) } }, 6858: (t, e, i) => { var n = i(83419),
					r = i(39429),
					s = new n({ initialize: function(t, e, i, n, r, s) { e || (e = t.sys.make.image({ x: i, y: n, key: r, frame: s, add: !1 })), this.bitmapMask = e, this.invertAlpha = !1, this.isStencil = !1 }, setBitmap: function(t) { this.bitmapMask = t }, preRenderWebGL: function(t, e, i) { t.pipelines.BITMAPMASK_PIPELINE.beginMask(this, e, i) }, postRenderWebGL: function(t, e, i) { t.pipelines.BITMAPMASK_PIPELINE.endMask(this, e, i) }, preRenderCanvas: function() {}, postRenderCanvas: function() {}, destroy: function() { this.bitmapMask = null } });
				r.register("bitmapMask", (function(t, e, i, n, r) { return new s(this.scene, t, e, i, n, r) })), t.exports = s }, 80661: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e) { this.geometryMask = e, this.invertAlpha = !1, this.isStencil = !0, this.level = 0 }, setShape: function(t) { return this.geometryMask = t, this }, setInvertAlpha: function(t) { return void 0 === t && (t = !0), this.invertAlpha = t, this }, preRenderWebGL: function(t, e, i) { var n = t.gl;
						t.flush(), 0 === t.maskStack.length && (n.enable(n.STENCIL_TEST), n.clear(n.STENCIL_BUFFER_BIT), t.maskCount = 0), t.currentCameraMask.mask !== this && (t.currentMask.mask = this), t.maskStack.push({ mask: this, camera: i }), this.applyStencil(t, i, !0), t.maskCount++ }, applyStencil: function(t, e, i) { var n = t.gl,
							r = this.geometryMask,
							s = t.maskCount,
							o = 255;
						n.colorMask(!1, !1, !1, !1), i ? (n.stencilFunc(n.EQUAL, s, o), n.stencilOp(n.KEEP, n.KEEP, n.INCR), s++) : (n.stencilFunc(n.EQUAL, s + 1, o), n.stencilOp(n.KEEP, n.KEEP, n.DECR)), this.level = s, r.renderWebGL(t, r, e), t.flush(), n.colorMask(!0, !0, !0, !0), n.stencilOp(n.KEEP, n.KEEP, n.KEEP), this.invertAlpha ? n.stencilFunc(n.NOTEQUAL, s, o) : n.stencilFunc(n.EQUAL, s, o) }, postRenderWebGL: function(t) { var e = t.gl;
						t.maskStack.pop(), t.maskCount--, t.flush(); var i = t.currentMask; if (0 === t.maskStack.length) i.mask = null, e.disable(e.STENCIL_TEST);
						else { var n = t.maskStack[t.maskStack.length - 1];
							n.mask.applyStencil(t, n.camera, !1), t.currentCameraMask.mask !== n.mask ? (i.mask = n.mask, i.camera = n.camera) : i.mask = null } }, preRenderCanvas: function(t, e, i) { var n = this.geometryMask;
						t.currentContext.save(), n.renderCanvas(t, n, i, null, null, !0), t.currentContext.clip() }, postRenderCanvas: function(t) { t.currentContext.restore() }, destroy: function() { this.geometryMask = null } });
				t.exports = n }, 69781: (t, e, i) => { t.exports = { BitmapMask: i(6858), GeometryMask: i(80661) } }, 73894: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i, n) { e && "" !== e || (e = ["precision mediump float;", "uniform vec2 resolution;", "varying vec2 fragCoord;", "void main () {", "    vec2 uv = fragCoord / resolution.xy;", "    gl_FragColor = vec4(uv.xyx, 1.0);", "}"].join("\n")), i && "" !== i || (i = ["precision mediump float;", "uniform mat4 uProjectionMatrix;", "uniform mat4 uViewMatrix;", "uniform vec2 uResolution;", "attribute vec2 inPosition;", "varying vec2 fragCoord;", "varying vec2 outTexCoord;", "void main () {", "   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);", "   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);", "   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);", "}"].join("\n")), void 0 === n && (n = null), this.key = t, this.fragmentSrc = e, this.vertexSrc = i, this.uniforms = n } });
				t.exports = n }, 40366: t => { t.exports = function(t, e) { var i; if (e) "string" == typeof e ? i = document.getElementById(e) : "object" == typeof e && 1 === e.nodeType && (i = e);
					else if (t.parentElement || null === e) return t; return i || (i = document.body), i.appendChild(t), t } }, 83719: (t, e, i) => { var n = i(40366);
				t.exports = function(t) { var e = t.config; if (e.parent && e.domCreateContainer) { var i = document.createElement("div");
						i.style.cssText = ["display: block;", "width: " + t.scale.width + "px;", "height: " + t.scale.height + "px;", "padding: 0; margin: 0;", "position: absolute;", "overflow: hidden;", "pointer-events: " + e.domPointerEvents + ";", "transform: scale(1);", "transform-origin: left top;"].join(" "), t.domContainer = i, n(i, e.parent) } } }, 57264: (t, e, i) => { var n = i(25892);
				t.exports = function(t) { if ("complete" !== document.readyState && "interactive" !== document.readyState) { var e = function() { document.removeEventListener("deviceready", e, !0), document.removeEventListener("DOMContentLoaded", e, !0), window.removeEventListener("load", e, !0), t() };
						document.body ? n.cordova ? document.addEventListener("deviceready", e, !1) : (document.addEventListener("DOMContentLoaded", e, !0), window.addEventListener("load", e, !0)) : window.setTimeout(e, 20) } else t() } }, 57811: t => { t.exports = function(t) { if (!t) return window.innerHeight; var e = Math.abs(window.orientation),
						i = { w: 0, h: 0 },
						n = document.createElement("div"); return n.setAttribute("style", "position: fixed; height: 100vh; width: 0; top: 0"), document.documentElement.appendChild(n), i.w = 90 === e ? n.offsetHeight : window.innerWidth, i.h = 90 === e ? window.innerWidth : n.offsetHeight, document.documentElement.removeChild(n), n = null, 90 !== Math.abs(window.orientation) ? i.h : i.w } }, 45818: (t, e, i) => { var n = i(13560);
				t.exports = function(t, e) { var i = window.screen,
						r = !!i && (i.orientation || i.mozOrientation || i.msOrientation); return r && "string" == typeof r.type ? r.type : "string" == typeof r ? r : "number" == typeof window.orientation ? 0 === window.orientation || 180 === window.orientation ? n.ORIENTATION.PORTRAIT : n.ORIENTATION.LANDSCAPE : window.matchMedia ? window.matchMedia("(orientation: portrait)").matches ? n.ORIENTATION.PORTRAIT : window.matchMedia("(orientation: landscape)").matches ? n.ORIENTATION.LANDSCAPE : void 0 : e > t ? n.ORIENTATION.PORTRAIT : n.ORIENTATION.LANDSCAPE } }, 74403: t => { t.exports = function(t) { var e; return "" !== t && ("string" == typeof t ? e = document.getElementById(t) : t && 1 === t.nodeType && (e = t)), e || (e = document.body), e } }, 56836: t => { t.exports = function(t) { var e = ""; try { window.DOMParser ? e = (new DOMParser).parseFromString(t, "text/xml") : (e = new ActiveXObject("Microsoft.XMLDOM")).loadXML(t) } catch (i) { e = null } return e && e.documentElement && !e.getElementsByTagName("parsererror").length ? e : null } }, 35846: t => { t.exports = function(t) { t.parentNode && t.parentNode.removeChild(t) } }, 43092: (t, e, i) => { var n = i(83419),
					r = i(29747),
					s = new n({ initialize: function() { this.isRunning = !1, this.callback = r, this.isSetTimeOut = !1, this.timeOutID = null, this.delay = 0; var t = this;
							this.step = function e(i) { t.callback(i), t.isRunning && (t.timeOutID = window.requestAnimationFrame(e)) }, this.stepTimeout = function e() { t.isRunning && (t.timeOutID = window.setTimeout(e, t.delay)), t.callback(window.performance.now()) } }, start: function(t, e, i) { this.isRunning || (this.callback = t, this.isSetTimeOut = e, this.delay = i, this.isRunning = !0, this.timeOutID = e ? window.setTimeout(this.stepTimeout, 0) : window.requestAnimationFrame(this.step)) }, stop: function() { this.isRunning = !1, this.isSetTimeOut ? clearTimeout(this.timeOutID) : window.cancelAnimationFrame(this.timeOutID) }, destroy: function() { this.stop(), this.callback = r } });
				t.exports = s }, 84902: (t, e, i) => { var n = { AddToDOM: i(40366), DOMContentLoaded: i(57264), GetInnerHeight: i(57811), GetScreenOrientation: i(45818), GetTarget: i(74403), ParseXML: i(56836), RemoveFromDOM: i(35846), RequestAnimationFrame: i(43092) };
				t.exports = n }, 47565: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(37277),
					o = new n({ Extends: r, initialize: function() { r.call(this) }, shutdown: function() { this.removeAllListeners() }, destroy: function() { this.removeAllListeners() } });
				s.register("EventEmitter", o, "events"), t.exports = o }, 93055: (t, e, i) => { t.exports = { EventEmitter: i(47565) } }, 20122: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e) { void 0 === e && (e = 1), r.call(this, s.BARREL, t), this.amount = e } });
				t.exports = o }, 32251: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o, a, l) { void 0 === i && (i = 1), void 0 === n && (n = 1), void 0 === o && (o = 1), void 0 === a && (a = 1), void 0 === l && (l = 4), r.call(this, s.BLOOM, t), this.steps = l, this.offsetX = i, this.offsetY = n, this.blurStrength = o, this.strength = a, this.glcolor = [1, 1, 1], null != e && (this.color = e) }, color: { get: function() { var t = this.glcolor; return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }, set: function(t) { var e = this.glcolor;
								e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255 } } });
				t.exports = o }, 9047: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o, a, l) { void 0 === e && (e = 0), void 0 === i && (i = 2), void 0 === n && (n = 2), void 0 === o && (o = 1), void 0 === l && (l = 4), r.call(this, s.BLUR, t), this.quality = e, this.x = i, this.y = n, this.steps = l, this.strength = o, this.glcolor = [1, 1, 1], null != a && (this.color = a) }, color: { get: function() { var t = this.glcolor; return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }, set: function(t) { var e = this.glcolor;
								e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255 } } });
				t.exports = o }, 27885: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o, a, l, h) { void 0 === e && (e = .5), void 0 === i && (i = 1), void 0 === n && (n = .2), void 0 === o && (o = !1), void 0 === a && (a = 1), void 0 === l && (l = 1), void 0 === h && (h = 1), r.call(this, s.BOKEH, t), this.radius = e, this.amount = i, this.contrast = n, this.isTiltShift = o, this.strength = h, this.blurX = a, this.blurY = l } });
				t.exports = o }, 12578: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o, a) { void 0 === e && (e = 8), void 0 === o && (o = 1), void 0 === a && (a = .005), r.call(this, s.CIRCLE, t), this.scale = o, this.feather = a, this.thickness = e, this.glcolor = [1, .2, .7], this.glcolor2 = [1, 0, 0, .4], null != i && (this.color = i), null != n && (this.backgroundColor = n) }, color: { get: function() { var t = this.glcolor; return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }, set: function(t) { var e = this.glcolor;
								e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255 } }, backgroundColor: { get: function() { var t = this.glcolor2; return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }, set: function(t) { var e = this.glcolor2;
								e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255 } }, backgroundAlpha: { get: function() { return this.glcolor2[3] }, set: function(t) { this.glcolor2[3] = t } } });
				t.exports = o }, 15802: (t, e, i) => { var n = i(83419),
					r = i(89422),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t) { r.call(this), this.type = s.COLOR_MATRIX, this.gameObject = t, this.active = !0 }, destroy: function() { this.gameObject = null, this._matrix = null, this._data = null } });
				t.exports = o }, 72898: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e) { this.type = t, this.gameObject = e, this.active = !0 }, setActive: function(t) { return this.active = t, this }, destroy: function() { this.gameObject = null, this.active = !1 } });
				t.exports = n }, 44553: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n) { void 0 === e && (e = "__WHITE"), void 0 === i && (i = .005), void 0 === n && (n = .005), r.call(this, s.DISPLACEMENT, t), this.x = i, this.y = n, this.glTexture, this.setTexture(e) }, setTexture: function(t) { var e = this.gameObject.scene.sys.textures.getFrame(t); return e && (this.glTexture = e.glTexture), this } });
				t.exports = o }, 68531: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o) { void 0 === i && (i = 4), void 0 === n && (n = 0), void 0 === o && (o = !1), r.call(this, s.GLOW, t), this.outerStrength = i, this.innerStrength = n, this.knockout = o, this.glcolor = [1, 1, 1, 1], void 0 !== e && (this.color = e) }, color: { get: function() { var t = this.glcolor; return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }, set: function(t) { var e = this.glcolor;
								e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255 } } });
				t.exports = o }, 37102: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o, a, l, h, u) { void 0 === n && (n = .2), void 0 === o && (o = 0), void 0 === a && (a = 0), void 0 === l && (l = 0), void 0 === h && (h = 1), void 0 === u && (u = 0), r.call(this, s.GRADIENT, t), this.alpha = n, this.size = u, this.fromX = o, this.fromY = a, this.toX = l, this.toY = h, this.glcolor1 = [255, 0, 0], this.glcolor2 = [0, 255, 0], null != e && (this.color1 = e), null != i && (this.color2 = i) }, color1: { get: function() { var t = this.glcolor1; return (t[0] << 16) + (t[1] << 8) + (0 | t[2]) }, set: function(t) { var e = this.glcolor1;
								e[0] = t >> 16 & 255, e[1] = t >> 8 & 255, e[2] = 255 & t } }, color2: { get: function() { var t = this.glcolor2; return (t[0] << 16) + (t[1] << 8) + (0 | t[2]) }, set: function(t) { var e = this.glcolor2;
								e[0] = t >> 16 & 255, e[1] = t >> 8 & 255, e[2] = 255 & t } } });
				t.exports = o }, 86886: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e) { void 0 === e && (e = 1), r.call(this, s.PIXELATE, t), this.amount = e } });
				t.exports = o }, 92322: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o, a, l, h) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = .1), void 0 === o && (o = 1), void 0 === l && (l = 6), void 0 === h && (h = 1), r.call(this, s.SHADOW, t), this.x = e, this.y = i, this.decay = n, this.power = o, this.glcolor = [0, 0, 0, 1], this.samples = l, this.intensity = h, void 0 !== a && (this.color = a) }, color: { get: function() { var t = this.glcolor; return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }, set: function(t) { var e = this.glcolor;
								e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255 } } });
				t.exports = o }, 39563: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o) { void 0 === e && (e = .5), void 0 === i && (i = .5), void 0 === n && (n = 3), void 0 === o && (o = !1), r.call(this, s.SHINE, t), this.speed = e, this.lineWidth = i, this.gradient = n, this.reveal = o } });
				t.exports = o }, 56448: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o) { void 0 === e && (e = .5), void 0 === i && (i = .5), void 0 === n && (n = .5), void 0 === o && (o = .5), r.call(this, s.VIGNETTE, t), this.x = e, this.y = i, this.radius = n, this.strength = o } });
				t.exports = o }, 38433: (t, e, i) => { var n = i(83419),
					r = i(72898),
					s = i(14811),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o) { void 0 === e && (e = .1), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === o && (o = !1), r.call(this, s.WIPE, t), this.progress = 0, this.wipeWidth = e, this.direction = i, this.axis = n, this.reveal = o } });
				t.exports = o }, 14811: t => { t.exports = { GLOW: 4, SHADOW: 5, PIXELATE: 6, VIGNETTE: 7, SHINE: 8, BLUR: 9, GRADIENT: 12, BLOOM: 13, COLOR_MATRIX: 14, CIRCLE: 15, BARREL: 16, DISPLACEMENT: 17, WIPE: 18, BOKEH: 19 } }, 66064: (t, e, i) => { var n = i(79291),
					r = i(14811),
					s = { Barrel: i(20122), Controller: i(72898), Bloom: i(32251), Blur: i(9047), Bokeh: i(27885), Circle: i(12578), ColorMatrix: i(15802), Displacement: i(44553), Glow: i(68531), Gradient: i(37102), Pixelate: i(86886), Shadow: i(92322), Shine: i(39563), Vignette: i(56448), Wipe: i(38433) };
				s = n(!1, s, r), t.exports = s }, 25305: (t, e, i) => { var n = i(10312),
					r = i(23568);
				t.exports = function(t, e, i) { e.x = r(i, "x", 0), e.y = r(i, "y", 0), e.depth = r(i, "depth", 0), e.flipX = r(i, "flipX", !1), e.flipY = r(i, "flipY", !1); var s = r(i, "scale", null); "number" == typeof s ? e.setScale(s) : null !== s && (e.scaleX = r(s, "x", 1), e.scaleY = r(s, "y", 1)); var o = r(i, "scrollFactor", null); "number" == typeof o ? e.setScrollFactor(o) : null !== o && (e.scrollFactorX = r(o, "x", 1), e.scrollFactorY = r(o, "y", 1)), e.rotation = r(i, "rotation", 0); var a = r(i, "angle", null);
					null !== a && (e.angle = a), e.alpha = r(i, "alpha", 1); var l = r(i, "origin", null); if ("number" == typeof l) e.setOrigin(l);
					else if (null !== l) { var h = r(l, "x", .5),
							u = r(l, "y", .5);
						e.setOrigin(h, u) } return e.blendMode = r(i, "blendMode", n.NORMAL), e.visible = r(i, "visible", !0), r(i, "add", !0) && t.sys.displayList.add(e), e.preUpdate && t.sys.updateList.add(e), e } }, 13059: (t, e, i) => { var n = i(23568);
				t.exports = function(t, e) { var i = n(e, "anims", null); if (null === i) return t; if ("string" == typeof i) t.anims.play(i);
					else if ("object" == typeof i) { var r = t.anims,
							s = n(i, "key", void 0); if (s) { var o = n(i, "startFrame", void 0),
								a = n(i, "delay", 0),
								l = n(i, "repeat", 0),
								h = n(i, "repeatDelay", 0),
								u = n(i, "yoyo", !1),
								c = n(i, "play", !1),
								d = n(i, "delayedPlay", 0),
								f = { key: s, delay: a, repeat: l, repeatDelay: h, yoyo: u, startFrame: o };
							c ? r.play(f) : d > 0 ? r.playAfterDelay(f, d) : r.load(f) } } return t } }, 8050: (t, e, i) => { var n = i(83419),
					r = i(73162),
					s = i(37277),
					o = i(51708),
					a = i(44594),
					l = i(19186),
					h = new n({ Extends: r, initialize: function(t) { r.call(this, t), this.sortChildrenFlag = !1, this.scene = t, this.systems = t.sys, this.events = t.sys.events, this.addCallback = this.addChildCallback, this.removeCallback = this.removeChildCallback, this.events.once(a.BOOT, this.boot, this), this.events.on(a.START, this.start, this) }, boot: function() { this.events.once(a.DESTROY, this.destroy, this) }, addChildCallback: function(t) { t.displayList && t.displayList !== this && t.removeFromDisplayList(), t.parentContainer && t.parentContainer.remove(t), t.displayList || (this.queueDepthSort(), t.displayList = this, t.emit(o.ADDED_TO_SCENE, t, this.scene), this.events.emit(a.ADDED_TO_SCENE, t, this.scene)) }, removeChildCallback: function(t) { this.queueDepthSort(), t.displayList = null, t.emit(o.REMOVED_FROM_SCENE, t, this.scene), this.events.emit(a.REMOVED_FROM_SCENE, t, this.scene) }, start: function() { this.events.once(a.SHUTDOWN, this.shutdown, this) }, queueDepthSort: function() { this.sortChildrenFlag = !0 }, depthSort: function() { this.sortChildrenFlag && (l(this.list, this.sortByDepth), this.sortChildrenFlag = !1) }, sortByDepth: function(t, e) { return t._depth - e._depth }, getChildren: function() { return this.list }, shutdown: function() { for (var t = this.list; t.length;) t[0].destroy(!0);
							this.events.off(a.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.events.off(a.START, this.start, this), this.scene = null, this.systems = null, this.events = null } });
				s.register("DisplayList", h, "displayList"), t.exports = h }, 95643: (t, e, i) => { var n = i(83419),
					r = i(53774),
					s = i(45893),
					o = i(50792),
					a = i(51708),
					l = i(44594),
					h = new n({ Extends: o, initialize: function(t, e) { o.call(this), this.scene = t, this.displayList = null, this.type = e, this.state = 0, this.parentContainer = null, this.name = "", this.active = !0, this.tabIndex = -1, this.data = null, this.renderFlags = 15, this.cameraFilter = 0, this.input = null, this.body = null, this.ignoreDestroy = !1, this.on(a.ADDED_TO_SCENE, this.addedToScene, this), this.on(a.REMOVED_FROM_SCENE, this.removedFromScene, this), t.sys.queueDepthSort() }, setActive: function(t) { return this.active = t, this }, setName: function(t) { return this.name = t, this }, setState: function(t) { return this.state = t, this }, setDataEnabled: function() { return this.data || (this.data = new s(this)), this }, setData: function(t, e) { return this.data || (this.data = new s(this)), this.data.set(t, e), this }, incData: function(t, e) { return this.data || (this.data = new s(this)), this.data.inc(t, e), this }, toggleData: function(t) { return this.data || (this.data = new s(this)), this.data.toggle(t), this }, getData: function(t) { return this.data || (this.data = new s(this)), this.data.get(t) }, setInteractive: function(t, e, i) { return this.scene.sys.input.enable(this, t, e, i), this }, disableInteractive: function(t) { return void 0 === t && (t = !1), this.scene.sys.input.disable(this, t), this }, removeInteractive: function(t) { return void 0 === t && (t = !1), this.scene.sys.input.clear(this), t && this.scene.sys.input.resetCursor(), this.input = void 0, this }, addedToScene: function() {}, removedFromScene: function() {}, update: function() {}, toJSON: function() { return r(this) }, willRender: function(t) { return !(this.displayList && this.displayList.active && !this.displayList.willRender(t) || h.RENDER_MASK !== this.renderFlags || 0 !== this.cameraFilter && this.cameraFilter & t.id) }, getIndexList: function() { for (var t = this, e = this.parentContainer, i = []; e && (i.unshift(e.getIndex(t)), t = e, e.parentContainer);) e = e.parentContainer; return this.displayList ? i.unshift(this.displayList.getIndex(t)) : i.unshift(this.scene.sys.displayList.getIndex(t)), i }, addToDisplayList: function(t) { return void 0 === t && (t = this.scene.sys.displayList), this.displayList && this.displayList !== t && this.removeFromDisplayList(), t.exists(this) || (this.displayList = t, t.add(this, !0), t.queueDepthSort(), this.emit(a.ADDED_TO_SCENE, this, this.scene), t.events.emit(l.ADDED_TO_SCENE, this, this.scene)), this }, addToUpdateList: function() { return this.scene && this.preUpdate && this.scene.sys.updateList.add(this), this }, removeFromDisplayList: function() { var t = this.displayList || this.scene.sys.displayList; return t && t.exists(this) && (t.remove(this, !0), t.queueDepthSort(), this.displayList = null, this.emit(a.REMOVED_FROM_SCENE, this, this.scene), t.events.emit(l.REMOVED_FROM_SCENE, this, this.scene)), this }, removeFromUpdateList: function() { return this.scene && this.preUpdate && this.scene.sys.updateList.remove(this), this }, getDisplayList: function() { var t = null; return this.parentContainer ? t = this.parentContainer.list : this.displayList && (t = this.displayList.list), t }, destroy: function(t) { this.scene && !this.ignoreDestroy && (void 0 === t && (t = !1), this.preDestroy && this.preDestroy.call(this), this.emit(a.DESTROY, this, t), this.removeAllListeners(), this.postPipelines && this.resetPostPipeline(!0), this.removeFromDisplayList(), this.removeFromUpdateList(), this.input && (this.scene.sys.input.clear(this), this.input = void 0), this.data && (this.data.destroy(), this.data = void 0), this.body && (this.body.destroy(), this.body = void 0), this.preFX && (this.preFX.destroy(), this.preFX = void 0), this.postFX && (this.postFX.destroy(), this.postFX = void 0), this.active = !1, this.visible = !1, this.scene = void 0, this.parentContainer = void 0) } });
				h.RENDER_MASK = 15, t.exports = h }, 44603: (t, e, i) => { var n = i(83419),
					r = i(37277),
					s = i(44594),
					o = new n({ initialize: function(t) { this.scene = t, this.systems = t.sys, this.events = t.sys.events, this.displayList, this.updateList, this.events.once(s.BOOT, this.boot, this), this.events.on(s.START, this.start, this) }, boot: function() { this.displayList = this.systems.displayList, this.updateList = this.systems.updateList, this.events.once(s.DESTROY, this.destroy, this) }, start: function() { this.events.once(s.SHUTDOWN, this.shutdown, this) }, shutdown: function() { this.events.off(s.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.events.off(s.START, this.start, this), this.scene = null, this.systems = null, this.events = null, this.displayList = null, this.updateList = null } });
				o.register = function(t, e) { o.prototype.hasOwnProperty(t) || (o.prototype[t] = e) }, o.remove = function(t) { o.prototype.hasOwnProperty(t) && delete o.prototype[t] }, r.register("GameObjectCreator", o, "make"), t.exports = o }, 39429: (t, e, i) => { var n = i(83419),
					r = i(37277),
					s = i(44594),
					o = new n({ initialize: function(t) { this.scene = t, this.systems = t.sys, this.events = t.sys.events, this.displayList, this.updateList, this.events.once(s.BOOT, this.boot, this), this.events.on(s.START, this.start, this) }, boot: function() { this.displayList = this.systems.displayList, this.updateList = this.systems.updateList, this.events.once(s.DESTROY, this.destroy, this) }, start: function() { this.events.once(s.SHUTDOWN, this.shutdown, this) }, existing: function(t) { return (t.renderCanvas || t.renderWebGL) && this.displayList.add(t), t.preUpdate && this.updateList.add(t), t }, shutdown: function() { this.events.off(s.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.events.off(s.START, this.start, this), this.scene = null, this.systems = null, this.events = null, this.displayList = null, this.updateList = null } });
				o.register = function(t, e) { o.prototype.hasOwnProperty(t) || (o.prototype[t] = e) }, o.remove = function(t) { o.prototype.hasOwnProperty(t) && delete o.prototype[t] }, r.register("GameObjectFactory", o, "add"), t.exports = o }, 91296: (t, e, i) => { var n = i(61340),
					r = new n,
					s = new n,
					o = new n,
					a = { camera: r, sprite: s, calc: o };
				t.exports = function(t, e, i) { var n = r,
						l = s,
						h = o; return l.applyITRS(t.x, t.y, t.rotation, t.scaleX, t.scaleY), n.copyFrom(e.matrix), i ? (n.multiplyWithOffset(i, -e.scrollX * t.scrollFactorX, -e.scrollY * t.scrollFactorY), l.e = t.x, l.f = t.y) : (l.e -= e.scrollX * t.scrollFactorX, l.f -= e.scrollY * t.scrollFactorY), n.multiply(l, h), a } }, 45027: (t, e, i) => { var n = i(83419),
					r = i(25774),
					s = i(37277),
					o = i(44594),
					a = new n({ Extends: r, initialize: function(t) { r.call(this), this.checkQueue = !0, this.scene = t, this.systems = t.sys, t.sys.events.once(o.BOOT, this.boot, this), t.sys.events.on(o.START, this.start, this) }, boot: function() { this.systems.events.once(o.DESTROY, this.destroy, this) }, start: function() { var t = this.systems.events;
							t.on(o.PRE_UPDATE, this.update, this), t.on(o.UPDATE, this.sceneUpdate, this), t.once(o.SHUTDOWN, this.shutdown, this) }, sceneUpdate: function(t, e) { for (var i = this._active, n = i.length, r = 0; r < n; r++) { var s = i[r];
								s.active && s.preUpdate.call(s, t, e) } }, shutdown: function() { for (var t = this._active.length; t--;) this._active[t].destroy(!0); for (t = this._pending.length; t--;) this._pending[t].destroy(!0); for (t = this._destroy.length; t--;) this._destroy[t].destroy(!0);
							this._toProcess = 0, this._pending = [], this._active = [], this._destroy = [], this.removeAllListeners(); var e = this.systems.events;
							e.off(o.PRE_UPDATE, this.update, this), e.off(o.UPDATE, this.sceneUpdate, this), e.off(o.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.systems.events.off(o.START, this.start, this), this.scene = null, this.systems = null } });
				s.register("UpdateList", a, "updateList"), t.exports = a }, 3217: t => { t.exports = function(t, e, i, n, r, s, o, a, l, h, u, c, d, f, p) { var g = i.x - e.displayOriginX + r,
						m = i.y - e.displayOriginY + s,
						v = g + i.w,
						y = m + i.h,
						x = o.a,
						b = o.b,
						w = o.c,
						T = o.d,
						S = o.e,
						_ = o.f,
						E = g * x + m * w + S,
						A = g * b + m * T + _,
						C = g * x + y * w + S,
						k = g * b + y * T + _,
						P = v * x + y * w + S,
						O = v * b + y * T + _,
						R = v * x + m * w + S,
						M = v * b + m * T + _;
					a && (E = Math.round(E), A = Math.round(A), C = Math.round(C), k = Math.round(k), P = Math.round(P), O = Math.round(O), R = Math.round(R), M = Math.round(M)), t.batchQuad(e, E, A, C, k, P, O, R, M, n.u0, n.v0, n.u1, n.v1, l, h, u, c, d, f, p) } }, 53048: t => { t.exports = function(t, e, i, n) { if (void 0 === i && (i = !1), void 0 === n) return { local: { x: 0, y: 0, width: 0, height: 0 }, global: { x: 0, y: 0, width: 0, height: 0 }, lines: { shortest: 0, longest: 0, lengths: null, height: 0 }, wrappedText: "", words: [], characters: [], scaleX: 0, scaleY: 0 }; var r, s, o, a = t.text,
						l = a.length,
						h = t.maxWidth,
						u = t.wordWrapCharCode,
						c = Number.MAX_VALUE,
						d = Number.MAX_VALUE,
						f = 0,
						p = 0,
						g = t.fontData.chars,
						m = t.fontData.lineHeight,
						v = t.letterSpacing,
						y = t.lineSpacing,
						x = 0,
						b = 0,
						w = 0,
						T = null,
						S = t._align,
						_ = 0,
						E = 0,
						A = t.fontSize / t.fontData.size,
						C = A * t.scaleX,
						k = A * t.scaleY,
						P = null,
						O = 0,
						R = [],
						M = Number.MAX_VALUE,
						L = 0,
						D = 0,
						F = 0,
						I = [],
						B = [],
						N = null,
						z = function(t, e) { for (var i = 0, n = 0; n < t.length; n++) { var r = t.charCodeAt(n),
									s = e.chars[r];
								s && (i += s.xAdvance) } return i * C }; if (h > 0) { o = a.split("\n"); var U = []; for (r = 0; r < o.length; r++) { var Y = o[r],
								X = "",
								G = "",
								H = "",
								W = ""; for (s = 0; s < Y.length; s++) w = Y.charCodeAt(s), X += Y[s], (w === u || s === Y.length - 1) && (z(W = H + X, t.fontData) <= h ? H = W : (G = G.slice(0, -1), G += (G ? "\n" : "") + H, H = X), X = "");
							G = G.slice(0, -1), G += (G ? "\n" : "") + H, U.push(G) } a = U.join("\n"), n.wrappedText = a, l = a.length } var V = 0; for (r = 0; r < l; r++)
						if (10 !== (w = a.charCodeAt(r))) { if (T = g[w]) { if (_ = x, E = b, null !== P) { var j = T.kerning[O];
									_ += void 0 !== j ? j : 0 } c > _ && (c = _), d > E && (d = E); var $ = _ + T.xAdvance,
									q = E + m;
								f < $ && (f = $), p < q && (p = q); var K = T.xOffset + T.xAdvance + (void 0 !== j ? j : 0);
								w === u ? null !== N && (I.push({ word: N.word, i: N.i, x: N.x * C, y: N.y * k, w: N.w * C, h: N.h * k }), N = null) : (null === N && (N = { word: "", i: V, x: x, y: b, w: 0, h: m }), N.word = N.word.concat(a[r]), N.w += K), B.push({ i: V, idx: r, char: a[r], code: w, x: (T.xOffset + _) * A, y: (T.yOffset + b) * A, w: T.width * A, h: T.height * A, t: b * A, r: $ * A, b: m * A, line: D, glyph: T }), x += T.xAdvance + v + (void 0 !== j ? j : 0), P = T, O = w, F = $ * A, V++ } } else null !== N && (I.push({ word: N.word, i: N.i, x: N.x * C, y: N.y * k, w: N.w * C, h: N.h * k }), N = null), P = null, R[D] = F, F > L && (L = F), F < M && (M = F), F = 0, x = 0, b = (m + y) * ++D; if (null !== N && I.push({ word: N.word, i: N.i, x: N.x * C, y: N.y * k, w: N.w * C, h: N.h * k }), R[D] = F, F > L && (L = F), F < M && (M = F), S > 0)
						for (var Z = 0; Z < B.length; Z++) { var J = B[Z]; if (1 === S) { var Q = (L - R[J.line]) / 2;
								J.x += Q, J.r += Q } else if (2 === S) { var tt = L - R[J.line];
								J.x += tt, J.r += tt } }
					var et = n.local,
						it = n.global; return o = n.lines, et.x = c * A, et.y = d * A, et.width = f * A, et.height = p * A, it.x = t.x - t._displayOriginX + c * C, it.y = t.y - t._displayOriginY + d * k, it.width = f * C, it.height = p * k, o.shortest = M, o.longest = L, o.lengths = R, e && (et.x = Math.ceil(et.x), et.y = Math.ceil(et.y), et.width = Math.ceil(et.width), et.height = Math.ceil(et.height), it.x = Math.ceil(it.x), it.y = Math.ceil(it.y), it.width = Math.ceil(it.width), it.height = Math.ceil(it.height), o.shortest = Math.ceil(M), o.longest = Math.ceil(L)), i && (t._displayOriginX = t.originX * et.width, t._displayOriginY = t.originY * et.height, it.x = t.x - t._displayOriginX * t.scaleX, it.y = t.y - t._displayOriginY * t.scaleY, e && (it.x = Math.ceil(it.x), it.y = Math.ceil(it.y))), n.words = I, n.characters = B, n.lines.height = m, n.scale = A, n.scaleX = t.scaleX, n.scaleY = t.scaleY, n } }, 61327: (t, e, i) => { var n = i(21859);
				t.exports = function(t, e, i, r, s, o, a) { var l = t.sys.textures.get(i),
						h = l.get(r),
						u = t.sys.cache.xml.get(s); if (h && u) { var c = n(u, h, o, a, l); return t.sys.cache.bitmapFont.add(e, { data: c, texture: i, frame: r, fromAtlas: !0 }), !0 } return !1 } }, 6925: (t, e, i) => { var n = i(35154);
				t.exports = function(t, e) { var i = e.width,
						r = e.height,
						s = Math.floor(i / 2),
						o = Math.floor(r / 2),
						a = n(e, "chars", ""); if ("" !== a) { var l = n(e, "image", ""),
							h = t.sys.textures.getFrame(l),
							u = h.cutX,
							c = h.cutY,
							d = h.source.width,
							f = h.source.height,
							p = n(e, "offset.x", 0),
							g = n(e, "offset.y", 0),
							m = n(e, "spacing.x", 0),
							v = n(e, "spacing.y", 0),
							y = n(e, "lineSpacing", 0),
							x = n(e, "charsPerRow", null);
						null === x && (x = d / i) > a.length && (x = a.length); for (var b = p, w = g, T = { retroFont: !0, font: l, size: i, lineHeight: r + y, chars: {} }, S = 0, _ = 0; _ < a.length; _++) { var E = a.charCodeAt(_),
								A = (u + b) / d,
								C = (c + w) / f,
								k = (u + b + i) / d,
								P = (c + w + r) / f;
							T.chars[E] = { x: b, y: w, width: i, height: r, centerX: s, centerY: o, xOffset: 0, yOffset: 0, xAdvance: i, data: {}, kerning: {}, u0: A, v0: C, u1: k, v1: P }, ++S === x ? (S = 0, b = p, w += r + v) : b += i + m } return { data: T, frame: null, texture: l } } } }, 21859: t => {
				function e(t, e) { return parseInt(t.getAttribute(e), 10) } t.exports = function(t, i, n, r, s) { void 0 === n && (n = 0), void 0 === r && (r = 0); var o = i.cutX,
						a = i.cutY,
						l = i.source.width,
						h = i.source.height,
						u = i.sourceIndex,
						c = {},
						d = t.getElementsByTagName("info")[0],
						f = t.getElementsByTagName("common")[0];
					c.font = d.getAttribute("face"), c.size = e(d, "size"), c.lineHeight = e(f, "lineHeight") + r, c.chars = {}; var p = t.getElementsByTagName("char"),
						g = void 0 !== i && i.trimmed; if (g) var m = i.height,
						v = i.width; for (var y = 0; y < p.length; y++) { var x = p[y],
							b = e(x, "id"),
							w = String.fromCharCode(b),
							T = e(x, "x"),
							S = e(x, "y"),
							_ = e(x, "width"),
							E = e(x, "height");
						g && (T < v && (v = T), S < m && (m = S)), g && 0 !== m && 0 !== v && (T -= i.x, S -= i.y); var A = (o + T) / l,
							C = (a + S) / h,
							k = (o + T + _) / l,
							P = (a + S + E) / h; if (c.chars[b] = { x: T, y: S, width: _, height: E, centerX: Math.floor(_ / 2), centerY: Math.floor(E / 2), xOffset: e(x, "xoffset"), yOffset: e(x, "yoffset"), xAdvance: e(x, "xadvance") + n, data: {}, kerning: {}, u0: A, v0: C, u1: k, v1: P }, s && 0 !== _ && 0 !== E) { var O = s.add(w, u, T, S, _, E);
							O && O.setUVs(_, E, A, C, k, P) } } var R = t.getElementsByTagName("kerning"); for (y = 0; y < R.length; y++) { var M = R[y],
							L = e(M, "first"),
							D = e(M, "second"),
							F = e(M, "amount");
						c.chars[D].kerning[L] = F } return c } }, 196: (t, e, i) => { var n = i(87662),
					r = i(79291),
					s = { Parse: i(6925) };
				s = r(!1, s, n), t.exports = s }, 87662: t => { t.exports = { TEXT_SET1: " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~", TEXT_SET2: " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ", TEXT_SET3: "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ", TEXT_SET4: "ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789", TEXT_SET5: "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789", TEXT_SET6: "ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ", TEXT_SET7: "AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39", TEXT_SET8: "0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ", TEXT_SET9: "ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!", TEXT_SET10: "ABCDEFGHIJKLMNOPQRSTUVWXYZ", TEXT_SET11: "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789" } }, 2638: (t, e, i) => { var n = i(22186),
					r = i(83419),
					s = i(12310),
					o = new r({ Extends: n, Mixins: [s], initialize: function(t, e, i, r, s, o, a) { n.call(this, t, e, i, r, s, o, a), this.type = "DynamicBitmapText", this.scrollX = 0, this.scrollY = 0, this.cropWidth = 0, this.cropHeight = 0, this.displayCallback, this.callbackData = { parent: this, color: 0, tint: { topLeft: 0, topRight: 0, bottomLeft: 0, bottomRight: 0 }, index: 0, charCode: 0, x: 0, y: 0, scale: 0, rotation: 0, data: 0 } }, setSize: function(t, e) { return this.cropWidth = t, this.cropHeight = e, this }, setDisplayCallback: function(t) { return this.displayCallback = t, this }, setScrollX: function(t) { return this.scrollX = t, this }, setScrollY: function(t) { return this.scrollY = t, this } });
				t.exports = o }, 86741: (t, e, i) => { var n = i(20926);
				t.exports = function(t, e, i, r) { var s = e._text,
						o = s.length,
						a = t.currentContext; if (0 !== o && n(t, a, e, i, r)) { i.addToRenderList(e); var l = e.fromAtlas ? e.frame : e.texture.frames.__BASE,
							h = e.displayCallback,
							u = e.callbackData,
							c = e.fontData.chars,
							d = e.fontData.lineHeight,
							f = e._letterSpacing,
							p = 0,
							g = 0,
							m = 0,
							v = null,
							y = 0,
							x = 0,
							b = 0,
							w = 0,
							T = 0,
							S = 0,
							_ = null,
							E = 0,
							A = e.frame.source.image,
							C = l.cutX,
							k = l.cutY,
							P = 0,
							O = 0,
							R = e._fontSize / e.fontData.size,
							M = e._align,
							L = 0,
							D = 0;
						e.getTextBounds(!1); var F = e._bounds.lines;
						1 === M ? D = (F.longest - F.lengths[0]) / 2 : 2 === M && (D = F.longest - F.lengths[0]), a.translate(-e.displayOriginX, -e.displayOriginY); var I = i.roundPixels;
						e.cropWidth > 0 && e.cropHeight > 0 && (a.beginPath(), a.rect(0, 0, e.cropWidth, e.cropHeight), a.clip()); for (var B = 0; B < o; B++)
							if (O = R, P = 0, 10 !== (m = s.charCodeAt(B))) { if (v = c[m]) { if (y = C + v.x, x = k + v.y, b = v.width, w = v.height, T = v.xOffset + p - e.scrollX, S = v.yOffset + g - e.scrollY, null !== _) { var N = v.kerning[E];
										T += void 0 !== N ? N : 0 } if (h) { u.index = B, u.charCode = m, u.x = T, u.y = S, u.scale = O, u.rotation = P, u.data = v.data; var z = h(u);
										T = z.x, S = z.y, O = z.scale, P = z.rotation } T *= O, S *= O, T += D, p += v.xAdvance + f + (void 0 !== N ? N : 0), _ = v, E = m, 0 !== b && 0 !== w && 32 !== m && (I && (T = Math.round(T), S = Math.round(S)), a.save(), a.translate(T, S), a.rotate(P), a.scale(O, O), a.drawImage(A, y, x, b, w, 0, 0, b, w), a.restore()) } } else L++, 1 === M ? D = (F.longest - F.lengths[L]) / 2 : 2 === M && (D = F.longest - F.lengths[L]), p = 0, g += d, _ = null;
						a.restore() } } }, 11164: (t, e, i) => { var n = i(2638),
					r = i(25305),
					s = i(44603),
					o = i(23568);
				s.register("dynamicBitmapText", (function(t, e) { void 0 === t && (t = {}); var i = o(t, "font", ""),
						s = o(t, "text", ""),
						a = o(t, "size", !1),
						l = new n(this.scene, 0, 0, i, s, a); return void 0 !== e && (t.add = e), r(this.scene, l, t), l })) }, 72566: (t, e, i) => { var n = i(2638);
				i(39429).register("dynamicBitmapText", (function(t, e, i, r, s) { return this.displayList.add(new n(this.scene, t, e, i, r, s)) })) }, 12310: (t, e, i) => { var n, r;
				i(29747), n = i(73482), r = i(86741), t.exports = { renderWebGL: n, renderCanvas: r } }, 73482: (t, e, i) => { var n = i(91296),
					r = i(61340),
					s = i(70554),
					o = new r;
				t.exports = function(t, e, i, r) { var a = e.text,
						l = a.length; if (0 !== l) { i.addToRenderList(e); var h = t.pipelines.set(e.pipeline, e),
							u = n(e, i, r);
						t.pipelines.preBatch(e); var c = u.sprite,
							d = u.calc,
							f = o,
							p = e.cropWidth > 0 || e.cropHeight > 0;
						p && (h.flush(), t.pushScissor(d.tx, d.ty, e.cropWidth * d.scaleX, e.cropHeight * d.scaleY)); var g, m, v = e.frame.glTexture,
							y = e.tintFill,
							x = s.getTintAppendFloatAlpha(e.tintTopLeft, i.alpha * e._alphaTL),
							b = s.getTintAppendFloatAlpha(e.tintTopRight, i.alpha * e._alphaTR),
							w = s.getTintAppendFloatAlpha(e.tintBottomLeft, i.alpha * e._alphaBL),
							T = s.getTintAppendFloatAlpha(e.tintBottomRight, i.alpha * e._alphaBR),
							S = h.setGameObject(e),
							_ = 0,
							E = 0,
							A = 0,
							C = 0,
							k = e.letterSpacing,
							P = 0,
							O = 0,
							R = e.scrollX,
							M = e.scrollY,
							L = e.fontData,
							D = L.chars,
							F = L.lineHeight,
							I = e.fontSize / L.size,
							B = 0,
							N = e._align,
							z = 0,
							U = 0,
							Y = e.getTextBounds(!1);
						e.maxWidth > 0 && (l = (a = Y.wrappedText).length); var X = e._bounds.lines;
						1 === N ? U = (X.longest - X.lengths[0]) / 2 : 2 === N && (U = X.longest - X.lengths[0]); for (var G = i.roundPixels, H = e.displayCallback, W = e.callbackData, V = 0; V < l; V++)
							if (10 !== (A = a.charCodeAt(V))) { if (g = D[A]) { P = g.width, O = g.height; var j = g.xOffset + _ - R,
										$ = g.yOffset + E - M; if (null !== m) { var q = g.kerning[C] || 0;
										j += q, _ += q } if (_ += g.xAdvance + k, m = g, C = A, 0 !== P && 0 !== O && 32 !== A) { if (I = e.fontSize / e.fontData.size, B = 0, H) { W.color = 0, W.tint.topLeft = x, W.tint.topRight = b, W.tint.bottomLeft = w, W.tint.bottomRight = T, W.index = V, W.charCode = A, W.x = j, W.y = $, W.scale = I, W.rotation = B, W.data = g.data; var K = H(W);
											j = K.x, $ = K.y, I = K.scale, B = K.rotation, K.color ? (x = K.color, b = K.color, w = K.color, T = K.color) : (x = K.tint.topLeft, b = K.tint.topRight, w = K.tint.bottomLeft, T = K.tint.bottomRight), x = s.getTintAppendFloatAlpha(x, i.alpha * e._alphaTL), b = s.getTintAppendFloatAlpha(b, i.alpha * e._alphaTR), w = s.getTintAppendFloatAlpha(w, i.alpha * e._alphaBL), T = s.getTintAppendFloatAlpha(T, i.alpha * e._alphaBR) } j *= I, $ *= I, j -= e.displayOriginX, $ -= e.displayOriginY, j += U, f.applyITRS(j, $, B, I, I), d.multiply(f, c); var Z = g.u0,
											J = g.v0,
											Q = g.u1,
											tt = g.v1,
											et = P,
											it = O,
											nt = c.e,
											rt = c.f,
											st = it * c.c + c.e,
											ot = it * c.d + c.f,
											at = et * c.a + it * c.c + c.e,
											lt = et * c.b + it * c.d + c.f,
											ht = et * c.a + c.e,
											ut = et * c.b + c.f;
										G && (nt = Math.round(nt), rt = Math.round(rt), st = Math.round(st), ot = Math.round(ot), at = Math.round(at), lt = Math.round(lt), ht = Math.round(ht), ut = Math.round(ut)), h.shouldFlush(6) && (h.flush(), S = h.setGameObject(e)), h.batchQuad(e, nt, rt, st, ot, at, lt, ht, ut, Z, J, Q, tt, x, b, w, T, y, v, S) } } } else z++, 1 === N ? U = (X.longest - X.lengths[z]) / 2 : 2 === N && (U = X.longest - X.lengths[z]), _ = 0, E += F, m = null;
						p && (h.flush(), t.popScissor()), t.pipelines.postBatch(e) } } }, 22186: (t, e, i) => { var n = i(83419),
					r = i(45319),
					s = i(31401),
					o = i(95643),
					a = i(53048),
					l = i(61327),
					h = i(21859),
					u = i(87841),
					c = i(18658),
					d = new n({ Extends: o, Mixins: [s.Alpha, s.BlendMode, s.Depth, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.PostPipeline, s.ScrollFactor, s.Texture, s.Tint, s.Transform, s.Visible, c], initialize: function(t, e, i, n, r, s, l) { void 0 === r && (r = ""), void 0 === l && (l = 0), o.call(this, t, "BitmapText"), this.font = n; var h = this.scene.sys.cache.bitmapFont.get(n); if (!h) throw new Error("Invalid BitmapText key: " + n);
							this.fontData = h.data, this._text = "", this._fontSize = s || this.fontData.size, this._letterSpacing = 0, this._lineSpacing = 0, this._align = l, this._bounds = a(), this._dirty = !0, this._maxWidth = 0, this.wordWrapCharCode = 32, this.charColors = [], this.dropShadowX = 0, this.dropShadowY = 0, this.dropShadowColor = 0, this.dropShadowAlpha = .5, this.fromAtlas = h.fromAtlas, this.setTexture(h.texture, h.frame), this.setPosition(e, i), this.setOrigin(0, 0), this.initPipeline(), this.initPostPipeline(), this.setText(r) }, setLeftAlign: function() { return this._align = d.ALIGN_LEFT, this._dirty = !0, this }, setCenterAlign: function() { return this._align = d.ALIGN_CENTER, this._dirty = !0, this }, setRightAlign: function() { return this._align = d.ALIGN_RIGHT, this._dirty = !0, this }, setFontSize: function(t) { return this._fontSize = t, this._dirty = !0, this }, setLetterSpacing: function(t) { return void 0 === t && (t = 0), this._letterSpacing = t, this._dirty = !0, this }, setLineSpacing: function(t) { return void 0 === t && (t = 0), this.lineSpacing = t, this }, setText: function(t) { return t || 0 === t || (t = ""), Array.isArray(t) && (t = t.join("\n")), t !== this.text && (this._text = t.toString(), this._dirty = !0, this.updateDisplayOrigin()), this }, setDropShadow: function(t, e, i, n) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = .5), this.dropShadowX = t, this.dropShadowY = e, this.dropShadowColor = i, this.dropShadowAlpha = n, this }, setCharacterTint: function(t, e, i, n, s, o, a) { void 0 === t && (t = 0), void 0 === e && (e = 1), void 0 === i && (i = !1), void 0 === n && (n = -1), void 0 === s && (s = n, o = n, a = n); var l = this.text.length; - 1 === e && (e = l), t < 0 && (t = l + t), t = r(t, 0, l - 1); for (var h = r(t + e, t, l), u = this.charColors, c = t; c < h; c++) { var d = u[c]; if (-1 === n) u[c] = null;
								else { var f = i ? 1 : 0;
									d ? (d.tintEffect = f, d.tintTL = n, d.tintTR = s, d.tintBL = o, d.tintBR = a) : u[c] = { tintEffect: f, tintTL: n, tintTR: s, tintBL: o, tintBR: a } } } return this }, setWordTint: function(t, e, i, n, r, s, o) { void 0 === e && (e = 1); for (var a = this.getTextBounds().words, l = "number" == typeof t, h = 0, u = 0; u < a.length; u++) { var c = a[u]; if ((l && u === t || !l && c.word === t) && (this.setCharacterTint(c.i, c.word.length, i, n, r, s, o), ++h === e)) return this } return this }, getTextBounds: function(t) { var e = this._bounds; return (this._dirty || t || this.scaleX !== e.scaleX || this.scaleY !== e.scaleY) && (a(this, t, !0, e), this._dirty = !1), e }, getCharacterAt: function(t, e, i) { for (var n = this.getLocalPoint(t, e, null, i), r = this.getTextBounds().characters, s = new u, o = 0; o < r.length; o++) { var a = r[o]; if (s.setTo(a.x, a.t, a.r - a.x, a.b), s.contains(n.x, n.y)) return a } return null }, updateDisplayOrigin: function() { return this._dirty = !0, this.getTextBounds(!1), this }, setFont: function(t, e, i) { void 0 === e && (e = this._fontSize), void 0 === i && (i = this._align); var n = this.scene.sys.cache.bitmapFont.get(t); return n && (this.font = t, this.fontData = n.data, this._fontSize = e, this._align = i, this.fromAtlas = !0 === n.fromAtlas, this.setTexture(n.texture, n.frame), a(this, !1, !0, this._bounds)), this }, setMaxWidth: function(t, e) { return this._maxWidth = t, this._dirty = !0, void 0 !== e && (this.wordWrapCharCode = e), this }, align: { set: function(t) { this._align = t, this._dirty = !0 }, get: function() { return this._align } }, text: { set: function(t) { this.setText(t) }, get: function() { return this._text } }, fontSize: { set: function(t) { this._fontSize = t, this._dirty = !0 }, get: function() { return this._fontSize } }, letterSpacing: { set: function(t) { this._letterSpacing = t, this._dirty = !0 }, get: function() { return this._letterSpacing } }, lineSpacing: { set: function(t) { this._lineSpacing = t, this._dirty = !0 }, get: function() { return this._lineSpacing } }, maxWidth: { set: function(t) { this._maxWidth = t, this._dirty = !0 }, get: function() { return this._maxWidth } }, width: { get: function() { return this.getTextBounds(!1), this._bounds.global.width } }, height: { get: function() { return this.getTextBounds(!1), this._bounds.global.height } }, displayWidth: { get: function() { return this.width } }, displayHeight: { get: function() { return this.height } }, toJSON: function() { var t = s.ToJSON(this),
								e = { font: this.font, text: this.text, fontSize: this.fontSize, letterSpacing: this.letterSpacing, lineSpacing: this.lineSpacing, align: this.align }; return t.data = e, t }, preDestroy: function() { this.charColors.length = 0, this._bounds = null, this.fontData = null } });
				d.ALIGN_LEFT = 0, d.ALIGN_CENTER = 1, d.ALIGN_RIGHT = 2, d.ParseFromAtlas = l, d.ParseXMLBitmapFont = h, t.exports = d }, 37289: (t, e, i) => { var n = i(20926);
				t.exports = function(t, e, i, r) { var s = e._text,
						o = s.length,
						a = t.currentContext; if (0 !== o && n(t, a, e, i, r)) { i.addToRenderList(e); var l = e.fromAtlas ? e.frame : e.texture.frames.__BASE,
							h = e.fontData.chars,
							u = e.fontData.lineHeight,
							c = e._letterSpacing,
							d = e._lineSpacing,
							f = 0,
							p = 0,
							g = 0,
							m = null,
							v = 0,
							y = 0,
							x = 0,
							b = 0,
							w = 0,
							T = 0,
							S = null,
							_ = 0,
							E = l.source.image,
							A = l.cutX,
							C = l.cutY,
							k = e._fontSize / e.fontData.size,
							P = e._align,
							O = 0,
							R = 0,
							M = e.getTextBounds(!1);
						e.maxWidth > 0 && (o = (s = M.wrappedText).length); var L = e._bounds.lines;
						1 === P ? R = (L.longest - L.lengths[0]) / 2 : 2 === P && (R = L.longest - L.lengths[0]), a.translate(-e.displayOriginX, -e.displayOriginY); for (var D = i.roundPixels, F = 0; F < o; F++)
							if (10 !== (g = s.charCodeAt(F))) { if (m = h[g]) { if (v = A + m.x, y = C + m.y, x = m.width, b = m.height, w = m.xOffset + f, T = m.yOffset + p, null !== S) { var I = m.kerning[_];
										w += void 0 !== I ? I : 0 } w *= k, T *= k, w += R, f += m.xAdvance + c + (void 0 !== I ? I : 0), S = m, _ = g, 0 !== x && 0 !== b && 32 !== g && (D && (w = Math.round(w), T = Math.round(T)), a.save(), a.translate(w, T), a.scale(k, k), a.drawImage(E, v, y, x, b, 0, 0, x, b), a.restore()) } } else O++, 1 === P ? R = (L.longest - L.lengths[O]) / 2 : 2 === P && (R = L.longest - L.lengths[O]), f = 0, p += u + d, S = null;
						a.restore() } } }, 57336: (t, e, i) => { var n = i(22186),
					r = i(25305),
					s = i(44603),
					o = i(23568),
					a = i(35154);
				s.register("bitmapText", (function(t, e) { void 0 === t && (t = {}); var i = a(t, "font", ""),
						s = o(t, "text", ""),
						l = o(t, "size", !1),
						h = a(t, "align", 0),
						u = new n(this.scene, 0, 0, i, s, l, h); return void 0 !== e && (t.add = e), r(this.scene, u, t), u })) }, 34914: (t, e, i) => { var n = i(22186);
				i(39429).register("bitmapText", (function(t, e, i, r, s, o) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o)) })) }, 18658: (t, e, i) => { var n, r;
				i(29747), n = i(33590), r = i(37289), t.exports = { renderWebGL: n, renderCanvas: r } }, 33590: (t, e, i) => { var n = i(3217),
					r = i(91296),
					s = i(70554);
				t.exports = function(t, e, i, o) { if (0 !== e._text.length) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline, e),
							l = r(e, i, o).calc;
						t.pipelines.preBatch(e); var h, u, c, d = i.roundPixels,
							f = i.alpha,
							p = e.charColors,
							g = e.tintFill,
							m = s.getTintAppendFloatAlpha,
							v = m(e.tintTopLeft, f * e._alphaTL),
							y = m(e.tintTopRight, f * e._alphaTR),
							x = m(e.tintBottomLeft, f * e._alphaBL),
							b = m(e.tintBottomRight, f * e._alphaBR),
							w = e.frame.glTexture,
							T = a.setGameObject(e),
							S = e.getTextBounds(!1).characters,
							_ = e.dropShadowX,
							E = e.dropShadowY; if (0 !== _ || 0 !== E) { var A = e.dropShadowColor,
								C = e.dropShadowAlpha,
								k = m(A, f * C * e._alphaTL),
								P = m(A, f * C * e._alphaTR),
								O = m(A, f * C * e._alphaBL),
								R = m(A, f * C * e._alphaBR); for (h = 0; h < S.length; h++) c = (u = S[h]).glyph, 32 !== u.code && 0 !== c.width && 0 !== c.height && n(a, e, u, c, _, E, l, d, k, P, O, R, 1, w, T) } for (h = 0; h < S.length; h++)
							if (c = (u = S[h]).glyph, 32 !== u.code && 0 !== c.width && 0 !== c.height)
								if (a.shouldFlush(6) && (a.flush(), T = a.setGameObject(e)), p[u.i]) { var M = p[u.i],
										L = M.tintEffect,
										D = m(M.tintTL, f * e._alphaTL),
										F = m(M.tintTR, f * e._alphaTR),
										I = m(M.tintBL, f * e._alphaBL),
										B = m(M.tintBR, f * e._alphaBR);
									n(a, e, u, c, 0, 0, l, d, D, F, I, B, L, w, T) } else n(a, e, u, c, 0, 0, l, d, v, y, x, b, g, w, T);
						t.pipelines.postBatch(e) } } }, 6107: (t, e, i) => { var n = i(48011),
					r = i(46590),
					s = i(83419),
					o = i(31401),
					a = i(4327),
					l = i(95643),
					h = i(73162),
					u = new s({ Extends: l, Mixins: [o.Alpha, o.BlendMode, o.Depth, o.Mask, o.Pipeline, o.PostPipeline, o.ScrollFactor, o.Size, o.Texture, o.Transform, o.Visible, n], initialize: function(t, e, i, n, r) { l.call(this, t, "Blitter"), this.setTexture(n, r), this.setPosition(e, i), this.initPipeline(), this.initPostPipeline(), this.children = new h, this.renderList = [], this.dirty = !1 }, create: function(t, e, i, n, s) { void 0 === n && (n = !0), void 0 === s && (s = this.children.length), void 0 === i ? i = this.frame : i instanceof a || (i = this.texture.get(i)); var o = new r(this, t, e, i, n); return this.children.addAt(o, s, !1), this.dirty = !0, o }, createFromCallback: function(t, e, i, n) { for (var r = this.createMultiple(e, i, n), s = 0; s < r.length; s++) { var o = r[s];
								t.call(this, o, s) } return r }, createMultiple: function(t, e, i) { void 0 === e && (e = this.frame.name), void 0 === i && (i = !0), Array.isArray(e) || (e = [e]); var n = [],
								r = this; return e.forEach((function(e) { for (var s = 0; s < t; s++) n.push(r.create(0, 0, e, i)) })), n }, childCanRender: function(t) { return t.visible && t.alpha > 0 }, getRenderList: function() { return this.dirty && (this.renderList = this.children.list.filter(this.childCanRender, this), this.dirty = !1), this.renderList }, clear: function() { this.children.removeAll(), this.dirty = !0 }, preDestroy: function() { this.children.destroy(), this.renderList = [] } });
				t.exports = u }, 72396: t => { t.exports = function(t, e, i, n) { var r = e.getRenderList(); if (0 !== r.length) { var s = t.currentContext,
							o = i.alpha * e.alpha; if (0 !== o) { i.addToRenderList(e), s.globalCompositeOperation = t.blendModes[e.blendMode], s.imageSmoothingEnabled = !e.frame.source.scaleMode; var a = e.x - i.scrollX * e.scrollFactorX,
								l = e.y - i.scrollY * e.scrollFactorY;
							s.save(), n && n.copyToContext(s); for (var h = i.roundPixels, u = 0; u < r.length; u++) { var c = r[u],
									d = c.flipX || c.flipY,
									f = c.frame,
									p = f.canvasData,
									g = f.x,
									m = f.y,
									v = 1,
									y = 1,
									x = c.alpha * o;
								0 !== x && (s.globalAlpha = x, d ? (c.flipX && (v = -1, g -= p.width), c.flipY && (y = -1, m -= p.height), p.width > 0 && p.height > 0 && (s.save(), s.translate(c.x + a, c.y + l), s.scale(v, y), s.drawImage(f.source.image, p.x, p.y, p.width, p.height, g, m, p.width, p.height), s.restore())) : (h && (g = Math.round(g), m = Math.round(m)), p.width > 0 && p.height > 0 && s.drawImage(f.source.image, p.x, p.y, p.width, p.height, g + c.x + a, m + c.y + l, p.width, p.height))) } s.restore() } } } }, 9403: (t, e, i) => { var n = i(6107),
					r = i(25305),
					s = i(44603),
					o = i(23568);
				s.register("blitter", (function(t, e) { void 0 === t && (t = {}); var i = o(t, "key", null),
						s = o(t, "frame", null),
						a = new n(this.scene, 0, 0, i, s); return void 0 !== e && (t.add = e), r(this.scene, a, t), a })) }, 12709: (t, e, i) => { var n = i(6107);
				i(39429).register("blitter", (function(t, e, i, r) { return this.displayList.add(new n(this.scene, t, e, i, r)) })) }, 48011: (t, e, i) => { var n, r;
				i(29747), n = i(99485), r = i(72396), t.exports = { renderWebGL: n, renderCanvas: r } }, 99485: (t, e, i) => { var n = i(61340),
					r = i(70554),
					s = new n;
				t.exports = function(t, e, i, n) { var o = e.getRenderList(),
						a = i.alpha * e.alpha; if (0 !== o.length && 0 !== a) { i.addToRenderList(e); var l = t.pipelines.set(this.pipeline, e),
							h = i.scrollX * e.scrollFactorX,
							u = i.scrollY * e.scrollFactorY,
							c = s.copyFrom(i.matrix);
						n && (c.multiplyWithOffset(n, -h, -u), h = 0, u = 0); var d = e.x - h,
							f = e.y - u,
							p = -1,
							g = i.roundPixels;
						t.pipelines.preBatch(e); for (var m = 0; m < o.length; m++) { var v = o[m],
								y = v.frame,
								x = v.alpha * a; if (0 !== x) { var b = y.width,
									w = y.height,
									T = d + v.x + y.x,
									S = f + v.y + y.y;
								v.flipX && (b *= -1, T += y.width), v.flipY && (w *= -1, S += y.height); var _ = c.setQuad(T, S, T + b, S + w, g),
									E = r.getTintAppendFloatAlpha(v.tint, x); if (y.sourceIndex !== p) { var A = l.setGameObject(e, y);
									p = y.sourceIndex } l.batchQuad(e, _[0], _[1], _[2], _[3], _[4], _[5], _[6], _[7], y.u0, y.v0, y.u1, y.v1, E, E, E, E, !1, y.glTexture, A) && (p = -1) } } t.pipelines.postBatch(e) } } }, 46590: (t, e, i) => { var n = i(83419),
					r = i(4327),
					s = new n({ initialize: function(t, e, i, n, r) { this.parent = t, this.x = e, this.y = i, this.frame = n, this.data = {}, this.tint = 16777215, this._visible = r, this._alpha = 1, this.flipX = !1, this.flipY = !1, this.hasTransformComponent = !0 }, setFrame: function(t) { return void 0 === t ? this.frame = this.parent.frame : t instanceof r && t.texture === this.parent.texture ? this.frame = t : this.frame = this.parent.texture.get(t), this }, resetFlip: function() { return this.flipX = !1, this.flipY = !1, this }, reset: function(t, e, i) { return this.x = t, this.y = e, this.flipX = !1, this.flipY = !1, this._alpha = 1, this._visible = !0, this.parent.dirty = !0, i && this.setFrame(i), this }, setPosition: function(t, e) { return this.x = t, this.y = e, this }, setFlipX: function(t) { return this.flipX = t, this }, setFlipY: function(t) { return this.flipY = t, this }, setFlip: function(t, e) { return this.flipX = t, this.flipY = e, this }, setVisible: function(t) { return this.visible = t, this }, setAlpha: function(t) { return this.alpha = t, this }, setTint: function(t) { return this.tint = t, this }, destroy: function() { this.parent.dirty = !0, this.parent.children.remove(this), this.parent = void 0, this.frame = void 0, this.data = void 0 }, visible: { get: function() { return this._visible }, set: function(t) { this.parent.dirty |= this._visible !== t, this._visible = t } }, alpha: { get: function() { return this._alpha }, set: function(t) { this.parent.dirty |= this._alpha > 0 != t > 0, this._alpha = t } } });
				t.exports = s }, 16005: (t, e, i) => { var n = i(45319),
					r = { _alpha: 1, _alphaTL: 1, _alphaTR: 1, _alphaBL: 1, _alphaBR: 1, clearAlpha: function() { return this.setAlpha(1) }, setAlpha: function(t, e, i, r) { return void 0 === t && (t = 1), void 0 === e ? this.alpha = t : (this._alphaTL = n(t, 0, 1), this._alphaTR = n(e, 0, 1), this._alphaBL = n(i, 0, 1), this._alphaBR = n(r, 0, 1)), this }, alpha: { get: function() { return this._alpha }, set: function(t) { var e = n(t, 0, 1);
								this._alpha = e, this._alphaTL = e, this._alphaTR = e, this._alphaBL = e, this._alphaBR = e, 0 === e ? this.renderFlags &= -3 : this.renderFlags |= 2 } }, alphaTopLeft: { get: function() { return this._alphaTL }, set: function(t) { var e = n(t, 0, 1);
								this._alphaTL = e, 0 !== e && (this.renderFlags |= 2) } }, alphaTopRight: { get: function() { return this._alphaTR }, set: function(t) { var e = n(t, 0, 1);
								this._alphaTR = e, 0 !== e && (this.renderFlags |= 2) } }, alphaBottomLeft: { get: function() { return this._alphaBL }, set: function(t) { var e = n(t, 0, 1);
								this._alphaBL = e, 0 !== e && (this.renderFlags |= 2) } }, alphaBottomRight: { get: function() { return this._alphaBR }, set: function(t) { var e = n(t, 0, 1);
								this._alphaBR = e, 0 !== e && (this.renderFlags |= 2) } } };
				t.exports = r }, 88509: (t, e, i) => { var n = i(45319),
					r = { _alpha: 1, clearAlpha: function() { return this.setAlpha(1) }, setAlpha: function(t) { return void 0 === t && (t = 1), this.alpha = t, this }, alpha: { get: function() { return this._alpha }, set: function(t) { var e = n(t, 0, 1);
								this._alpha = e, 0 === e ? this.renderFlags &= -3 : this.renderFlags |= 2 } } };
				t.exports = r }, 90065: (t, e, i) => { var n = i(10312),
					r = { _blendMode: n.NORMAL, blendMode: { get: function() { return this._blendMode }, set: function(t) { "string" == typeof t && (t = n[t]), (t |= 0) >= -1 && (this._blendMode = t) } }, setBlendMode: function(t) { return this.blendMode = t, this } };
				t.exports = r }, 94215: t => { t.exports = { width: 0, height: 0, displayWidth: { get: function() { return this.scaleX * this.width }, set: function(t) { this.scaleX = t / this.width } }, displayHeight: { get: function() { return this.scaleY * this.height }, set: function(t) { this.scaleY = t / this.height } }, setSize: function(t, e) { return this.width = t, this.height = e, this }, setDisplaySize: function(t, e) { return this.displayWidth = t, this.displayHeight = e, this } } }, 61683: t => { t.exports = { texture: null, frame: null, isCropped: !1, setCrop: function(t, e, i, n) { if (void 0 === t) this.isCropped = !1;
						else if (this.frame) { if ("number" == typeof t) this.frame.setCropUVs(this._crop, t, e, i, n, this.flipX, this.flipY);
							else { var r = t;
								this.frame.setCropUVs(this._crop, r.x, r.y, r.width, r.height, this.flipX, this.flipY) } this.isCropped = !0 } return this }, resetCropObject: function() { return { u0: 0, v0: 0, u1: 0, v1: 0, width: 0, height: 0, x: 0, y: 0, flipX: !1, flipY: !1, cx: 0, cy: 0, cw: 0, ch: 0 } } } }, 89272: (t, e, i) => { var n = i(37105),
					r = { _depth: 0, depth: { get: function() { return this._depth }, set: function(t) { this.displayList && this.displayList.queueDepthSort(), this._depth = t } }, setDepth: function(t) { return void 0 === t && (t = 0), this.depth = t, this }, setToTop: function() { var t = this.getDisplayList(); return t && n.BringToTop(t, this), this }, setToBack: function() { var t = this.getDisplayList(); return t && n.SendToBack(t, this), this }, setAbove: function(t) { var e = this.getDisplayList(); return e && t && n.MoveAbove(e, this, t), this }, setBelow: function(t) { var e = this.getDisplayList(); return e && t && n.MoveBelow(e, this, t), this } };
				t.exports = r }, 47059: (t, e, i) => { var n = i(83419),
					r = i(66064),
					s = i(19133),
					o = new n({ initialize: function(t, e) { this.gameObject = t, this.isPost = e, this.enabled = !1, this.list = [], this.padding = 0 }, setPadding: function(t) { return void 0 === t && (t = 0), this.padding = t, this.gameObject }, onFXCopy: function() {}, onFX: function() {}, enable: function(t) { if (!this.isPost) { var e = this.gameObject.scene.sys.renderer;
								e && e.pipelines ? (this.gameObject.pipeline = e.pipelines.FX_PIPELINE, void 0 !== t && (this.padding = t), this.enabled = !0) : this.enabled = !1 } }, clear: function() { if (this.isPost) this.gameObject.resetPostPipeline(!0);
							else { for (var t = this.list, e = 0; e < t.length; e++) t[e].destroy();
								this.list = [] } return this.enabled = !1, this.gameObject }, remove: function(t) { var e; if (this.isPost) { var i = this.gameObject.getPostPipeline(String(t.type)); for (Array.isArray(i) || (i = [i]), e = 0; e < i.length; e++) { var n = i[e]; if (n.controller === t) { this.gameObject.removePostPipeline(n), t.destroy(); break } } } else { var r = this.list; for (e = 0; e < r.length; e++) r[e] === t && (s(r, e), t.destroy()) } return this.gameObject }, disable: function(t) { return void 0 === t && (t = !1), this.isPost || this.gameObject.resetPipeline(), this.enabled = !1, t && this.clear(), this.gameObject }, add: function(t, e) { if (!this.isPost) return this.enabled || this.enable(), this.list.push(t), t; var i = String(t.type);
							this.gameObject.setPostPipeline(i, e); var n = this.gameObject.getPostPipeline(i); return n ? (Array.isArray(n) && (n = n.pop()), n && (n.controller = t), t) : void 0 }, addGlow: function(t, e, i, n, s, o) { return this.add(new r.Glow(this.gameObject, t, e, i, n), { quality: s, distance: o }) }, addShadow: function(t, e, i, n, s, o, a) { return this.add(new r.Shadow(this.gameObject, t, e, i, n, s, o, a)) }, addPixelate: function(t) { return this.add(new r.Pixelate(this.gameObject, t)) }, addVignette: function(t, e, i, n) { return this.add(new r.Vignette(this.gameObject, t, e, i, n)) }, addShine: function(t, e, i, n) { return this.add(new r.Shine(this.gameObject, t, e, i, n)) }, addBlur: function(t, e, i, n, s, o) { return this.add(new r.Blur(this.gameObject, t, e, i, n, s, o)) }, addGradient: function(t, e, i, n, s, o, a, l) { return this.add(new r.Gradient(this.gameObject, t, e, i, n, s, o, a, l)) }, addBloom: function(t, e, i, n, s, o) { return this.add(new r.Bloom(this.gameObject, t, e, i, n, s, o)) }, addColorMatrix: function() { return this.add(new r.ColorMatrix(this.gameObject)) }, addCircle: function(t, e, i, n, s) { return this.add(new r.Circle(this.gameObject, t, e, i, n, s)) }, addBarrel: function(t) { return this.add(new r.Barrel(this.gameObject, t)) }, addDisplacement: function(t, e, i) { return this.add(new r.Displacement(this.gameObject, t, e, i)) }, addWipe: function(t, e, i) { return this.add(new r.Wipe(this.gameObject, t, e, i)) }, addReveal: function(t, e, i) { return this.add(new r.Wipe(this.gameObject, t, e, i, !0)) }, addBokeh: function(t, e, i) { return this.add(new r.Bokeh(this.gameObject, t, e, i)) }, addTiltShift: function(t, e, i, n, s, o) { return this.add(new r.Bokeh(this.gameObject, t, e, i, !0, n, s, o)) }, destroy: function() { this.clear(), this.gameObject = null } });
				t.exports = o }, 54434: t => { t.exports = { flipX: !1, flipY: !1, toggleFlipX: function() { return this.flipX = !this.flipX, this }, toggleFlipY: function() { return this.flipY = !this.flipY, this }, setFlipX: function(t) { return this.flipX = t, this }, setFlipY: function(t) { return this.flipY = t, this }, setFlip: function(t, e) { return this.flipX = t, this.flipY = e, this }, resetFlip: function() { return this.flipX = !1, this.flipY = !1, this } } }, 8004: (t, e, i) => { var n = i(87841),
					r = i(11520),
					s = i(26099),
					o = { prepareBoundsOutput: function(t, e) { return void 0 === e && (e = !1), 0 !== this.rotation && r(t, this.x, this.y, this.rotation), e && this.parentContainer && this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x, t.y, t), t }, getCenter: function(t, e) { return void 0 === t && (t = new s), t.x = this.x - this.displayWidth * this.originX + this.displayWidth / 2, t.y = this.y - this.displayHeight * this.originY + this.displayHeight / 2, this.prepareBoundsOutput(t, e) }, getTopLeft: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX, t.y = this.y - this.displayHeight * this.originY, this.prepareBoundsOutput(t, e) }, getTopCenter: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX + this.displayWidth / 2, t.y = this.y - this.displayHeight * this.originY, this.prepareBoundsOutput(t, e) }, getTopRight: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX + this.displayWidth, t.y = this.y - this.displayHeight * this.originY, this.prepareBoundsOutput(t, e) }, getLeftCenter: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX, t.y = this.y - this.displayHeight * this.originY + this.displayHeight / 2, this.prepareBoundsOutput(t, e) }, getRightCenter: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX + this.displayWidth, t.y = this.y - this.displayHeight * this.originY + this.displayHeight / 2, this.prepareBoundsOutput(t, e) }, getBottomLeft: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX, t.y = this.y - this.displayHeight * this.originY + this.displayHeight, this.prepareBoundsOutput(t, e) }, getBottomCenter: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX + this.displayWidth / 2, t.y = this.y - this.displayHeight * this.originY + this.displayHeight, this.prepareBoundsOutput(t, e) }, getBottomRight: function(t, e) { return t || (t = new s), t.x = this.x - this.displayWidth * this.originX + this.displayWidth, t.y = this.y - this.displayHeight * this.originY + this.displayHeight, this.prepareBoundsOutput(t, e) }, getBounds: function(t) { var e, i, r, s, o, a, l, h; if (void 0 === t && (t = new n), this.parentContainer) { var u = this.parentContainer.getBoundsTransformMatrix();
								this.getTopLeft(t), u.transformPoint(t.x, t.y, t), e = t.x, i = t.y, this.getTopRight(t), u.transformPoint(t.x, t.y, t), r = t.x, s = t.y, this.getBottomLeft(t), u.transformPoint(t.x, t.y, t), o = t.x, a = t.y, this.getBottomRight(t), u.transformPoint(t.x, t.y, t), l = t.x, h = t.y } else this.getTopLeft(t), e = t.x, i = t.y, this.getTopRight(t), r = t.x, s = t.y, this.getBottomLeft(t), o = t.x, a = t.y, this.getBottomRight(t), l = t.x, h = t.y; return t.x = Math.min(e, r, o, l), t.y = Math.min(i, s, a, h), t.width = Math.max(e, r, o, l) - t.x, t.height = Math.max(i, s, a, h) - t.y, t } };
				t.exports = o }, 8573: (t, e, i) => { var n = i(6858),
					r = i(80661),
					s = { mask: null, setMask: function(t) { return this.mask = t, this }, clearMask: function(t) { return void 0 === t && (t = !1), t && this.mask && this.mask.destroy(), this.mask = null, this }, createBitmapMask: function(t, e, i, r, s) { return void 0 === t && (this.texture || this.shader || this.geom) && (t = this), new n(this.scene, t, e, i, r, s) }, createGeometryMask: function(t) { return void 0 !== t || "Graphics" !== this.type && !this.geom || (t = this), new r(this.scene, t) } };
				t.exports = s }, 27387: t => { t.exports = { _originComponent: !0, originX: .5, originY: .5, _displayOriginX: 0, _displayOriginY: 0, displayOriginX: { get: function() { return this._displayOriginX }, set: function(t) { this._displayOriginX = t, this.originX = t / this.width } }, displayOriginY: { get: function() { return this._displayOriginY }, set: function(t) { this._displayOriginY = t, this.originY = t / this.height } }, setOrigin: function(t, e) { return void 0 === t && (t = .5), void 0 === e && (e = t), this.originX = t, this.originY = e, this.updateDisplayOrigin() }, setOriginFromFrame: function() { return this.frame && this.frame.customPivot ? (this.originX = this.frame.pivotX, this.originY = this.frame.pivotY, this.updateDisplayOrigin()) : this.setOrigin() }, setDisplayOrigin: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.displayOriginX = t, this.displayOriginY = e, this }, updateDisplayOrigin: function() { return this._displayOriginX = this.originX * this.width, this._displayOriginY = this.originY * this.height, this } } }, 37640: (t, e, i) => { var n = i(39506),
					r = i(57355),
					s = i(35154),
					o = i(86353),
					a = i(26099),
					l = { path: null, rotateToPath: !1, pathRotationOffset: 0, pathOffset: null, pathVector: null, pathDelta: null, pathTween: null, pathConfig: null, _prevDirection: o.PLAYING_FORWARD, setPath: function(t, e) { void 0 === e && (e = this.pathConfig); var i = this.pathTween; return i && i.isPlaying() && i.stop(), this.path = t, e && this.startFollow(e), this }, setRotateToPath: function(t, e) { return void 0 === e && (e = 0), this.rotateToPath = t, this.pathRotationOffset = e, this }, isFollowing: function() { var t = this.pathTween; return t && t.isPlaying() }, startFollow: function(t, e) { void 0 === t && (t = {}), void 0 === e && (e = 0); var i = this.pathTween;
							i && i.isPlaying() && i.stop(), "number" == typeof t && (t = { duration: t }), t.from = s(t, "from", 0), t.to = s(t, "to", 1); var l = r(t, "positionOnPath", !1);
							this.rotateToPath = r(t, "rotateToPath", !1), this.pathRotationOffset = s(t, "rotationOffset", 0); var h = s(t, "startAt", e); if (h && (t.onStart = function(t) { var e = t.data[0];
									e.progress = h, e.elapsed = e.duration * h; var i = e.ease(e.progress);
									e.current = e.start + (e.end - e.start) * i, e.setTargetValue() }), this.pathOffset || (this.pathOffset = new a(this.x, this.y)), this.pathVector || (this.pathVector = new a), this.pathDelta || (this.pathDelta = new a), this.pathDelta.reset(), t.persist = !0, this.pathTween = this.scene.sys.tweens.addCounter(t), this.path.getStartPoint(this.pathOffset), l && (this.x = this.pathOffset.x, this.y = this.pathOffset.y), this.pathOffset.x = this.x - this.pathOffset.x, this.pathOffset.y = this.y - this.pathOffset.y, this._prevDirection = o.PLAYING_FORWARD, this.rotateToPath) { var u = this.path.getPoint(.1);
								this.rotation = Math.atan2(u.y - this.y, u.x - this.x) + n(this.pathRotationOffset) } return this.pathConfig = t, this }, pauseFollow: function() { var t = this.pathTween; return t && t.isPlaying() && t.pause(), this }, resumeFollow: function() { var t = this.pathTween; return t && t.isPaused() && t.resume(), this }, stopFollow: function() { var t = this.pathTween; return t && t.isPlaying() && t.stop(), this }, pathUpdate: function() { var t = this.pathTween; if (t && t.data) { var e = t.data[0],
									i = this.pathDelta,
									r = this.pathVector; if (i.copy(r).negate(), e.state === o.COMPLETE) return this.path.getPoint(e.end, r), i.add(r), r.add(this.pathOffset), void this.setPosition(r.x, r.y); if (e.state !== o.PLAYING_FORWARD && e.state !== o.PLAYING_BACKWARD) return;
								this.path.getPoint(t.getValue(), r), i.add(r), r.add(this.pathOffset); var s = this.x,
									a = this.y;
								this.setPosition(r.x, r.y); var l = this.x - s,
									h = this.y - a; if (0 === l && 0 === h) return; if (e.state !== this._prevDirection) return void(this._prevDirection = e.state);
								this.rotateToPath && (this.rotation = Math.atan2(h, l) + n(this.pathRotationOffset)) } } };
				t.exports = l }, 72699: (t, e, i) => { var n = i(62644),
					r = { defaultPipeline: null, pipeline: null, pipelineData: null, initPipeline: function(t) { this.pipelineData = {}; var e = this.scene.sys.renderer; if (!e) return !1; var i = e.pipelines; if (i) { void 0 === t && (t = i.default); var n = i.get(t); if (n) return this.defaultPipeline = n, this.pipeline = n, !0 } return !1 }, setPipeline: function(t, e, i) { var r = this.scene.sys.renderer; if (!r) return this; var s = r.pipelines; if (s) { var o = s.get(t);
								o && (this.pipeline = o), e && (this.pipelineData = i ? n(e) : e) } return this }, setPipelineData: function(t, e) { var i = this.pipelineData; return void 0 === e ? delete i[t] : i[t] = e, this }, resetPipeline: function(t) { return void 0 === t && (t = !1), this.pipeline = this.defaultPipeline, t && (this.pipelineData = {}), null !== this.pipeline }, getPipelineName: function() { return null === this.pipeline ? null : this.pipeline.name } };
				t.exports = r }, 17581: (t, e, i) => { var n = i(62644),
					r = i(47059),
					s = i(19133),
					o = { hasPostPipeline: !1, postPipelines: null, postPipelineData: null, preFX: null, postFX: null, initPostPipeline: function(t) { this.postPipelines = [], this.postPipelineData = {}, this.postFX = new r(this, !0), t && (this.preFX = new r(this, !1)) }, setPostPipeline: function(t, e, i) { var r = this.scene.sys.renderer; if (!r) return this; var s = r.pipelines; if (s) { Array.isArray(t) || (t = [t]); for (var o = 0; o < t.length; o++) { var a = s.getPostPipeline(t[o], this, e);
									a && this.postPipelines.push(a) } e && (this.postPipelineData = i ? n(e) : e) } return this.hasPostPipeline = this.postPipelines.length > 0, this }, setPostPipelineData: function(t, e) { var i = this.postPipelineData; return void 0 === e ? delete i[t] : i[t] = e, this }, getPostPipeline: function(t) { for (var e = "string" == typeof t, i = this.postPipelines, n = [], r = 0; r < i.length; r++) { var s = i[r];
								(e && s.name === t || !e && s instanceof t) && n.push(s) } return 1 === n.length ? n[0] : n }, resetPostPipeline: function(t) { void 0 === t && (t = !1); for (var e = this.postPipelines, i = 0; i < e.length; i++) e[i].destroy();
							this.postPipelines = [], this.hasPostPipeline = !1, t && (this.postPipelineData = {}) }, removePostPipeline: function(t) { for (var e = "string" == typeof t, i = this.postPipelines, n = i.length - 1; n >= 0; n--) { var r = i[n];
								(e && r.name === t || !e && r === t) && (r.destroy(), s(i, n)) } return this.hasPostPipeline = this.postPipelines.length > 0, this }, clearFX: function() { return this.preFX && this.preFX.clear(), this.postFX && this.postFX.clear(), this } };
				t.exports = o }, 80227: t => { t.exports = { scrollFactorX: 1, scrollFactorY: 1, setScrollFactor: function(t, e) { return void 0 === e && (e = t), this.scrollFactorX = t, this.scrollFactorY = e, this } } }, 16736: t => { var e = { _sizeComponent: !0, width: 0, height: 0, displayWidth: { get: function() { return Math.abs(this.scaleX * this.frame.realWidth) }, set: function(t) { this.scaleX = t / this.frame.realWidth } }, displayHeight: { get: function() { return Math.abs(this.scaleY * this.frame.realHeight) }, set: function(t) { this.scaleY = t / this.frame.realHeight } }, setSizeToFrame: function(t) { t || (t = this.frame), this.width = t.realWidth, this.height = t.realHeight; var e = this.input; return e && !e.customHitArea && (e.hitArea.width = this.width, e.hitArea.height = this.height), this }, setSize: function(t, e) { return this.width = t, this.height = e, this }, setDisplaySize: function(t, e) { return this.displayWidth = t, this.displayHeight = e, this } };
				t.exports = e }, 37726: (t, e, i) => { var n = i(4327),
					r = { texture: null, frame: null, isCropped: !1, setTexture: function(t, e, i, n) { return this.texture = this.scene.sys.textures.get(t), this.setFrame(e, i, n) }, setFrame: function(t, e, i) { return void 0 === e && (e = !0), void 0 === i && (i = !0), t instanceof n ? (this.texture = this.scene.sys.textures.get(t.texture.key), this.frame = t) : this.frame = this.texture.get(t), this.frame.cutWidth && this.frame.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, this._sizeComponent && e && this.setSizeToFrame(), this._originComponent && i && (this.frame.customPivot ? this.setOrigin(this.frame.pivotX, this.frame.pivotY) : this.updateDisplayOrigin()), this } };
				t.exports = r }, 79812: (t, e, i) => { var n = i(4327),
					r = { texture: null, frame: null, isCropped: !1, setCrop: function(t, e, i, n) { if (void 0 === t) this.isCropped = !1;
							else if (this.frame) { if ("number" == typeof t) this.frame.setCropUVs(this._crop, t, e, i, n, this.flipX, this.flipY);
								else { var r = t;
									this.frame.setCropUVs(this._crop, r.x, r.y, r.width, r.height, this.flipX, this.flipY) } this.isCropped = !0 } return this }, setTexture: function(t, e) { return this.texture = this.scene.sys.textures.get(t), this.setFrame(e) }, setFrame: function(t, e, i) { return void 0 === e && (e = !0), void 0 === i && (i = !0), t instanceof n ? (this.texture = this.scene.sys.textures.get(t.texture.key), this.frame = t) : this.frame = this.texture.get(t), this.frame.cutWidth && this.frame.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, this._sizeComponent && e && this.setSizeToFrame(), this._originComponent && i && (this.frame.customPivot ? this.setOrigin(this.frame.pivotX, this.frame.pivotY) : this.updateDisplayOrigin()), this.isCropped && this.frame.updateCropUVs(this._crop, this.flipX, this.flipY), this }, resetCropObject: function() { return { u0: 0, v0: 0, u1: 0, v1: 0, width: 0, height: 0, x: 0, y: 0, flipX: !1, flipY: !1, cx: 0, cy: 0, cw: 0, ch: 0 } } };
				t.exports = r }, 27472: t => { t.exports = { tintTopLeft: 16777215, tintTopRight: 16777215, tintBottomLeft: 16777215, tintBottomRight: 16777215, tintFill: !1, clearTint: function() { return this.setTint(16777215), this }, setTint: function(t, e, i, n) { return void 0 === t && (t = 16777215), void 0 === e && (e = t, i = t, n = t), this.tintTopLeft = t, this.tintTopRight = e, this.tintBottomLeft = i, this.tintBottomRight = n, this.tintFill = !1, this }, setTintFill: function(t, e, i, n) { return this.setTint(t, e, i, n), this.tintFill = !0, this }, tint: { get: function() { return this.tintTopLeft }, set: function(t) { this.setTint(t, t, t, t) } }, isTinted: { get: function() { var t = 16777215; return this.tintFill || this.tintTopLeft !== t || this.tintTopRight !== t || this.tintBottomLeft !== t || this.tintBottomRight !== t } } } }, 53774: t => { t.exports = function(t) { var e = { name: t.name, type: t.type, x: t.x, y: t.y, depth: t.depth, scale: { x: t.scaleX, y: t.scaleY }, origin: { x: t.originX, y: t.originY }, flipX: t.flipX, flipY: t.flipY, rotation: t.rotation, alpha: t.alpha, visible: t.visible, blendMode: t.blendMode, textureKey: "", frameKey: "", data: {} }; return t.texture && (e.textureKey = t.texture.key, e.frameKey = t.frame.name), e } }, 16901: (t, e, i) => { var n = i(36383),
					r = i(61340),
					s = i(85955),
					o = i(86554),
					a = i(30954),
					l = i(26099),
					h = { hasTransformComponent: !0, _scaleX: 1, _scaleY: 1, _rotation: 0, x: 0, y: 0, z: 0, w: 0, scale: { get: function() { return (this._scaleX + this._scaleY) / 2 }, set: function(t) { this._scaleX = t, this._scaleY = t, 0 === t ? this.renderFlags &= -5 : this.renderFlags |= 4 } }, scaleX: { get: function() { return this._scaleX }, set: function(t) { this._scaleX = t, 0 === t ? this.renderFlags &= -5 : 0 !== this._scaleY && (this.renderFlags |= 4) } }, scaleY: { get: function() { return this._scaleY }, set: function(t) { this._scaleY = t, 0 === t ? this.renderFlags &= -5 : 0 !== this._scaleX && (this.renderFlags |= 4) } }, angle: { get: function() { return a(this._rotation * n.RAD_TO_DEG) }, set: function(t) { this.rotation = a(t) * n.DEG_TO_RAD } }, rotation: { get: function() { return this._rotation }, set: function(t) { this._rotation = o(t) } }, setPosition: function(t, e, i, n) { return void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = 0), void 0 === n && (n = 0), this.x = t, this.y = e, this.z = i, this.w = n, this }, copyPosition: function(t) { return void 0 !== t.x && (this.x = t.x), void 0 !== t.y && (this.y = t.y), void 0 !== t.z && (this.z = t.z), void 0 !== t.w && (this.w = t.w), this }, setRandomPosition: function(t, e, i, n) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.scale.width), void 0 === n && (n = this.scene.sys.scale.height), this.x = t + Math.random() * i, this.y = e + Math.random() * n, this }, setRotation: function(t) { return void 0 === t && (t = 0), this.rotation = t, this }, setAngle: function(t) { return void 0 === t && (t = 0), this.angle = t, this }, setScale: function(t, e) { return void 0 === t && (t = 1), void 0 === e && (e = t), this.scaleX = t, this.scaleY = e, this }, setX: function(t) { return void 0 === t && (t = 0), this.x = t, this }, setY: function(t) { return void 0 === t && (t = 0), this.y = t, this }, setZ: function(t) { return void 0 === t && (t = 0), this.z = t, this }, setW: function(t) { return void 0 === t && (t = 0), this.w = t, this }, getLocalTransformMatrix: function(t) { return void 0 === t && (t = new r), t.applyITRS(this.x, this.y, this._rotation, this._scaleX, this._scaleY) }, getWorldTransformMatrix: function(t, e) { void 0 === t && (t = new r); var i = this.parentContainer; if (!i) return this.getLocalTransformMatrix(t); for (e || (e = new r), t.applyITRS(this.x, this.y, this._rotation, this._scaleX, this._scaleY); i;) e.applyITRS(i.x, i.y, i._rotation, i._scaleX, i._scaleY), e.multiply(t, t), i = i.parentContainer; return t }, getLocalPoint: function(t, e, i, n) { i || (i = new l), n || (n = this.scene.sys.cameras.main); var r = n.scrollX,
								o = n.scrollY,
								a = t + r * this.scrollFactorX - r,
								h = e + o * this.scrollFactorY - o; return this.parentContainer ? this.getWorldTransformMatrix().applyInverse(a, h, i) : s(a, h, this.x, this.y, this.rotation, this.scaleX, this.scaleY, i), this._originComponent && (i.x += this._displayOriginX, i.y += this._displayOriginY), i }, getParentRotation: function() { for (var t = 0, e = this.parentContainer; e;) t += e.rotation, e = e.parentContainer; return t } };
				t.exports = h }, 61340: (t, e, i) => { var n = i(83419),
					r = i(36383),
					s = i(26099),
					o = new n({ initialize: function(t, e, i, n, r, s) { void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 1), void 0 === r && (r = 0), void 0 === s && (s = 0), this.matrix = new Float32Array([t, e, i, n, r, s, 0, 0, 1]), this.decomposedMatrix = { translateX: 0, translateY: 0, scaleX: 1, scaleY: 1, rotation: 0 }, this.quad = new Float32Array(8) }, a: { get: function() { return this.matrix[0] }, set: function(t) { this.matrix[0] = t } }, b: { get: function() { return this.matrix[1] }, set: function(t) { this.matrix[1] = t } }, c: { get: function() { return this.matrix[2] }, set: function(t) { this.matrix[2] = t } }, d: { get: function() { return this.matrix[3] }, set: function(t) { this.matrix[3] = t } }, e: { get: function() { return this.matrix[4] }, set: function(t) { this.matrix[4] = t } }, f: { get: function() { return this.matrix[5] }, set: function(t) { this.matrix[5] = t } }, tx: { get: function() { return this.matrix[4] }, set: function(t) { this.matrix[4] = t } }, ty: { get: function() { return this.matrix[5] }, set: function(t) { this.matrix[5] = t } }, rotation: { get: function() { return Math.acos(this.a / this.scaleX) * (Math.atan(-this.c / this.a) < 0 ? -1 : 1) } }, rotationNormalized: { get: function() { var t = this.matrix,
									e = t[0],
									i = t[1],
									n = t[2],
									s = t[3]; return e || i ? i > 0 ? Math.acos(e / this.scaleX) : -Math.acos(e / this.scaleX) : n || s ? r.TAU - (s > 0 ? Math.acos(-n / this.scaleY) : -Math.acos(n / this.scaleY)) : 0 } }, scaleX: { get: function() { return Math.sqrt(this.a * this.a + this.b * this.b) } }, scaleY: { get: function() { return Math.sqrt(this.c * this.c + this.d * this.d) } }, loadIdentity: function() { var t = this.matrix; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, this }, translate: function(t, e) { var i = this.matrix; return i[4] = i[0] * t + i[2] * e + i[4], i[5] = i[1] * t + i[3] * e + i[5], this }, scale: function(t, e) { var i = this.matrix; return i[0] *= t, i[1] *= t, i[2] *= e, i[3] *= e, this }, rotate: function(t) { var e = Math.sin(t),
								i = Math.cos(t),
								n = this.matrix,
								r = n[0],
								s = n[1],
								o = n[2],
								a = n[3]; return n[0] = r * i + o * e, n[1] = s * i + a * e, n[2] = r * -e + o * i, n[3] = s * -e + a * i, this }, multiply: function(t, e) { var i = this.matrix,
								n = t.matrix,
								r = i[0],
								s = i[1],
								o = i[2],
								a = i[3],
								l = i[4],
								h = i[5],
								u = n[0],
								c = n[1],
								d = n[2],
								f = n[3],
								p = n[4],
								g = n[5],
								m = void 0 === e ? i : e.matrix; return m[0] = u * r + c * o, m[1] = u * s + c * a, m[2] = d * r + f * o, m[3] = d * s + f * a, m[4] = p * r + g * o + l, m[5] = p * s + g * a + h, m }, multiplyWithOffset: function(t, e, i) { var n = this.matrix,
								r = t.matrix,
								s = n[0],
								o = n[1],
								a = n[2],
								l = n[3],
								h = e * s + i * a + n[4],
								u = e * o + i * l + n[5],
								c = r[0],
								d = r[1],
								f = r[2],
								p = r[3],
								g = r[4],
								m = r[5]; return n[0] = c * s + d * a, n[1] = c * o + d * l, n[2] = f * s + p * a, n[3] = f * o + p * l, n[4] = g * s + m * a + h, n[5] = g * o + m * l + u, this }, transform: function(t, e, i, n, r, s) { var o = this.matrix,
								a = o[0],
								l = o[1],
								h = o[2],
								u = o[3],
								c = o[4],
								d = o[5]; return o[0] = t * a + e * h, o[1] = t * l + e * u, o[2] = i * a + n * h, o[3] = i * l + n * u, o[4] = r * a + s * h + c, o[5] = r * l + s * u + d, this }, transformPoint: function(t, e, i) { void 0 === i && (i = { x: 0, y: 0 }); var n = this.matrix,
								r = n[0],
								s = n[1],
								o = n[2],
								a = n[3],
								l = n[4],
								h = n[5]; return i.x = t * r + e * o + l, i.y = t * s + e * a + h, i }, invert: function() { var t = this.matrix,
								e = t[0],
								i = t[1],
								n = t[2],
								r = t[3],
								s = t[4],
								o = t[5],
								a = e * r - i * n; return t[0] = r / a, t[1] = -i / a, t[2] = -n / a, t[3] = e / a, t[4] = (n * o - r * s) / a, t[5] = -(e * o - i * s) / a, this }, copyFrom: function(t) { var e = this.matrix; return e[0] = t.a, e[1] = t.b, e[2] = t.c, e[3] = t.d, e[4] = t.e, e[5] = t.f, this }, copyFromArray: function(t) { var e = this.matrix; return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], this }, copyToContext: function(t) { var e = this.matrix; return t.transform(e[0], e[1], e[2], e[3], e[4], e[5]), t }, setToContext: function(t) { return t.setTransform(this), t }, copyToArray: function(t) { var e = this.matrix; return void 0 === t ? t = [e[0], e[1], e[2], e[3], e[4], e[5]] : (t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5]), t }, setTransform: function(t, e, i, n, r, s) { var o = this.matrix; return o[0] = t, o[1] = e, o[2] = i, o[3] = n, o[4] = r, o[5] = s, this }, decomposeMatrix: function() { var t = this.decomposedMatrix,
								e = this.matrix,
								i = e[0],
								n = e[1],
								r = e[2],
								s = e[3],
								o = i * s - n * r; if (t.translateX = e[4], t.translateY = e[5], i || n) { var a = Math.sqrt(i * i + n * n);
								t.rotation = n > 0 ? Math.acos(i / a) : -Math.acos(i / a), t.scaleX = a, t.scaleY = o / a } else if (r || s) { var l = Math.sqrt(r * r + s * s);
								t.rotation = .5 * Math.PI - (s > 0 ? Math.acos(-r / l) : -Math.acos(r / l)), t.scaleX = o / l, t.scaleY = l } else t.rotation = 0, t.scaleX = 0, t.scaleY = 0; return t }, applyITRS: function(t, e, i, n, r) { var s = this.matrix,
								o = Math.sin(i),
								a = Math.cos(i); return s[4] = t, s[5] = e, s[0] = a * n, s[1] = o * n, s[2] = -o * r, s[3] = a * r, this }, applyInverse: function(t, e, i) { void 0 === i && (i = new s); var n = this.matrix,
								r = n[0],
								o = n[1],
								a = n[2],
								l = n[3],
								h = n[4],
								u = n[5],
								c = 1 / (r * l + a * -o); return i.x = l * c * t + -a * c * e + (u * a - h * l) * c, i.y = r * c * e + -o * c * t + (-u * r + h * o) * c, i }, setQuad: function(t, e, i, n, r, s) { void 0 === r && (r = !1), void 0 === s && (s = this.quad); var o = this.matrix,
								a = o[0],
								l = o[1],
								h = o[2],
								u = o[3],
								c = o[4],
								d = o[5],
								f = t * a + e * h + c,
								p = t * l + e * u + d,
								g = t * a + n * h + c,
								m = t * l + n * u + d,
								v = i * a + n * h + c,
								y = i * l + n * u + d,
								x = i * a + e * h + c,
								b = i * l + e * u + d; if (r) { var w = Math.floor(f + .5),
									T = Math.floor(p + .5),
									S = w - f,
									_ = T - p;
								s[0] = w, s[1] = T, s[2] = g + S, s[3] = m + _, s[4] = v + S, s[5] = y + _, s[6] = x + S, s[7] = b + _ } else s[0] = f, s[1] = p, s[2] = g, s[3] = m, s[4] = v, s[5] = y, s[6] = x, s[7] = b; return s }, getX: function(t, e) { return t * this.a + e * this.c + this.e }, getY: function(t, e) { return t * this.b + e * this.d + this.f }, getXRound: function(t, e, i) { var n = this.getX(t, e); return i && (n = Math.floor(n + .5)), n }, getYRound: function(t, e, i) { var n = this.getY(t, e); return i && (n = Math.floor(n + .5)), n }, getCSSMatrix: function() { var t = this.matrix; return "matrix(" + t[0] + "," + t[1] + "," + t[2] + "," + t[3] + "," + t[4] + "," + t[5] + ")" }, destroy: function() { this.matrix = null, this.quad = null, this.decomposedMatrix = null } });
				t.exports = o }, 59715: t => { t.exports = { _visible: !0, visible: { get: function() { return this._visible }, set: function(t) { t ? (this._visible = !0, this.renderFlags |= 1) : (this._visible = !1, this.renderFlags &= -2) } }, setVisible: function(t) { return this.visible = t, this } } }, 31401: (t, e, i) => { t.exports = { Alpha: i(16005), AlphaSingle: i(88509), BlendMode: i(90065), ComputedSize: i(94215), Crop: i(61683), Depth: i(89272), Flip: i(54434), FX: i(47059), GetBounds: i(8004), Mask: i(8573), Origin: i(27387), PathFollower: i(37640), Pipeline: i(72699), PostPipeline: i(17581), ScrollFactor: i(80227), Size: i(16736), Texture: i(37726), TextureCrop: i(79812), Tint: i(27472), ToJSON: i(53774), Transform: i(16901), TransformMatrix: i(61340), Visible: i(59715) } }, 31559: (t, e, i) => { var n = i(37105),
					r = i(10312),
					s = i(83419),
					o = i(31401),
					a = i(51708),
					l = i(95643),
					h = i(87841),
					u = i(29959),
					c = i(36899),
					d = i(26099),
					f = new o.TransformMatrix,
					p = new s({ Extends: l, Mixins: [o.AlphaSingle, o.BlendMode, o.ComputedSize, o.Depth, o.Mask, o.PostPipeline, o.Transform, o.Visible, u], initialize: function(t, e, i, n) { l.call(this, t, "Container"), this.list = [], this.exclusive = !0, this.maxSize = -1, this.position = 0, this.localTransform = new o.TransformMatrix, this._sortKey = "", this._sysEvents = t.sys.events, this.scrollFactorX = 1, this.scrollFactorY = 1, this.initPostPipeline(), this.setPosition(e, i), this.setBlendMode(r.SKIP_CHECK), n && this.add(n) }, originX: { get: function() { return .5 } }, originY: { get: function() { return .5 } }, displayOriginX: { get: function() { return .5 * this.width } }, displayOriginY: { get: function() { return .5 * this.height } }, setExclusive: function(t) { return void 0 === t && (t = !0), this.exclusive = t, this }, getBounds: function(t) { if (void 0 === t && (t = new h), t.setTo(this.x, this.y, 0, 0), this.parentContainer) { var e = this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x, this.y);
								t.setTo(e.x, e.y, 0, 0) } if (this.list.length > 0) { var i = this.list,
									n = new h,
									r = !1;
								t.setEmpty(); for (var s = 0; s < i.length; s++) { var o = i[s];
									o.getBounds && (o.getBounds(n), r ? c(n, t, t) : (t.setTo(n.x, n.y, n.width, n.height), r = !0)) } } return t }, addHandler: function(t) { t.once(a.DESTROY, this.onChildDestroyed, this), this.exclusive && (t.parentContainer && t.parentContainer.remove(t), t.parentContainer = this, t.removeFromDisplayList(), t.addedToScene()) }, removeHandler: function(t) { t.off(a.DESTROY, this.remove, this), this.exclusive && (t.parentContainer = null, t.removedFromScene(), t.addToDisplayList()) }, pointToContainer: function(t, e) { void 0 === e && (e = new d), this.parentContainer ? this.parentContainer.pointToContainer(t, e) : (e.x = t.x, e.y = t.y); var i = f; return i.applyITRS(this.x, this.y, this.rotation, this.scaleX, this.scaleY), i.invert(), i.transformPoint(t.x, t.y, e), e }, getBoundsTransformMatrix: function() { return this.getWorldTransformMatrix(f, this.localTransform) }, add: function(t) { return n.Add(this.list, t, this.maxSize, this.addHandler, this), this }, addAt: function(t, e) { return n.AddAt(this.list, t, e, this.maxSize, this.addHandler, this), this }, getAt: function(t) { return this.list[t] }, getIndex: function(t) { return this.list.indexOf(t) }, sort: function(t, e) { return t ? (void 0 === e && (e = function(e, i) { return e[t] - i[t] }), n.StableSort(this.list, e), this) : this }, getByName: function(t) { return n.GetFirst(this.list, "name", t) }, getRandom: function(t, e) { return n.GetRandom(this.list, t, e) }, getFirst: function(t, e, i, r) { return n.GetFirst(this.list, t, e, i, r) }, getAll: function(t, e, i, r) { return n.GetAll(this.list, t, e, i, r) }, count: function(t, e, i, r) { return n.CountAllMatching(this.list, t, e, i, r) }, swap: function(t, e) { return n.Swap(this.list, t, e), this }, moveTo: function(t, e) { return n.MoveTo(this.list, t, e), this }, moveAbove: function(t, e) { return n.MoveAbove(this.list, t, e), this }, moveBelow: function(t, e) { return n.MoveBelow(this.list, t, e), this }, remove: function(t, e) { var i = n.Remove(this.list, t, this.removeHandler, this); if (e && i) { Array.isArray(i) || (i = [i]); for (var r = 0; r < i.length; r++) i[r].destroy() } return this }, removeAt: function(t, e) { var i = n.RemoveAt(this.list, t, this.removeHandler, this); return e && i && i.destroy(), this }, removeBetween: function(t, e, i) { var r = n.RemoveBetween(this.list, t, e, this.removeHandler, this); if (i)
								for (var s = 0; s < r.length; s++) r[s].destroy(); return this }, removeAll: function(t) { var e = this.list; if (t) { for (var i = 0; i < e.length; i++) e[i] && e[i].scene && (e[i].off(a.DESTROY, this.onChildDestroyed, this), e[i].destroy());
								this.list = [] } else n.RemoveBetween(e, 0, e.length, this.removeHandler, this); return this }, bringToTop: function(t) { return n.BringToTop(this.list, t), this }, sendToBack: function(t) { return n.SendToBack(this.list, t), this }, moveUp: function(t) { return n.MoveUp(this.list, t), this }, moveDown: function(t) { return n.MoveDown(this.list, t), this }, reverse: function() { return this.list.reverse(), this }, shuffle: function() { return n.Shuffle(this.list), this }, replace: function(t, e, i) { return n.Replace(this.list, t, e) && (this.addHandler(e), this.removeHandler(t), i && t.destroy()), this }, exists: function(t) { return this.list.indexOf(t) > -1 }, setAll: function(t, e, i, r) { return n.SetAll(this.list, t, e, i, r), this }, each: function(t, e) { var i, n = [null],
								r = this.list.slice(),
								s = r.length; for (i = 2; i < arguments.length; i++) n.push(arguments[i]); for (i = 0; i < s; i++) n[0] = r[i], t.apply(e, n); return this }, iterate: function(t, e) { var i, n = [null]; for (i = 2; i < arguments.length; i++) n.push(arguments[i]); for (i = 0; i < this.list.length; i++) n[0] = this.list[i], t.apply(e, n); return this }, setScrollFactor: function(t, e, i) { return void 0 === e && (e = t), void 0 === i && (i = !1), this.scrollFactorX = t, this.scrollFactorY = e, i && (n.SetAll(this.list, "scrollFactorX", t), n.SetAll(this.list, "scrollFactorY", e)), this }, length: { get: function() { return this.list.length } }, first: { get: function() { return this.position = 0, this.list.length > 0 ? this.list[0] : null } }, last: { get: function() { return this.list.length > 0 ? (this.position = this.list.length - 1, this.list[this.position]) : null } }, next: { get: function() { return this.position < this.list.length ? (this.position++, this.list[this.position]) : null } }, previous: { get: function() { return this.position > 0 ? (this.position--, this.list[this.position]) : null } }, preDestroy: function() { this.removeAll(!!this.exclusive), this.localTransform.destroy(), this.list = [] }, onChildDestroyed: function(t) { n.Remove(this.list, t), this.exclusive && (t.parentContainer = null, t.removedFromScene()) } });
				t.exports = p }, 53584: t => { t.exports = function(t, e, i, n) { i.addToRenderList(e); var r = e.list; if (0 !== r.length) { var s = e.localTransform;
						n ? (s.loadIdentity(), s.multiply(n), s.translate(e.x, e.y), s.rotate(e.rotation), s.scale(e.scaleX, e.scaleY)) : s.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY); var o = -1 !== e.blendMode;
						o || t.setBlendMode(0); var a = e._alpha,
							l = e.scrollFactorX,
							h = e.scrollFactorY;
						e.mask && e.mask.preRenderCanvas(t, null, i); for (var u = 0; u < r.length; u++) { var c = r[u]; if (c.willRender(i)) { var d = c.alpha,
									f = c.scrollFactorX,
									p = c.scrollFactorY;
								o || c.blendMode === t.currentBlendMode || t.setBlendMode(c.blendMode), c.setScrollFactor(f * l, p * h), c.setAlpha(d * a), c.renderCanvas(t, c, i, s), c.setAlpha(d), c.setScrollFactor(f, p) } } e.mask && e.mask.postRenderCanvas(t) } } }, 77143: (t, e, i) => { var n = i(25305),
					r = i(31559),
					s = i(44603),
					o = i(23568),
					a = i(95540);
				s.register("container", (function(t, e) { void 0 === t && (t = {}); var i = o(t, "x", 0),
						s = o(t, "y", 0),
						l = a(t, "children", null),
						h = new r(this.scene, i, s, l); return void 0 !== e && (t.add = e), n(this.scene, h, t), h })) }, 24961: (t, e, i) => { var n = i(31559);
				i(39429).register("container", (function(t, e, i) { return this.displayList.add(new n(this.scene, t, e, i)) })) }, 29959: (t, e, i) => { var n, r;
				i(29747), n = i(72249), r = i(53584), t.exports = { renderWebGL: n, renderCanvas: r } }, 72249: t => { t.exports = function(t, e, i, n) { i.addToRenderList(e); var r = e.list,
						s = r.length; if (0 !== s) { var o = e.localTransform;
						n ? (o.loadIdentity(), o.multiply(n), o.translate(e.x, e.y), o.rotate(e.rotation), o.scale(e.scaleX, e.scaleY)) : o.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), t.pipelines.preBatch(e); var a = -1 !== e.blendMode;
						a || t.setBlendMode(0); for (var l = e.alpha, h = e.scrollFactorX, u = e.scrollFactorY, c = 0; c < s; c++) { var d = r[c]; if (d.willRender(i)) { var f, p, g, m; if (void 0 !== d.alphaTopLeft) f = d.alphaTopLeft, p = d.alphaTopRight, g = d.alphaBottomLeft, m = d.alphaBottomRight;
								else { var v = d.alpha;
									f = v, p = v, g = v, m = v } var y = d.scrollFactorX,
									x = d.scrollFactorY;
								a || d.blendMode === t.currentBlendMode || t.setBlendMode(d.blendMode); var b = d.mask;
								b && b.preRenderWebGL(t, d, i); var w = d.type;
								w !== t.currentType && (t.newType = !0, t.currentType = w), t.nextTypeMatch = c < s - 1 && r[c + 1].type === t.currentType, d.setScrollFactor(y * h, x * u), d.setAlpha(f * l, p * l, g * l, m * l), d.renderWebGL(t, d, i, o, e), d.setAlpha(f, p, g, m), d.setScrollFactor(y, x), b && b.postRenderWebGL(t, i), t.newType = !1 } } t.pipelines.postBatch(e) } } }, 47407: t => { t.exports = ["normal", "multiply", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"] }, 3069: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(441),
					o = i(95643),
					a = i(41212),
					l = i(35846),
					h = i(44594),
					u = i(61369),
					c = new n({ Extends: o, Mixins: [r.AlphaSingle, r.BlendMode, r.Depth, r.Origin, r.ScrollFactor, r.Transform, r.Visible, s], initialize: function(t, e, i, n, r, s) { o.call(this, t, "DOMElement"), this.parent = t.sys.game.domContainer, this.cache = t.sys.cache.html, this.node, this.transformOnly = !1, this.skewX = 0, this.skewY = 0, this.rotate3d = new u, this.rotate3dAngle = "deg", this.pointerEvents = "auto", this.width = 0, this.height = 0, this.displayWidth = 0, this.displayHeight = 0, this.handler = this.dispatchNativeEvent.bind(this), this.setPosition(e, i), "string" == typeof n ? "#" === n[0] ? this.setElement(n.substr(1), r, s) : this.createElement(n, r, s) : n && this.setElement(n, r, s), t.sys.events.on(h.SLEEP, this.handleSceneEvent, this), t.sys.events.on(h.WAKE, this.handleSceneEvent, this), t.sys.events.on(h.PRE_RENDER, this.preRender, this) }, handleSceneEvent: function(t) { var e = this.node,
								i = e.style;
							e && (i.display = t.settings.visible ? "block" : "none") }, setSkew: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.skewX = t, this.skewY = e, this }, setPerspective: function(t) { return this.parent.style.perspective = t + "px", this }, perspective: { get: function() { return parseFloat(this.parent.style.perspective) }, set: function(t) { this.parent.style.perspective = t + "px" } }, addListener: function(t) { if (this.node) { t = t.split(" "); for (var e = 0; e < t.length; e++) this.node.addEventListener(t[e], this.handler, !1) } return this }, removeListener: function(t) { if (this.node) { t = t.split(" "); for (var e = 0; e < t.length; e++) this.node.removeEventListener(t[e], this.handler) } return this }, dispatchNativeEvent: function(t) { this.emit(t.type, t) }, createElement: function(t, e, i) { return this.setElement(document.createElement(t), e, i) }, setElement: function(t, e, i) { var n; if (this.removeElement(), "string" == typeof t ? ("#" === t[0] && (t = t.substr(1)), n = document.getElementById(t)) : "object" == typeof t && 1 === t.nodeType && (n = t), !n) return this; if (this.node = n, e && a(e))
								for (var r in e) n.style[r] = e[r];
							else "string" == typeof e && (n.style = e); return n.style.zIndex = "0", n.style.display = "inline", n.style.position = "absolute", n.phaser = this, this.parent && this.parent.appendChild(n), i && (n.innerText = i), this.updateSize() }, createFromCache: function(t, e) { var i = this.cache.get(t); return i && this.createFromHTML(i, e), this }, createFromHTML: function(t, e) { void 0 === e && (e = "div"), this.removeElement(); var i = document.createElement(e); return this.node = i, i.style.zIndex = "0", i.style.display = "inline", i.style.position = "absolute", i.phaser = this, this.parent && this.parent.appendChild(i), i.innerHTML = t, this.updateSize() }, removeElement: function() { return this.node && (l(this.node), this.node = null), this }, updateSize: function() { var t = this.node,
								e = t.getBoundingClientRect(); return this.width = t.clientWidth, this.height = t.clientHeight, this.displayWidth = e.width || 0, this.displayHeight = e.height || 0, this }, getChildByProperty: function(t, e) { if (this.node)
								for (var i = this.node.querySelectorAll("*"), n = 0; n < i.length; n++)
									if (i[n][t] === e) return i[n]; return null }, getChildByID: function(t) { return this.getChildByProperty("id", t) }, getChildByName: function(t) { return this.getChildByProperty("name", t) }, setClassName: function(t) { return this.node && (this.node.className = t, this.updateSize()), this }, setText: function(t) { return this.node && (this.node.innerText = t, this.updateSize()), this }, setHTML: function(t) { return this.node && (this.node.innerHTML = t, this.updateSize()), this }, preRender: function() { var t = this.parentContainer,
								e = this.node;
							e && t && !t.willRender() && (e.style.display = "none") }, willRender: function() { return !0 }, preDestroy: function() { this.removeElement(), this.scene.sys.events.off(h.SLEEP, this.handleSceneEvent, this), this.scene.sys.events.off(h.WAKE, this.handleSceneEvent, this), this.scene.sys.events.off(h.PRE_RENDER, this.preRender, this) } });
				t.exports = c }, 49381: (t, e, i) => { var n = i(47407),
					r = i(95643),
					s = i(61340),
					o = new s,
					a = new s,
					l = new s;
				t.exports = function(t, e, i, s) { if (e.node) { var h = e.node.style,
							u = e.scene.sys.settings; if (!h || !u.visible || r.RENDER_MASK !== e.renderFlags || 0 !== e.cameraFilter && e.cameraFilter & i.id || e.parentContainer && !e.parentContainer.willRender()) h.display = "none";
						else { var c = e.parentContainer,
								d = i.alpha * e.alpha;
							c && (d *= c.alpha); var f = o,
								p = a,
								g = l,
								m = 0,
								v = 0,
								y = "0%",
								x = "0%";
							s ? (m = e.width * e.scaleX * e.originX, v = e.height * e.scaleY * e.originY, p.applyITRS(e.x - m, e.y - v, e.rotation, e.scaleX, e.scaleY), f.copyFrom(i.matrix), f.multiplyWithOffset(s, -i.scrollX * e.scrollFactorX, -i.scrollY * e.scrollFactorY), p.e = e.x - m, p.f = e.y - v, f.multiply(p, g)) : (m = e.width * e.originX, v = e.height * e.originY, p.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), f.copyFrom(i.matrix), y = 100 * e.originX + "%", x = 100 * e.originY + "%", p.e -= i.scrollX * e.scrollFactorX, p.f -= i.scrollY * e.scrollFactorY, f.multiply(p, g), g.e -= m, g.f -= v), e.transformOnly || (h.display = "block", h.opacity = d, h.zIndex = e._depth, h.pointerEvents = e.pointerEvents, h.mixBlendMode = n[e._blendMode]), h.transform = g.getCSSMatrix() + " skew(" + e.skewX + "rad, " + e.skewY + "rad) rotate3d(" + e.rotate3d.x + "," + e.rotate3d.y + "," + e.rotate3d.z + "," + e.rotate3d.w + e.rotate3dAngle + ")", h.transformOrigin = y + " " + x } } } }, 2611: (t, e, i) => { var n = i(3069);
				i(39429).register("dom", (function(t, e, i, r, s) { var o = new n(this.scene, t, e, i, r, s); return this.displayList.add(o), o })) }, 441: (t, e, i) => { var n, r;
				i(29747), n = i(49381), r = i(49381), t.exports = { renderWebGL: n, renderCanvas: r } }, 62980: t => { t.exports = "addedtoscene" }, 41337: t => { t.exports = "destroy" }, 44947: t => { t.exports = "removedfromscene" }, 49358: t => { t.exports = "complete" }, 35163: t => { t.exports = "created" }, 97249: t => { t.exports = "error" }, 19483: t => { t.exports = "locked" }, 56059: t => { t.exports = "loop" }, 26772: t => { t.exports = "metadata" }, 64437: t => { t.exports = "playing" }, 83411: t => { t.exports = "play" }, 75780: t => { t.exports = "seeked" }, 67799: t => { t.exports = "seeking" }, 63500: t => { t.exports = "stalled" }, 55541: t => { t.exports = "stop" }, 53208: t => { t.exports = "textureready" }, 4992: t => { t.exports = "unlocked" }, 12: t => { t.exports = "unsupported" }, 51708: (t, e, i) => { t.exports = { ADDED_TO_SCENE: i(62980), DESTROY: i(41337), REMOVED_FROM_SCENE: i(44947), VIDEO_COMPLETE: i(49358), VIDEO_CREATED: i(35163), VIDEO_ERROR: i(97249), VIDEO_LOCKED: i(19483), VIDEO_LOOP: i(56059), VIDEO_METADATA: i(26772), VIDEO_PLAY: i(83411), VIDEO_PLAYING: i(64437), VIDEO_SEEKED: i(75780), VIDEO_SEEKING: i(67799), VIDEO_STALLED: i(63500), VIDEO_STOP: i(55541), VIDEO_TEXTURE: i(53208), VIDEO_UNLOCKED: i(4992), VIDEO_UNSUPPORTED: i(12) } }, 42421: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(95643),
					o = i(64993),
					a = new n({ Extends: s, Mixins: [r.Alpha, r.BlendMode, r.Depth, r.Flip, r.Origin, r.ScrollFactor, r.Size, r.Texture, r.Tint, r.Transform, r.Visible, o], initialize: function(t) { s.call(this, t, "Extern") }, addedToScene: function() { this.scene.sys.updateList.add(this) }, removedFromScene: function() { this.scene.sys.updateList.remove(this) }, preUpdate: function() {}, render: function() {} });
				t.exports = a }, 70217: () => {}, 56315: (t, e, i) => { var n = i(42421);
				i(39429).register("extern", (function() { var t = new n(this.scene); return this.displayList.add(t), t })) }, 64993: (t, e, i) => { var n, r;
				i(29747), n = i(80287), r = i(70217), t.exports = { renderWebGL: n, renderCanvas: r } }, 80287: (t, e, i) => { var n = i(91296);
				t.exports = function(t, e, i, r) { t.pipelines.clear(); var s = n(e, i, r).calc;
					e.render.call(e, t, i, s), t.pipelines.rebind() } }, 85592: t => { t.exports = { ARC: 0, BEGIN_PATH: 1, CLOSE_PATH: 2, FILL_RECT: 3, LINE_TO: 4, MOVE_TO: 5, LINE_STYLE: 6, FILL_STYLE: 7, FILL_PATH: 8, STROKE_PATH: 9, FILL_TRIANGLE: 10, STROKE_TRIANGLE: 11, SAVE: 14, RESTORE: 15, TRANSLATE: 16, SCALE: 17, ROTATE: 18, GRADIENT_FILL_STYLE: 21, GRADIENT_LINE_STYLE: 22 } }, 43831: (t, e, i) => { var n = i(71911),
					r = i(83419),
					s = i(85592),
					o = i(31401),
					a = i(8497),
					l = i(95643),
					h = i(95540),
					u = i(35154),
					c = i(36383),
					d = i(84503),
					f = new r({ Extends: l, Mixins: [o.AlphaSingle, o.BlendMode, o.Depth, o.Mask, o.Pipeline, o.PostPipeline, o.Transform, o.Visible, o.ScrollFactor, d], initialize: function(t, e) { var i = u(e, "x", 0),
								n = u(e, "y", 0);
							l.call(this, t, "Graphics"), this.setPosition(i, n), this.initPipeline(), this.initPostPipeline(), this.displayOriginX = 0, this.displayOriginY = 0, this.commandBuffer = [], this.defaultFillColor = -1, this.defaultFillAlpha = 1, this.defaultStrokeWidth = 1, this.defaultStrokeColor = -1, this.defaultStrokeAlpha = 1, this._lineWidth = 1, this.lineStyle(1, 0, 0), this.fillStyle(0, 0), this.setDefaultStyles(e) }, setDefaultStyles: function(t) { return u(t, "lineStyle", null) && (this.defaultStrokeWidth = u(t, "lineStyle.width", 1), this.defaultStrokeColor = u(t, "lineStyle.color", 16777215), this.defaultStrokeAlpha = u(t, "lineStyle.alpha", 1), this.lineStyle(this.defaultStrokeWidth, this.defaultStrokeColor, this.defaultStrokeAlpha)), u(t, "fillStyle", null) && (this.defaultFillColor = u(t, "fillStyle.color", 16777215), this.defaultFillAlpha = u(t, "fillStyle.alpha", 1), this.fillStyle(this.defaultFillColor, this.defaultFillAlpha)), this }, lineStyle: function(t, e, i) { return void 0 === i && (i = 1), this.commandBuffer.push(s.LINE_STYLE, t, e, i), this._lineWidth = t, this }, fillStyle: function(t, e) { return void 0 === e && (e = 1), this.commandBuffer.push(s.FILL_STYLE, t, e), this }, fillGradientStyle: function(t, e, i, n, r, o, a, l) { return void 0 === r && (r = 1), void 0 === o && (o = r), void 0 === a && (a = r), void 0 === l && (l = r), this.commandBuffer.push(s.GRADIENT_FILL_STYLE, r, o, a, l, t, e, i, n), this }, lineGradientStyle: function(t, e, i, n, r, o) { return void 0 === o && (o = 1), this.commandBuffer.push(s.GRADIENT_LINE_STYLE, t, o, e, i, n, r), this }, beginPath: function() { return this.commandBuffer.push(s.BEGIN_PATH), this }, closePath: function() { return this.commandBuffer.push(s.CLOSE_PATH), this }, fillPath: function() { return this.commandBuffer.push(s.FILL_PATH), this }, fill: function() { return this.commandBuffer.push(s.FILL_PATH), this }, strokePath: function() { return this.commandBuffer.push(s.STROKE_PATH), this }, stroke: function() { return this.commandBuffer.push(s.STROKE_PATH), this }, fillCircleShape: function(t) { return this.fillCircle(t.x, t.y, t.radius) }, strokeCircleShape: function(t) { return this.strokeCircle(t.x, t.y, t.radius) }, fillCircle: function(t, e, i) { return this.beginPath(), this.arc(t, e, i, 0, c.PI2), this.fillPath(), this }, strokeCircle: function(t, e, i) { return this.beginPath(), this.arc(t, e, i, 0, c.PI2), this.strokePath(), this }, fillRectShape: function(t) { return this.fillRect(t.x, t.y, t.width, t.height) }, strokeRectShape: function(t) { return this.strokeRect(t.x, t.y, t.width, t.height) }, fillRect: function(t, e, i, n) { return this.commandBuffer.push(s.FILL_RECT, t, e, i, n), this }, strokeRect: function(t, e, i, n) { var r = this._lineWidth / 2,
								s = t - r,
								o = t + r; return this.beginPath(), this.moveTo(t, e), this.lineTo(t, e + n), this.strokePath(), this.beginPath(), this.moveTo(t + i, e), this.lineTo(t + i, e + n), this.strokePath(), this.beginPath(), this.moveTo(s, e), this.lineTo(o + i, e), this.strokePath(), this.beginPath(), this.moveTo(s, e + n), this.lineTo(o + i, e + n), this.strokePath(), this }, fillRoundedRect: function(t, e, i, n, r) { void 0 === r && (r = 20); var s = r,
								o = r,
								a = r,
								l = r; "number" != typeof r && (s = h(r, "tl", 20), o = h(r, "tr", 20), a = h(r, "bl", 20), l = h(r, "br", 20)); var u = s >= 0,
								d = o >= 0,
								f = a >= 0,
								p = l >= 0; return s = Math.abs(s), o = Math.abs(o), a = Math.abs(a), l = Math.abs(l), this.beginPath(), this.moveTo(t + s, e), this.lineTo(t + i - o, e), d ? this.arc(t + i - o, e + o, o, -c.TAU, 0) : this.arc(t + i, e, o, Math.PI, c.TAU, !0), this.lineTo(t + i, e + n - l), p ? this.arc(t + i - l, e + n - l, l, 0, c.TAU) : this.arc(t + i, e + n, l, -c.TAU, Math.PI, !0), this.lineTo(t + a, e + n), f ? this.arc(t + a, e + n - a, a, c.TAU, Math.PI) : this.arc(t, e + n, a, 0, -c.TAU, !0), this.lineTo(t, e + s), u ? this.arc(t + s, e + s, s, -Math.PI, -c.TAU) : this.arc(t, e, s, c.TAU, 0, !0), this.fillPath(), this }, strokeRoundedRect: function(t, e, i, n, r) { void 0 === r && (r = 20); var s = r,
								o = r,
								a = r,
								l = r,
								u = Math.min(i, n) / 2; "number" != typeof r && (s = h(r, "tl", 20), o = h(r, "tr", 20), a = h(r, "bl", 20), l = h(r, "br", 20)); var d = s >= 0,
								f = o >= 0,
								p = a >= 0,
								g = l >= 0; return s = Math.min(Math.abs(s), u), o = Math.min(Math.abs(o), u), a = Math.min(Math.abs(a), u), l = Math.min(Math.abs(l), u), this.beginPath(), this.moveTo(t + s, e), this.lineTo(t + i - o, e), this.moveTo(t + i - o, e), f ? this.arc(t + i - o, e + o, o, -c.TAU, 0) : this.arc(t + i, e, o, Math.PI, c.TAU, !0), this.lineTo(t + i, e + n - l), this.moveTo(t + i, e + n - l), g ? this.arc(t + i - l, e + n - l, l, 0, c.TAU) : this.arc(t + i, e + n, l, -c.TAU, Math.PI, !0), this.lineTo(t + a, e + n), this.moveTo(t + a, e + n), p ? this.arc(t + a, e + n - a, a, c.TAU, Math.PI) : this.arc(t, e + n, a, 0, -c.TAU, !0), this.lineTo(t, e + s), this.moveTo(t, e + s), d ? this.arc(t + s, e + s, s, -Math.PI, -c.TAU) : this.arc(t, e, s, c.TAU, 0, !0), this.strokePath(), this }, fillPointShape: function(t, e) { return this.fillPoint(t.x, t.y, e) }, fillPoint: function(t, e, i) { return !i || i < 1 ? i = 1 : (t -= i / 2, e -= i / 2), this.commandBuffer.push(s.FILL_RECT, t, e, i, i), this }, fillTriangleShape: function(t) { return this.fillTriangle(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) }, strokeTriangleShape: function(t) { return this.strokeTriangle(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) }, fillTriangle: function(t, e, i, n, r, o) { return this.commandBuffer.push(s.FILL_TRIANGLE, t, e, i, n, r, o), this }, strokeTriangle: function(t, e, i, n, r, o) { return this.commandBuffer.push(s.STROKE_TRIANGLE, t, e, i, n, r, o), this }, strokeLineShape: function(t) { return this.lineBetween(t.x1, t.y1, t.x2, t.y2) }, lineBetween: function(t, e, i, n) { return this.beginPath(), this.moveTo(t, e), this.lineTo(i, n), this.strokePath(), this }, lineTo: function(t, e) { return this.commandBuffer.push(s.LINE_TO, t, e), this }, moveTo: function(t, e) { return this.commandBuffer.push(s.MOVE_TO, t, e), this }, strokePoints: function(t, e, i, n) { void 0 === e && (e = !1), void 0 === i && (i = !1), void 0 === n && (n = t.length), this.beginPath(), this.moveTo(t[0].x, t[0].y); for (var r = 1; r < n; r++) this.lineTo(t[r].x, t[r].y); return e && this.lineTo(t[0].x, t[0].y), i && this.closePath(), this.strokePath(), this }, fillPoints: function(t, e, i, n) { void 0 === e && (e = !1), void 0 === i && (i = !1), void 0 === n && (n = t.length), this.beginPath(), this.moveTo(t[0].x, t[0].y); for (var r = 1; r < n; r++) this.lineTo(t[r].x, t[r].y); return e && this.lineTo(t[0].x, t[0].y), i && this.closePath(), this.fillPath(), this }, strokeEllipseShape: function(t, e) { void 0 === e && (e = 32); var i = t.getPoints(e); return this.strokePoints(i, !0) }, strokeEllipse: function(t, e, i, n, r) { void 0 === r && (r = 32); var s = new a(t, e, i, n).getPoints(r); return this.strokePoints(s, !0) }, fillEllipseShape: function(t, e) { void 0 === e && (e = 32); var i = t.getPoints(e); return this.fillPoints(i, !0) }, fillEllipse: function(t, e, i, n, r) { void 0 === r && (r = 32); var s = new a(t, e, i, n).getPoints(r); return this.fillPoints(s, !0) }, arc: function(t, e, i, n, r, o, a) { return void 0 === o && (o = !1), void 0 === a && (a = 0), this.commandBuffer.push(s.ARC, t, e, i, n, r, o, a), this }, slice: function(t, e, i, n, r, o, a) { return void 0 === o && (o = !1), void 0 === a && (a = 0), this.commandBuffer.push(s.BEGIN_PATH), this.commandBuffer.push(s.MOVE_TO, t, e), this.commandBuffer.push(s.ARC, t, e, i, n, r, o, a), this.commandBuffer.push(s.CLOSE_PATH), this }, save: function() { return this.commandBuffer.push(s.SAVE), this }, restore: function() { return this.commandBuffer.push(s.RESTORE), this }, translateCanvas: function(t, e) { return this.commandBuffer.push(s.TRANSLATE, t, e), this }, scaleCanvas: function(t, e) { return this.commandBuffer.push(s.SCALE, t, e), this }, rotateCanvas: function(t) { return this.commandBuffer.push(s.ROTATE, t), this }, clear: function() { return this.commandBuffer.length = 0, this.defaultFillColor > -1 && this.fillStyle(this.defaultFillColor, this.defaultFillAlpha), this.defaultStrokeColor > -1 && this.lineStyle(this.defaultStrokeWidth, this.defaultStrokeColor, this.defaultStrokeAlpha), this }, generateTexture: function(t, e, i) { var n, r, s = this.scene.sys,
								o = s.game.renderer;
							void 0 === e && (e = s.scale.width), void 0 === i && (i = s.scale.height), f.TargetCamera.setScene(this.scene), f.TargetCamera.setViewport(0, 0, e, i), f.TargetCamera.scrollX = this.x, f.TargetCamera.scrollY = this.y; var a = { willReadFrequently: !0 }; if ("string" == typeof t)
								if (s.textures.exists(t)) { var l = (n = s.textures.get(t)).getSourceImage();
									l instanceof HTMLCanvasElement && (r = l.getContext("2d", a)) } else r = (n = s.textures.createCanvas(t, e, i)).getSourceImage().getContext("2d", a);
							else t instanceof HTMLCanvasElement && (r = t.getContext("2d", a)); return r && (this.renderCanvas(o, this, f.TargetCamera, null, r, !1), n && n.refresh()), this }, preDestroy: function() { this.commandBuffer = [] } });
				f.TargetCamera = new n, t.exports = f }, 32768: (t, e, i) => { var n = i(85592),
					r = i(20926);
				t.exports = function(t, e, i, s, o, a) { var l = e.commandBuffer,
						h = l.length,
						u = o || t.currentContext; if (0 !== h && r(t, u, e, i, s)) { i.addToRenderList(e); var c = 1,
							d = 1,
							f = 0,
							p = 0,
							g = 1,
							m = 0,
							v = 0,
							y = 0;
						u.beginPath(); for (var x = 0; x < h; ++x) switch (l[x]) {
							case n.ARC:
								u.arc(l[x + 1], l[x + 2], l[x + 3], l[x + 4], l[x + 5], l[x + 6]), x += 7; break;
							case n.LINE_STYLE:
								g = l[x + 1], f = l[x + 2], c = l[x + 3], m = (16711680 & f) >>> 16, v = (65280 & f) >>> 8, y = 255 & f, u.strokeStyle = "rgba(" + m + "," + v + "," + y + "," + c + ")", u.lineWidth = g, x += 3; break;
							case n.FILL_STYLE:
								p = l[x + 1], d = l[x + 2], m = (16711680 & p) >>> 16, v = (65280 & p) >>> 8, y = 255 & p, u.fillStyle = "rgba(" + m + "," + v + "," + y + "," + d + ")", x += 2; break;
							case n.BEGIN_PATH:
								u.beginPath(); break;
							case n.CLOSE_PATH:
								u.closePath(); break;
							case n.FILL_PATH:
								a || u.fill(); break;
							case n.STROKE_PATH:
								a || u.stroke(); break;
							case n.FILL_RECT:
								a ? u.rect(l[x + 1], l[x + 2], l[x + 3], l[x + 4]) : u.fillRect(l[x + 1], l[x + 2], l[x + 3], l[x + 4]), x += 4; break;
							case n.FILL_TRIANGLE:
								u.beginPath(), u.moveTo(l[x + 1], l[x + 2]), u.lineTo(l[x + 3], l[x + 4]), u.lineTo(l[x + 5], l[x + 6]), u.closePath(), a || u.fill(), x += 6; break;
							case n.STROKE_TRIANGLE:
								u.beginPath(), u.moveTo(l[x + 1], l[x + 2]), u.lineTo(l[x + 3], l[x + 4]), u.lineTo(l[x + 5], l[x + 6]), u.closePath(), a || u.stroke(), x += 6; break;
							case n.LINE_TO:
								u.lineTo(l[x + 1], l[x + 2]), x += 2; break;
							case n.MOVE_TO:
								u.moveTo(l[x + 1], l[x + 2]), x += 2; break;
							case n.LINE_FX_TO:
								u.lineTo(l[x + 1], l[x + 2]), x += 5; break;
							case n.MOVE_FX_TO:
								u.moveTo(l[x + 1], l[x + 2]), x += 5; break;
							case n.SAVE:
								u.save(); break;
							case n.RESTORE:
								u.restore(); break;
							case n.TRANSLATE:
								u.translate(l[x + 1], l[x + 2]), x += 2; break;
							case n.SCALE:
								u.scale(l[x + 1], l[x + 2]), x += 2; break;
							case n.ROTATE:
								u.rotate(l[x + 1]), x += 1; break;
							case n.GRADIENT_FILL_STYLE:
								x += 5; break;
							case n.GRADIENT_LINE_STYLE:
								x += 6 } u.restore() } } }, 87079: (t, e, i) => { var n = i(44603),
					r = i(43831);
				n.register("graphics", (function(t, e) { void 0 === t && (t = {}), void 0 !== e && (t.add = e); var i = new r(this.scene, t); return t.add && this.scene.sys.displayList.add(i), i })) }, 1201: (t, e, i) => { var n = i(43831);
				i(39429).register("graphics", (function(t) { return this.displayList.add(new n(this.scene, t)) })) }, 84503: (t, e, i) => { var n, r;
				i(29747), n = i(77545), i(32768), r = i(32768), t.exports = { renderWebGL: n, renderCanvas: r } }, 77545: (t, e, i) => { var n = i(85592),
					r = i(91296),
					s = i(61340),
					o = i(70554),
					a = function(t, e, i) { this.x = t, this.y = e, this.width = i },
					l = function(t, e, i) { this.points = [], this.pointsLength = 1, this.points[0] = new a(t, e, i) },
					h = [],
					u = new s;
				t.exports = function(t, e, i, s) { if (0 !== e.commandBuffer.length) { i.addToRenderList(e); var c = t.pipelines.set(e.pipeline, e);
						t.pipelines.preBatch(e); for (var d = r(e, i, s).calc, f = u.loadIdentity(), p = e.commandBuffer, g = i.alpha * e.alpha, m = 1, v = c.fillTint, y = c.strokeTint, x = 0, b = 0, w = 0, T = 2 * Math.PI, S = [], _ = 0, E = !0, A = null, C = o.getTintAppendFloatAlpha, k = 0; k < p.length; k++) switch (p[k]) {
							case n.BEGIN_PATH:
								S.length = 0, A = null, E = !0; break;
							case n.CLOSE_PATH:
								E = !1, A && A.points.length && A.points.push(A.points[0]); break;
							case n.FILL_PATH:
								for (_ = 0; _ < S.length; _++) c.batchFillPath(S[_].points, f, d); break;
							case n.STROKE_PATH:
								for (_ = 0; _ < S.length; _++) c.batchStrokePath(S[_].points, m, E, f, d); break;
							case n.LINE_STYLE:
								m = p[++k]; var P = C(p[++k], p[++k] * g);
								y.TL = P, y.TR = P, y.BL = P, y.BR = P; break;
							case n.FILL_STYLE:
								var O = C(p[++k], p[++k] * g);
								v.TL = O, v.TR = O, v.BL = O, v.BR = O; break;
							case n.GRADIENT_FILL_STYLE:
								var R = p[++k] * g,
									M = p[++k] * g,
									L = p[++k] * g,
									D = p[++k] * g;
								v.TL = C(p[++k], R), v.TR = C(p[++k], M), v.BL = C(p[++k], L), v.BR = C(p[++k], D); break;
							case n.GRADIENT_LINE_STYLE:
								m = p[++k]; var F = p[++k] * g;
								y.TL = C(p[++k], F), y.TR = C(p[++k], F), y.BL = C(p[++k], F), y.BR = C(p[++k], F); break;
							case n.ARC:
								var I = 0,
									B = p[++k],
									N = p[++k],
									z = p[++k],
									U = p[++k],
									Y = p[++k],
									X = p[++k],
									G = p[++k]; for (Y -= U, X ? Y < -T ? Y = -T : Y > 0 && (Y = Y % T - T) : Y > T ? Y = T : Y < 0 && (Y = T + Y % T), null === A && (A = new l(B + Math.cos(U) * z, N + Math.sin(U) * z, m), S.push(A), I += .01); I < 1 + G;) w = Y * I + U, x = B + Math.cos(w) * z, b = N + Math.sin(w) * z, A.points.push(new a(x, b, m)), I += .01;
								w = Y + U, x = B + Math.cos(w) * z, b = N + Math.sin(w) * z, A.points.push(new a(x, b, m)); break;
							case n.FILL_RECT:
								c.batchFillRect(p[++k], p[++k], p[++k], p[++k], f, d); break;
							case n.FILL_TRIANGLE:
								c.batchFillTriangle(p[++k], p[++k], p[++k], p[++k], p[++k], p[++k], f, d); break;
							case n.STROKE_TRIANGLE:
								c.batchStrokeTriangle(p[++k], p[++k], p[++k], p[++k], p[++k], p[++k], m, f, d); break;
							case n.LINE_TO:
								null !== A ? A.points.push(new a(p[++k], p[++k], m)) : (A = new l(p[++k], p[++k], m), S.push(A)); break;
							case n.MOVE_TO:
								A = new l(p[++k], p[++k], m), S.push(A); break;
							case n.SAVE:
								h.push(f.copyToArray()); break;
							case n.RESTORE:
								f.copyFromArray(h.pop()); break;
							case n.TRANSLATE:
								B = p[++k], N = p[++k], f.translate(B, N); break;
							case n.SCALE:
								B = p[++k], N = p[++k], f.scale(B, N); break;
							case n.ROTATE:
								f.rotate(p[++k]) } t.pipelines.postBatch(e) } } }, 26479: (t, e, i) => { var n = i(61061),
					r = i(83419),
					s = i(51708),
					o = i(50792),
					a = i(46710),
					l = i(95540),
					h = i(35154),
					u = i(97022),
					c = i(41212),
					d = i(88492),
					f = i(35072),
					p = i(68287),
					g = new r({ Extends: o, initialize: function(t, e, i) { o.call(this), i ? e && !Array.isArray(e) && (e = [e]) : Array.isArray(e) ? c(e[0]) && (i = e, e = null) : c(e) && (i = e, e = null), this.scene = t, this.children = new f, this.isParent = !0, this.type = "Group", this.classType = l(i, "classType", p), this.name = l(i, "name", ""), this.active = l(i, "active", !0), this.maxSize = l(i, "maxSize", -1), this.defaultKey = l(i, "defaultKey", null), this.defaultFrame = l(i, "defaultFrame", null), this.runChildUpdate = l(i, "runChildUpdate", !1), this.createCallback = l(i, "createCallback", null), this.removeCallback = l(i, "removeCallback", null), this.createMultipleCallback = l(i, "createMultipleCallback", null), this.internalCreateCallback = l(i, "internalCreateCallback", null), this.internalRemoveCallback = l(i, "internalRemoveCallback", null), e && this.addMultiple(e), i && this.createMultiple(i), this.on(s.ADDED_TO_SCENE, this.addedToScene, this), this.on(s.REMOVED_FROM_SCENE, this.removedFromScene, this) }, addedToScene: function() { this.scene.sys.updateList.add(this) }, removedFromScene: function() { this.scene.sys.updateList.remove(this) }, create: function(t, e, i, n, r, s) { if (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.defaultKey), void 0 === n && (n = this.defaultFrame), void 0 === r && (r = !0), void 0 === s && (s = !0), this.isFull()) return null; var o = new this.classType(this.scene, t, e, i, n); return o.addToDisplayList(this.scene.sys.displayList), o.addToUpdateList(), o.visible = r, o.setActive(s), this.add(o), o }, createMultiple: function(t) { if (this.isFull()) return [];
							Array.isArray(t) || (t = [t]); var e = []; if (t[0].key)
								for (var i = 0; i < t.length; i++) { var n = this.createFromConfig(t[i]);
									e = e.concat(n) }
							return e }, createFromConfig: function(t) { if (this.isFull()) return [];
							this.classType = l(t, "classType", this.classType); var e = l(t, "key", void 0),
								i = l(t, "frame", null),
								r = l(t, "visible", !0),
								s = l(t, "active", !0),
								o = []; if (void 0 === e) return o;
							Array.isArray(e) || (e = [e]), Array.isArray(i) || (i = [i]); var a = l(t, "repeat", 0),
								c = l(t, "randomKey", !1),
								f = l(t, "randomFrame", !1),
								p = l(t, "yoyo", !1),
								g = l(t, "quantity", !1),
								m = l(t, "frameQuantity", 1),
								v = l(t, "max", 0),
								y = d(e, i, { max: v, qty: g || m, random: c, randomB: f, repeat: a, yoyo: p });
							t.createCallback && (this.createCallback = t.createCallback), t.removeCallback && (this.removeCallback = t.removeCallback), t.internalCreateCallback && (this.internalCreateCallback = t.internalCreateCallback), t.internalRemoveCallback && (this.internalRemoveCallback = t.internalRemoveCallback); for (var x = 0; x < y.length; x++) { var b = this.create(0, 0, y[x].a, y[x].b, r, s); if (!b) break;
								o.push(b) } if (u(t, "setXY")) { var w = h(t, "setXY.x", 0),
									T = h(t, "setXY.y", 0),
									S = h(t, "setXY.stepX", 0),
									_ = h(t, "setXY.stepY", 0);
								n.SetXY(o, w, T, S, _) } if (u(t, "setRotation")) { var E = h(t, "setRotation.value", 0),
									A = h(t, "setRotation.step", 0);
								n.SetRotation(o, E, A) } if (u(t, "setScale")) { var C = h(t, "setScale.x", 1),
									k = h(t, "setScale.y", C),
									P = h(t, "setScale.stepX", 0),
									O = h(t, "setScale.stepY", 0);
								n.SetScale(o, C, k, P, O) } if (u(t, "setOrigin")) { var R = h(t, "setOrigin.x", .5),
									M = h(t, "setOrigin.y", R),
									L = h(t, "setOrigin.stepX", 0),
									D = h(t, "setOrigin.stepY", 0);
								n.SetOrigin(o, R, M, L, D) } if (u(t, "setAlpha")) { var F = h(t, "setAlpha.value", 1),
									I = h(t, "setAlpha.step", 0);
								n.SetAlpha(o, F, I) } if (u(t, "setDepth")) { var B = h(t, "setDepth.value", 0),
									N = h(t, "setDepth.step", 0);
								n.SetDepth(o, B, N) } if (u(t, "setScrollFactor")) { var z = h(t, "setScrollFactor.x", 1),
									U = h(t, "setScrollFactor.y", z),
									Y = h(t, "setScrollFactor.stepX", 0),
									X = h(t, "setScrollFactor.stepY", 0);
								n.SetScrollFactor(o, z, U, Y, X) } var G = l(t, "hitArea", null),
								H = l(t, "hitAreaCallback", null);
							G && n.SetHitArea(o, G, H); var W = l(t, "gridAlign", !1); return W && n.GridAlign(o, W), this.createMultipleCallback && this.createMultipleCallback.call(this, o), o }, preUpdate: function(t, e) { if (this.runChildUpdate && 0 !== this.children.size)
								for (var i = this.children.entries.slice(), n = 0; n < i.length; n++) { var r = i[n];
									r.active && r.update(t, e) } }, add: function(t, e) { return void 0 === e && (e = !1), this.isFull() || (this.children.set(t), this.internalCreateCallback && this.internalCreateCallback.call(this, t), this.createCallback && this.createCallback.call(this, t), e && (t.addToDisplayList(this.scene.sys.displayList), t.addToUpdateList()), t.on(s.DESTROY, this.remove, this)), this }, addMultiple: function(t, e) { if (void 0 === e && (e = !1), Array.isArray(t))
								for (var i = 0; i < t.length; i++) this.add(t[i], e); return this }, remove: function(t, e, i) { return void 0 === e && (e = !1), void 0 === i && (i = !1), this.children.contains(t) ? (this.children.delete(t), this.internalRemoveCallback && this.internalRemoveCallback.call(this, t), this.removeCallback && this.removeCallback.call(this, t), t.off(s.DESTROY, this.remove, this), i ? t.destroy() : e && (t.removeFromDisplayList(), t.removeFromUpdateList()), this) : this }, clear: function(t, e) { void 0 === t && (t = !1), void 0 === e && (e = !1); for (var i = this.children, n = 0; n < i.size; n++) { var r = i.entries[n];
								r.off(s.DESTROY, this.remove, this), e ? r.destroy() : t && (r.removeFromDisplayList(), r.removeFromUpdateList()) } return this.children.clear(), this }, contains: function(t) { return this.children.contains(t) }, getChildren: function() { return this.children.entries }, getLength: function() { return this.children.size }, getMatching: function(t, e, i, n) { return a(this.children.entries, t, e, i, n) }, getFirst: function(t, e, i, n, r, s, o) { return this.getHandler(!0, 1, t, e, i, n, r, s, o) }, getFirstNth: function(t, e, i, n, r, s, o, a) { return this.getHandler(!0, t, e, i, n, r, s, o, a) }, getLast: function(t, e, i, n, r, s, o) { return this.getHandler(!1, 1, t, e, i, n, r, s, o) }, getLastNth: function(t, e, i, n, r, s, o, a) { return this.getHandler(!1, t, e, i, n, r, s, o, a) }, getHandler: function(t, e, i, n, r, s, o, a, l) { var h, u;
							void 0 === i && (i = !1), void 0 === n && (n = !1); var c = 0,
								d = this.children.entries; if (t)
								for (u = 0; u < d.length; u++)
									if ((h = d[u]).active === i) { if (++c === e) break } else h = null;
							else
								for (u = d.length - 1; u >= 0; u--)
									if ((h = d[u]).active === i) { if (++c === e) break } else h = null; return h ? ("number" == typeof r && (h.x = r), "number" == typeof s && (h.y = s), h) : n ? this.create(r, s, o, a, l) : null }, get: function(t, e, i, n, r) { return this.getFirst(!1, !0, t, e, i, n, r) }, getFirstAlive: function(t, e, i, n, r, s) { return this.getFirst(!0, t, e, i, n, r, s) }, getFirstDead: function(t, e, i, n, r, s) { return this.getFirst(!1, t, e, i, n, r, s) }, playAnimation: function(t, e) { return n.PlayAnimation(this.children.entries, t, e), this }, isFull: function() { return -1 !== this.maxSize && this.children.size >= this.maxSize }, countActive: function(t) { void 0 === t && (t = !0); for (var e = 0, i = 0; i < this.children.size; i++) this.children.entries[i].active === t && e++; return e }, getTotalUsed: function() { return this.countActive() }, getTotalFree: function() { var t = this.getTotalUsed(); return (-1 === this.maxSize ? 999999999999 : this.maxSize) - t }, setActive: function(t) { return this.active = t, this }, setName: function(t) { return this.name = t, this }, propertyValueSet: function(t, e, i, r, s) { return n.PropertyValueSet(this.children.entries, t, e, i, r, s), this }, propertyValueInc: function(t, e, i, r, s) { return n.PropertyValueInc(this.children.entries, t, e, i, r, s), this }, setX: function(t, e) { return n.SetX(this.children.entries, t, e), this }, setY: function(t, e) { return n.SetY(this.children.entries, t, e), this }, setXY: function(t, e, i, r) { return n.SetXY(this.children.entries, t, e, i, r), this }, incX: function(t, e) { return n.IncX(this.children.entries, t, e), this }, incY: function(t, e) { return n.IncY(this.children.entries, t, e), this }, incXY: function(t, e, i, r) { return n.IncXY(this.children.entries, t, e, i, r), this }, shiftPosition: function(t, e, i) { return n.ShiftPosition(this.children.entries, t, e, i), this }, angle: function(t, e) { return n.Angle(this.children.entries, t, e), this }, rotate: function(t, e) { return n.Rotate(this.children.entries, t, e), this }, rotateAround: function(t, e) { return n.RotateAround(this.children.entries, t, e), this }, rotateAroundDistance: function(t, e, i) { return n.RotateAroundDistance(this.children.entries, t, e, i), this }, setAlpha: function(t, e) { return n.SetAlpha(this.children.entries, t, e), this }, setTint: function(t, e, i, r) { return n.SetTint(this.children.entries, t, e, i, r), this }, setOrigin: function(t, e, i, r) { return n.SetOrigin(this.children.entries, t, e, i, r), this }, scaleX: function(t, e) { return n.ScaleX(this.children.entries, t, e), this }, scaleY: function(t, e) { return n.ScaleY(this.children.entries, t, e), this }, scaleXY: function(t, e, i, r) { return n.ScaleXY(this.children.entries, t, e, i, r), this }, setDepth: function(t, e) { return n.SetDepth(this.children.entries, t, e), this }, setBlendMode: function(t) { return n.SetBlendMode(this.children.entries, t), this }, setHitArea: function(t, e) { return n.SetHitArea(this.children.entries, t, e), this }, shuffle: function() { return n.Shuffle(this.children.entries), this }, kill: function(t) { this.children.contains(t) && t.setActive(!1) }, killAndHide: function(t) { this.children.contains(t) && (t.setActive(!1), t.setVisible(!1)) }, setVisible: function(t, e, i) { return n.SetVisible(this.children.entries, t, e, i), this }, toggleVisible: function() { return n.ToggleVisible(this.children.entries), this }, destroy: function(t, e) { void 0 === t && (t = !1), void 0 === e && (e = !1), this.scene && !this.ignoreDestroy && (this.emit(s.DESTROY, this), this.removeAllListeners(), this.scene.sys.updateList.remove(this), this.clear(e, t), this.scene = void 0, this.children = void 0) } });
				t.exports = g }, 94975: (t, e, i) => { var n = i(44603),
					r = i(26479);
				n.register("group", (function(t) { return new r(this.scene, null, t) })) }, 3385: (t, e, i) => { var n = i(26479);
				i(39429).register("group", (function(t, e) { return this.updateList.add(new n(this.scene, t, e)) })) }, 88571: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(95643),
					o = i(59819),
					a = new n({ Extends: s, Mixins: [r.Alpha, r.BlendMode, r.Depth, r.Flip, r.GetBounds, r.Mask, r.Origin, r.Pipeline, r.PostPipeline, r.ScrollFactor, r.Size, r.TextureCrop, r.Tint, r.Transform, r.Visible, o], initialize: function(t, e, i, n, r) { s.call(this, t, "Image"), this._crop = this.resetCropObject(), this.setTexture(n, r), this.setPosition(e, i), this.setSizeToFrame(), this.setOriginFromFrame(), this.initPipeline(), this.initPostPipeline(!0) } });
				t.exports = a }, 40652: t => { t.exports = function(t, e, i, n) { i.addToRenderList(e), t.batchSprite(e, e.frame, i, n) } }, 82459: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(88571);
				r.register("image", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "key", null),
						r = s(t, "frame", null),
						a = new o(this.scene, 0, 0, i, r); return void 0 !== e && (t.add = e), n(this.scene, a, t), a })) }, 2117: (t, e, i) => { var n = i(88571);
				i(39429).register("image", (function(t, e, i, r) { return this.displayList.add(new n(this.scene, t, e, i, r)) })) }, 59819: (t, e, i) => { var n, r;
				i(29747), n = i(99517), r = i(40652), t.exports = { renderWebGL: n, renderCanvas: r } }, 99517: t => { t.exports = function(t, e, i, n) { i.addToRenderList(e), this.pipeline.batchSprite(e, i, n) } }, 77856: (t, e, i) => { var n = { Events: i(51708), DisplayList: i(8050), GameObjectCreator: i(44603), GameObjectFactory: i(39429), UpdateList: i(45027), Components: i(31401), GetCalcMatrix: i(91296), BuildGameObject: i(25305), BuildGameObjectAnimation: i(13059), GameObject: i(95643), BitmapText: i(22186), Blitter: i(6107), Bob: i(46590), Container: i(31559), DOMElement: i(3069), DynamicBitmapText: i(2638), Extern: i(42421), Graphics: i(43831), Group: i(26479), Image: i(88571), Layer: i(93595), Particles: i(18404), PathFollower: i(1159), RenderTexture: i(591), RetroFont: i(196), Rope: i(77757), Sprite: i(68287), Text: i(50171), GetTextSize: i(14220), MeasureText: i(79557), TextStyle: i(35762), TileSprite: i(20839), Zone: i(41481), Video: i(18471), Shape: i(17803), Arc: i(23629), Curve: i(89), Ellipse: i(19921), Grid: i(30479), IsoBox: i(61475), IsoTriangle: i(16933), Line: i(57847), Polygon: i(24949), Rectangle: i(74561), Star: i(55911), Triangle: i(36931), Factories: { Blitter: i(12709), Container: i(24961), DOMElement: i(2611), DynamicBitmapText: i(72566), Extern: i(56315), Graphics: i(1201), Group: i(3385), Image: i(2117), Layer: i(20005), Particles: i(676), PathFollower: i(90145), RenderTexture: i(60505), Rope: i(96819), Sprite: i(46409), StaticBitmapText: i(34914), Text: i(68005), TileSprite: i(91681), Zone: i(84175), Video: i(89025), Arc: i(42563), Curve: i(40511), Ellipse: i(1543), Grid: i(34137), IsoBox: i(3933), IsoTriangle: i(49803), Line: i(2481), Polygon: i(64827), Rectangle: i(87959), Star: i(93697), Triangle: i(45245) }, Creators: { Blitter: i(9403), Container: i(77143), DynamicBitmapText: i(11164), Graphics: i(87079), Group: i(94975), Image: i(82459), Layer: i(25179), Particles: i(92730), RenderTexture: i(34495), Rope: i(26209), Sprite: i(15567), StaticBitmapText: i(57336), Text: i(71259), TileSprite: i(14167), Zone: i(95261), Video: i(11511) } };
				n.Shader = i(20071), n.Mesh = i(4703), n.NineSlice = i(28103), n.PointLight = i(80321), n.Plane = i(33663), n.Factories.Shader = i(74177), n.Factories.Mesh = i(9225), n.Factories.NineSlice = i(47521), n.Factories.PointLight = i(71255), n.Factories.Plane = i(30985), n.Creators.Shader = i(54935), n.Creators.Mesh = i(20527), n.Creators.NineSlice = i(28279), n.Creators.PointLight = i(39829), n.Creators.Plane = i(56015), n.Light = i(41432), n.LightsManager = i(61356), n.LightsPlugin = i(88992), t.exports = n }, 93595: (t, e, i) => { var n = i(10312),
					r = i(83419),
					s = i(31401),
					o = i(53774),
					a = i(45893),
					l = i(50792),
					h = i(51708),
					u = i(73162),
					c = i(33963),
					d = i(44594),
					f = i(19186),
					p = new r({ Extends: u, Mixins: [s.AlphaSingle, s.BlendMode, s.Depth, s.Mask, s.PostPipeline, s.Visible, l, c], initialize: function(t, e) { u.call(this, t), l.call(this), this.scene = t, this.displayList = null, this.type = "Layer", this.state = 0, this.parentContainer = null, this.name = "", this.active = !0, this.tabIndex = -1, this.data = null, this.renderFlags = 15, this.cameraFilter = 0, this.input = null, this.body = null, this.ignoreDestroy = !1, this.systems = t.sys, this.events = t.sys.events, this.sortChildrenFlag = !1, this.addCallback = this.addChildCallback, this.removeCallback = this.removeChildCallback, this.initPostPipeline(), this.clearAlpha(), this.setBlendMode(n.SKIP_CHECK), e && this.add(e), t.sys.queueDepthSort() }, setActive: function(t) { return this.active = t, this }, setName: function(t) { return this.name = t, this }, setState: function(t) { return this.state = t, this }, setDataEnabled: function() { return this.data || (this.data = new a(this)), this }, setData: function(t, e) { return this.data || (this.data = new a(this)), this.data.set(t, e), this }, incData: function(t, e) { return this.data || (this.data = new a(this)), this.data.inc(t, e), this }, toggleData: function(t) { return this.data || (this.data = new a(this)), this.data.toggle(t), this }, getData: function(t) { return this.data || (this.data = new a(this)), this.data.get(t) }, setInteractive: function() { return this }, disableInteractive: function() { return this }, removeInteractive: function() { return this }, addedToScene: function() {}, removedFromScene: function() {}, update: function() {}, toJSON: function() { return o(this) }, willRender: function(t) { return !(15 !== this.renderFlags || 0 === this.list.length || 0 !== this.cameraFilter && this.cameraFilter & t.id) }, getIndexList: function() { for (var t = this, e = this.parentContainer, i = []; e && (i.unshift(e.getIndex(t)), t = e, e.parentContainer);) e = e.parentContainer; return i.unshift(this.displayList.getIndex(t)), i }, addChildCallback: function(t) { var e = t.displayList;
							e && e !== this && t.removeFromDisplayList(), t.displayList || (this.queueDepthSort(), t.displayList = this, t.emit(h.ADDED_TO_SCENE, t, this.scene), this.events.emit(d.ADDED_TO_SCENE, t, this.scene)) }, removeChildCallback: function(t) { this.queueDepthSort(), t.displayList = null, t.emit(h.REMOVED_FROM_SCENE, t, this.scene), this.events.emit(d.REMOVED_FROM_SCENE, t, this.scene) }, queueDepthSort: function() { this.sortChildrenFlag = !0 }, depthSort: function() { this.sortChildrenFlag && (f(this.list, this.sortByDepth), this.sortChildrenFlag = !1) }, sortByDepth: function(t, e) { return t._depth - e._depth }, getChildren: function() { return this.list }, addToDisplayList: function(t) { return void 0 === t && (t = this.scene.sys.displayList), this.displayList && this.displayList !== t && this.removeFromDisplayList(), t.exists(this) || (this.displayList = t, t.add(this, !0), t.queueDepthSort(), this.emit(h.ADDED_TO_SCENE, this, this.scene), t.events.emit(d.ADDED_TO_SCENE, this, this.scene)), this }, removeFromDisplayList: function() { var t = this.displayList || this.scene.sys.displayList; return t.exists(this) && (t.remove(this, !0), t.queueDepthSort(), this.displayList = null, this.emit(h.REMOVED_FROM_SCENE, this, this.scene), t.events.emit(d.REMOVED_FROM_SCENE, this, this.scene)), this }, destroy: function(t) { if (this.scene && !this.ignoreDestroy) { this.emit(h.DESTROY, this); for (var e = this.list; e.length;) e[0].destroy(t);
								this.removeAllListeners(), this.resetPostPipeline(!0), this.displayList && (this.displayList.remove(this, !0, !1), this.displayList.queueDepthSort()), this.data && (this.data.destroy(), this.data = void 0), this.active = !1, this.visible = !1, this.list = void 0, this.scene = void 0, this.displayList = void 0, this.systems = void 0, this.events = void 0 } } });
				t.exports = p }, 2956: t => { t.exports = function(t, e, i) { var n = e.list; if (0 !== n.length) { e.depthSort(); var r = -1 !== e.blendMode;
						r || t.setBlendMode(0); var s = e._alpha;
						e.mask && e.mask.preRenderCanvas(t, null, i); for (var o = 0; o < n.length; o++) { var a = n[o]; if (a.willRender(i)) { var l = a.alpha;
								r || a.blendMode === t.currentBlendMode || t.setBlendMode(a.blendMode), a.setAlpha(l * s), a.renderCanvas(t, a, i), a.setAlpha(l) } } e.mask && e.mask.postRenderCanvas(t) } } }, 25179: (t, e, i) => { var n = i(25305),
					r = i(93595),
					s = i(44603),
					o = i(23568);
				s.register("layer", (function(t, e) { void 0 === t && (t = {}); var i = o(t, "children", null),
						s = new r(this.scene, i); return void 0 !== e && (t.add = e), n(this.scene, s, t), s })) }, 20005: (t, e, i) => { var n = i(93595);
				i(39429).register("layer", (function(t) { return this.displayList.add(new n(this.scene, t)) })) }, 33963: (t, e, i) => { var n, r;
				i(29747), n = i(15869), r = i(2956), t.exports = { renderWebGL: n, renderCanvas: r } }, 15869: t => { t.exports = function(t, e, i) { var n = e.list,
						r = n.length; if (0 !== r) { e.depthSort(), t.pipelines.preBatch(e); var s = -1 !== e.blendMode;
						s || t.setBlendMode(0); for (var o = e.alpha, a = 0; a < r; a++) { var l = n[a]; if (l.willRender(i)) { var h, u, c, d; if (void 0 !== l.alphaTopLeft) h = l.alphaTopLeft, u = l.alphaTopRight, c = l.alphaBottomLeft, d = l.alphaBottomRight;
								else { var f = l.alpha;
									h = f, u = f, c = f, d = f } s || l.blendMode === t.currentBlendMode || t.setBlendMode(l.blendMode); var p = l.mask;
								p && p.preRenderWebGL(t, l, i); var g = l.type;
								g !== t.currentType && (t.newType = !0, t.currentType = g), t.nextTypeMatch = a < r - 1 && n[a + 1].type === t.currentType, l.setAlpha(h * o, u * o, c * o, d * o), l.renderWebGL(t, l, i), l.setAlpha(h, u, c, d), p && p.postRenderWebGL(t, i), t.newType = !1 } } t.pipelines.postBatch(e) } } }, 41432: (t, e, i) => { var n = i(96503),
					r = i(83419),
					s = i(31401),
					o = i(51767),
					a = i(70554),
					l = new r({ Extends: n, Mixins: [s.Origin, s.ScrollFactor, s.Visible], initialize: function(t, e, i, r, s, a, l) { n.call(this, t, e, i), this.color = new o(r, s, a), this.intensity = l, this.renderFlags = 15, this.cameraFilter = 0, this.setScrollFactor(1, 1), this.setOrigin(), this.setDisplayOrigin(i) }, displayWidth: { get: function() { return this.diameter }, set: function(t) { this.diameter = t } }, displayHeight: { get: function() { return this.diameter }, set: function(t) { this.diameter = t } }, width: { get: function() { return this.diameter }, set: function(t) { this.diameter = t } }, height: { get: function() { return this.diameter }, set: function(t) { this.diameter = t } }, willRender: function(t) { return !(l.RENDER_MASK !== this.renderFlags || 0 !== this.cameraFilter && this.cameraFilter & t.id) }, setColor: function(t) { var e = a.getFloatsFromUintRGB(t); return this.color.set(e[0], e[1], e[2]), this }, setIntensity: function(t) { return this.intensity = t, this }, setRadius: function(t) { return this.radius = t, this } });
				l.RENDER_MASK = 15, t.exports = l }, 61356: (t, e, i) => { var n = i(81491),
					r = i(83419),
					s = i(20339),
					o = i(41432),
					a = i(80321),
					l = i(51767),
					h = i(19133),
					u = i(19186),
					c = i(70554),
					d = new r({ initialize: function() { this.lights = [], this.ambientColor = new l(.1, .1, .1), this.active = !1, this.maxLights = -1, this.visibleLights = 0 }, addPointLight: function(t, e, i, n, r, s) { return this.systems.displayList.add(new a(this.scene, t, e, i, n, r, s)) }, enable: function() { return -1 === this.maxLights && (this.maxLights = this.systems.renderer.config.maxLights), this.active = !0, this }, disable: function() { return this.active = !1, this }, getLights: function(t) { for (var e = this.lights, i = t.worldView, r = [], o = 0; o < e.length; o++) { var a = e[o];
								a.willRender(t) && n(a, i) && r.push({ light: a, distance: s(a.x, a.y, i.centerX, i.centerY) }) } return r.length > this.maxLights && (u(r, this.sortByDistance), r = r.slice(0, this.maxLights)), this.visibleLights = r.length, r }, sortByDistance: function(t, e) { return t.distance >= e.distance }, setAmbientColor: function(t) { var e = c.getFloatsFromUintRGB(t); return this.ambientColor.set(e[0], e[1], e[2]), this }, getMaxVisibleLights: function() { return this.maxLights }, getLightCount: function() { return this.lights.length }, addLight: function(t, e, i, n, r) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 128), void 0 === n && (n = 16777215), void 0 === r && (r = 1); var s = c.getFloatsFromUintRGB(n),
								a = new o(t, e, i, s[0], s[1], s[2], r); return this.lights.push(a), a }, removeLight: function(t) { var e = this.lights.indexOf(t); return e >= 0 && h(this.lights, e), this }, shutdown: function() { this.lights.length = 0 }, destroy: function() { this.shutdown() } });
				t.exports = d }, 88992: (t, e, i) => { var n = i(83419),
					r = i(61356),
					s = i(37277),
					o = i(44594),
					a = new n({ Extends: r, initialize: function(t) { this.scene = t, this.systems = t.sys, t.sys.settings.isBooted || t.sys.events.once(o.BOOT, this.boot, this), r.call(this) }, boot: function() { var t = this.systems.events;
							t.on(o.SHUTDOWN, this.shutdown, this), t.on(o.DESTROY, this.destroy, this) }, destroy: function() { this.shutdown(), this.scene = void 0, this.systems = void 0 } });
				s.register("LightsPlugin", a, "lights"), t.exports = a }, 4703: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(39506),
					o = i(83997),
					a = i(95643),
					l = i(34684),
					h = i(92515),
					u = i(91296),
					c = i(37867),
					d = i(29807),
					f = i(43396),
					p = i(19186),
					g = i(25836),
					m = i(39318),
					v = new n({ Extends: a, Mixins: [r.AlphaSingle, r.BlendMode, r.Depth, r.Mask, r.Pipeline, r.PostPipeline, r.ScrollFactor, r.Size, r.Texture, r.Transform, r.Visible, d], initialize: function(t, e, i, n, r, s, o, l, h, u, d, f) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = "__WHITE"), a.call(this, t, "Mesh"), this.faces = [], this.vertices = [], this.tintFill = !1, this.debugCallback = null, this.debugGraphic = null, this.hideCCW = !0, this.modelPosition = new g, this.modelScale = new g(1, 1, 1), this.modelRotation = new g, this.dirtyCache = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], this.transformMatrix = new c, this.viewPosition = new g, this.viewMatrix = new c, this.projectionMatrix = new c, this.totalRendered = 0, this.totalFrame = 0, this.ignoreDirtyCache = !1, this.fov, this.displayOriginX = 0, this.displayOriginY = 0; var p = t.sys.renderer;
							this.setPosition(e, i), this.setTexture(n, r), this.setSize(p.width, p.height), this.initPipeline(), this.initPostPipeline(), this.setPerspective(p.width, p.height), s && this.addVertices(s, o, l, h, u, d, f) }, addedToScene: function() { this.scene.sys.updateList.add(this) }, removedFromScene: function() { this.scene.sys.updateList.remove(this) }, panX: function(t) { return this.viewPosition.addScale(g.LEFT, t), this.dirtyCache[10] = 1, this }, panY: function(t) { return this.viewPosition.y += g.DOWN.y * t, this.dirtyCache[10] = 1, this }, panZ: function(t) { return this.viewPosition.z += t, this.dirtyCache[10] = 1, this }, setPerspective: function(t, e, i, n, r) { return void 0 === i && (i = 45), void 0 === n && (n = .01), void 0 === r && (r = 1e3), this.fov = i, this.projectionMatrix.perspective(s(i), t / e, n, r), this.dirtyCache[10] = 1, this.dirtyCache[11] = 0, this }, setOrtho: function(t, e, i, n) { return void 0 === t && (t = this.scene.sys.renderer.getAspectRatio()), void 0 === e && (e = 1), void 0 === i && (i = -1e3), void 0 === n && (n = 1e3), this.fov = 0, this.projectionMatrix.ortho(-t, t, -e, e, i, n), this.dirtyCache[10] = 1, this.dirtyCache[11] = 1, this }, clear: function() { return this.faces.forEach((function(t) { t.destroy() })), this.faces = [], this.vertices = [], this }, addVerticesFromObj: function(t, e, i, n, r, s, o, a, h) { var u, c = this.scene.sys.cache.obj.get(t); return c && (u = l(c, this, e, i, n, r, s, o, a, h)), u && 0 !== u.verts.length || console.warn("Mesh.addVerticesFromObj data empty:", t), this }, sortByDepth: function(t, e) { return t.depth - e.depth }, depthSort: function() { return p(this.faces, this.sortByDepth), this }, addVertex: function(t, e, i, n, r, s, o) { var a = new m(t, e, i, n, r, s, o); return this.vertices.push(a), a }, addFace: function(t, e, i) { var n = new o(t, e, i); return this.faces.push(n), this.dirtyCache[9] = -1, n }, addVertices: function(t, e, i, n, r, s, o) { var a = h(t, e, i, n, r, s, o); return a ? (this.faces = this.faces.concat(a.faces), this.vertices = this.vertices.concat(a.vertices)) : console.warn("Mesh.addVertices data empty or invalid"), this.dirtyCache[9] = -1, this }, getFaceCount: function() { return this.faces.length }, getVertexCount: function() { return this.vertices.length }, getFace: function(t) { return this.faces[t] }, hasFaceAt: function(t, e, i) { void 0 === i && (i = this.scene.sys.cameras.main); for (var n = u(this, i).calc, r = this.faces, s = 0; s < r.length; s++)
								if (r[s].contains(t, e, n)) return !0; return !1 }, getFaceAt: function(t, e, i) { void 0 === i && (i = this.scene.sys.cameras.main); for (var n = u(this, i).calc, r = this.faces, s = [], o = 0; o < r.length; o++) { var a = r[o];
								a.contains(t, e, n) && s.push(a) } return p(s, this.sortByDepth) }, setDebug: function(t, e) { return this.debugGraphic = t, this.debugCallback = t || e ? e || this.renderDebug : null, this }, isDirty: function() { var t = this.modelPosition,
								e = this.modelRotation,
								i = this.modelScale,
								n = this.dirtyCache,
								r = t.x,
								s = t.y,
								o = t.z,
								a = e.x,
								l = e.y,
								h = e.z,
								u = i.x,
								c = i.y,
								d = i.z,
								f = this.getFaceCount(),
								p = n[0],
								g = n[1],
								m = n[2],
								v = n[3],
								y = n[4],
								x = n[5],
								b = n[6],
								w = n[7],
								T = n[8],
								S = n[9]; return n[0] = r, n[1] = s, n[2] = o, n[3] = a, n[4] = l, n[5] = h, n[6] = u, n[7] = c, n[8] = d, n[9] = f, p !== r || g !== s || m !== o || v !== a || y !== l || x !== h || b !== u || w !== c || T !== d || S !== f }, preUpdate: function() { this.totalRendered = this.totalFrame, this.totalFrame = 0; var t = this.dirtyCache; if (this.ignoreDirtyCache || t[10] || this.isDirty()) { var e = this.width,
									i = this.height,
									n = this.viewMatrix,
									r = this.viewPosition;
								t[10] && (n.identity(), n.translate(r), n.invert(), t[10] = 0); var s = this.transformMatrix;
								s.setWorldMatrix(this.modelRotation, this.modelPosition, this.modelScale, this.viewMatrix, this.projectionMatrix); for (var o = r.z, a = this.faces, l = 0; l < a.length; l++) a[l].transformCoordinatesLocal(s, e, i, o);
								this.depthSort() } }, renderDebug: function(t, e) { for (var i = t.debugGraphic, n = 0; n < e.length; n++) { var r = e[n],
									s = r.vertex1.tx,
									o = r.vertex1.ty,
									a = r.vertex2.tx,
									l = r.vertex2.ty,
									h = r.vertex3.tx,
									u = r.vertex3.ty;
								i.strokeTriangle(s, o, a, l, h, u) } }, preDestroy: function() { this.clear(), this.debugCallback = null, this.debugGraphic = null }, clearTint: function() { return this.setTint() }, setInteractive: function(t) { void 0 === t && (t = {}); var e = function(t, e, i) { for (var n = this.faces, r = 0; r < n.length; r++)
									if (n[r].contains(e, i)) return !0; return !1 }.bind(this); return this.scene.sys.input.enable(this, t, e), this }, setTint: function(t) { void 0 === t && (t = 16777215); for (var e = this.vertices, i = 0; i < e.length; i++) e[i].color = t; return this }, uvScroll: function(t, e) { for (var i = this.faces, n = 0; n < i.length; n++) i[n].scrollUV(t, e); return this }, uvScale: function(t, e) { for (var i = this.faces, n = 0; n < i.length; n++) i[n].scaleUV(t, e); return this }, tint: { set: function(t) { this.setTint(t) } }, rotateX: { get: function() { return f(this.modelRotation.x) }, set: function(t) { this.modelRotation.x = s(t) } }, rotateY: { get: function() { return f(this.modelRotation.y) }, set: function(t) { this.modelRotation.y = s(t) } }, rotateZ: { get: function() { return f(this.modelRotation.z) }, set: function(t) { this.modelRotation.z = s(t) } } });
				t.exports = v }, 36488: t => { t.exports = function() {} }, 20527: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(35154),
					a = i(4703);
				r.register("mesh", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "key", null),
						r = s(t, "frame", null),
						l = o(t, "vertices", []),
						h = o(t, "uvs", []),
						u = o(t, "indicies", []),
						c = o(t, "containsZ", !1),
						d = o(t, "normals", []),
						f = o(t, "colors", 16777215),
						p = o(t, "alphas", 1),
						g = new a(this.scene, 0, 0, i, r, l, h, u, c, d, f, p); return void 0 !== e && (t.add = e), n(this.scene, g, t), g })) }, 9225: (t, e, i) => { var n = i(4703);
				i(39429).register("mesh", (function(t, e, i, r, s, o, a, l, h, u, c) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o, a, l, h, u, c)) })) }, 29807: (t, e, i) => { var n, r;
				i(29747), n = i(48833), r = i(36488), t.exports = { renderWebGL: n, renderCanvas: r } }, 48833: (t, e, i) => { var n = i(91296);
				t.exports = function(t, e, i, r) { var s = e.faces,
						o = s.length; if (0 !== o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline, e),
							l = n(e, i, r).calc;
						t.pipelines.preBatch(e); for (var h = a.setGameObject(e), u = a.vertexViewF32, c = a.vertexViewU32, d = a.vertexCount * a.currentShader.vertexComponentCount - 1, f = e.tintFill, p = [], g = e.debugCallback, m = l.a, v = l.b, y = l.c, x = l.d, b = l.e, w = l.f, T = e.viewPosition.z, S = e.hideCCW, _ = i.roundPixels, E = i.alpha * e.alpha, A = 0, C = 0; C < o; C++) { var k = s[C];
							k.isInView(i, S, T, E, m, v, y, x, b, w, _) && (a.shouldFlush(3) && (a.flush(), h = a.setGameObject(e), d = a.vertexCount * a.currentShader.vertexComponentCount - 1), d = k.load(u, c, d, h, f), A++, a.vertexCount += 3, a.currentBatch.count = a.vertexCount - a.currentBatch.start, g && p.push(k)) } e.totalFrame += A, g && g.call(e, e, p), t.pipelines.postBatch(e) } } }, 28103: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(95643),
					o = i(78023),
					a = i(39318),
					l = new n({ Extends: s, Mixins: [r.AlphaSingle, r.BlendMode, r.Depth, r.GetBounds, r.Mask, r.Origin, r.Pipeline, r.PostPipeline, r.ScrollFactor, r.Texture, r.Transform, r.Visible, o], initialize: function(t, e, i, n, r, o, l, h, u, c, d) { s.call(this, t, "NineSlice"), this._width, this._height, this._originX = .5, this._originY = .5, this._sizeComponent = !0, this.vertices = [], this.leftWidth, this.rightWidth, this.topHeight, this.bottomHeight, this.tint = 16777215, this.tintFill = !1; var f = t.textures.getFrame(n, r);
							this.is3Slice = !c && !d, f && f.scale9 && (this.is3Slice = f.is3Slice); for (var p = this.is3Slice ? 18 : 54, g = 0; g < p; g++) this.vertices.push(new a);
							this.setPosition(e, i), this.setTexture(n, r), this.setSlices(o, l, h, u, c, d, !1), this.updateDisplayOrigin(), this.initPipeline(), this.initPostPipeline() }, setSlices: function(t, e, i, n, r, s, o) { void 0 === i && (i = 10), void 0 === n && (n = 10), void 0 === r && (r = 0), void 0 === s && (s = 0), void 0 === o && (o = !1); var a = this.frame,
								l = !1; if (this.is3Slice && o && 0 !== r && 0 !== s && (l = !0), l) console.warn("Cannot change 9 slice to 3 slice");
							else { if (a && a.scale9 && !o) { var h = a.data.scale9Borders,
										u = h.x,
										c = h.y;
									i = u, n = a.width - h.w - u, r = c, s = a.height - h.h - c, void 0 === t && (t = a.width), void 0 === e && (e = a.height) } else void 0 === t && (t = 256), void 0 === e && (e = 256);
								this._width = t, this._height = e, this.leftWidth = i, this.rightWidth = n, this.topHeight = r, this.bottomHeight = s, this.is3Slice && (e = a.height, this._height = e, this.topHeight = e, this.bottomHeight = 0), this.updateVertices(), this.updateUVs() } return this }, updateUVs: function() { var t = this.leftWidth,
								e = this.rightWidth,
								i = this.topHeight,
								n = this.bottomHeight,
								r = this.frame.width,
								s = this.frame.height;
							this.updateQuadUVs(0, 0, 0, t / r, i / s), this.updateQuadUVs(6, t / r, 0, 1 - e / r, i / s), this.updateQuadUVs(12, 1 - e / r, 0, 1, i / s), this.is3Slice || (this.updateQuadUVs(18, 0, i / s, t / r, 1 - n / s), this.updateQuadUVs(24, t / r, i / s, 1 - e / r, 1 - n / s), this.updateQuadUVs(30, 1 - e / r, i / s, 1, 1 - n / s), this.updateQuadUVs(36, 0, 1 - n / s, t / r, 1), this.updateQuadUVs(42, t / r, 1 - n / s, 1 - e / r, 1), this.updateQuadUVs(48, 1 - e / r, 1 - n / s, 1, 1)) }, updateVertices: function() { var t = this.leftWidth,
								e = this.rightWidth,
								i = this.topHeight,
								n = this.bottomHeight,
								r = this.width,
								s = this.height;
							this.updateQuad(0, -.5, .5, t / r - .5, .5 - i / s), this.updateQuad(6, t / r - .5, .5, .5 - e / r, .5 - i / s), this.updateQuad(12, .5 - e / r, .5, .5, .5 - i / s), this.is3Slice || (this.updateQuad(18, -.5, .5 - i / s, t / r - .5, n / s - .5), this.updateQuad(24, t / r - .5, .5 - i / s, .5 - e / r, n / s - .5), this.updateQuad(30, .5 - e / r, .5 - i / s, .5, n / s - .5), this.updateQuad(36, -.5, n / s - .5, t / r - .5, -.5), this.updateQuad(42, t / r - .5, n / s - .5, .5 - e / r, -.5), this.updateQuad(48, .5 - e / r, n / s - .5, .5, -.5)) }, updateQuad: function(t, e, i, n, r) { var s = this.width,
								o = this.height,
								a = this.originX,
								l = this.originY,
								h = this.vertices;
							h[t + 0].resize(e, i, s, o, a, l), h[t + 1].resize(e, r, s, o, a, l), h[t + 2].resize(n, i, s, o, a, l), h[t + 3].resize(e, r, s, o, a, l), h[t + 4].resize(n, r, s, o, a, l), h[t + 5].resize(n, i, s, o, a, l) }, updateQuadUVs: function(t, e, i, n, r) { var s = this.vertices,
								o = this.frame,
								a = o.u0,
								l = o.v0,
								h = o.u1,
								u = o.v1; if (0 !== a || 1 !== h) { var c = h - a;
								e = a + e * c, n = a + n * c } if (0 !== l || 1 !== u) { var d = u - l;
								i = l + i * d, r = l + r * d } s[t + 0].setUVs(e, i), s[t + 1].setUVs(e, r), s[t + 2].setUVs(n, i), s[t + 3].setUVs(e, r), s[t + 4].setUVs(n, r), s[t + 5].setUVs(n, i) }, clearTint: function() { return this.setTint(16777215), this }, setTint: function(t) { return void 0 === t && (t = 16777215), this.tint = t, this.tintFill = !1, this }, setTintFill: function(t) { return this.setTint(t), this.tintFill = !0, this }, isTinted: { get: function() { return 16777215 !== this.tint } }, width: { get: function() { return this._width }, set: function(t) { this._width = Math.max(t, this.leftWidth + this.rightWidth), this.updateVertices() } }, height: { get: function() { return this._height }, set: function(t) { this.is3Slice || (this._height = Math.max(t, this.topHeight + this.bottomHeight), this.updateVertices()) } }, displayWidth: { get: function() { return this.scaleX * this.width }, set: function(t) { this.scaleX = t / this.width } }, displayHeight: { get: function() { return this.scaleY * this.height }, set: function(t) { this.scaleY = t / this.height } }, setSize: function(t, e) { this.width = t, this.height = e, this.updateDisplayOrigin(); var i = this.input; return i && !i.customHitArea && (i.hitArea.width = this.width, i.hitArea.height = this.height), this }, setDisplaySize: function(t, e) { return this.displayWidth = t, this.displayHeight = e, this }, originX: { get: function() { return this._originX }, set: function(t) { this._originX = t, this.updateVertices() } }, originY: { get: function() { return this._originY }, set: function(t) { this._originY = t, this.updateVertices() } }, setOrigin: function(t, e) { return void 0 === t && (t = .5), void 0 === e && (e = t), this._originX = t, this._originY = e, this.updateVertices(), this.updateDisplayOrigin() }, setSizeToFrame: function() { if (this.is3Slice) { var t = this.frame.height;
								this._height = t, this.topHeight = t, this.bottomHeight = 0 } return this.updateUVs(), this }, preDestroy: function() { this.vertices = [] } });
				t.exports = l }, 28279: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(35154),
					a = i(28103);
				r.register("nineslice", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "key", null),
						r = s(t, "frame", null),
						l = o(t, "width", 256),
						h = o(t, "height", 256),
						u = o(t, "leftWidth", 10),
						c = o(t, "rightWidth", 10),
						d = o(t, "topHeight", 0),
						f = o(t, "bottomHeight", 0),
						p = new a(this.scene, 0, 0, i, r, l, h, u, c, d, f); return void 0 !== e && (t.add = e), n(this.scene, p, t), p })) }, 47521: (t, e, i) => { var n = i(28103);
				i(39429).register("nineslice", (function(t, e, i, r, s, o, a, l, h, u) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o, a, l, h, u)) })) }, 78023: (t, e, i) => { var n, r = i(29747);
				n = i(52230), t.exports = { renderWebGL: n, renderCanvas: r } }, 52230: (t, e, i) => { var n = i(91296),
					r = i(70554);
				t.exports = function(t, e, i, s) { var o = e.vertices,
						a = o.length; if (0 !== a) { i.addToRenderList(e); var l = t.pipelines.set(e.pipeline, e),
							h = n(e, i, s, !1).calc;
						t.pipelines.preBatch(e); var u = l.setGameObject(e),
							c = l.vertexViewF32,
							d = l.vertexViewU32,
							f = l.vertexCount * l.currentShader.vertexComponentCount - 1,
							p = i.roundPixels,
							g = e.tintFill,
							m = i.alpha * e.alpha,
							v = r.getTintAppendFloatAlpha(e.tint, m),
							y = l.vertexAvailable(),
							x = -1;
						y < a && (x = y); for (var b = 0; b < a; b++) { var w = o[b];
							b === x && (l.flush(), u = l.setGameObject(e), f = 0), c[++f] = h.getXRound(w.vx, w.vy, p), c[++f] = h.getYRound(w.vx, w.vy, p), c[++f] = w.u, c[++f] = w.v, c[++f] = u, c[++f] = g, d[++f] = v, l.vertexCount++, l.currentBatch.count = l.vertexCount - l.currentBatch.start } t.pipelines.postBatch(e) } } }, 76472: (t, e, i) => { var n = i(83419),
					r = i(44777),
					s = i(37589),
					o = i(6113),
					a = i(91389),
					l = i(90664),
					h = new n({ Extends: r, initialize: function(t) { r.call(this, t, null, !1), this.active = !1, this.easeName = "Linear", this.r = [], this.g = [], this.b = [] }, getMethod: function() { return null === this.propertyValue ? 0 : 9 }, setMethods: function() { var t = this.propertyValue,
								e = t,
								i = this.defaultEmit,
								n = this.defaultUpdate; if (9 === this.method) { this.start = t[0], this.ease = o("Linear"), this.interpolation = a("linear"), i = this.easedValueEmit, n = this.easeValueUpdate, e = t[0], this.active = !0; for (var r = 0; r < t.length; r++) { var s = l(t[r]);
									this.r.push(s.r), this.g.push(s.g), this.b.push(s.b) } } return this.onEmit = i, this.onUpdate = n, this.current = e, this }, setEase: function(t) { this.easeName = t, this.ease = o(t) }, easedValueEmit: function() { return this.current = this.start, this.start }, easeValueUpdate: function(t, e, i) { var n = this.ease(i),
								r = this.interpolation(this.r, n),
								o = this.interpolation(this.g, n),
								a = this.interpolation(this.b, n),
								l = s(r, o, a); return this.current = l, l } });
				t.exports = h }, 44777: (t, e, i) => { var n = i(30976),
					r = i(45319),
					s = i(83419),
					o = i(99472),
					a = i(6113),
					l = i(95540),
					h = i(91389),
					u = i(77720),
					c = i(15994),
					d = new s({ initialize: function(t, e, i) { void 0 === i && (i = !1), this.propertyKey = t, this.propertyValue = e, this.defaultValue = e, this.steps = 0, this.counter = 0, this.yoyo = !1, this.direction = 0, this.start = 0, this.current = 0, this.end = 0, this.ease = null, this.interpolation = null, this.emitOnly = i, this.onEmit = this.defaultEmit, this.onUpdate = this.defaultUpdate, this.active = !0, this.method = 0, this._onEmit, this._onUpdate }, loadConfig: function(t, e) { void 0 === t && (t = {}), e && (this.propertyKey = e), this.propertyValue = l(t, this.propertyKey, this.defaultValue), this.method = this.getMethod(), this.setMethods(), this.emitOnly && (this.onUpdate = this.defaultUpdate) }, toJSON: function() { return JSON.stringify(this.propertyValue) }, onChange: function(t) { var e; switch (this.method) {
								case 1:
								case 3:
								case 8:
									e = t; break;
								case 2:
									this.propertyValue.indexOf(t) >= 0 && (e = t); break;
								case 4:
									var i = (this.end - this.start) / this.steps;
									e = u(t, i), this.counter = e; break;
								case 5:
								case 6:
								case 7:
									e = r(t, this.start, this.end); break;
								case 9:
									e = this.start[0] } return this.current = e, this }, getMethod: function() { var t = this.propertyValue; if (null === t) return 0; var e = typeof t; if ("number" === e) return 1; if (Array.isArray(t)) return 2; if ("function" === e) return 3; if ("object" === e) { if (this.hasBoth(t, "start", "end")) return this.has(t, "steps") ? 4 : 5; if (this.hasBoth(t, "min", "max")) return 6; if (this.has(t, "random")) return 7; if (this.hasEither(t, "onEmit", "onUpdate")) return 8; if (this.hasEither(t, "values", "interpolation")) return 9 } return 0 }, setMethods: function() { var t = this.propertyValue,
								e = t,
								i = this.defaultEmit,
								n = this.defaultUpdate; switch (this.method) {
								case 1:
									i = this.staticValueEmit; break;
								case 2:
									i = this.randomStaticValueEmit, e = t[0]; break;
								case 3:
									this._onEmit = t, i = this.proxyEmit; break;
								case 4:
									this.start = t.start, this.end = t.end, this.steps = t.steps, this.counter = this.start, this.yoyo = !!this.has(t, "yoyo") && t.yoyo, this.direction = 0, i = this.steppedEmit, e = this.start; break;
								case 5:
									this.start = t.start, this.end = t.end; var r = this.has(t, "ease") ? t.ease : "Linear";
									this.ease = a(r, t.easeParams), i = this.has(t, "random") && t.random ? this.randomRangedValueEmit : this.easedValueEmit, n = this.easeValueUpdate, e = this.start; break;
								case 6:
									this.start = t.min, this.end = t.max, i = this.has(t, "int") && t.int ? this.randomRangedIntEmit : this.randomRangedValueEmit, e = this.start; break;
								case 7:
									var s = t.random;
									Array.isArray(s) && (this.start = s[0], this.end = s[1]), i = this.randomRangedIntEmit, e = this.start; break;
								case 8:
									this._onEmit = this.has(t, "onEmit") ? t.onEmit : this.defaultEmit, this._onUpdate = this.has(t, "onUpdate") ? t.onUpdate : this.defaultUpdate, i = this.proxyEmit, n = this.proxyUpdate; break;
								case 9:
									this.start = t.values; var o = this.has(t, "ease") ? t.ease : "Linear";
									this.ease = a(o, t.easeParams), this.interpolation = h(t.interpolation), i = this.easedValueEmit, n = this.easeValueUpdate, e = this.start[0] } return this.onEmit = i, this.onUpdate = n, this.current = e, this }, has: function(t, e) { return t.hasOwnProperty(e) }, hasBoth: function(t, e, i) { return t.hasOwnProperty(e) && t.hasOwnProperty(i) }, hasEither: function(t, e, i) { return t.hasOwnProperty(e) || t.hasOwnProperty(i) }, defaultEmit: function(t, e, i) { return i }, defaultUpdate: function(t, e, i, n) { return n }, proxyEmit: function(t, e, i) { var n = this._onEmit(t, e, i); return this.current = n, n }, proxyUpdate: function(t, e, i, n) { var r = this._onUpdate(t, e, i, n); return this.current = r, r }, staticValueEmit: function() { return this.current }, staticValueUpdate: function() { return this.current }, randomStaticValueEmit: function() { var t = Math.floor(Math.random() * this.propertyValue.length); return this.current = this.propertyValue[t], this.current }, randomRangedValueEmit: function(t, e) { var i = o(this.start, this.end); return t && t.data[e] && (t.data[e].min = i, t.data[e].max = this.end), this.current = i, i }, randomRangedIntEmit: function(t, e) { var i = n(this.start, this.end); return t && t.data[e] && (t.data[e].min = i, t.data[e].max = this.end), this.current = i, i }, steppedEmit: function() { var t, e = this.counter,
								i = e,
								n = (this.end - this.start) / this.steps; return this.yoyo ? (0 === this.direction ? (i += n) >= this.end && (t = i - this.end, i = this.end - t, this.direction = 1) : (i -= n) <= this.start && (t = this.start - i, i = this.start + t, this.direction = 0), this.counter = i) : this.counter = c(i + n, this.start, this.end), this.current = e, e }, easedValueEmit: function(t, e) { if (t && t.data[e]) { var i = t.data[e];
								i.min = this.start, i.max = this.end } return this.current = this.start, this.start }, easeValueUpdate: function(t, e, i) { var n, r = t.data[e],
								s = this.ease(i); return n = this.interpolation ? this.interpolation(this.start, s) : (r.max - r.min) * s + r.min, this.current = n, n }, destroy: function() { this.propertyValue = null, this.defaultValue = null, this.ease = null, this.interpolation = null, this._onEmit = null, this._onUpdate = null } });
				t.exports = d }, 24502: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(20286),
					o = new n({ Extends: s, initialize: function(t, e, i, n, o) { if ("object" == typeof t) { var a = t;
								t = r(a, "x", 0), e = r(a, "y", 0), i = r(a, "power", 0), n = r(a, "epsilon", 100), o = r(a, "gravity", 50) } else void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 100), void 0 === o && (o = 50);
							s.call(this, t, e, !0), this._gravity = o, this._power = i * o, this._epsilon = n * n }, update: function(t, e) { var i = this.x - t.x,
								n = this.y - t.y,
								r = i * i + n * n; if (0 !== r) { var s = Math.sqrt(r);
								r < this._epsilon && (r = this._epsilon); var o = this._power * e / (r * s) * 100;
								t.velocityX += i * o, t.velocityY += n * o } }, epsilon: { get: function() { return Math.sqrt(this._epsilon) }, set: function(t) { this._epsilon = t * t } }, power: { get: function() { return this._power / this._gravity }, set: function(t) { this._power = t * this._gravity } }, gravity: { get: function() { return this._gravity }, set: function(t) { var e = this.power;
								this._gravity = t, this.power = e } } });
				t.exports = o }, 56480: (t, e, i) => { var n = i(9674),
					r = i(45319),
					s = i(83419),
					o = i(39506),
					a = i(87841),
					l = i(11520),
					h = i(26099),
					u = new s({ initialize: function(t) { this.emitter = t, this.texture = null, this.frame = null, this.x = 0, this.y = 0, this.worldPosition = new h, this.velocityX = 0, this.velocityY = 0, this.accelerationX = 0, this.accelerationY = 0, this.maxVelocityX = 1e4, this.maxVelocityY = 1e4, this.bounce = 0, this.scaleX = 1, this.scaleY = 1, this.alpha = 1, this.angle = 0, this.rotation = 0, this.tint = 16777215, this.life = 1e3, this.lifeCurrent = 1e3, this.delayCurrent = 0, this.holdCurrent = 0, this.lifeT = 0, this.data = { tint: { min: 16777215, max: 16777215 }, alpha: { min: 1, max: 1 }, rotate: { min: 0, max: 0 }, scaleX: { min: 1, max: 1 }, scaleY: { min: 1, max: 1 }, x: { min: 0, max: 0 }, y: { min: 0, max: 0 }, accelerationX: { min: 0, max: 0 }, accelerationY: { min: 0, max: 0 }, maxVelocityX: { min: 0, max: 0 }, maxVelocityY: { min: 0, max: 0 }, moveToX: { min: 0, max: 0 }, moveToY: { min: 0, max: 0 }, bounce: { min: 0, max: 0 } }, this.isCropped = !1, this.scene = t.scene, this.anims = null, this.emitter.anims.length > 0 && (this.anims = new n(this)), this.bounds = new a }, emit: function(t, e, i, n, r, s) { return this.emitter.emit(t, e, i, n, r, s) }, isAlive: function() { return this.lifeCurrent > 0 }, kill: function() { this.lifeCurrent = 0 }, setPosition: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = 0), this.x = t, this.y = e }, fire: function(t, e) { var i = this.emitter,
								n = i.ops,
								r = i.getAnim(); if (r ? this.anims.play(r) : (this.frame = i.getFrame(), this.texture = this.frame.texture), !this.frame) throw new Error("Particle has no texture frame"); if (i.getEmitZone(this), void 0 === t ? this.x += n.x.onEmit(this, "x") : n.x.steps > 0 ? this.x += t + n.x.onEmit(this, "x") : this.x += t, void 0 === e ? this.y += n.y.onEmit(this, "y") : n.y.steps > 0 ? this.y += e + n.y.onEmit(this, "y") : this.y += e, this.life = n.lifespan.onEmit(this, "lifespan"), this.lifeCurrent = this.life, this.lifeT = 0, this.delayCurrent = n.delay.onEmit(this, "delay"), this.holdCurrent = n.hold.onEmit(this, "hold"), this.scaleX = n.scaleX.onEmit(this, "scaleX"), this.scaleY = n.scaleY.active ? n.scaleY.onEmit(this, "scaleY") : this.scaleX, this.angle = n.rotate.onEmit(this, "rotate"), this.rotation = o(this.angle), i.worldMatrix.transformPoint(this.x, this.y, this.worldPosition), 0 === this.delayCurrent && i.getDeathZone(this)) return this.lifeCurrent = 0, !1; var s = n.speedX.onEmit(this, "speedX"),
								a = n.speedY.active ? n.speedY.onEmit(this, "speedY") : s; if (i.radial) { var l = o(n.angle.onEmit(this, "angle"));
								this.velocityX = Math.cos(l) * Math.abs(s), this.velocityY = Math.sin(l) * Math.abs(a) } else if (i.moveTo) { var h = n.moveToX.onEmit(this, "moveToX"),
									u = n.moveToY.onEmit(this, "moveToY"),
									c = this.life / 1e3;
								this.velocityX = (h - this.x) / c, this.velocityY = (u - this.y) / c } else this.velocityX = s, this.velocityY = a; return i.acceleration && (this.accelerationX = n.accelerationX.onEmit(this, "accelerationX"), this.accelerationY = n.accelerationY.onEmit(this, "accelerationY")), this.maxVelocityX = n.maxVelocityX.onEmit(this, "maxVelocityX"), this.maxVelocityY = n.maxVelocityY.onEmit(this, "maxVelocityY"), this.bounce = n.bounce.onEmit(this, "bounce"), this.alpha = n.alpha.onEmit(this, "alpha"), n.color.active ? this.tint = n.color.onEmit(this, "tint") : this.tint = n.tint.onEmit(this, "tint"), !0 }, update: function(t, e, i) { if (this.lifeCurrent <= 0) return !(this.holdCurrent > 0) || (this.holdCurrent -= t, this.holdCurrent <= 0); if (this.delayCurrent > 0) return this.delayCurrent -= t, !1;
							this.anims && this.anims.update(0, t); var n = this.emitter,
								s = n.ops,
								a = 1 - this.lifeCurrent / this.life; if (this.lifeT = a, this.x = s.x.onUpdate(this, "x", a, this.x), this.y = s.y.onUpdate(this, "y", a, this.y), n.moveTo) { var l = s.moveToX.onUpdate(this, "moveToX", a, n.moveToX),
									h = s.moveToY.onUpdate(this, "moveToY", a, n.moveToY),
									u = this.lifeCurrent / 1e3;
								this.velocityX = (l - this.x) / u, this.velocityY = (h - this.y) / u } return this.computeVelocity(n, t, e, i, a), this.scaleX = s.scaleX.onUpdate(this, "scaleX", a, this.scaleX), s.scaleY.active ? this.scaleY = s.scaleY.onUpdate(this, "scaleY", a, this.scaleY) : this.scaleY = this.scaleX, this.angle = s.rotate.onUpdate(this, "rotate", a, this.angle), this.rotation = o(this.angle), n.getDeathZone(this) ? (this.lifeCurrent = 0, !0) : (this.alpha = r(s.alpha.onUpdate(this, "alpha", a, this.alpha), 0, 1), s.color.active ? this.tint = s.color.onUpdate(this, "color", a, this.tint) : this.tint = s.tint.onUpdate(this, "tint", a, this.tint), this.lifeCurrent -= t, this.lifeCurrent <= 0 && this.holdCurrent <= 0) }, computeVelocity: function(t, e, i, n, s) { var o = t.ops,
								a = this.velocityX,
								l = this.velocityY,
								h = o.accelerationX.onUpdate(this, "accelerationX", s, this.accelerationX),
								u = o.accelerationY.onUpdate(this, "accelerationY", s, this.accelerationY),
								c = o.maxVelocityX.onUpdate(this, "maxVelocityX", s, this.maxVelocityX),
								d = o.maxVelocityY.onUpdate(this, "maxVelocityY", s, this.maxVelocityY);
							this.bounce = o.bounce.onUpdate(this, "bounce", s, this.bounce), a += t.gravityX * i + h * i, l += t.gravityY * i + u * i, a = r(a, -c, c), l = r(l, -d, d), this.velocityX = a, this.velocityY = l, this.x += a * i, this.y += l * i, t.worldMatrix.transformPoint(this.x, this.y, this.worldPosition); for (var f = 0; f < n.length; f++) { var p = n[f];
								p.active && p.update(this, e, i, s) } }, setSizeToFrame: function() {}, getBounds: function(t) { void 0 === t && (t = this.emitter.getWorldTransformMatrix()); var e = Math.abs(t.scaleX) * this.scaleX,
								i = Math.abs(t.scaleY) * this.scaleY,
								n = this.x,
								r = this.y,
								s = this.rotation,
								o = this.frame.width * e / 2,
								a = this.frame.height * i / 2,
								u = this.bounds,
								c = new h(n - o, r - a),
								d = new h(n + o, r - a),
								f = new h(n - o, r + a),
								p = new h(n + o, r + a); return 0 !== s && (l(c, n, r, s), l(d, n, r, s), l(f, n, r, s), l(p, n, r, s)), t.transformPoint(c.x, c.y, c), t.transformPoint(d.x, d.y, d), t.transformPoint(f.x, f.y, f), t.transformPoint(p.x, p.y, p), u.x = Math.min(c.x, d.x, f.x, p.x), u.y = Math.min(c.y, d.y, f.y, p.y), u.width = Math.max(c.x, d.x, f.x, p.x) - u.x, u.height = Math.max(c.y, d.y, f.y, p.y) - u.y, u }, destroy: function() { this.anims && this.anims.destroy(), this.anims = null, this.emitter = null, this.texture = null, this.frame = null, this.scene = null } });
				t.exports = u }, 69601: (t, e, i) => { var n = i(83419),
					r = i(20286),
					s = i(87841),
					o = new n({ Extends: r, initialize: function(t, e, i, n, o, a, l, h) { void 0 === o && (o = !0), void 0 === a && (a = !0), void 0 === l && (l = !0), void 0 === h && (h = !0), r.call(this, t, e, !0), this.bounds = new s(t, e, i, n), this.collideLeft = o, this.collideRight = a, this.collideTop = l, this.collideBottom = h }, update: function(t) { var e = this.bounds,
								i = -t.bounce,
								n = t.worldPosition;
							n.x < e.x && this.collideLeft ? (t.x += e.x - n.x, t.velocityX *= i) : n.x > e.right && this.collideRight && (t.x -= n.x - e.right, t.velocityX *= i), n.y < e.y && this.collideTop ? (t.y += e.y - n.y, t.velocityY *= i) : n.y > e.bottom && this.collideBottom && (t.y -= n.y - e.bottom, t.velocityY *= i) } });
				t.exports = o }, 31600: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(53774),
					o = i(43459),
					a = i(26388),
					l = i(19909),
					h = i(76472),
					u = i(44777),
					c = i(20696),
					d = i(95643),
					f = i(95540),
					p = i(26546),
					g = i(24502),
					m = i(1985),
					v = i(97022),
					y = i(86091),
					x = i(73162),
					b = i(20074),
					w = i(269),
					T = i(56480),
					S = i(69601),
					_ = i(68875),
					E = i(87841),
					A = i(59996),
					C = i(72905),
					k = i(90668),
					P = i(19186),
					O = i(61340),
					R = i(26099),
					M = i(15994),
					L = ["active", "advance", "blendMode", "colorEase", "deathCallback", "deathCallbackScope", "duration", "emitCallback", "emitCallbackScope", "follow", "frequency", "gravityX", "gravityY", "maxAliveParticles", "maxParticles", "name", "emitting", "particleBringToTop", "particleClass", "radial", "sortCallback", "sortOrderAsc", "sortProperty", "stopAfter", "tintFill", "timeScale", "trackVisible", "visible"],
					D = ["accelerationX", "accelerationY", "alpha", "angle", "bounce", "color", "delay", "hold", "lifespan", "maxVelocityX", "maxVelocityY", "moveToX", "moveToY", "quantity", "rotate", "scaleX", "scaleY", "speedX", "speedY", "tint", "x", "y"],
					F = new n({ Extends: d, Mixins: [r.AlphaSingle, r.BlendMode, r.Depth, r.Mask, r.Pipeline, r.PostPipeline, r.ScrollFactor, r.Texture, r.Transform, r.Visible, k], initialize: function(t, e, i, n, r) { d.call(this, t, "ParticleEmitter"), this.particleClass = T, this.config = null, this.ops = { accelerationX: new u("accelerationX", 0), accelerationY: new u("accelerationY", 0), alpha: new u("alpha", 1), angle: new u("angle", { min: 0, max: 360 }, !0), bounce: new u("bounce", 0), color: new h("color"), delay: new u("delay", 0, !0), hold: new u("hold", 0, !0), lifespan: new u("lifespan", 1e3, !0), maxVelocityX: new u("maxVelocityX", 1e4), maxVelocityY: new u("maxVelocityY", 1e4), moveToX: new u("moveToX", 0), moveToY: new u("moveToY", 0), quantity: new u("quantity", 1, !0), rotate: new u("rotate", 0), scaleX: new u("scaleX", 1), scaleY: new u("scaleY", 1), speedX: new u("speedX", 0, !0), speedY: new u("speedY", 0, !0), tint: new u("tint", 16777215), x: new u("x", 0), y: new u("y", 0) }, this.radial = !0, this.gravityX = 0, this.gravityY = 0, this.acceleration = !1, this.moveTo = !1, this.emitCallback = null, this.emitCallbackScope = null, this.deathCallback = null, this.deathCallbackScope = null, this.maxParticles = 0, this.maxAliveParticles = 0, this.stopAfter = 0, this.duration = 0, this.frequency = 0, this.emitting = !0, this.particleBringToTop = !0, this.timeScale = 1, this.emitZones = [], this.deathZones = [], this.viewBounds = null, this.follow = null, this.followOffset = new R, this.trackVisible = !1, this.frames = [], this.randomFrame = !0, this.frameQuantity = 1, this.anims = [], this.randomAnim = !0, this.animQuantity = 1, this.dead = [], this.alive = [], this.counters = new Float32Array(10), this.skipping = !1, this.worldMatrix = new O, this.sortProperty = "", this.sortOrderAsc = !0, this.sortCallback = this.depthSortCallback, this.processors = new x(this), this.tintFill = !1, this.initPipeline(), this.initPostPipeline(), this.setPosition(e, i), this.setTexture(n), r && this.setConfig(r) }, addedToScene: function() { this.scene.sys.updateList.add(this) }, removedFromScene: function() { this.scene.sys.updateList.remove(this) }, setConfig: function(t) { if (!t) return this;
							this.config = t; var e = 0,
								i = "",
								n = this.ops; for (e = 0; e < D.length; e++) n[i = D[e]].loadConfig(t); for (e = 0; e < L.length; e++) v(t, i = L[e]) && (this[i] = f(t, i)); if (this.acceleration = 0 !== this.accelerationX || 0 !== this.accelerationY, this.moveTo = 0 !== this.moveToX && 0 !== this.moveToY, v(t, "speed") && (n.speedX.loadConfig(t, "speed"), n.speedY.active = !1), (m(t, ["speedX", "speedY"]) || this.moveTo) && (this.radial = !1), v(t, "scale") && (n.scaleX.loadConfig(t, "scale"), n.scaleY.active = !1), v(t, "callbackScope")) { var r = f(t, "callbackScope", null);
								this.emitCallbackScope = r, this.deathCallbackScope = r } if (v(t, "emitZone") && this.addEmitZone(t.emitZone), v(t, "deathZone") && this.addDeathZone(t.deathZone), v(t, "bounds")) { var s = this.addParticleBounds(t.bounds);
								s.collideLeft = f(t, "collideLeft", !0), s.collideRight = f(t, "collideRight", !0), s.collideTop = f(t, "collideTop", !0), s.collideBottom = f(t, "collideBottom", !0) } return v(t, "followOffset") && this.followOffset.setFromObject(f(t, "followOffset", 0)), v(t, "texture") && this.setTexture(t.texture), v(t, "frame") ? this.setEmitterFrame(t.frame) : v(t, "anim") && this.setAnim(t.anim), v(t, "reserve") && this.reserve(t.reserve), v(t, "advance") && this.fastForward(t.advance), this.resetCounters(this.frequency, this.emitting), this.emitting && this.emit(c.START, this), this }, updateConfig: function(t) { return t && (this.config ? this.setConfig(w(this.config, t)) : this.setConfig(t)), this }, toJSON: function() { var t = s(this),
								e = 0,
								i = ""; for (e = 0; e < L.length; e++) t[i = L[e]] = this[i]; var n = this.ops; for (e = 0; e < D.length; e++) n[i = D[e]] && (t[i] = n[i].toJSON()); return n.speedY.active || (delete t.speedX, t.speed = n.speedX.toJSON()), this.scaleX === this.scaleY && (delete t.scaleX, delete t.scaleY, t.scale = n.scaleX.toJSON()), t }, resetCounters: function(t, e) { var i = this.counters;
							i.fill(0), i[0] = t, e && (i[5] = 1) }, startFollow: function(t, e, i, n) { return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = !1), this.follow = t, this.followOffset.set(e, i), this.trackVisible = n, this }, stopFollow: function() { return this.follow = null, this.followOffset.set(0, 0), this.trackVisible = !1, this }, getFrame: function() { var t, e = this.frames,
								i = e.length; return 1 === i ? t = e[0] : this.randomFrame ? t = p(e) : (t = e[this.currentFrame], this.frameCounter++, this.frameCounter === this.frameQuantity && (this.frameCounter = 0, this.currentFrame++, this.currentFrame === i && (this.currentFrame = 0))), this.texture.get(t) }, setEmitterFrame: function(t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = 1), this.randomFrame = e, this.frameQuantity = i, this.currentFrame = 0; var n = typeof t; if (this.frames.length = 0, Array.isArray(t)) this.frames = this.frames.concat(t);
							else if ("string" === n || "number" === n) this.frames.push(t);
							else if ("object" === n) { var r = t;
								(t = f(r, "frames", null)) && (this.frames = this.frames.concat(t)); var s = f(r, "cycle", !1);
								this.randomFrame = !s, this.frameQuantity = f(r, "quantity", i) } return 1 === this.frames.length && (this.frameQuantity = 1, this.randomFrame = !1), this }, getAnim: function() { var t = this.anims,
								e = t.length; if (0 === e) return null; if (1 === e) return t[0]; if (this.randomAnim) return p(t); var i = t[this.currentAnim]; return this.animCounter++, this.animCounter >= this.animQuantity && (this.animCounter = 0, this.currentAnim = M(this.currentAnim + 1, 0, e)), i }, setAnim: function(t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = 1), this.randomAnim = e, this.animQuantity = i, this.currentAnim = 0; var n = typeof t; if (this.anims.length = 0, Array.isArray(t)) this.anims = this.anims.concat(t);
							else if ("string" === n) this.anims.push(t);
							else if ("object" === n) { var r = t;
								(t = f(r, "anims", null)) && (this.anims = this.anims.concat(t)); var s = f(r, "cycle", !1);
								this.randomAnim = !s, this.animQuantity = f(r, "quantity", i) } return 1 === this.anims.length && (this.animQuantity = 1, this.randomAnim = !1), this }, setRadial: function(t) { return void 0 === t && (t = !0), this.radial = t, this }, addParticleBounds: function(t, e, i, n, r, s, o, a) { if ("object" == typeof t) { var l = t;
								t = l.x, e = l.y, i = v(l, "w") ? l.w : l.width, n = v(l, "h") ? l.h : l.height } return this.addParticleProcessor(new S(t, e, i, n, r, s, o, a)) }, setParticleSpeed: function(t, e) { return void 0 === e && (e = t), this.ops.speedX.onChange(t), t === e ? this.ops.speedY.active = !1 : this.ops.speedY.onChange(e), this.radial = !0, this }, setParticleScale: function(t, e) { return void 0 === t && (t = 1), void 0 === e && (e = t), this.ops.scaleX.onChange(t), this.ops.scaleY.onChange(e), this }, setParticleGravity: function(t, e) { return this.gravityX = t, this.gravityY = e, this }, setParticleAlpha: function(t) { return this.ops.alpha.onChange(t), this }, setParticleTint: function(t) { return this.ops.tint.onChange(t), this }, setEmitterAngle: function(t) { return this.ops.angle.onChange(t), this }, setParticleLifespan: function(t) { return this.ops.lifespan.onChange(t), this }, setQuantity: function(t) { return this.quantity = t, this }, setFrequency: function(t, e) { return this.frequency = t, this.flowCounter = t > 0 ? t : 0, e && (this.quantity = e), this }, addDeathZone: function(t) { var e;
							Array.isArray(t) || (t = [t]); for (var i = [], n = 0; n < t.length; n++)
								if ((e = t[n]) instanceof a) i.push(e);
								else if ("function" == typeof e.contains) e = new a(e, !0), i.push(e);
							else { var r = f(e, "type", "onEnter"),
									s = f(e, "source", null);
								s && "function" == typeof s.contains && (e = new a(s, "onEnter" === r), i.push(e)) } return this.deathZones = this.deathZones.concat(i), i }, removeDeathZone: function(t) { return C(this.deathZones, t), this }, clearDeathZones: function() { return this.deathZones.length = 0, this }, addEmitZone: function(t) { var e;
							Array.isArray(t) || (t = [t]); for (var i = [], n = 0; n < t.length; n++)
								if ((e = t[n]) instanceof _ || e instanceof l) i.push(e);
								else { var r = f(e, "source", null); if (r) { var s = f(e, "type", "random"); if ("random" === s && "function" == typeof r.getRandomPoint) e = new _(r), i.push(e);
										else if ("edge" === s && "function" == typeof r.getPoints) { var o = f(e, "quantity", 1),
												a = f(e, "stepRate", 0),
												h = f(e, "yoyo", !1),
												u = f(e, "seamless", !0),
												c = f(e, "total", -1);
											e = new l(r, o, a, h, u, c), i.push(e) } } } return this.emitZones = this.emitZones.concat(i), i }, removeEmitZone: function(t) { return C(this.emitZones, t), this.zoneIndex = 0, this }, clearEmitZones: function() { return this.emitZones.length = 0, this.zoneIndex = 0, this }, getEmitZone: function(t) { var e = this.emitZones,
								i = e.length; if (0 !== i) { var n = e[this.zoneIndex];
								n.getPoint(t), n.total > -1 && (this.zoneTotal++, this.zoneTotal === n.total && (this.zoneTotal = 0, this.zoneIndex++, this.zoneIndex === i && (this.zoneIndex = 0))) } }, getDeathZone: function(t) { for (var e = this.deathZones, i = 0; i < e.length; i++) { var n = e[i]; if (n.willKill(t)) return this.emit(c.DEATH_ZONE, this, t, n), !0 } return !1 }, setEmitZone: function(t) { var e; return (e = isFinite(t) ? t : this.emitZones.indexOf(t)) >= 0 && (this.zoneIndex = e), this }, addParticleProcessor: function(t) { return this.processors.exists(t) || (t.emitter && t.emitter.removeParticleProcessor(t), this.processors.add(t), t.emitter = this), t }, removeParticleProcessor: function(t) { return this.processors.exists(t) && (this.processors.remove(t, !0), t.emitter = null), t }, getProcessors: function() { return this.processors.getAll("active", !0) }, createGravityWell: function(t) { return this.addParticleProcessor(new g(t)) }, reserve: function(t) { var e = this.dead; if (this.maxParticles > 0) { var i = this.getParticleCount();
								i + t > this.maxParticles && (t = this.maxParticles - (i + t)) } for (var n = 0; n < t; n++) e.push(new this.particleClass(this)); return this }, getAliveParticleCount: function() { return this.alive.length }, getDeadParticleCount: function() { return this.dead.length }, getParticleCount: function() { return this.getAliveParticleCount() + this.getDeadParticleCount() }, atLimit: function() { return this.maxParticles > 0 && this.getParticleCount() >= this.maxParticles || this.maxAliveParticles > 0 && this.getAliveParticleCount() >= this.maxAliveParticles }, onParticleEmit: function(t, e) { return void 0 === t ? (this.emitCallback = null, this.emitCallbackScope = null) : "function" == typeof t && (this.emitCallback = t, e && (this.emitCallbackScope = e)), this }, onParticleDeath: function(t, e) { return void 0 === t ? (this.deathCallback = null, this.deathCallbackScope = null) : "function" == typeof t && (this.deathCallback = t, e && (this.deathCallbackScope = e)), this }, killAll: function() { for (var t = this.dead, e = this.alive; e.length > 0;) t.push(e.pop()); return this }, forEachAlive: function(t, e) { for (var i = this.alive, n = i.length, r = 0; r < n; r++) t.call(e, i[r], this); return this }, forEachDead: function(t, e) { for (var i = this.dead, n = i.length, r = 0; r < n; r++) t.call(e, i[r], this); return this }, start: function(t, e) { return void 0 === t && (t = 0), this.emitting || (t > 0 && this.fastForward(t), this.emitting = !0, this.resetCounters(this.frequency, !0), void 0 !== e && (this.duration = Math.abs(e)), this.emit(c.START, this)), this }, stop: function(t) { return void 0 === t && (t = !1), this.emitting && (this.emitting = !1, t && this.killAll(), this.emit(c.STOP, this)), this }, pause: function() { return this.active = !1, this }, resume: function() { return this.active = !0, this }, setSortProperty: function(t, e) { return void 0 === t && (t = ""), void 0 === e && (e = this.true), this.sortProperty = t, this.sortOrderAsc = e, this.sortCallback = this.depthSortCallback, this }, setSortCallback: function(t) { return t = "" !== this.sortProperty ? this.depthSortCallback : null, this.sortCallback = t, this }, depthSort: function() { return P(this.alive, this.sortCallback.bind(this)), this }, depthSortCallback: function(t, e) { var i = this.sortProperty; return this.sortOrderAsc ? t[i] - e[i] : e[i] - t[i] }, flow: function(t, e, i) { return void 0 === e && (e = 1), this.emitting = !1, this.frequency = t, this.quantity = e, void 0 !== i && (this.stopAfter = i), this.start() }, explode: function(t, e, i) { this.frequency = -1, this.resetCounters(-1, !0); var n = this.emitParticle(t, e, i); return this.emit(c.EXPLODE, this, n), n }, emitParticleAt: function(t, e, i) { return this.emitParticle(i, t, e) }, emitParticle: function(t, e, i) { if (!this.atLimit()) { void 0 === t && (t = this.ops.quantity.onEmit()); for (var n = this.dead, r = this.stopAfter, s = this.follow ? this.follow.x + this.followOffset.x : e, o = this.follow ? this.follow.y + this.followOffset.y : i, a = 0; a < t; a++) { var l = n.pop(); if (l || (l = new this.particleClass(this)), l.fire(s, o) ? (this.particleBringToTop ? this.alive.push(l) : this.alive.unshift(l), this.emitCallback && this.emitCallback.call(this.emitCallbackScope, l, this)) : this.dead.push(l), r > 0 && (this.stopCounter++, this.stopCounter >= r)) break; if (this.atLimit()) break } return l } }, fastForward: function(t, e) { void 0 === e && (e = 1e3 / 60); var i = 0; for (this.skipping = !0; i < Math.abs(t);) this.preUpdate(0, e), i += e; return this.skipping = !1, this }, preUpdate: function(t, e) { var i = (e *= this.timeScale) / 1e3;
							this.trackVisible && (this.visible = this.follow.visible), this.getWorldTransformMatrix(this.worldMatrix); var n = this.getProcessors(),
								r = this.alive,
								s = this.dead,
								o = 0,
								a = [],
								l = r.length; for (o = 0; o < l; o++) { var h = r[o];
								h.update(e, i, n) && a.push({ index: o, particle: h }) } if ((l = a.length) > 0) { var u = this.deathCallback,
									d = this.deathCallbackScope; for (o = l - 1; o >= 0; o--) { var f = a[o];
									r.splice(f.index, 1), s.push(f.particle), u && u.call(d, f.particle), f.particle.setPosition() } } if (this.emitting || this.skipping) { if (0 === this.frequency) this.emitParticle();
								else if (this.frequency > 0)
									for (this.flowCounter -= e; this.flowCounter <= 0;) this.emitParticle(), this.flowCounter += this.frequency;
								this.skipping || (this.duration > 0 && (this.elapsed += e, this.elapsed >= this.duration && this.stop()), this.stopAfter > 0 && this.stopCounter >= this.stopAfter && this.stop()) } else 1 === this.completeFlag && 0 === r.length && (this.completeFlag = 0, this.emit(c.COMPLETE, this)) }, overlap: function(t) { for (var e = this.getWorldTransformMatrix(), i = this.alive, n = i.length, r = [], s = 0; s < n; s++) { var o = i[s];
								A(t, o.getBounds(e)) && r.push(o) } return r }, getBounds: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 1e3 / 60), void 0 === n && (n = new E); var r, s, a = this.getWorldTransformMatrix(),
								l = this.alive,
								h = !1; if (n.setTo(0, 0, 0, 0), e > 0) { var u = 0; for (this.skipping = !0; u < Math.abs(e);) { for (this.preUpdate(0, i), r = 0; r < l.length; r++) s = l[r].getBounds(a), h ? b(n, s) : (h = !0, o(s, n));
									u += i } this.skipping = !1 } else
								for (r = 0; r < l.length; r++) s = l[r].getBounds(a), h ? b(n, s) : (h = !0, o(s, n)); return t > 0 && y(n, t, t), n }, createEmitter: function() { throw new Error("createEmitter removed. See ParticleEmitter docs for info") }, particleX: { get: function() { return this.ops.x.current }, set: function(t) { this.ops.x.onChange(t) } }, particleY: { get: function() { return this.ops.y.current }, set: function(t) { this.ops.y.onChange(t) } }, accelerationX: { get: function() { return this.ops.accelerationX.current }, set: function(t) { this.ops.accelerationX.onChange(t) } }, accelerationY: { get: function() { return this.ops.accelerationY.current }, set: function(t) { this.ops.accelerationY.onChange(t) } }, maxVelocityX: { get: function() { return this.ops.maxVelocityX.current }, set: function(t) { this.ops.maxVelocityX.onChange(t) } }, maxVelocityY: { get: function() { return this.ops.maxVelocityY.current }, set: function(t) { this.ops.maxVelocityY.onChange(t) } }, speed: { get: function() { return this.ops.speedX.current }, set: function(t) { this.ops.speedX.onChange(t), this.ops.speedY.onChange(t) } }, speedX: { get: function() { return this.ops.speedX.current }, set: function(t) { this.ops.speedX.onChange(t) } }, speedY: { get: function() { return this.ops.speedY.current }, set: function(t) { this.ops.speedY.onChange(t) } }, moveToX: { get: function() { return this.ops.moveToX.current }, set: function(t) { this.ops.moveToX.onChange(t) } }, moveToY: { get: function() { return this.ops.moveToY.current }, set: function(t) { this.ops.moveToY.onChange(t) } }, bounce: { get: function() { return this.ops.bounce.current }, set: function(t) { this.ops.bounce.onChange(t) } }, particleScaleX: { get: function() { return this.ops.scaleX.current }, set: function(t) { this.ops.scaleX.onChange(t) } }, particleScaleY: { get: function() { return this.ops.scaleY.current }, set: function(t) { this.ops.scaleY.onChange(t) } }, particleColor: { get: function() { return this.ops.color.current }, set: function(t) { this.ops.color.onChange(t) } }, colorEase: { get: function() { return this.ops.color.easeName }, set: function(t) { this.ops.color.setEase(t) } }, particleTint: { get: function() { return this.ops.tint.current }, set: function(t) { this.ops.tint.onChange(t) } }, particleAlpha: { get: function() { return this.ops.alpha.current }, set: function(t) { this.ops.alpha.onChange(t) } }, lifespan: { get: function() { return this.ops.lifespan.current }, set: function(t) { this.ops.lifespan.onChange(t) } }, particleAngle: { get: function() { return this.ops.angle.current }, set: function(t) { this.ops.angle.onChange(t) } }, particleRotate: { get: function() { return this.ops.rotate.current }, set: function(t) { this.ops.rotate.onChange(t) } }, quantity: { get: function() { return this.ops.quantity.current }, set: function(t) { this.ops.quantity.onChange(t) } }, delay: { get: function() { return this.ops.delay.current }, set: function(t) { this.ops.delay.onChange(t) } }, hold: { get: function() { return this.ops.hold.current }, set: function(t) { this.ops.hold.onChange(t) } }, flowCounter: { get: function() { return this.counters[0] }, set: function(t) { this.counters[0] = t } }, frameCounter: { get: function() { return this.counters[1] }, set: function(t) { this.counters[1] = t } }, animCounter: { get: function() { return this.counters[2] }, set: function(t) { this.counters[2] = t } }, elapsed: { get: function() { return this.counters[3] }, set: function(t) { this.counters[3] = t } }, stopCounter: { get: function() { return this.counters[4] }, set: function(t) { this.counters[4] = t } }, completeFlag: { get: function() { return this.counters[5] }, set: function(t) { this.counters[5] = t } }, zoneIndex: { get: function() { return this.counters[6] }, set: function(t) { this.counters[6] = t } }, zoneTotal: { get: function() { return this.counters[7] }, set: function(t) { this.counters[7] = t } }, currentFrame: { get: function() { return this.counters[8] }, set: function(t) { this.counters[8] = t } }, currentAnim: { get: function() { return this.counters[9] }, set: function(t) { this.counters[9] = t } }, preDestroy: function() { var t;
							this.texture = null, this.frames = null, this.anims = null, this.emitCallback = null, this.emitCallbackScope = null, this.deathCallback = null, this.deathCallbackScope = null, this.emitZones = null, this.deathZones = null, this.bounds = null, this.follow = null, this.counters = null; var e = this.ops; for (t = 0; t < D.length; t++) e[D[t]].destroy(); for (t = 0; t < this.alive.length; t++) this.alive[t].destroy(); for (t = 0; t < this.dead.length; t++) this.dead[t].destroy();
							this.ops = null, this.alive = [], this.dead = [], this.worldMatrix.destroy() } });
				t.exports = F }, 9871: (t, e, i) => { var n = i(59996),
					r = i(61340),
					s = new r,
					o = new r,
					a = new r,
					l = new r;
				t.exports = function(t, e, i, r) { var h = s,
						u = o,
						c = a,
						d = l;
					r ? (d.loadIdentity(), d.multiply(r), d.translate(e.x, e.y), d.rotate(e.rotation), d.scale(e.scaleX, e.scaleY)) : d.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY); var f = t.currentContext,
						p = i.roundPixels,
						g = i.alpha,
						m = e.alpha,
						v = e.alive,
						y = v.length,
						x = e.viewBounds; if (e.visible && 0 !== y && (!x || n(x, i.worldView))) { e.sortCallback && e.depthSort(), i.addToRenderList(e); var b = e.scrollFactorX,
							w = e.scrollFactorY;
						f.save(), f.globalCompositeOperation = t.blendModes[e.blendMode]; for (var T = 0; T < y; T++) { var S = v[T],
								_ = S.alpha * m * g; if (!(_ <= 0 || 0 === S.scaleX || 0 === S.scaleY)) { c.applyITRS(S.x, S.y, S.rotation, S.scaleX, S.scaleY), h.copyFrom(i.matrix), h.multiplyWithOffset(d, -i.scrollX * b, -i.scrollY * w), c.e = S.x, c.f = S.y, h.multiply(c, u); var E = S.frame,
									A = E.canvasData; if (A.width > 0 && A.height > 0) { var C = -E.halfWidth,
										k = -E.halfHeight;
									f.globalAlpha = _, f.save(), u.setToContext(f), p && (C = Math.round(C), k = Math.round(k)), f.imageSmoothingEnabled = !E.source.scaleMode, f.drawImage(E.source.image, A.x, A.y, A.width, A.height, C, k, A.width, A.height), f.restore() } } } f.restore() } } }, 92730: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(95540),
					a = i(31600);
				r.register("particles", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "key", null),
						r = o(t, "config", null),
						l = new a(this.scene, 0, 0, i); return void 0 !== e && (t.add = e), n(this.scene, l, t), r && l.setConfig(r), l })) }, 676: (t, e, i) => { var n = i(39429),
					r = i(31600);
				n.register("particles", (function(t, e, i, n) { return void 0 !== t && "string" == typeof t && console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"), this.displayList.add(new r(this.scene, t, e, i, n)) })) }, 90668: (t, e, i) => { var n, r;
				i(29747), n = i(21188), r = i(9871), t.exports = { renderWebGL: n, renderCanvas: r } }, 21188: (t, e, i) => { var n = i(59996),
					r = i(61340),
					s = i(70554),
					o = new r,
					a = new r,
					l = new r,
					h = new r;
				t.exports = function(t, e, i, r) { var u = t.pipelines.set(e.pipeline),
						c = o,
						d = a,
						f = l,
						p = h;
					r ? (p.loadIdentity(), p.multiply(r), p.translate(e.x, e.y), p.rotate(e.rotation), p.scale(e.scaleX, e.scaleY)) : p.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY); var g = s.getTintAppendFloatAlpha,
						m = i.alpha,
						v = e.alpha;
					t.pipelines.preBatch(e); var y = e.alive,
						x = y.length,
						b = e.viewBounds; if (0 !== x && (!b || n(b, i.worldView))) { e.sortCallback && e.depthSort(), i.addToRenderList(e), c.copyFrom(i.matrix), c.multiplyWithOffset(p, -i.scrollX * e.scrollFactorX, -i.scrollY * e.scrollFactorY), t.setBlendMode(e.blendMode), e.mask && (e.mask.preRenderWebGL(t, e, i), t.pipelines.set(e.pipeline)); for (var w, T, S = e.tintFill, _ = 0; _ < x; _++) { var E = y[_],
								A = E.alpha * v * m; if (!(A <= 0 || 0 === E.scaleX || 0 === E.scaleY)) { f.applyITRS(E.x, E.y, E.rotation, E.scaleX, E.scaleY), f.e = E.x, f.f = E.y, c.multiply(f, d); var C = E.frame;
								C.glTexture !== T && (T = C.glTexture, w = u.setGameObject(e, C)); var k = -C.halfWidth,
									P = -C.halfHeight,
									O = d.setQuad(k, P, k + C.width, P + C.height),
									R = g(E.tint, A);
								u.shouldFlush(6) && (u.flush(), w = u.setGameObject(e, C)), u.batchQuad(e, O[0], O[1], O[2], O[3], O[4], O[5], O[6], O[7], C.u0, C.v0, C.u1, C.v1, R, R, R, R, S, T, w) } } e.mask && e.mask.postRenderWebGL(t, i), t.pipelines.postBatch(e) } } }, 20286: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = !0), this.emitter, this.x = t, this.y = e, this.active = i }, update: function() {}, destroy: function() { this.emitter = null } });
				t.exports = n }, 9774: t => { t.exports = "complete" }, 812: t => { t.exports = "deathzone" }, 30522: t => { t.exports = "explode" }, 96695: t => { t.exports = "start" }, 18677: t => { t.exports = "stop" }, 20696: (t, e, i) => { t.exports = { COMPLETE: i(9774), DEATH_ZONE: i(812), EXPLODE: i(30522), START: i(96695), STOP: i(18677) } }, 18404: (t, e, i) => { t.exports = { EmitterColorOp: i(76472), EmitterOp: i(44777), Events: i(20696), GravityWell: i(24502), Particle: i(56480), ParticleBounds: i(69601), ParticleEmitter: i(31600), ParticleProcessor: i(20286), Zones: i(21024) } }, 26388: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e) { this.source = t, this.killOnEnter = e }, willKill: function(t) { var e = this.source.contains(t.x, t.y); return e && this.killOnEnter || !e && !this.killOnEnter } });
				t.exports = n }, 19909: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i, n, r, s) { void 0 === n && (n = !1), void 0 === r && (r = !0), void 0 === s && (s = -1), this.source = t, this.points = [], this.quantity = e, this.stepRate = i, this.yoyo = n, this.counter = -1, this.seamless = r, this._length = 0, this._direction = 0, this.total = s, this.updateSource() }, updateSource: function() { if (this.points = this.source.getPoints(this.quantity, this.stepRate), this.seamless) { var t = this.points[0],
								e = this.points[this.points.length - 1];
							t.x === e.x && t.y === e.y && this.points.pop() } var i = this._length; return this._length = this.points.length, this._length < i && this.counter > this._length && (this.counter = this._length - 1), this }, changeSource: function(t) { return this.source = t, this.updateSource() }, getPoint: function(t) { 0 === this._direction ? (this.counter++, this.counter >= this._length && (this.yoyo ? (this._direction = 1, this.counter = this._length - 1) : this.counter = 0)) : (this.counter--, -1 === this.counter && (this.yoyo ? (this._direction = 0, this.counter = 0) : this.counter = this._length - 1)); var e = this.points[this.counter];
						e && (t.x = e.x, t.y = e.y) } });
				t.exports = n }, 68875: (t, e, i) => { var n = i(83419),
					r = i(26099),
					s = new n({ initialize: function(t) { this.source = t, this._tempVec = new r, this.total = -1 }, getPoint: function(t) { var e = this._tempVec;
							this.source.getRandomPoint(e), t.x = e.x, t.y = e.y } });
				t.exports = s }, 21024: (t, e, i) => { t.exports = { DeathZone: i(26388), EdgeZone: i(19909), RandomZone: i(68875) } }, 1159: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(68287),
					o = new n({ Extends: s, Mixins: [r.PathFollower], initialize: function(t, e, i, n, r, o) { s.call(this, t, i, n, r, o), this.path = e }, preUpdate: function(t, e) { this.anims.update(t, e), this.pathUpdate(t) } });
				t.exports = o }, 90145: (t, e, i) => { var n = i(39429),
					r = i(1159);
				n.register("follower", (function(t, e, i, n, s) { var o = new r(this.scene, t, e, i, n, s); return this.displayList.add(o), this.updateList.add(o), o })) }, 33663: (t, e, i) => { var n = i(9674),
					r = i(83419),
					s = i(48803),
					o = i(90664),
					a = i(4703),
					l = i(45650),
					h = new r({ Extends: a, initialize: function(t, e, i, r, s, o, l, h) { r || (r = "__DEFAULT"), a.call(this, t, e, i, r, s), this.type = "Plane", this.anims = new n(this), this.gridWidth, this.gridHeight, this.isTiled, this._checkerboard = null, this.hideCCW = !1, this.setGridSize(o, l, h), this.setSizeToFrame(!1), this.setViewHeight() }, originX: { get: function() { return .5 } }, originY: { get: function() { return .5 } }, setGridSize: function(t, e, i) { void 0 === t && (t = 8), void 0 === e && (e = 8), void 0 === i && (i = !1); var n = !1; return i && (n = !0), this.gridWidth = t, this.gridHeight = e, this.isTiled = i, this.clear(), s({ mesh: this, widthSegments: t, heightSegments: e, isOrtho: !1, tile: i, flipY: n }), this }, setSizeToFrame: function(t) { void 0 === t && (t = !0); var e = this.frame; if (this.setPerspective(this.width / e.width, this.height / e.height), this._checkerboard && this._checkerboard !== this.texture && this.removeCheckerboard(), !t) return this; var i, n, r = this.gridWidth,
								s = this.gridHeight,
								o = this.vertices,
								a = e.u0,
								l = e.u1,
								h = e.v0,
								u = e.v1,
								c = 0; if (this.isTiled)
								for (h = e.v1, u = e.v0, n = 0; n < s; n++)
									for (i = 0; i < r; i++) o[c++].setUVs(a, u), o[c++].setUVs(a, h), o[c++].setUVs(l, u), o[c++].setUVs(a, h), o[c++].setUVs(l, h), o[c++].setUVs(l, u);
							else { var d = r + 1,
									f = s + 1,
									p = l - a,
									g = u - h,
									m = []; for (n = 0; n < f; n++)
									for (i = 0; i < d; i++) { var v = a + p * (i / r),
											y = h + g * (n / s);
										m.push(v, y) }
								for (n = 0; n < s; n++)
									for (i = 0; i < r; i++) { var x = 2 * (i + d * n),
											b = 2 * (i + d * (n + 1)),
											w = 2 * (i + 1 + d * (n + 1)),
											T = 2 * (i + 1 + d * n);
										o[c++].setUVs(m[x], m[x + 1]), o[c++].setUVs(m[b], m[b + 1]), o[c++].setUVs(m[T], m[T + 1]), o[c++].setUVs(m[b], m[b + 1]), o[c++].setUVs(m[w], m[w + 1]), o[c++].setUVs(m[T], m[T + 1]) } } return this }, setViewHeight: function(t) { void 0 === t && (t = this.frame.height); var e = this.fov * (Math.PI / 180);
							this.viewPosition.z = this.height / t / Math.tan(e / 2), this.dirtyCache[10] = 1 }, createCheckerboard: function(t, e, i, n, r) { void 0 === t && (t = 16777215), void 0 === e && (e = 255), void 0 === i && (i = 255), void 0 === n && (n = 255), void 0 === r && (r = 128); for (var s = o(t), a = o(e), h = [], u = 0; u < 16; u++)
								for (var c = 0; c < 16; c++) u < 8 && c < 8 || u > 7 && c > 7 ? h.push(s.r, s.g, s.b, i) : h.push(a.r, a.g, a.b, n); var d = this.scene.sys.textures.addUint8Array(l(), new Uint8Array(h), 16, 16); return this.removeCheckerboard(), this.setTexture(d), this.setSizeToFrame(), this.setViewHeight(r), this }, removeCheckerboard: function() { this._checkerboard && (this._checkerboard.destroy(), this._checkerboard = null) }, play: function(t, e) { return this.anims.play(t, e) }, playReverse: function(t, e) { return this.anims.playReverse(t, e) }, playAfterDelay: function(t, e) { return this.anims.playAfterDelay(t, e) }, playAfterRepeat: function(t, e) { return this.anims.playAfterRepeat(t, e) }, stop: function() { return this.anims.stop() }, stopAfterDelay: function(t) { return this.anims.stopAfterDelay(t) }, stopAfterRepeat: function(t) { return this.anims.stopAfterRepeat(t) }, stopOnFrame: function(t) { return this.anims.stopOnFrame(t) }, preUpdate: function(t, e) { a.prototype.preUpdate.call(this, t, e), this.anims.update(t, e) }, preDestroy: function() { this.clear(), this.removeCheckerboard(), this.anims.destroy(), this.anims = void 0, this.debugCallback = null, this.debugGraphic = null } });
				t.exports = h }, 56015: (t, e, i) => { var n = i(25305),
					r = i(13059),
					s = i(44603),
					o = i(23568),
					a = i(35154),
					l = i(33663);
				s.register("plane", (function(t, e) { void 0 === t && (t = {}); var i = o(t, "key", null),
						s = o(t, "frame", null),
						h = a(t, "width", 8),
						u = a(t, "height", 8),
						c = a(t, "tile", !1),
						d = new l(this.scene, 0, 0, i, s, h, u, c);
					void 0 !== e && (t.add = e); var f = a(t, "checkerboard", null); if (f) { var p = a(f, "color1", 16777215),
							g = a(f, "color2", 255),
							m = a(f, "alpha1", 255),
							v = a(f, "alpha2", 255),
							y = a(f, "height", 128);
						d.createCheckerboard(p, g, m, v, y) } return n(this.scene, d, t), r(d, t), d })) }, 30985: (t, e, i) => { var n = i(33663);
				i(39429).register("plane", (function(t, e, i, r, s, o, a) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o, a)) })) }, 80321: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(95643),
					o = i(30100),
					a = i(36060),
					l = i(67277),
					h = new n({ Extends: s, Mixins: [r.AlphaSingle, r.BlendMode, r.Depth, r.Mask, r.Pipeline, r.PostPipeline, r.ScrollFactor, r.Transform, r.Visible, l], initialize: function(t, e, i, n, r, l, h) { void 0 === n && (n = 16777215), void 0 === r && (r = 128), void 0 === l && (l = 1), void 0 === h && (h = .1), s.call(this, t, "PointLight"), this.initPipeline(a.POINTLIGHT_PIPELINE), this.initPostPipeline(), this.setPosition(e, i), this.color = o(n), this.intensity = l, this.attenuation = h, this.width = 2 * r, this.height = 2 * r, this._radius = r }, radius: { get: function() { return this._radius }, set: function(t) { this._radius = t, this.width = 2 * t, this.height = 2 * t } }, originX: { get: function() { return .5 } }, originY: { get: function() { return .5 } }, displayOriginX: { get: function() { return this._radius } }, displayOriginY: { get: function() { return this._radius } } });
				t.exports = h }, 39829: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(80321);
				r.register("pointlight", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "color", 16777215),
						r = s(t, "radius", 128),
						a = s(t, "intensity", 1),
						l = s(t, "attenuation", .1),
						h = new o(this.scene, 0, 0, i, r, a, l); return void 0 !== e && (t.add = e), n(this.scene, h, t), h })) }, 71255: (t, e, i) => { var n = i(39429),
					r = i(80321);
				n.register("pointlight", (function(t, e, i, n, s, o) { return this.displayList.add(new r(this.scene, t, e, i, n, s, o)) })) }, 67277: (t, e, i) => { var n, r = i(29747);
				n = i(57787), t.exports = { renderWebGL: n, renderCanvas: r } }, 57787: (t, e, i) => { var n = i(91296);
				t.exports = function(t, e, i, r) { i.addToRenderList(e); var s = t.pipelines.set(e.pipeline),
						o = n(e, i, r).calc,
						a = e.width,
						l = e.height,
						h = -e._radius,
						u = -e._radius,
						c = h + a,
						d = u + l,
						f = o.getX(0, 0),
						p = o.getY(0, 0),
						g = o.getX(h, u),
						m = o.getY(h, u),
						v = o.getX(h, d),
						y = o.getY(h, d),
						x = o.getX(c, d),
						b = o.getY(c, d),
						w = o.getX(c, u),
						T = o.getY(c, u);
					t.pipelines.preBatch(e), s.batchPointLight(e, i, g, m, v, y, x, b, w, T, f, p), t.pipelines.postBatch(e) } }, 591: (t, e, i) => { var n = i(83419),
					r = i(81320),
					s = i(88571),
					o = new n({ Extends: s, initialize: function(t, e, i, n, o) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 32), void 0 === o && (o = 32); var a = new r(t.sys.textures, "", n, o);
							s.call(this, t, e, i, a), this.type = "RenderTexture", this.camera = this.texture.camera, this._saved = !1 }, setSize: function(t, e) { this.width = t, this.height = e, this.texture.setSize(t, e), this.updateDisplayOrigin(); var i = this.input; return i && !i.customHitArea && (i.hitArea.width = t, i.hitArea.height = e), this }, resize: function(t, e) { return this.setSize(t, e), this }, saveTexture: function(t) { var e = this.texture; return e.key = t, e.manager.addDynamicTexture(e) && (this._saved = !0), e }, fill: function(t, e, i, n, r, s) { return this.texture.fill(t, e, i, n, r, s), this }, clear: function() { return this.texture.clear(), this }, stamp: function(t, e, i, n, r) { return this.texture.stamp(t, e, i, n, r), this }, erase: function(t, e, i) { return this.texture.erase(t, e, i), this }, draw: function(t, e, i, n, r) { return this.texture.draw(t, e, i, n, r), this }, drawFrame: function(t, e, i, n, r, s) { return this.texture.drawFrame(t, e, i, n, r, s), this }, repeat: function(t, e, i, n, r, s, o, a, l) { return this.texture.repeat(t, e, i, n, r, s, o, a, l), this }, beginDraw: function() { return this.texture.beginDraw(), this }, batchDraw: function(t, e, i, n, r) { return this.texture.batchDraw(t, e, i, n, r), this }, batchDrawFrame: function(t, e, i, n, r, s) { return this.texture.batchDrawFrame(t, e, i, n, r, s), this }, endDraw: function(t) { return this.texture.endDraw(t), this }, snapshotArea: function(t, e, i, n, r, s, o) { return this.texture.snapshotArea(t, e, i, n, r, s, o), this }, snapshot: function(t, e, i) { return this.snapshotArea(0, 0, this.width, this.height, t, e, i) }, snapshotPixel: function(t, e, i) { return this.snapshotArea(t, e, 1, 1, i, "pixel") }, preDestroy: function() { this.camera = null, this._saved || this.texture.destroy() } });
				t.exports = o }, 34495: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(591);
				r.register("renderTexture", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "x", 0),
						r = s(t, "y", 0),
						a = s(t, "width", 32),
						l = s(t, "height", 32),
						h = new o(this.scene, i, r, a, l); return void 0 !== e && (t.add = e), n(this.scene, h, t), h })) }, 60505: (t, e, i) => { var n = i(39429),
					r = i(591);
				n.register("renderTexture", (function(t, e, i, n) { return this.displayList.add(new r(this.scene, t, e, i, n)) })) }, 77757: (t, e, i) => { var n = i(9674),
					r = i(83419),
					s = i(31401),
					o = i(95643),
					a = i(36060),
					l = i(38745),
					h = i(26099),
					u = new r({ Extends: o, Mixins: [s.AlphaSingle, s.BlendMode, s.Depth, s.Flip, s.Mask, s.Pipeline, s.PostPipeline, s.Size, s.Texture, s.Transform, s.Visible, s.ScrollFactor, l], initialize: function(t, e, i, r, s, l, u, c, d) { void 0 === r && (r = "__DEFAULT"), void 0 === l && (l = 2), void 0 === u && (u = !0), o.call(this, t, "Rope"), this.anims = new n(this), this.points = l, this.vertices, this.uv, this.colors, this.alphas, this.tintFill = "__DEFAULT" === r, this.dirty = !1, this.horizontal = u, this._flipX = !1, this._flipY = !1, this._perp = new h, this.debugCallback = null, this.debugGraphic = null, this.setTexture(r, s), this.setPosition(e, i), this.setSizeToFrame(), this.initPipeline(a.ROPE_PIPELINE), this.initPostPipeline(), Array.isArray(l) && this.resizeArrays(l.length), this.setPoints(l, c, d), this.updateVertices() }, addedToScene: function() { this.scene.sys.updateList.add(this) }, removedFromScene: function() { this.scene.sys.updateList.remove(this) }, preUpdate: function(t, e) { var i = this.anims.currentFrame;
							this.anims.update(t, e), this.anims.currentFrame !== i && (this.updateUVs(), this.updateVertices()) }, play: function(t, e, i) { return this.anims.play(t, e, i), this }, setDirty: function() { return this.dirty = !0, this }, setHorizontal: function(t, e, i) { return void 0 === t && (t = this.points.length), this.horizontal ? this : (this.horizontal = !0, this.setPoints(t, e, i)) }, setVertical: function(t, e, i) { return void 0 === t && (t = this.points.length), this.horizontal ? (this.horizontal = !1, this.setPoints(t, e, i)) : this }, setTintFill: function(t) { return void 0 === t && (t = !1), this.tintFill = t, this }, setAlphas: function(t, e) { var i = this.points.length; if (i < 1) return this; var n, r = this.alphas;
							void 0 === t ? t = [1] : Array.isArray(t) || void 0 !== e || (t = [t]); var s = 0; if (void 0 !== e)
								for (n = 0; n < i; n++) r[s = 2 * n] = t, r[s + 1] = e;
							else if (t.length === i)
								for (n = 0; n < i; n++) r[s = 2 * n] = t[n], r[s + 1] = t[n];
							else { var o = t[0]; for (n = 0; n < i; n++) s = 2 * n, t.length > s && (o = t[s]), r[s] = o, t.length > s + 1 && (o = t[s + 1]), r[s + 1] = o } return this }, setColors: function(t) { var e = this.points.length; if (e < 1) return this; var i, n = this.colors;
							void 0 === t ? t = [16777215] : Array.isArray(t) || (t = [t]); var r = 0; if (t.length === e)
								for (i = 0; i < e; i++) n[r = 2 * i] = t[i], n[r + 1] = t[i];
							else { var s = t[0]; for (i = 0; i < e; i++) r = 2 * i, t.length > r && (s = t[r]), n[r] = s, t.length > r + 1 && (s = t[r + 1]), n[r + 1] = s } return this }, setPoints: function(t, e, i) { if (void 0 === t && (t = 2), "number" == typeof t) { var n, r, s, o = t; if (o < 2 && (o = 2), t = [], this.horizontal)
									for (s = -this.frame.halfWidth, r = this.frame.width / (o - 1), n = 0; n < o; n++) t.push({ x: s + n * r, y: 0 });
								else
									for (s = -this.frame.halfHeight, r = this.frame.height / (o - 1), n = 0; n < o; n++) t.push({ x: 0, y: s + n * r }) } var a = t.length,
								l = this.points.length; return a < 1 ? (console.warn("Rope: Not enough points given"), this) : (1 === a && (t.unshift({ x: 0, y: 0 }), a++), l !== a && this.resizeArrays(a), this.dirty = !0, this.points = t, this.updateUVs(), null != e && this.setColors(e), null != i && this.setAlphas(i), this) }, updateUVs: function() { for (var t = this.uv, e = this.points.length, i = this.frame.u0, n = this.frame.v0, r = this.frame.u1, s = this.frame.v1, o = (r - i) / (e - 1), a = (s - n) / (e - 1), l = 0; l < e; l++) { var h, u, c, d, f = 4 * l;
								this.horizontal ? (this._flipX ? (h = r - l * o, c = r - l * o) : (h = i + l * o, c = i + l * o), this._flipY ? (u = s, d = n) : (u = n, d = s)) : (this._flipX ? (h = i, c = r) : (h = r, c = i), this._flipY ? (u = s - l * a, d = s - l * a) : (u = n + l * a, d = n + l * a)), t[f + 0] = h, t[f + 1] = u, t[f + 2] = c, t[f + 3] = d } return this }, resizeArrays: function(t) { var e = this.colors,
								i = this.alphas;
							this.vertices = new Float32Array(4 * t), this.uv = new Float32Array(4 * t), e = new Uint32Array(2 * t), i = new Float32Array(2 * t); for (var n = 0; n < 2 * t; n++) e[n] = 16777215, i[n] = 1; return this.colors = e, this.alphas = i, this.dirty = !0, this }, updateVertices: function() { var t = this._perp,
								e = this.points,
								i = this.vertices,
								n = e.length; if (this.dirty = !1, !(n < 1)) { for (var r, s = e[0], o = this.horizontal ? this.frame.halfHeight : this.frame.halfWidth, a = 0; a < n; a++) { var l = e[a],
										h = 4 * a;
									r = a < n - 1 ? e[a + 1] : l, t.x = r.y - s.y, t.y = -(r.x - s.x); var u = t.length();
									t.x /= u, t.y /= u, t.x *= o, t.y *= o, i[h] = l.x + t.x, i[h + 1] = l.y + t.y, i[h + 2] = l.x - t.x, i[h + 3] = l.y - t.y, s = l } return this } }, setDebug: function(t, e) { return this.debugGraphic = t, this.debugCallback = t || e ? e || this.renderDebugVerts : null, this }, renderDebugVerts: function(t, e, i) { var n = t.debugGraphic,
								r = i[0],
								s = i[1],
								o = i[2],
								a = i[3];
							n.lineBetween(r, s, o, a); for (var l = 4; l < e; l += 4) { var h = i[l + 0],
									u = i[l + 1],
									c = i[l + 2],
									d = i[l + 3];
								n.lineBetween(r, s, h, u), n.lineBetween(o, a, c, d), n.lineBetween(o, a, h, u), n.lineBetween(h, u, c, d), r = h, s = u, o = c, a = d } }, preDestroy: function() { this.anims.destroy(), this.anims = void 0, this.points = null, this.vertices = null, this.uv = null, this.colors = null, this.alphas = null, this.debugCallback = null, this.debugGraphic = null }, flipX: { get: function() { return this._flipX }, set: function(t) { return this._flipX = t, this.updateUVs() } }, flipY: { get: function() { return this._flipY }, set: function(t) { return this._flipY = t, this.updateUVs() } } });
				t.exports = u }, 95262: t => { t.exports = function() {} }, 26209: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(35154),
					a = i(77757);
				r.register("rope", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "key", null),
						r = s(t, "frame", null),
						l = s(t, "horizontal", !0),
						h = o(t, "points", void 0),
						u = o(t, "colors", void 0),
						c = o(t, "alphas", void 0),
						d = new a(this.scene, 0, 0, i, r, h, l, u, c); return void 0 !== e && (t.add = e), n(this.scene, d, t), d })) }, 96819: (t, e, i) => { var n = i(77757);
				i(39429).register("rope", (function(t, e, i, r, s, o, a, l) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o, a, l)) })) }, 38745: (t, e, i) => { var n, r;
				i(29747), n = i(20439), r = i(95262), t.exports = { renderWebGL: n, renderCanvas: r } }, 20439: (t, e, i) => { var n = i(91296),
					r = i(70554);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o = t.pipelines.set(e.pipeline, e),
						a = n(e, i, s).calc,
						l = e.vertices,
						h = e.uv,
						u = e.colors,
						c = e.alphas,
						d = e.alpha,
						f = r.getTintAppendFloatAlpha,
						p = i.roundPixels,
						g = l.length,
						m = Math.floor(.5 * g);
					o.flush(), t.pipelines.preBatch(e); var v = o.setGameObject(e),
						y = o.vertexViewF32,
						x = o.vertexViewU32,
						b = o.vertexCount * o.currentShader.vertexComponentCount - 1,
						w = 0,
						T = e.tintFill;
					e.dirty && e.updateVertices(); for (var S = e.debugCallback, _ = [], E = 0; E < g; E += 2) { var A = l[E + 0],
							C = l[E + 1],
							k = A * a.a + C * a.c + a.e,
							P = A * a.b + C * a.d + a.f;
						p && (k = Math.round(k), P = Math.round(P)), y[++b] = k, y[++b] = P, y[++b] = h[E + 0], y[++b] = h[E + 1], y[++b] = v, y[++b] = T, x[++b] = f(u[w], i.alpha * (c[w] * d)), w++, S && (_[E + 0] = k, _[E + 1] = P) } S && S.call(e, e, g, _), o.vertexCount += m, o.currentBatch.count = o.vertexCount - o.currentBatch.start, t.pipelines.postBatch(e) } }, 20071: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(95643),
					o = i(95540),
					a = i(79291),
					l = i(61622),
					h = i(25479),
					u = i(61340),
					c = i(95428),
					d = i(92503),
					f = new n({ Extends: s, Mixins: [r.ComputedSize, r.Depth, r.GetBounds, r.Mask, r.Origin, r.ScrollFactor, r.Transform, r.Visible, h], initialize: function(t, e, i, n, r, o, a, l) { void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 128), void 0 === o && (o = 128), s.call(this, t, "Shader"), this.blendMode = -1, this.shader; var h = t.sys.renderer;
							this.renderer = h, this.gl = h.gl, this.vertexData = new ArrayBuffer(2 * Float32Array.BYTES_PER_ELEMENT * 6), this.vertexBuffer = h.createVertexBuffer(this.vertexData.byteLength, this.gl.STREAM_DRAW), this._deferSetShader = null, this._deferProjOrtho = null, this.program = null, this.bytes = new Uint8Array(this.vertexData), this.vertexViewF32 = new Float32Array(this.vertexData), this._tempMatrix1 = new u, this._tempMatrix2 = new u, this._tempMatrix3 = new u, this.viewMatrix = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this.projectionMatrix = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this.uniforms = {}, this.pointer = null, this._rendererWidth = h.width, this._rendererHeight = h.height, this._textureCount = 0, this.framebuffer = null, this.glTexture = null, this.renderToTexture = !1, this.texture = null, this.setPosition(i, n), this.setSize(r, o), this.setOrigin(.5, .5), this.setShader(e, a, l), this.renderer.on(d.RESTORE_WEBGL, this.onContextRestored, this) }, willRender: function(t) { return !!this.renderToTexture || !(s.RENDER_MASK !== this.renderFlags || 0 !== this.cameraFilter && this.cameraFilter & t.id) }, setRenderToTexture: function(t, e) { if (!this.renderToTexture) { var i = this.width,
									n = this.height,
									r = this.renderer;
								this.glTexture = r.createTextureFromSource(null, i, n, 0), this.framebuffer = r.createFramebuffer(i, n, this.glTexture, !1), this._rendererWidth = i, this._rendererHeight = n, this.renderToTexture = !0, this.projOrtho(0, this.width, this.height, 0), t && (this.texture = this.scene.sys.textures.addGLTexture(t, this.glTexture)) } return this.shader && (r.pipelines.clear(), this.load(), this.flush(), r.pipelines.rebind()), this }, setShader: function(t, e, i) { if (this.renderer.contextLost) return this._deferSetShader = { key: t, textures: e, textureData: i }, this; if (void 0 === e && (e = []), "string" == typeof t) { var n = this.scene.sys.cache.shader; if (!n.has(t)) return console.warn("Shader missing: " + t), this;
								this.shader = n.get(t) } else this.shader = t; var r = this.gl,
								s = this.renderer;
							this.program && s.deleteProgram(this.program); var o = s.createProgram(this.shader.vertexSrc, this.shader.fragmentSrc);
							r.uniformMatrix4fv(r.getUniformLocation(o.webGLProgram, "uViewMatrix"), !1, this.viewMatrix), r.uniformMatrix4fv(r.getUniformLocation(o.webGLProgram, "uProjectionMatrix"), !1, this.projectionMatrix), r.uniform2f(r.getUniformLocation(o.webGLProgram, "uResolution"), this.width, this.height), this.program = o; var l = new Date,
								h = { resolution: { type: "2f", value: { x: this.width, y: this.height } }, time: { type: "1f", value: 0 }, mouse: { type: "2f", value: { x: this.width / 2, y: this.height / 2 } }, date: { type: "4fv", value: [l.getFullYear(), l.getMonth(), l.getDate(), 60 * l.getHours() * 60 + 60 * l.getMinutes() + l.getSeconds()] }, sampleRate: { type: "1f", value: 44100 }, iChannel0: { type: "sampler2D", value: null, textureData: { repeat: !0 } }, iChannel1: { type: "sampler2D", value: null, textureData: { repeat: !0 } }, iChannel2: { type: "sampler2D", value: null, textureData: { repeat: !0 } }, iChannel3: { type: "sampler2D", value: null, textureData: { repeat: !0 } } };
							this.shader.uniforms ? this.uniforms = a(!0, {}, this.shader.uniforms, h) : this.uniforms = h; for (var u = 0; u < 4; u++) e[u] && this.setSampler2D("iChannel" + u, e[u], u, i); return this.initUniforms(), this.projOrtho(0, this._rendererWidth, this._rendererHeight, 0), this }, setPointer: function(t) { return this.pointer = t, this }, projOrtho: function(t, e, i, n) { if (this.renderer.contextLost) this._deferProjOrtho = { left: t, right: e, bottom: i, top: n };
							else { var r = 1 / (t - e),
									s = 1 / (i - n),
									o = this.projectionMatrix;
								o[0] = -2 * r, o[5] = -2 * s, o[10] = -.001, o[12] = (t + e) * r, o[13] = (n + i) * s, o[14] = -0; var a = this.program,
									l = this.gl;
								this.renderer.setProgram(a), l.uniformMatrix4fv(l.getUniformLocation(a.webGLProgram, "uProjectionMatrix"), !1, this.projectionMatrix), this._rendererWidth = e, this._rendererHeight = i } }, initUniforms: function() { var t = this.renderer.glFuncMap,
								e = this.program; for (var i in this._textureCount = 0, this.uniforms) { var n = this.uniforms[i],
									r = n.type,
									s = t[r];
								n.uniformLocation = this.renderer.createUniformLocation(e, i), "sampler2D" !== r && (n.glMatrix = s.matrix, n.glValueLength = s.length, n.glFunc = s.func) } }, setSampler2DBuffer: function(t, e, i, n, r, s) { void 0 === r && (r = 0), void 0 === s && (s = {}); var o = this.uniforms[t]; return o.value = e, s.width = i, s.height = n, o.textureData = s, this._textureCount = r, this.initSampler2D(o), this }, setSampler2D: function(t, e, i, n) { void 0 === i && (i = 0); var r = this.scene.sys.textures; if (r.exists(e)) { var s = r.getFrame(e); if (s.glTexture && s.glTexture.isRenderTexture) return this.setSampler2DBuffer(t, s.glTexture, s.width, s.height, i, n); var o = this.uniforms[t],
									a = s.source;
								o.textureKey = e, o.source = a.image, o.value = s.glTexture, a.isGLTexture && (n || (n = {}), n.width = a.width, n.height = a.height), n && (o.textureData = n), this._textureCount = i, this.initSampler2D(o) } return this }, setUniform: function(t, e) { return l(this.uniforms, t, e), this }, getUniform: function(t) { return o(this.uniforms, t, null) }, setChannel0: function(t, e) { return this.setSampler2D("iChannel0", t, 0, e) }, setChannel1: function(t, e) { return this.setSampler2D("iChannel1", t, 1, e) }, setChannel2: function(t, e) { return this.setSampler2D("iChannel2", t, 2, e) }, setChannel3: function(t, e) { return this.setSampler2D("iChannel3", t, 3, e) }, initSampler2D: function(t) { if (t.value) { var e = t.textureData; if (e && !t.value.isRenderTexture) { var i = this.gl,
										n = t.value,
										r = i[o(e, "magFilter", "linear").toUpperCase()],
										s = i[o(e, "minFilter", "linear").toUpperCase()],
										a = i[o(e, "wrapS", "repeat").toUpperCase()],
										l = i[o(e, "wrapT", "repeat").toUpperCase()],
										h = i[o(e, "format", "rgba").toUpperCase()],
										u = o(e, "flipY", !1),
										c = o(e, "width", n.width),
										d = o(e, "height", n.height),
										f = o(e, "source", n.pixels);
									e.repeat && (a = i.REPEAT, l = i.REPEAT), e.width && (f = null), n.update(f, c, d, u, a, l, s, r, h) } this.renderer.setProgram(this.program), this._textureCount++ } }, syncUniforms: function() { var t, e, i, n, r, s = this.gl,
								o = this.uniforms,
								a = 0; for (var l in o) i = (t = o[l]).glFunc, e = t.glValueLength, n = t.uniformLocation, null !== (r = t.value) && (1 === e ? t.glMatrix ? i.call(s, n.webGLUniformLocation, t.transpose, r) : i.call(s, n.webGLUniformLocation, r) : 2 === e ? i.call(s, n.webGLUniformLocation, r.x, r.y) : 3 === e ? i.call(s, n.webGLUniformLocation, r.x, r.y, r.z) : 4 === e ? i.call(s, n.webGLUniformLocation, r.x, r.y, r.z, r.w) : "sampler2D" === t.type && (s.activeTexture(s.TEXTURE0 + a), s.bindTexture(s.TEXTURE_2D, r.webGLTexture), s.uniform1i(n.webGLUniformLocation, a), a++)) }, load: function(t) { var e = this.gl,
								i = this.width,
								n = this.height,
								r = this.renderer,
								s = this.program,
								o = this.viewMatrix; if (!this.renderToTexture) { var a = -this._displayOriginX,
									l = -this._displayOriginY;
								o[0] = t[0], o[1] = t[1], o[4] = t[2], o[5] = t[3], o[8] = t[4], o[9] = t[5], o[12] = o[0] * a + o[4] * l, o[13] = o[1] * a + o[5] * l } e.useProgram(s.webGLProgram), e.uniformMatrix4fv(e.getUniformLocation(s.webGLProgram, "uViewMatrix"), !1, o), e.uniformMatrix4fv(e.getUniformLocation(s.webGLProgram, "uProjectionMatrix"), !1, this.projectionMatrix), e.uniform2f(e.getUniformLocation(s.webGLProgram, "uResolution"), this.width, this.height); var h = this.uniforms,
								u = h.resolution;
							u.value.x = i, u.value.y = n, h.time.value = r.game.loop.getDuration(); var c = this.pointer; if (c) { var d = h.mouse,
									f = c.x / i,
									p = 1 - c.y / n;
								d.value.x = f.toFixed(2), d.value.y = p.toFixed(2) } this.syncUniforms() }, flush: function() { var t = this.width,
								e = this.height,
								i = this.program,
								n = this.gl,
								r = this.vertexBuffer,
								s = this.renderer,
								o = 2 * Float32Array.BYTES_PER_ELEMENT;
							this.renderToTexture && (s.setFramebuffer(this.framebuffer), n.clearColor(0, 0, 0, 0), n.clear(n.COLOR_BUFFER_BIT)), n.bindBuffer(n.ARRAY_BUFFER, r.webGLBuffer); var a = n.getAttribLocation(i.webGLProgram, "inPosition"); - 1 !== a && (n.enableVertexAttribArray(a), n.vertexAttribPointer(a, 2, n.FLOAT, !1, o, 0)); var l = this.vertexViewF32;
							l[3] = e, l[4] = t, l[5] = e, l[8] = t, l[9] = e, l[10] = t, n.bufferSubData(n.ARRAY_BUFFER, 0, this.bytes.subarray(0, 6 * o)), n.drawArrays(n.TRIANGLES, 0, 6), this.renderToTexture && s.setFramebuffer(null, !1) }, setAlpha: function() {}, setBlendMode: function() {}, onContextRestored: function() { if (null !== this._deferSetShader) { var t = this._deferSetShader.key,
									e = this._deferSetShader.textures,
									i = this._deferSetShader.textureData;
								this._deferSetShader = null, this.setShader(t, e, i) } if (null !== this._deferProjOrtho) { var n = this._deferProjOrtho.left,
									r = this._deferProjOrtho.right,
									s = this._deferProjOrtho.bottom,
									o = this._deferProjOrtho.top;
								this._deferProjOrtho = null, this.projOrtho(n, r, s, o) } }, preDestroy: function() { var t = this.renderer;
							t.off(d.RESTORE_WEBGL, this.onContextRestored, this), t.deleteProgram(this.program), t.deleteBuffer(this.vertexBuffer), this.renderToTexture && (t.deleteFramebuffer(this.framebuffer), this.texture.destroy(), this.framebuffer = null, this.glTexture = null, this.texture = null), c(this.uniforms, (function(e) { t.deleteUniformLocation(e.uniformLocation), e.uniformLocation = null })) } });
				t.exports = f }, 80464: t => { t.exports = function() {} }, 54935: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(20071);
				r.register("shader", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "key", null),
						r = s(t, "x", 0),
						a = s(t, "y", 0),
						l = s(t, "width", 128),
						h = s(t, "height", 128),
						u = new o(this.scene, i, r, a, l, h); return void 0 !== e && (t.add = e), n(this.scene, u, t), u })) }, 74177: (t, e, i) => { var n = i(20071);
				i(39429).register("shader", (function(t, e, i, r, s, o, a) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o, a)) })) }, 25479: (t, e, i) => { var n, r;
				i(29747), n = i(19257), r = i(80464), t.exports = { renderWebGL: n, renderCanvas: r } }, 19257: (t, e, i) => { var n = i(91296);
				t.exports = function(t, e, i, r) { if (e.shader) { if (i.addToRenderList(e), t.pipelines.clear(), e.renderToTexture) e.load(), e.flush();
						else { var s = n(e, i, r).calc;
							t.width === e._rendererWidth && t.height === e._rendererHeight || e.projOrtho(0, t.width, t.height, 0), e.load(s.matrix), e.flush() } t.pipelines.rebind() } } }, 10441: (t, e, i) => { var n = i(70554);
				t.exports = function(t, e, i, r, s, o) { for (var a = n.getTintAppendFloatAlpha(i.fillColor, i.fillAlpha * r), l = i.pathData, h = i.pathIndexes, u = 0; u < h.length; u += 3) { var c = 2 * h[u],
							d = 2 * h[u + 1],
							f = 2 * h[u + 2],
							p = l[c + 0] - s,
							g = l[c + 1] - o,
							m = l[d + 0] - s,
							v = l[d + 1] - o,
							y = l[f + 0] - s,
							x = l[f + 1] - o,
							b = e.getX(p, g),
							w = e.getY(p, g),
							T = e.getX(m, v),
							S = e.getY(m, v),
							_ = e.getX(y, x),
							E = e.getY(y, x);
						t.batchTri(i, b, w, T, S, _, E, 0, 0, 1, 1, a, a, a, 2) } } }, 65960: t => { t.exports = function(t, e, i, n) { var r = i || e.fillColor,
						s = n || e.fillAlpha,
						o = (16711680 & r) >>> 16,
						a = (65280 & r) >>> 8,
						l = 255 & r;
					t.fillStyle = "rgba(" + o + "," + a + "," + l + "," + s + ")" } }, 75177: t => { t.exports = function(t, e, i, n) { var r = i || e.strokeColor,
						s = n || e.strokeAlpha,
						o = (16711680 & r) >>> 16,
						a = (65280 & r) >>> 8,
						l = 255 & r;
					t.strokeStyle = "rgba(" + o + "," + a + "," + l + "," + s + ")", t.lineWidth = e.lineWidth } }, 17803: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(95643),
					o = i(23031),
					a = new n({ Extends: s, Mixins: [r.AlphaSingle, r.BlendMode, r.Depth, r.GetBounds, r.Mask, r.Origin, r.Pipeline, r.PostPipeline, r.ScrollFactor, r.Transform, r.Visible], initialize: function(t, e, i) { void 0 === e && (e = "Shape"), s.call(this, t, e), this.geom = i, this.pathData = [], this.pathIndexes = [], this.fillColor = 16777215, this.fillAlpha = 1, this.strokeColor = 16777215, this.strokeAlpha = 1, this.lineWidth = 1, this.isFilled = !1, this.isStroked = !1, this.closePath = !0, this._tempLine = new o, this.width = 0, this.height = 0, this.initPipeline(), this.initPostPipeline() }, setFillStyle: function(t, e) { return void 0 === e && (e = 1), void 0 === t ? this.isFilled = !1 : (this.fillColor = t, this.fillAlpha = e, this.isFilled = !0), this }, setStrokeStyle: function(t, e, i) { return void 0 === i && (i = 1), void 0 === t ? this.isStroked = !1 : (this.lineWidth = t, this.strokeColor = e, this.strokeAlpha = i, this.isStroked = !0), this }, setClosePath: function(t) { return this.closePath = t, this }, setSize: function(t, e) { return this.width = t, this.height = e, this }, setDisplaySize: function(t, e) { return this.displayWidth = t, this.displayHeight = e, this }, preDestroy: function() { this.geom = null, this._tempLine = null, this.pathData = [], this.pathIndexes = [] }, displayWidth: { get: function() { return this.scaleX * this.width }, set: function(t) { this.scaleX = t / this.width } }, displayHeight: { get: function() { return this.scaleY * this.height }, set: function(t) { this.scaleY = t / this.height } } });
				t.exports = a }, 34682: (t, e, i) => { var n = i(70554);
				t.exports = function(t, e, i, r, s) { var o = t.strokeTint,
						a = n.getTintAppendFloatAlpha(e.strokeColor, e.strokeAlpha * i);
					o.TL = a, o.TR = a, o.BL = a, o.BR = a; var l = e.pathData,
						h = l.length - 1,
						u = e.lineWidth,
						c = u / 2,
						d = l[0] - r,
						f = l[1] - s;
					e.closePath || (h -= 2); for (var p = 2; p < h; p += 2) { var g = l[p] - r,
							m = l[p + 1] - s;
						t.batchLine(d, f, g, m, c, c, u, p - 2, !!e.closePath && p === h - 1), d = g, f = m } } }, 23629: (t, e, i) => { var n = i(13609),
					r = i(83419),
					s = i(39506),
					o = i(94811),
					a = i(96503),
					l = i(36383),
					h = i(17803),
					u = new r({ Extends: h, Mixins: [n], initialize: function(t, e, i, n, r, s, o, l, u) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 128), void 0 === r && (r = 0), void 0 === s && (s = 360), void 0 === o && (o = !1), h.call(this, t, "Arc", new a(0, 0, n)), this._startAngle = r, this._endAngle = s, this._anticlockwise = o, this._iterations = .01, this.setPosition(e, i); var c = 2 * this.geom.radius;
							this.setSize(c, c), void 0 !== l && this.setFillStyle(l, u), this.updateDisplayOrigin(), this.updateData() }, iterations: { get: function() { return this._iterations }, set: function(t) { this._iterations = t, this.updateData() } }, radius: { get: function() { return this.geom.radius }, set: function(t) { this.geom.radius = t; var e = 2 * t;
								this.setSize(e, e), this.updateDisplayOrigin(), this.updateData() } }, startAngle: { get: function() { return this._startAngle }, set: function(t) { this._startAngle = t, this.updateData() } }, endAngle: { get: function() { return this._endAngle }, set: function(t) { this._endAngle = t, this.updateData() } }, anticlockwise: { get: function() { return this._anticlockwise }, set: function(t) { this._anticlockwise = t, this.updateData() } }, setRadius: function(t) { return this.radius = t, this }, setIterations: function(t) { return void 0 === t && (t = .01), this.iterations = t, this }, setStartAngle: function(t, e) { return this._startAngle = t, void 0 !== e && (this._anticlockwise = e), this.updateData() }, setEndAngle: function(t, e) { return this._endAngle = t, void 0 !== e && (this._anticlockwise = e), this.updateData() }, updateData: function() { var t = this._iterations,
								e = t,
								i = this.geom.radius,
								n = s(this._startAngle),
								r = s(this._endAngle),
								a = i,
								h = i;
							r -= n, this._anticlockwise ? r < -l.PI2 ? r = -l.PI2 : r > 0 && (r = -l.PI2 + r % l.PI2) : r > l.PI2 ? r = l.PI2 : r < 0 && (r = l.PI2 + r % l.PI2); for (var u, c = [a + Math.cos(n) * i, h + Math.sin(n) * i]; e < 1;) u = r * e + n, c.push(a + Math.cos(u) * i, h + Math.sin(u) * i), e += t; return u = r + n, c.push(a + Math.cos(u) * i, h + Math.sin(u) * i), c.push(a + Math.cos(n) * i, h + Math.sin(n) * i), this.pathIndexes = o(c), this.pathData = c, this } });
				t.exports = u }, 42542: (t, e, i) => { var n = i(39506),
					r = i(65960),
					s = i(75177),
					o = i(20926);
				t.exports = function(t, e, i, a) { i.addToRenderList(e); var l = t.currentContext; if (o(t, l, e, i, a)) { var h = e.radius;
						l.beginPath(), l.arc(h - e.originX * (2 * h), h - e.originY * (2 * h), h, n(e._startAngle), n(e._endAngle), e.anticlockwise), e.closePath && l.closePath(), e.isFilled && (r(l, e), l.fill()), e.isStroked && (s(l, e), l.stroke()), l.restore() } } }, 42563: (t, e, i) => { var n = i(23629),
					r = i(39429);
				r.register("arc", (function(t, e, i, r, s, o, a, l) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o, a, l)) })), r.register("circle", (function(t, e, i, r, s) { return this.displayList.add(new n(this.scene, t, e, i, 0, 360, !1, r, s)) })) }, 13609: (t, e, i) => { var n, r;
				i(29747), n = i(41447), r = i(42542), t.exports = { renderWebGL: n, renderCanvas: r } }, 41447: (t, e, i) => { var n = i(91296),
					r = i(10441),
					s = i(34682);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline),
						l = n(e, i, o),
						h = a.calcMatrix.copyFrom(l.calc),
						u = e._displayOriginX,
						c = e._displayOriginY,
						d = i.alpha * e.alpha;
					t.pipelines.preBatch(e), e.isFilled && r(a, h, e, d, u, c), e.isStroked && s(a, e, d, u, c), t.pipelines.postBatch(e) } }, 89: (t, e, i) => { var n = i(83419),
					r = i(33141),
					s = i(94811),
					o = i(87841),
					a = i(17803),
					l = new n({ Extends: a, Mixins: [r], initialize: function(t, e, i, n, r, s) { void 0 === e && (e = 0), void 0 === i && (i = 0), a.call(this, t, "Curve", n), this._smoothness = 32, this._curveBounds = new o, this.closePath = !1, this.setPosition(e, i), void 0 !== r && this.setFillStyle(r, s), this.updateData() }, smoothness: { get: function() { return this._smoothness }, set: function(t) { this._smoothness = t, this.updateData() } }, setSmoothness: function(t) { return this._smoothness = t, this.updateData() }, updateData: function() { var t = this._curveBounds,
								e = this._smoothness;
							this.geom.getBounds(t, e), this.setSize(t.width, t.height), this.updateDisplayOrigin(); for (var i = [], n = this.geom.getPoints(e), r = 0; r < n.length; r++) i.push(n[r].x, n[r].y); return i.push(n[0].x, n[0].y), this.pathIndexes = s(i), this.pathData = i, this } });
				t.exports = l }, 3170: (t, e, i) => { var n = i(65960),
					r = i(75177),
					s = i(20926);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.currentContext; if (s(t, a, e, i, o)) { var l = e._displayOriginX + e._curveBounds.x,
							h = e._displayOriginY + e._curveBounds.y,
							u = e.pathData,
							c = u.length - 1,
							d = u[0] - l,
							f = u[1] - h;
						a.beginPath(), a.moveTo(d, f), e.closePath || (c -= 2); for (var p = 2; p < c; p += 2) { var g = u[p] - l,
								m = u[p + 1] - h;
							a.lineTo(g, m) } e.closePath && a.closePath(), e.isFilled && (n(a, e), a.fill()), e.isStroked && (r(a, e), a.stroke()), a.restore() } } }, 40511: (t, e, i) => { var n = i(39429),
					r = i(89);
				n.register("curve", (function(t, e, i, n, s) { return this.displayList.add(new r(this.scene, t, e, i, n, s)) })) }, 33141: (t, e, i) => { var n, r;
				i(29747), n = i(53987), r = i(3170), t.exports = { renderWebGL: n, renderCanvas: r } }, 53987: (t, e, i) => { var n = i(10441),
					r = i(91296),
					s = i(34682);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline),
						l = r(e, i, o),
						h = a.calcMatrix.copyFrom(l.calc),
						u = e._displayOriginX + e._curveBounds.x,
						c = e._displayOriginY + e._curveBounds.y,
						d = i.alpha * e.alpha;
					t.pipelines.preBatch(e), e.isFilled && n(a, h, e, d, u, c), e.isStroked && s(a, e, d, u, c), t.pipelines.postBatch(e) } }, 19921: (t, e, i) => { var n = i(83419),
					r = i(94811),
					s = i(54205),
					o = i(8497),
					a = i(17803),
					l = new n({ Extends: a, Mixins: [s], initialize: function(t, e, i, n, r, s, l) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 128), void 0 === r && (r = 128), a.call(this, t, "Ellipse", new o(n / 2, r / 2, n, r)), this._smoothness = 64, this.setPosition(e, i), this.width = n, this.height = r, void 0 !== s && this.setFillStyle(s, l), this.updateDisplayOrigin(), this.updateData() }, smoothness: { get: function() { return this._smoothness }, set: function(t) { this._smoothness = t, this.updateData() } }, setSize: function(t, e) { return this.width = t, this.height = e, this.geom.setPosition(t / 2, e / 2), this.geom.setSize(t, e), this.updateDisplayOrigin(), this.updateData() }, setSmoothness: function(t) { return this._smoothness = t, this.updateData() }, updateData: function() { for (var t = [], e = this.geom.getPoints(this._smoothness), i = 0; i < e.length; i++) t.push(e[i].x, e[i].y); return t.push(e[0].x, e[0].y), this.pathIndexes = r(t), this.pathData = t, this } });
				t.exports = l }, 7930: (t, e, i) => { var n = i(65960),
					r = i(75177),
					s = i(20926);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.currentContext; if (s(t, a, e, i, o)) { var l = e._displayOriginX,
							h = e._displayOriginY,
							u = e.pathData,
							c = u.length - 1,
							d = u[0] - l,
							f = u[1] - h;
						a.beginPath(), a.moveTo(d, f), e.closePath || (c -= 2); for (var p = 2; p < c; p += 2) { var g = u[p] - l,
								m = u[p + 1] - h;
							a.lineTo(g, m) } a.closePath(), e.isFilled && (n(a, e), a.fill()), e.isStroked && (r(a, e), a.stroke()), a.restore() } } }, 1543: (t, e, i) => { var n = i(19921);
				i(39429).register("ellipse", (function(t, e, i, r, s, o) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o)) })) }, 54205: (t, e, i) => { var n, r;
				i(29747), n = i(19467), r = i(7930), t.exports = { renderWebGL: n, renderCanvas: r } }, 19467: (t, e, i) => { var n = i(10441),
					r = i(91296),
					s = i(34682);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline),
						l = r(e, i, o),
						h = a.calcMatrix.copyFrom(l.calc),
						u = e._displayOriginX,
						c = e._displayOriginY,
						d = i.alpha * e.alpha;
					t.pipelines.preBatch(e), e.isFilled && n(a, h, e, d, u, c), e.isStroked && s(a, e, d, u, c), t.pipelines.postBatch(e) } }, 30479: (t, e, i) => { var n = i(83419),
					r = i(17803),
					s = i(26015),
					o = new n({ Extends: r, Mixins: [s], initialize: function(t, e, i, n, s, o, a, l, h, u, c) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 128), void 0 === s && (s = 128), void 0 === o && (o = 32), void 0 === a && (a = 32), r.call(this, t, "Grid", null), this.cellWidth = o, this.cellHeight = a, this.showCells = !0, this.outlineFillColor = 0, this.outlineFillAlpha = 0, this.showOutline = !0, this.showAltCells = !1, this.altFillColor, this.altFillAlpha, this.setPosition(e, i), this.setSize(n, s), this.setFillStyle(l, h), void 0 !== u && this.setOutlineStyle(u, c), this.updateDisplayOrigin() }, setFillStyle: function(t, e) { return void 0 === e && (e = 1), void 0 === t ? this.showCells = !1 : (this.fillColor = t, this.fillAlpha = e, this.showCells = !0), this }, setAltFillStyle: function(t, e) { return void 0 === e && (e = 1), void 0 === t ? this.showAltCells = !1 : (this.altFillColor = t, this.altFillAlpha = e, this.showAltCells = !0), this }, setOutlineStyle: function(t, e) { return void 0 === e && (e = 1), void 0 === t ? this.showOutline = !1 : (this.outlineFillColor = t, this.outlineFillAlpha = e, this.showOutline = !0), this } });
				t.exports = o }, 49912: (t, e, i) => { var n = i(65960),
					r = i(75177),
					s = i(20926);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.currentContext; if (s(t, a, e, i, o)) { var l = -e._displayOriginX,
							h = -e._displayOriginY,
							u = i.alpha * e.alpha,
							c = e.width,
							d = e.height,
							f = e.cellWidth,
							p = e.cellHeight,
							g = Math.ceil(c / f),
							m = Math.ceil(d / p),
							v = f,
							y = p,
							x = f - (g * f - c),
							b = p - (m * p - d),
							w = e.showCells,
							T = e.showAltCells,
							S = e.showOutline,
							_ = 0,
							E = 0,
							A = 0,
							C = 0,
							k = 0; if (S && (v--, y--, x === f && x--, b === p && b--), w && e.fillAlpha > 0)
							for (n(a, e), E = 0; E < m; E++)
								for (T && (A = E % 2), _ = 0; _ < g; _++) T && A ? A = 0 : (A++, C = _ < g - 1 ? v : x, k = E < m - 1 ? y : b, a.fillRect(l + _ * f, h + E * p, C, k)); if (T && e.altFillAlpha > 0)
							for (n(a, e, e.altFillColor, e.altFillAlpha * u), E = 0; E < m; E++)
								for (T && (A = E % 2), _ = 0; _ < g; _++) !T || A ? (A = 0, C = _ < g - 1 ? v : x, k = E < m - 1 ? y : b, a.fillRect(l + _ * f, h + E * p, C, k)) : A = 1; if (S && e.outlineFillAlpha > 0) { for (r(a, e, e.outlineFillColor, e.outlineFillAlpha * u), _ = 1; _ < g; _++) { var P = _ * f;
								a.beginPath(), a.moveTo(P + l, h), a.lineTo(P + l, d + h), a.stroke() } for (E = 1; E < m; E++) { var O = E * p;
								a.beginPath(), a.moveTo(l, O + h), a.lineTo(l + c, O + h), a.stroke() } } a.restore() } } }, 34137: (t, e, i) => { var n = i(39429),
					r = i(30479);
				n.register("grid", (function(t, e, i, n, s, o, a, l, h, u) { return this.displayList.add(new r(this.scene, t, e, i, n, s, o, a, l, h, u)) })) }, 26015: (t, e, i) => { var n, r;
				i(29747), n = i(46161), r = i(49912), t.exports = { renderWebGL: n, renderCanvas: r } }, 46161: (t, e, i) => { var n = i(91296),
					r = i(70554);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o = t.pipelines.set(e.pipeline),
						a = n(e, i, s);
					o.calcMatrix.copyFrom(a.calc).translate(-e._displayOriginX, -e._displayOriginY); var l, h, u = i.alpha * e.alpha,
						c = e.width,
						d = e.height,
						f = e.cellWidth,
						p = e.cellHeight,
						g = Math.ceil(c / f),
						m = Math.ceil(d / p),
						v = f,
						y = p,
						x = f - (g * f - c),
						b = p - (m * p - d),
						w = e.showCells,
						T = e.showAltCells,
						S = e.showOutline,
						_ = 0,
						E = 0,
						A = 0,
						C = 0,
						k = 0; if (S && (v--, y--, x === f && x--, b === p && b--), t.pipelines.preBatch(e), w && e.fillAlpha > 0)
						for (l = o.fillTint, h = r.getTintAppendFloatAlpha(e.fillColor, e.fillAlpha * u), l.TL = h, l.TR = h, l.BL = h, l.BR = h, E = 0; E < m; E++)
							for (T && (A = E % 2), _ = 0; _ < g; _++) T && A ? A = 0 : (A++, C = _ < g - 1 ? v : x, k = E < m - 1 ? y : b, o.batchFillRect(_ * f, E * p, C, k)); if (T && e.altFillAlpha > 0)
						for (l = o.fillTint, h = r.getTintAppendFloatAlpha(e.altFillColor, e.altFillAlpha * u), l.TL = h, l.TR = h, l.BL = h, l.BR = h, E = 0; E < m; E++)
							for (T && (A = E % 2), _ = 0; _ < g; _++) !T || A ? (A = 0, C = _ < g - 1 ? v : x, k = E < m - 1 ? y : b, o.batchFillRect(_ * f, E * p, C, k)) : A = 1; if (S && e.outlineFillAlpha > 0) { var P = o.strokeTint,
							O = r.getTintAppendFloatAlpha(e.outlineFillColor, e.outlineFillAlpha * u); for (P.TL = O, P.TR = O, P.BL = O, P.BR = O, _ = 1; _ < g; _++) { var R = _ * f;
							o.batchLine(R, 0, R, d, 1, 1, 1, 0, !1) } for (E = 1; E < m; E++) { var M = E * p;
							o.batchLine(0, M, c, M, 1, 1, 1, 0, !1) } } t.pipelines.postBatch(e) } }, 61475: (t, e, i) => { var n = i(99651),
					r = i(83419),
					s = i(17803),
					o = new r({ Extends: s, Mixins: [n], initialize: function(t, e, i, n, r, o, a, l) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 48), void 0 === r && (r = 32), void 0 === o && (o = 15658734), void 0 === a && (a = 10066329), void 0 === l && (l = 13421772), s.call(this, t, "IsoBox", null), this.projection = 4, this.fillTop = o, this.fillLeft = a, this.fillRight = l, this.showTop = !0, this.showLeft = !0, this.showRight = !0, this.isFilled = !0, this.setPosition(e, i), this.setSize(n, r), this.updateDisplayOrigin() }, setProjection: function(t) { return this.projection = t, this }, setFaces: function(t, e, i) { return void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === i && (i = !0), this.showTop = t, this.showLeft = e, this.showRight = i, this }, setFillStyle: function(t, e, i) { return this.fillTop = t, this.fillLeft = e, this.fillRight = i, this.isFilled = !0, this } });
				t.exports = o }, 11508: (t, e, i) => { var n = i(65960),
					r = i(20926);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o = t.currentContext; if (r(t, o, e, i, s) && e.isFilled) { var a = e.width,
							l = e.height,
							h = a / 2,
							u = a / e.projection;
						e.showTop && (n(o, e, e.fillTop), o.beginPath(), o.moveTo(-h, -l), o.lineTo(0, -u - l), o.lineTo(h, -l), o.lineTo(h, -1), o.lineTo(0, u - 1), o.lineTo(-h, -1), o.lineTo(-h, -l), o.fill()), e.showLeft && (n(o, e, e.fillLeft), o.beginPath(), o.moveTo(-h, 0), o.lineTo(0, u), o.lineTo(0, u - l), o.lineTo(-h, -l), o.lineTo(-h, 0), o.fill()), e.showRight && (n(o, e, e.fillRight), o.beginPath(), o.moveTo(h, 0), o.lineTo(0, u), o.lineTo(0, u - l), o.lineTo(h, -l), o.lineTo(h, 0), o.fill()), o.restore() } } }, 3933: (t, e, i) => { var n = i(39429),
					r = i(61475);
				n.register("isobox", (function(t, e, i, n, s, o, a) { return this.displayList.add(new r(this.scene, t, e, i, n, s, o, a)) })) }, 99651: (t, e, i) => { var n, r;
				i(29747), n = i(68149), r = i(11508), t.exports = { renderWebGL: n, renderCanvas: r } }, 68149: (t, e, i) => { var n = i(91296),
					r = i(70554);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o, a, l, h, u, c, d, f, p, g = t.pipelines.set(e.pipeline),
						m = n(e, i, s),
						v = g.calcMatrix.copyFrom(m.calc),
						y = e.width,
						x = e.height,
						b = y / 2,
						w = y / e.projection,
						T = i.alpha * e.alpha;
					e.isFilled && (t.pipelines.preBatch(e), e.showTop && (o = r.getTintAppendFloatAlpha(e.fillTop, T), a = v.getX(-b, -x), l = v.getY(-b, -x), h = v.getX(0, -w - x), u = v.getY(0, -w - x), c = v.getX(b, -x), d = v.getY(b, -x), f = v.getX(0, w - x), p = v.getY(0, w - x), g.batchQuad(e, a, l, h, u, c, d, f, p, 0, 0, 1, 1, o, o, o, o, 2)), e.showLeft && (o = r.getTintAppendFloatAlpha(e.fillLeft, T), a = v.getX(-b, 0), l = v.getY(-b, 0), h = v.getX(0, w), u = v.getY(0, w), c = v.getX(0, w - x), d = v.getY(0, w - x), f = v.getX(-b, -x), p = v.getY(-b, -x), g.batchQuad(e, a, l, h, u, c, d, f, p, 0, 0, 1, 1, o, o, o, o, 2)), e.showRight && (o = r.getTintAppendFloatAlpha(e.fillRight, T), a = v.getX(b, 0), l = v.getY(b, 0), h = v.getX(0, w), u = v.getY(0, w), c = v.getX(0, w - x), d = v.getY(0, w - x), f = v.getX(b, -x), p = v.getY(b, -x), g.batchQuad(e, a, l, h, u, c, d, f, p, 0, 0, 1, 1, o, o, o, o, 2)), t.pipelines.postBatch(e)) } }, 16933: (t, e, i) => { var n = i(83419),
					r = i(60561),
					s = i(17803),
					o = new n({ Extends: s, Mixins: [r], initialize: function(t, e, i, n, r, o, a, l, h) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 48), void 0 === r && (r = 32), void 0 === o && (o = !1), void 0 === a && (a = 15658734), void 0 === l && (l = 10066329), void 0 === h && (h = 13421772), s.call(this, t, "IsoTriangle", null), this.projection = 4, this.fillTop = a, this.fillLeft = l, this.fillRight = h, this.showTop = !0, this.showLeft = !0, this.showRight = !0, this.isReversed = o, this.isFilled = !0, this.setPosition(e, i), this.setSize(n, r), this.updateDisplayOrigin() }, setProjection: function(t) { return this.projection = t, this }, setReversed: function(t) { return this.isReversed = t, this }, setFaces: function(t, e, i) { return void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === i && (i = !0), this.showTop = t, this.showLeft = e, this.showRight = i, this }, setFillStyle: function(t, e, i) { return this.fillTop = t, this.fillLeft = e, this.fillRight = i, this.isFilled = !0, this } });
				t.exports = o }, 79590: (t, e, i) => { var n = i(65960),
					r = i(20926);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o = t.currentContext; if (r(t, o, e, i, s) && e.isFilled) { var a = e.width,
							l = e.height,
							h = a / 2,
							u = a / e.projection,
							c = e.isReversed;
						e.showTop && c && (n(o, e, e.fillTop), o.beginPath(), o.moveTo(-h, -l), o.lineTo(0, -u - l), o.lineTo(h, -l), o.lineTo(0, u - l), o.fill()), e.showLeft && (n(o, e, e.fillLeft), o.beginPath(), c ? (o.moveTo(-h, -l), o.lineTo(0, u), o.lineTo(0, u - l)) : (o.moveTo(-h, 0), o.lineTo(0, u), o.lineTo(0, u - l)), o.fill()), e.showRight && (n(o, e, e.fillRight), o.beginPath(), c ? (o.moveTo(h, -l), o.lineTo(0, u), o.lineTo(0, u - l)) : (o.moveTo(h, 0), o.lineTo(0, u), o.lineTo(0, u - l)), o.fill()), o.restore() } } }, 49803: (t, e, i) => { var n = i(39429),
					r = i(16933);
				n.register("isotriangle", (function(t, e, i, n, s, o, a, l) { return this.displayList.add(new r(this.scene, t, e, i, n, s, o, a, l)) })) }, 60561: (t, e, i) => { var n, r;
				i(29747), n = i(51503), r = i(79590), t.exports = { renderWebGL: n, renderCanvas: r } }, 51503: (t, e, i) => { var n = i(91296),
					r = i(70554);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o = t.pipelines.set(e.pipeline),
						a = n(e, i, s),
						l = o.calcMatrix.copyFrom(a.calc),
						h = e.width,
						u = e.height,
						c = h / 2,
						d = h / e.projection,
						f = e.isReversed,
						p = i.alpha * e.alpha; if (e.isFilled) { var g, m, v, y, x, b, w; if (t.pipelines.preBatch(e), e.showTop && f) { g = r.getTintAppendFloatAlpha(e.fillTop, p), m = l.getX(-c, -u), v = l.getY(-c, -u), y = l.getX(0, -d - u), x = l.getY(0, -d - u), b = l.getX(c, -u), w = l.getY(c, -u); var T = l.getX(0, d - u),
								S = l.getY(0, d - u);
							o.batchQuad(e, m, v, y, x, b, w, T, S, 0, 0, 1, 1, g, g, g, g, 2) } e.showLeft && (g = r.getTintAppendFloatAlpha(e.fillLeft, p), f ? (m = l.getX(-c, -u), v = l.getY(-c, -u), y = l.getX(0, d), x = l.getY(0, d), b = l.getX(0, d - u), w = l.getY(0, d - u)) : (m = l.getX(-c, 0), v = l.getY(-c, 0), y = l.getX(0, d), x = l.getY(0, d), b = l.getX(0, d - u), w = l.getY(0, d - u)), o.batchTri(e, m, v, y, x, b, w, 0, 0, 1, 1, g, g, g, 2)), e.showRight && (g = r.getTintAppendFloatAlpha(e.fillRight, p), f ? (m = l.getX(c, -u), v = l.getY(c, -u), y = l.getX(0, d), x = l.getY(0, d), b = l.getX(0, d - u), w = l.getY(0, d - u)) : (m = l.getX(c, 0), v = l.getY(c, 0), y = l.getX(0, d), x = l.getY(0, d), b = l.getX(0, d - u), w = l.getY(0, d - u)), o.batchTri(e, m, v, y, x, b, w, 0, 0, 1, 1, g, g, g, 2)), t.pipelines.postBatch(e) } } }, 57847: (t, e, i) => { var n = i(83419),
					r = i(17803),
					s = i(23031),
					o = i(36823),
					a = new n({ Extends: r, Mixins: [o], initialize: function(t, e, i, n, o, a, l, h, u) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === o && (o = 0), void 0 === a && (a = 128), void 0 === l && (l = 0), r.call(this, t, "Line", new s(n, o, a, l)); var c = Math.max(1, this.geom.right - this.geom.left),
								d = Math.max(1, this.geom.bottom - this.geom.top);
							this.lineWidth = 1, this._startWidth = 1, this._endWidth = 1, this.setPosition(e, i), this.setSize(c, d), void 0 !== h && this.setStrokeStyle(1, h, u), this.updateDisplayOrigin() }, setLineWidth: function(t, e) { return void 0 === e && (e = t), this._startWidth = t, this._endWidth = e, this.lineWidth = t, this }, setTo: function(t, e, i, n) { return this.geom.setTo(t, e, i, n), this } });
				t.exports = a }, 17440: (t, e, i) => { var n = i(75177),
					r = i(20926);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o = t.currentContext; if (r(t, o, e, i, s)) { var a = e._displayOriginX,
							l = e._displayOriginY;
						e.isStroked && (n(o, e), o.beginPath(), o.moveTo(e.geom.x1 - a, e.geom.y1 - l), o.lineTo(e.geom.x2 - a, e.geom.y2 - l), o.stroke()), o.restore() } } }, 2481: (t, e, i) => { var n = i(39429),
					r = i(57847);
				n.register("line", (function(t, e, i, n, s, o, a, l) { return this.displayList.add(new r(this.scene, t, e, i, n, s, o, a, l)) })) }, 36823: (t, e, i) => { var n, r;
				i(29747), n = i(77385), r = i(17440), t.exports = { renderWebGL: n, renderCanvas: r } }, 77385: (t, e, i) => { var n = i(91296),
					r = i(70554);
				t.exports = function(t, e, i, s) { i.addToRenderList(e); var o = t.pipelines.set(e.pipeline),
						a = n(e, i, s);
					o.calcMatrix.copyFrom(a.calc); var l = e._displayOriginX,
						h = e._displayOriginY,
						u = i.alpha * e.alpha; if (t.pipelines.preBatch(e), e.isStroked) { var c = o.strokeTint,
							d = r.getTintAppendFloatAlpha(e.strokeColor, e.strokeAlpha * u);
						c.TL = d, c.TR = d, c.BL = d, c.BR = d, o.batchLine(e.geom.x1 - l, e.geom.y1 - h, e.geom.x2 - l, e.geom.y2 - h, e._startWidth / 2, e._endWidth / 2, 1, 0, !1, a.sprite, a.camera) } t.pipelines.postBatch(e) } }, 24949: (t, e, i) => { var n = i(90273),
					r = i(83419),
					s = i(94811),
					o = i(13829),
					a = i(25717),
					l = i(17803),
					h = i(5469),
					u = new r({ Extends: l, Mixins: [n], initialize: function(t, e, i, n, r, s) { void 0 === e && (e = 0), void 0 === i && (i = 0), l.call(this, t, "Polygon", new a(n)); var h = o(this.geom);
							this.setPosition(e, i), this.setSize(h.width, h.height), void 0 !== r && this.setFillStyle(r, s), this.updateDisplayOrigin(), this.updateData() }, smooth: function(t) { void 0 === t && (t = 1); for (var e = 0; e < t; e++) h(this.geom); return this.updateData() }, setTo: function(t) { this.geom.setTo(t); var e = o(this.geom); return this.setSize(e.width, e.height), this.updateDisplayOrigin(), this.updateData() }, updateData: function() { for (var t = [], e = this.geom.points, i = 0; i < e.length; i++) t.push(e[i].x, e[i].y); return t.push(e[0].x, e[0].y), this.pathIndexes = s(t), this.pathData = t, this } });
				t.exports = u }, 38710: (t, e, i) => { var n = i(65960),
					r = i(75177),
					s = i(20926);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.currentContext; if (s(t, a, e, i, o)) { var l = e._displayOriginX,
							h = e._displayOriginY,
							u = e.pathData,
							c = u.length - 1,
							d = u[0] - l,
							f = u[1] - h;
						a.beginPath(), a.moveTo(d, f), e.closePath || (c -= 2); for (var p = 2; p < c; p += 2) { var g = u[p] - l,
								m = u[p + 1] - h;
							a.lineTo(g, m) } e.closePath && a.closePath(), e.isFilled && (n(a, e), a.fill()), e.isStroked && (r(a, e), a.stroke()), a.restore() } } }, 64827: (t, e, i) => { var n = i(39429),
					r = i(24949);
				n.register("polygon", (function(t, e, i, n, s) { return this.displayList.add(new r(this.scene, t, e, i, n, s)) })) }, 90273: (t, e, i) => { var n, r;
				i(29747), n = i(73695), r = i(38710), t.exports = { renderWebGL: n, renderCanvas: r } }, 73695: (t, e, i) => { var n = i(10441),
					r = i(91296),
					s = i(34682);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline),
						l = r(e, i, o),
						h = a.calcMatrix.copyFrom(l.calc),
						u = e._displayOriginX,
						c = e._displayOriginY,
						d = i.alpha * e.alpha;
					t.pipelines.preBatch(e), e.isFilled && n(a, h, e, d, u, c), e.isStroked && s(a, e, d, u, c), t.pipelines.postBatch(e) } }, 74561: (t, e, i) => { var n = i(83419),
					r = i(87841),
					s = i(17803),
					o = i(95597),
					a = new n({ Extends: s, Mixins: [o], initialize: function(t, e, i, n, o, a, l) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 128), void 0 === o && (o = 128), s.call(this, t, "Rectangle", new r(0, 0, n, o)), this.setPosition(e, i), this.setSize(n, o), void 0 !== a && this.setFillStyle(a, l), this.updateDisplayOrigin(), this.updateData() }, setSize: function(t, e) { this.width = t, this.height = e, this.geom.setSize(t, e), this.updateData(), this.updateDisplayOrigin(); var i = this.input; return i && !i.customHitArea && (i.hitArea.width = t, i.hitArea.height = e), this }, updateData: function() { var t = [],
								e = this.geom,
								i = this._tempLine; return e.getLineA(i), t.push(i.x1, i.y1, i.x2, i.y2), e.getLineB(i), t.push(i.x2, i.y2), e.getLineC(i), t.push(i.x2, i.y2), e.getLineD(i), t.push(i.x2, i.y2), this.pathData = t, this } });
				t.exports = a }, 48682: (t, e, i) => { var n = i(65960),
					r = i(75177),
					s = i(20926);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.currentContext; if (s(t, a, e, i, o)) { var l = e._displayOriginX,
							h = e._displayOriginY;
						e.isFilled && (n(a, e), a.fillRect(-l, -h, e.width, e.height)), e.isStroked && (r(a, e), a.beginPath(), a.rect(-l, -h, e.width, e.height), a.stroke()), a.restore() } } }, 87959: (t, e, i) => { var n = i(39429),
					r = i(74561);
				n.register("rectangle", (function(t, e, i, n, s, o) { return this.displayList.add(new r(this.scene, t, e, i, n, s, o)) })) }, 95597: (t, e, i) => { var n, r;
				i(29747), n = i(52059), r = i(48682), t.exports = { renderWebGL: n, renderCanvas: r } }, 52059: (t, e, i) => { var n = i(91296),
					r = i(34682),
					s = i(70554);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline),
						l = n(e, i, o);
					a.calcMatrix.copyFrom(l.calc); var h = e._displayOriginX,
						u = e._displayOriginY,
						c = i.alpha * e.alpha; if (t.pipelines.preBatch(e), e.isFilled) { var d = a.fillTint,
							f = s.getTintAppendFloatAlpha(e.fillColor, e.fillAlpha * c);
						d.TL = f, d.TR = f, d.BL = f, d.BR = f, a.batchFillRect(-h, -u, e.width, e.height) } e.isStroked && r(a, e, c, h, u), t.pipelines.postBatch(e) } }, 55911: (t, e, i) => { var n = i(81991),
					r = i(83419),
					s = i(94811),
					o = i(17803),
					a = new r({ Extends: o, Mixins: [n], initialize: function(t, e, i, n, r, s, a, l) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 5), void 0 === r && (r = 32), void 0 === s && (s = 64), o.call(this, t, "Star", null), this._points = n, this._innerRadius = r, this._outerRadius = s, this.setPosition(e, i), this.setSize(2 * s, 2 * s), void 0 !== a && this.setFillStyle(a, l), this.updateDisplayOrigin(), this.updateData() }, setPoints: function(t) { return this._points = t, this.updateData() }, setInnerRadius: function(t) { return this._innerRadius = t, this.updateData() }, setOuterRadius: function(t) { return this._outerRadius = t, this.updateData() }, points: { get: function() { return this._points }, set: function(t) { this._points = t, this.updateData() } }, innerRadius: { get: function() { return this._innerRadius }, set: function(t) { this._innerRadius = t, this.updateData() } }, outerRadius: { get: function() { return this._outerRadius }, set: function(t) { this._outerRadius = t, this.updateData() } }, updateData: function() { var t = [],
								e = this._points,
								i = this._innerRadius,
								n = this._outerRadius,
								r = Math.PI / 2 * 3,
								o = Math.PI / e,
								a = n,
								l = n;
							t.push(a, l + -n); for (var h = 0; h < e; h++) t.push(a + Math.cos(r) * n, l + Math.sin(r) * n), r += o, t.push(a + Math.cos(r) * i, l + Math.sin(r) * i), r += o; return t.push(a, l + -n), this.pathIndexes = s(t), this.pathData = t, this } });
				t.exports = a }, 64272: (t, e, i) => { var n = i(65960),
					r = i(75177),
					s = i(20926);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.currentContext; if (s(t, a, e, i, o)) { var l = e._displayOriginX,
							h = e._displayOriginY,
							u = e.pathData,
							c = u.length - 1,
							d = u[0] - l,
							f = u[1] - h;
						a.beginPath(), a.moveTo(d, f), e.closePath || (c -= 2); for (var p = 2; p < c; p += 2) { var g = u[p] - l,
								m = u[p + 1] - h;
							a.lineTo(g, m) } a.closePath(), e.isFilled && (n(a, e), a.fill()), e.isStroked && (r(a, e), a.stroke()), a.restore() } } }, 93697: (t, e, i) => { var n = i(55911);
				i(39429).register("star", (function(t, e, i, r, s, o, a) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o, a)) })) }, 81991: (t, e, i) => { var n, r;
				i(29747), n = i(57017), r = i(64272), t.exports = { renderWebGL: n, renderCanvas: r } }, 57017: (t, e, i) => { var n = i(10441),
					r = i(91296),
					s = i(34682);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline),
						l = r(e, i, o),
						h = a.calcMatrix.copyFrom(l.calc),
						u = e._displayOriginX,
						c = e._displayOriginY,
						d = i.alpha * e.alpha;
					t.pipelines.preBatch(e), e.isFilled && n(a, h, e, d, u, c), e.isStroked && s(a, e, d, u, c), t.pipelines.postBatch(e) } }, 36931: (t, e, i) => { var n = i(83419),
					r = i(17803),
					s = i(16483),
					o = i(96195),
					a = new n({ Extends: r, Mixins: [o], initialize: function(t, e, i, n, o, a, l, h, u, c, d) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === o && (o = 128), void 0 === a && (a = 64), void 0 === l && (l = 0), void 0 === h && (h = 128), void 0 === u && (u = 128), r.call(this, t, "Triangle", new s(n, o, a, l, h, u)); var f = this.geom.right - this.geom.left,
								p = this.geom.bottom - this.geom.top;
							this.setPosition(e, i), this.setSize(f, p), void 0 !== c && this.setFillStyle(c, d), this.updateDisplayOrigin(), this.updateData() }, setTo: function(t, e, i, n, r, s) { return this.geom.setTo(t, e, i, n, r, s), this.updateData() }, updateData: function() { var t = [],
								e = this.geom,
								i = this._tempLine; return e.getLineA(i), t.push(i.x1, i.y1, i.x2, i.y2), e.getLineB(i), t.push(i.x2, i.y2), e.getLineC(i), t.push(i.x2, i.y2), this.pathData = t, this } });
				t.exports = a }, 85172: (t, e, i) => { var n = i(65960),
					r = i(75177),
					s = i(20926);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.currentContext; if (s(t, a, e, i, o)) { var l = e._displayOriginX,
							h = e._displayOriginY,
							u = e.geom.x1 - l,
							c = e.geom.y1 - h,
							d = e.geom.x2 - l,
							f = e.geom.y2 - h,
							p = e.geom.x3 - l,
							g = e.geom.y3 - h;
						a.beginPath(), a.moveTo(u, c), a.lineTo(d, f), a.lineTo(p, g), a.closePath(), e.isFilled && (n(a, e), a.fill()), e.isStroked && (r(a, e), a.stroke()), a.restore() } } }, 45245: (t, e, i) => { var n = i(39429),
					r = i(36931);
				n.register("triangle", (function(t, e, i, n, s, o, a, l, h, u) { return this.displayList.add(new r(this.scene, t, e, i, n, s, o, a, l, h, u)) })) }, 96195: (t, e, i) => { var n, r;
				i(29747), n = i(83253), r = i(85172), t.exports = { renderWebGL: n, renderCanvas: r } }, 83253: (t, e, i) => { var n = i(91296),
					r = i(34682),
					s = i(70554);
				t.exports = function(t, e, i, o) { i.addToRenderList(e); var a = t.pipelines.set(e.pipeline),
						l = n(e, i, o);
					a.calcMatrix.copyFrom(l.calc); var h = e._displayOriginX,
						u = e._displayOriginY,
						c = i.alpha * e.alpha; if (t.pipelines.preBatch(e), e.isFilled) { var d = a.fillTint,
							f = s.getTintAppendFloatAlpha(e.fillColor, e.fillAlpha * c);
						d.TL = f, d.TR = f, d.BL = f, d.BR = f; var p = e.geom.x1 - h,
							g = e.geom.y1 - u,
							m = e.geom.x2 - h,
							v = e.geom.y2 - u,
							y = e.geom.x3 - h,
							x = e.geom.y3 - u;
						a.batchFillTriangle(p, g, m, v, y, x, l.sprite, l.camera) } e.isStroked && r(a, e, c, h, u), t.pipelines.postBatch(e) } }, 68287: (t, e, i) => { var n = i(9674),
					r = i(83419),
					s = i(31401),
					o = i(95643),
					a = i(92751),
					l = new r({ Extends: o, Mixins: [s.Alpha, s.BlendMode, s.Depth, s.Flip, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.PostPipeline, s.ScrollFactor, s.Size, s.TextureCrop, s.Tint, s.Transform, s.Visible, a], initialize: function(t, e, i, r, s) { o.call(this, t, "Sprite"), this._crop = this.resetCropObject(), this.anims = new n(this), this.setTexture(r, s), this.setPosition(e, i), this.setSizeToFrame(), this.setOriginFromFrame(), this.initPipeline(), this.initPostPipeline(!0) }, addedToScene: function() { this.scene.sys.updateList.add(this) }, removedFromScene: function() { this.scene.sys.updateList.remove(this) }, preUpdate: function(t, e) { this.anims.update(t, e) }, play: function(t, e) { return this.anims.play(t, e) }, playReverse: function(t, e) { return this.anims.playReverse(t, e) }, playAfterDelay: function(t, e) { return this.anims.playAfterDelay(t, e) }, playAfterRepeat: function(t, e) { return this.anims.playAfterRepeat(t, e) }, chain: function(t) { return this.anims.chain(t) }, stop: function() { return this.anims.stop() }, stopAfterDelay: function(t) { return this.anims.stopAfterDelay(t) }, stopAfterRepeat: function(t) { return this.anims.stopAfterRepeat(t) }, stopOnFrame: function(t) { return this.anims.stopOnFrame(t) }, toJSON: function() { return s.ToJSON(this) }, preDestroy: function() { this.anims.destroy(), this.anims = void 0 } });
				t.exports = l }, 76552: t => { t.exports = function(t, e, i, n) { i.addToRenderList(e), t.batchSprite(e, e.frame, i, n) } }, 15567: (t, e, i) => { var n = i(25305),
					r = i(13059),
					s = i(44603),
					o = i(23568),
					a = i(68287);
				s.register("sprite", (function(t, e) { void 0 === t && (t = {}); var i = o(t, "key", null),
						s = o(t, "frame", null),
						l = new a(this.scene, 0, 0, i, s); return void 0 !== e && (t.add = e), n(this.scene, l, t), r(l, t), l })) }, 46409: (t, e, i) => { var n = i(39429),
					r = i(68287);
				n.register("sprite", (function(t, e, i, n) { return this.displayList.add(new r(this.scene, t, e, i, n)) })) }, 92751: (t, e, i) => { var n, r;
				i(29747), n = i(9409), r = i(76552), t.exports = { renderWebGL: n, renderCanvas: r } }, 9409: t => { t.exports = function(t, e, i, n) { i.addToRenderList(e), e.pipeline.batchSprite(e, i, n) } }, 14220: t => { t.exports = function(t, e, i) { var n = t.canvas,
						r = t.context,
						s = t.style,
						o = [],
						a = 0,
						l = i.length;
					s.maxLines > 0 && s.maxLines < i.length && (l = s.maxLines), s.syncFont(n, r); for (var h = t.letterSpacing, u = 0; u < l; u++) { var c = s.strokeThickness; if (0 === h) c += r.measureText(i[u]).width;
						else { for (var d = i[u], f = 0; f < d.length; f++) c += r.measureText(d[f]).width;
							d.length > 1 && (c += h * (d.length - 1)) } s.wordWrap && (c -= r.measureText(" ").width), o[u] = Math.ceil(c), a = Math.max(a, o[u]) } var p = e.fontSize + s.strokeThickness,
						g = p * l,
						m = t.lineSpacing; return l > 1 && (g += m * (l - 1)), { width: a, height: g, lines: l, lineWidths: o, lineSpacing: m, lineHeight: p } } }, 79557: (t, e, i) => { var n = i(27919);
				t.exports = function(t) { var e = n.create(this),
						i = e.getContext("2d", { willReadFrequently: !0 });
					t.syncFont(e, i); var r = i.measureText(t.testString); if ("actualBoundingBoxAscent" in r) { var s = r.actualBoundingBoxAscent,
							o = r.actualBoundingBoxDescent; return n.remove(e), { ascent: s, descent: o, fontSize: s + o } } var a = Math.ceil(r.width * t.baselineX),
						l = a,
						h = 2 * l;
					l = l * t.baselineY | 0, e.width = a, e.height = h, i.fillStyle = "#f00", i.fillRect(0, 0, a, h), i.font = t._font, i.textBaseline = "alphabetic", i.fillStyle = "#000", i.fillText(t.testString, 0, l); var u = { ascent: 0, descent: 0, fontSize: 0 },
						c = i.getImageData(0, 0, a, h); if (!c) return u.ascent = l, u.descent = l + 6, u.fontSize = u.ascent + u.descent, n.remove(e), u; var d, f, p = c.data,
						g = p.length,
						m = 4 * a,
						v = 0,
						y = !1; for (d = 0; d < l; d++) { for (f = 0; f < m; f += 4)
							if (255 !== p[v + f]) { y = !0; break } if (y) break;
						v += m } for (u.ascent = l - d, v = g - m, y = !1, d = h; d > l; d--) { for (f = 0; f < m; f += 4)
							if (255 !== p[v + f]) { y = !0; break } if (y) break;
						v -= m } return u.descent = d - l, u.fontSize = u.ascent + u.descent, n.remove(e), u } }, 50171: (t, e, i) => { var n = i(40366),
					r = i(27919),
					s = i(83419),
					o = i(31401),
					a = i(95643),
					l = i(14220),
					h = i(35154),
					u = i(35846),
					c = i(61771),
					d = i(35762),
					f = i(45650),
					p = new s({ Extends: a, Mixins: [o.Alpha, o.BlendMode, o.ComputedSize, o.Crop, o.Depth, o.Flip, o.GetBounds, o.Mask, o.Origin, o.Pipeline, o.PostPipeline, o.ScrollFactor, o.Tint, o.Transform, o.Visible, c], initialize: function(t, e, i, n, s) { void 0 === e && (e = 0), void 0 === i && (i = 0), a.call(this, t, "Text"), this.renderer = t.sys.renderer, this.setPosition(e, i), this.setOrigin(0, 0), this.initPipeline(), this.initPostPipeline(!0), this.canvas = r.create(this), this.context, this.style = new d(this, s), this.autoRound = !0, this.splitRegExp = /(?:\r\n|\r|\n)/, this._text = void 0, this.padding = { left: 0, right: 0, top: 0, bottom: 0 }, this.width = 1, this.height = 1, this.lineSpacing = 0, this.letterSpacing = 0, 0 === this.style.resolution && (this.style.resolution = 1), this._crop = this.resetCropObject(), this._textureKey = f(), this.texture = t.sys.textures.addCanvas(this._textureKey, this.canvas), this.context = this.texture.context, this.frame = this.texture.get(), this.frame.source.resolution = this.style.resolution, this.renderer && this.renderer.gl && (this.renderer.deleteTexture(this.frame.source.glTexture), this.frame.source.glTexture = null), this.initRTL(), this.setText(n), s && s.padding && this.setPadding(s.padding), s && s.lineSpacing && this.setLineSpacing(s.lineSpacing) }, initRTL: function() { this.style.rtl && (this.canvas.dir = "rtl", this.context.direction = "rtl", this.canvas.style.display = "none", n(this.canvas, this.scene.sys.canvas), this.originX = 1) }, runWordWrap: function(t) { var e = this.style; if (e.wordWrapCallback) { var i = e.wordWrapCallback.call(e.wordWrapCallbackScope, t, this); return Array.isArray(i) && (i = i.join("\n")), i } return e.wordWrapWidth ? e.wordWrapUseAdvanced ? this.advancedWordWrap(t, this.context, this.style.wordWrapWidth) : this.basicWordWrap(t, this.context, this.style.wordWrapWidth) : t }, advancedWordWrap: function(t, e, i) { for (var n = "", r = t.replace(/ +/gi, " ").split(this.splitRegExp), s = r.length, o = 0; o < s; o++) { var a = r[o],
									l = ""; if (a = a.replace(/^ *|\s*$/gi, ""), e.measureText(a).width < i) n += a + "\n";
								else { for (var h = i, u = a.split(" "), c = 0; c < u.length; c++) { var d = u[c],
											f = d + " ",
											p = e.measureText(f).width; if (p > h) { if (0 === c) { for (var g = f; g.length && (g = g.slice(0, -1), !((p = e.measureText(g).width) <= h));); if (!g.length) throw new Error("wordWrapWidth < a single character"); var m = d.substr(g.length);
												u[c] = m, l += g } var v = u[c].length ? c : c + 1,
												y = u.slice(v).join(" ").replace(/[ \n]*$/gi, "");
											r.splice(o + 1, 0, y), s = r.length; break } l += f, h -= p } n += l.replace(/[ \n]*$/gi, "") + "\n" } } return n.replace(/[\s|\n]*$/gi, "") }, basicWordWrap: function(t, e, i) { for (var n = "", r = t.split(this.splitRegExp), s = r.length - 1, o = e.measureText(" ").width, a = 0; a <= s; a++) { for (var l = i, h = r[a].split(" "), u = h.length - 1, c = 0; c <= u; c++) { var d = h[c],
										f = e.measureText(d).width,
										p = f;
									c < u && (p += o), p > l && c > 0 && (n += "\n", l = i), n += d, c < u ? (n += " ", l -= p) : l -= f } a < s && (n += "\n") } return n }, getWrappedText: function(t) { return void 0 === t && (t = this._text), this.style.syncFont(this.canvas, this.context), this.runWordWrap(t).split(this.splitRegExp) }, setText: function(t) { return t || 0 === t || (t = ""), Array.isArray(t) && (t = t.join("\n")), t !== this._text && (this._text = t.toString(), this.updateText()), this }, appendText: function(t, e) { void 0 === e && (e = !0), t || 0 === t || (t = ""), Array.isArray(t) && (t = t.join("\n")), t = t.toString(); var i = this._text.concat(e ? "\n" + t : t); return i !== this._text && (this._text = i, this.updateText()), this }, setStyle: function(t) { return this.style.setStyle(t) }, setFont: function(t) { return this.style.setFont(t) }, setFontFamily: function(t) { return this.style.setFontFamily(t) }, setFontSize: function(t) { return this.style.setFontSize(t) }, setFontStyle: function(t) { return this.style.setFontStyle(t) }, setFixedSize: function(t, e) { return this.style.setFixedSize(t, e) }, setBackgroundColor: function(t) { return this.style.setBackgroundColor(t) }, setFill: function(t) { return this.style.setFill(t) }, setColor: function(t) { return this.style.setColor(t) }, setStroke: function(t, e) { return this.style.setStroke(t, e) }, setShadow: function(t, e, i, n, r, s) { return this.style.setShadow(t, e, i, n, r, s) }, setShadowOffset: function(t, e) { return this.style.setShadowOffset(t, e) }, setShadowColor: function(t) { return this.style.setShadowColor(t) }, setShadowBlur: function(t) { return this.style.setShadowBlur(t) }, setShadowStroke: function(t) { return this.style.setShadowStroke(t) }, setShadowFill: function(t) { return this.style.setShadowFill(t) }, setWordWrapWidth: function(t, e) { return this.style.setWordWrapWidth(t, e) }, setWordWrapCallback: function(t, e) { return this.style.setWordWrapCallback(t, e) }, setAlign: function(t) { return this.style.setAlign(t) }, setResolution: function(t) { return this.style.setResolution(t) }, setLineSpacing: function(t) { return this.lineSpacing = t, this.updateText() }, setLetterSpacing: function(t) { return this.letterSpacing = t, this.updateText() }, setPadding: function(t, e, i, n) { if ("object" == typeof t) { var r = t,
									s = h(r, "x", null);
								null !== s ? (t = s, i = s) : (t = h(r, "left", 0), i = h(r, "right", t)); var o = h(r, "y", null);
								null !== o ? (e = o, n = o) : (e = h(r, "top", 0), n = h(r, "bottom", e)) } else void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = t), void 0 === n && (n = e); return this.padding.left = t, this.padding.top = e, this.padding.right = i, this.padding.bottom = n, this.updateText() }, setMaxLines: function(t) { return this.style.setMaxLines(t) }, setRTL: function(t) { void 0 === t && (t = !0); var e = this.style; return e.rtl === t || (e.rtl = t, t ? (this.canvas.dir = "rtl", this.context.direction = "rtl", this.canvas.style.display = "none", n(this.canvas, this.scene.sys.canvas)) : (this.canvas.dir = "ltr", this.context.direction = "ltr"), "left" === e.align ? e.align = "right" : "right" === e.align && (e.align = "left")), this }, updateText: function() { var t = this.canvas,
								e = this.context,
								i = this.style,
								n = i.resolution,
								r = i.metrics;
							i.syncFont(t, e); var s = this._text;
							(i.wordWrapWidth || i.wordWrapCallback) && (s = this.runWordWrap(this._text)); var o, a = s.split(this.splitRegExp),
								h = l(this, r, a),
								u = this.padding;
							0 === i.fixedWidth ? (this.width = h.width + u.left + u.right, o = h.width) : (this.width = i.fixedWidth, (o = this.width - u.left - u.right) < h.width && (o = h.width)), 0 === i.fixedHeight ? this.height = h.height + u.top + u.bottom : this.height = i.fixedHeight; var c, d, f = this.width,
								p = this.height;
							this.updateDisplayOrigin(), f *= n, p *= n, f = Math.max(f, 1), p = Math.max(p, 1), t.width !== f || t.height !== p ? (t.width = f, t.height = p, this.frame.setSize(f, p), i.syncFont(t, e), i.rtl && (e.direction = "rtl")) : e.clearRect(0, 0, f, p), e.save(), e.scale(n, n), i.backgroundColor && (e.fillStyle = i.backgroundColor, e.fillRect(0, 0, f, p)), i.syncStyle(t, e), e.translate(u.left, u.top); for (var g = 0; g < h.lines; g++) { if (c = i.strokeThickness / 2, d = i.strokeThickness / 2 + g * h.lineHeight + r.ascent, g > 0 && (d += h.lineSpacing * g), i.rtl) c = f - c - u.left - u.right;
								else if ("right" === i.align) c += o - h.lineWidths[g];
								else if ("center" === i.align) c += (o - h.lineWidths[g]) / 2;
								else if ("justify" === i.align && h.lineWidths[g] / h.width >= .85) { var m = h.width - h.lineWidths[g],
										v = e.measureText(" ").width,
										y = a[g].trim(),
										x = y.split(" ");
									m += (a[g].length - y.length) * v; for (var b = Math.floor(m / v), w = 0; b > 0;) x[w] += " ", w = (w + 1) % (x.length - 1 || 1), --b;
									a[g] = x.join(" ") } this.autoRound && (c = Math.round(c), d = Math.round(d)); var T = this.letterSpacing; if (i.strokeThickness && 0 === T && (i.syncShadow(e, i.shadowStroke), e.strokeText(a[g], c, d)), i.color)
									if (i.syncShadow(e, i.shadowFill), 0 !== T)
										for (var S = 0, _ = a[g].split(""), E = 0; E < _.length; E++) i.strokeThickness && (i.syncShadow(e, i.shadowStroke), e.strokeText(_[E], c + S, d), i.syncShadow(e, i.shadowFill)), e.fillText(_[E], c + S, d), S += e.measureText(_[E]).width + T;
									else e.fillText(a[g], c, d) } e.restore(), this.renderer && this.renderer.gl && (this.frame.source.glTexture = this.renderer.canvasToTexture(t, this.frame.source.glTexture, !0)); var A = this.input; return A && !A.customHitArea && (A.hitArea.width = this.width, A.hitArea.height = this.height), this }, getTextMetrics: function() { return this.style.getTextMetrics() }, text: { get: function() { return this._text }, set: function(t) { this.setText(t) } }, toJSON: function() { var t = o.ToJSON(this),
								e = { autoRound: this.autoRound, text: this._text, style: this.style.toJSON(), padding: { left: this.padding.left, right: this.padding.right, top: this.padding.top, bottom: this.padding.bottom } }; return t.data = e, t }, preDestroy: function() { u(this.canvas), r.remove(this.canvas); var t = this.texture;
							t && t.destroy() } });
				t.exports = p }, 79724: t => { t.exports = function(t, e, i, n) { 0 !== e.width && 0 !== e.height && (i.addToRenderList(e), t.batchSprite(e, e.frame, i, n)) } }, 71259: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(50171);
				r.register("text", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "text", ""),
						r = s(t, "style", null),
						a = s(t, "padding", null);
					null !== a && (r.padding = a); var l = new o(this.scene, 0, 0, i, r); return void 0 !== e && (t.add = e), n(this.scene, l, t), l.autoRound = s(t, "autoRound", !0), l.resolution = s(t, "resolution", 1), l })) }, 68005: (t, e, i) => { var n = i(50171);
				i(39429).register("text", (function(t, e, i, r) { return this.displayList.add(new n(this.scene, t, e, i, r)) })) }, 61771: (t, e, i) => { var n, r;
				i(29747), n = i(34397), r = i(79724), t.exports = { renderWebGL: n, renderCanvas: r } }, 35762: (t, e, i) => { var n = i(83419),
					r = i(23568),
					s = i(35154),
					o = i(79557),
					a = { fontFamily: ["fontFamily", "Courier"], fontSize: ["fontSize", "16px"], fontStyle: ["fontStyle", ""], backgroundColor: ["backgroundColor", null], color: ["color", "#fff"], stroke: ["stroke", "#fff"], strokeThickness: ["strokeThickness", 0], shadowOffsetX: ["shadow.offsetX", 0], shadowOffsetY: ["shadow.offsetY", 0], shadowColor: ["shadow.color", "#000"], shadowBlur: ["shadow.blur", 0], shadowStroke: ["shadow.stroke", !1], shadowFill: ["shadow.fill", !1], align: ["align", "left"], maxLines: ["maxLines", 0], fixedWidth: ["fixedWidth", 0], fixedHeight: ["fixedHeight", 0], resolution: ["resolution", 0], rtl: ["rtl", !1], testString: ["testString", "|MÃ‰qgy"], baselineX: ["baselineX", 1.2], baselineY: ["baselineY", 1.4], wordWrapWidth: ["wordWrap.width", null], wordWrapCallback: ["wordWrap.callback", null], wordWrapCallbackScope: ["wordWrap.callbackScope", null], wordWrapUseAdvanced: ["wordWrap.useAdvancedWrap", !1] },
					l = new n({ initialize: function(t, e) { this.parent = t, this.fontFamily, this.fontSize, this.fontStyle, this.backgroundColor, this.color, this.stroke, this.strokeThickness, this.shadowOffsetX, this.shadowOffsetY, this.shadowColor, this.shadowBlur, this.shadowStroke, this.shadowFill, this.align, this.maxLines, this.fixedWidth, this.fixedHeight, this.resolution, this.rtl, this.testString, this.baselineX, this.baselineY, this.wordWrapWidth, this.wordWrapCallback, this.wordWrapCallbackScope, this.wordWrapUseAdvanced, this._font, this.setStyle(e, !1, !0) }, setStyle: function(t, e, i) { for (var n in void 0 === e && (e = !0), void 0 === i && (i = !1), a) { var l = i ? a[n][1] : this[n]; "wordWrapCallback" === n || "wordWrapCallbackScope" === n ? this[n] = s(t, a[n][0], l) : t && "fontSize" === n && "number" == typeof t.fontSize ? this[n] = t.fontSize.toString() + "px" : this[n] = r(t, a[n][0], l) } var h = s(t, "font", null);
							null !== h && this.setFont(h, !1), this._font = [this.fontStyle, this.fontSize, this.fontFamily].join(" ").trim(); var u = s(t, "fill", null);
							null !== u && (this.color = u); var c = s(t, "metrics", !1); return c ? this.metrics = { ascent: s(c, "ascent", 0), descent: s(c, "descent", 0), fontSize: s(c, "fontSize", 0) } : !e && this.metrics || (this.metrics = o(this)), e ? this.parent.updateText() : this.parent }, syncFont: function(t, e) { e.font = this._font }, syncStyle: function(t, e) { e.textBaseline = "alphabetic", e.fillStyle = this.color, e.strokeStyle = this.stroke, e.lineWidth = this.strokeThickness, e.lineCap = "round", e.lineJoin = "round" }, syncShadow: function(t, e) { e ? (t.shadowOffsetX = this.shadowOffsetX, t.shadowOffsetY = this.shadowOffsetY, t.shadowColor = this.shadowColor, t.shadowBlur = this.shadowBlur) : (t.shadowOffsetX = 0, t.shadowOffsetY = 0, t.shadowColor = 0, t.shadowBlur = 0) }, update: function(t) { return t && (this._font = [this.fontStyle, this.fontSize, this.fontFamily].join(" ").trim(), this.metrics = o(this)), this.parent.updateText() }, setFont: function(t, e) { void 0 === e && (e = !0); var i = t,
								n = "",
								r = ""; if ("string" != typeof t) i = s(t, "fontFamily", "Courier"), n = s(t, "fontSize", "16px"), r = s(t, "fontStyle", "");
							else { var o = t.split(" "),
									a = 0;
								r = o.length > 2 ? o[a++] : "", n = o[a++] || "16px", i = o[a++] || "Courier" } return i === this.fontFamily && n === this.fontSize && r === this.fontStyle || (this.fontFamily = i, this.fontSize = n, this.fontStyle = r, e && this.update(!0)), this.parent }, setFontFamily: function(t) { return this.fontFamily !== t && (this.fontFamily = t, this.update(!0)), this.parent }, setFontStyle: function(t) { return this.fontStyle !== t && (this.fontStyle = t, this.update(!0)), this.parent }, setFontSize: function(t) { return "number" == typeof t && (t = t.toString() + "px"), this.fontSize !== t && (this.fontSize = t, this.update(!0)), this.parent }, setTestString: function(t) { return this.testString = t, this.update(!0) }, setFixedSize: function(t, e) { return this.fixedWidth = t, this.fixedHeight = e, t && (this.parent.width = t), e && (this.parent.height = e), this.update(!1) }, setBackgroundColor: function(t) { return this.backgroundColor = t, this.update(!1) }, setFill: function(t) { return this.color = t, this.update(!1) }, setColor: function(t) { return this.color = t, this.update(!1) }, setResolution: function(t) { return this.resolution = t, this.update(!1) }, setStroke: function(t, e) { return void 0 === e && (e = this.strokeThickness), void 0 === t && 0 !== this.strokeThickness ? (this.strokeThickness = 0, this.update(!0)) : this.stroke === t && this.strokeThickness === e || (this.stroke = t, this.strokeThickness = e, this.update(!0)), this.parent }, setShadow: function(t, e, i, n, r, s) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = "#000"), void 0 === n && (n = 0), void 0 === r && (r = !1), void 0 === s && (s = !0), this.shadowOffsetX = t, this.shadowOffsetY = e, this.shadowColor = i, this.shadowBlur = n, this.shadowStroke = r, this.shadowFill = s, this.update(!1) }, setShadowOffset: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.shadowOffsetX = t, this.shadowOffsetY = e, this.update(!1) }, setShadowColor: function(t) { return void 0 === t && (t = "#000"), this.shadowColor = t, this.update(!1) }, setShadowBlur: function(t) { return void 0 === t && (t = 0), this.shadowBlur = t, this.update(!1) }, setShadowStroke: function(t) { return this.shadowStroke = t, this.update(!1) }, setShadowFill: function(t) { return this.shadowFill = t, this.update(!1) }, setWordWrapWidth: function(t, e) { return void 0 === e && (e = !1), this.wordWrapWidth = t, this.wordWrapUseAdvanced = e, this.update(!1) }, setWordWrapCallback: function(t, e) { return void 0 === e && (e = null), this.wordWrapCallback = t, this.wordWrapCallbackScope = e, this.update(!1) }, setAlign: function(t) { return void 0 === t && (t = "left"), this.align = t, this.update(!1) }, setMaxLines: function(t) { return void 0 === t && (t = 0), this.maxLines = t, this.update(!1) }, getTextMetrics: function() { var t = this.metrics; return { ascent: t.ascent, descent: t.descent, fontSize: t.fontSize } }, toJSON: function() { var t = {}; for (var e in a) t[e] = this[e]; return t.metrics = this.getTextMetrics(), t }, destroy: function() { this.parent = void 0 } });
				t.exports = l }, 34397: (t, e, i) => { var n = i(70554);
				t.exports = function(t, e, i, r) { if (0 !== e.width && 0 !== e.height) { i.addToRenderList(e); var s = e.frame,
							o = s.width,
							a = s.height,
							l = n.getTintAppendFloatAlpha,
							h = t.pipelines.set(e.pipeline, e),
							u = h.setTexture2D(s.glTexture, e);
						h.batchTexture(e, s.glTexture, o, a, e.x, e.y, o / e.style.resolution, a / e.style.resolution, e.scaleX, e.scaleY, e.rotation, e.flipX, e.flipY, e.scrollFactorX, e.scrollFactorY, e.displayOriginX, e.displayOriginY, 0, 0, o, a, l(e.tintTopLeft, i.alpha * e._alphaTL), l(e.tintTopRight, i.alpha * e._alphaTR), l(e.tintBottomLeft, i.alpha * e._alphaBL), l(e.tintBottomRight, i.alpha * e._alphaBR), e.tintFill, 0, 0, i, r, !1, u) } } }, 20839: (t, e, i) => { var n = i(27919),
					r = i(83419),
					s = i(31401),
					o = i(95643),
					a = i(98439),
					l = i(68703),
					h = i(56295),
					u = i(45650),
					c = i(26099),
					d = new r({ Extends: o, Mixins: [s.Alpha, s.BlendMode, s.ComputedSize, s.Crop, s.Depth, s.Flip, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.PostPipeline, s.ScrollFactor, s.Tint, s.Transform, s.Visible, h], initialize: function(t, e, i, r, s, l, h) { var d = t.sys.renderer;
							o.call(this, t, "TileSprite"); var f = t.sys.textures.get(l),
								p = f.get(h);
							p.source.compressionAlgorithm && (console.warn("TileSprite cannot use compressed texture"), p = (f = t.sys.textures.get("__MISSING")).get()), "DynamicTexture" === f.type && (console.warn("TileSprite cannot use Dynamic Texture"), p = (f = t.sys.textures.get("__MISSING")).get()), r && s ? (r = Math.floor(r), s = Math.floor(s)) : (r = r || p.width, s = s || p.height), this._tilePosition = new c, this._tileScale = new c(1, 1), this.dirty = !1, this.renderer = d, this.canvas = n.create(this, r, s), this.context = this.canvas.getContext("2d", { willReadFrequently: !1 }), this.displayTexture = f, this.displayFrame = p, this._crop = this.resetCropObject(), this._textureKey = u(), this.texture = t.sys.textures.addCanvas(this._textureKey, this.canvas), this.frame = this.texture.get(), this.potWidth = a(p.width), this.potHeight = a(p.height), this.fillCanvas = n.create2D(this, this.potWidth, this.potHeight), this.fillContext = this.fillCanvas.getContext("2d", { willReadFrequently: !1 }), this.fillPattern = null, this.setPosition(e, i), this.setSize(r, s), this.setFrame(h), this.setOriginFromFrame(), this.initPipeline(), this.initPostPipeline(!0) }, setTexture: function(t, e) { return this.displayTexture = this.scene.sys.textures.get(t), this.setFrame(e) }, setFrame: function(t) { var e = this.displayTexture.get(t); return this.potWidth = a(e.width), this.potHeight = a(e.height), this.canvas.width = 0, e.cutWidth && e.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, this.displayFrame = e, this.dirty = !0, this.updateTileTexture(), this }, setTilePosition: function(t, e) { return void 0 !== t && (this.tilePositionX = t), void 0 !== e && (this.tilePositionY = e), this }, setTileScale: function(t, e) { return void 0 === t && (t = this.tileScaleX), void 0 === e && (e = t), this.tileScaleX = t, this.tileScaleY = e, this }, updateTileTexture: function() { if (this.dirty && this.renderer) { var t = this.displayFrame; if (t.source.isRenderTexture || t.source.isGLTexture) return console.warn("TileSprites can only use Image or Canvas based textures"), void(this.dirty = !1); var e = this.fillContext,
									i = this.fillCanvas,
									n = this.potWidth,
									r = this.potHeight;
								this.renderer && this.renderer.gl || (n = t.cutWidth, r = t.cutHeight), e.clearRect(0, 0, n, r), i.width = n, i.height = r, e.drawImage(t.source.image, t.cutX, t.cutY, t.cutWidth, t.cutHeight, 0, 0, n, r), this.renderer && this.renderer.gl ? this.fillPattern = this.renderer.canvasToTexture(i, this.fillPattern) : this.fillPattern = e.createPattern(i, "repeat"), this.updateCanvas(), this.dirty = !1 } }, updateCanvas: function() { var t = this.canvas; if (t.width === this.width && t.height === this.height || (t.width = this.width, t.height = this.height, this.frame.setSize(this.width, this.height), this.updateDisplayOrigin(), this.dirty = !0), !this.dirty || this.renderer && this.renderer.gl) this.dirty = !1;
							else { var e = this.context;
								this.scene.sys.game.config.antialias || l.disable(e); var i = this._tileScale.x,
									n = this._tileScale.y,
									r = this._tilePosition.x,
									s = this._tilePosition.y;
								e.clearRect(0, 0, this.width, this.height), e.save(), e.scale(i, n), e.translate(-r, -s), e.fillStyle = this.fillPattern, e.fillRect(r, s, this.width / i, this.height / n), e.restore(), this.dirty = !1 } }, preDestroy: function() { this.renderer && this.renderer.gl && this.renderer.deleteTexture(this.fillPattern), n.remove(this.canvas), n.remove(this.fillCanvas), this.fillPattern = null, this.fillContext = null, this.fillCanvas = null, this.displayTexture = null, this.displayFrame = null; var t = this.texture;
							t && t.destroy(), this.renderer = null }, tilePositionX: { get: function() { return this._tilePosition.x }, set: function(t) { this._tilePosition.x = t, this.dirty = !0 } }, tilePositionY: { get: function() { return this._tilePosition.y }, set: function(t) { this._tilePosition.y = t, this.dirty = !0 } }, tileScaleX: { get: function() { return this._tileScale.x }, set: function(t) { this._tileScale.x = t, this.dirty = !0 } }, tileScaleY: { get: function() { return this._tileScale.y }, set: function(t) { this._tileScale.y = t, this.dirty = !0 } } });
				t.exports = d }, 46992: t => { t.exports = function(t, e, i, n) { e.updateCanvas(), i.addToRenderList(e), t.batchSprite(e, e.frame, i, n) } }, 14167: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(20839);
				r.register("tileSprite", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "x", 0),
						r = s(t, "y", 0),
						a = s(t, "width", 512),
						l = s(t, "height", 512),
						h = s(t, "key", ""),
						u = s(t, "frame", ""),
						c = new o(this.scene, i, r, a, l, h, u); return void 0 !== e && (t.add = e), n(this.scene, c, t), c })) }, 91681: (t, e, i) => { var n = i(20839);
				i(39429).register("tileSprite", (function(t, e, i, r, s, o) { return this.displayList.add(new n(this.scene, t, e, i, r, s, o)) })) }, 56295: (t, e, i) => { var n, r;
				i(29747), n = i(18553), r = i(46992), t.exports = { renderWebGL: n, renderCanvas: r } }, 18553: (t, e, i) => { var n = i(70554);
				t.exports = function(t, e, i, r) { e.updateCanvas(); var s = e.width,
						o = e.height; if (0 !== s && 0 !== o) { i.addToRenderList(e); var a = n.getTintAppendFloatAlpha,
							l = t.pipelines.set(e.pipeline, e),
							h = l.setTexture2D(e.fillPattern, e);
						l.batchTexture(e, e.fillPattern, e.displayFrame.width * e.tileScaleX, e.displayFrame.height * e.tileScaleY, e.x, e.y, s, o, e.scaleX, e.scaleY, e.rotation, e.flipX, e.flipY, e.scrollFactorX, e.scrollFactorY, e.originX * s, e.originY * o, 0, 0, s, o, a(e.tintTopLeft, i.alpha * e._alphaTL), a(e.tintTopRight, i.alpha * e._alphaTR), a(e.tintBottomLeft, i.alpha * e._alphaBL), a(e.tintBottomRight, i.alpha * e._alphaBR), e.tintFill, e.tilePositionX % e.displayFrame.width / e.displayFrame.width, e.tilePositionY % e.displayFrame.height / e.displayFrame.height, i, r, !1, h) } } }, 18471: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(31401),
					o = i(51708),
					a = i(8443),
					l = i(95643),
					h = i(36383),
					u = i(14463),
					c = i(45650),
					d = i(10247),
					f = new r({ Extends: l, Mixins: [s.Alpha, s.BlendMode, s.ComputedSize, s.Depth, s.Flip, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.PostPipeline, s.ScrollFactor, s.TextureCrop, s.Tint, s.Transform, s.Visible, d], initialize: function(t, e, i, n) { l.call(this, t, "Video"), this.video, this.videoTexture, this.videoTextureSource, this.snapshotTexture, this.flipY = !1, this._key = c(), this.touchLocked = !1, this.playWhenUnlocked = !1, this.frameReady = !1, this.isStalled = !1, this.failedPlayAttempts = 0, this.metadata, this.retry = 0, this.retryInterval = 500, this._systemMuted = !1, this._codeMuted = !1, this._systemPaused = !1, this._codePaused = !1, this._callbacks = { ended: this.completeHandler.bind(this), legacy: this.legacyPlayHandler.bind(this), playing: this.playingHandler.bind(this), seeked: this.seekedHandler.bind(this), seeking: this.seekingHandler.bind(this), stalled: this.stalledHandler.bind(this), suspend: this.stalledHandler.bind(this), waiting: this.stalledHandler.bind(this) }, this._loadCallbackHandler = this.loadErrorHandler.bind(this), this._metadataCallbackHandler = this.metadataHandler.bind(this), this._crop = this.resetCropObject(), this.markers = {}, this._markerIn = 0, this._markerOut = 0, this._playingMarker = !1, this._lastUpdate = 0, this.cacheKey = "", this.isSeeking = !1, this._playCalled = !1, this._getFrame = !1, this._rfvCallbackId = 0; var r = t.sys.game;
							this._device = r.device.video, this.setPosition(e, i), this.setSize(256, 256), this.initPipeline(), this.initPostPipeline(!0), r.events.on(a.PAUSE, this.globalPause, this), r.events.on(a.RESUME, this.globalResume, this); var s = t.sys.sound;
							s && s.on(u.GLOBAL_MUTE, this.globalMute, this), n && this.load(n) }, addedToScene: function() { this.scene.sys.updateList.add(this) }, removedFromScene: function() { this.scene.sys.updateList.remove(this) }, load: function(t) { var e = this.scene.sys.cache.video.get(t); return e ? (this.cacheKey = t, this.loadHandler(e.url, e.noAudio, e.crossOrigin)) : console.warn("No video in cache for key: " + t), this }, changeSource: function(t, e, i, n, r) { void 0 === e && (e = !0), void 0 === i && (i = !1), this.cacheKey !== t && (this.load(t), e && this.play(i, n, r)) }, getVideoKey: function() { return this.cacheKey }, loadURL: function(t, e, i) { void 0 === e && (e = !1); var n = this._device.getVideoURL(t); return n ? (this.cacheKey = "", this.loadHandler(n.url, e, i)) : console.warn("No supported video format found for " + t), this }, loadMediaStream: function(t, e, i) { return this.loadHandler(null, e, i, t) }, loadHandler: function(t, e, i, n) { e || (e = !1); var r = this.video; if (r ? (this.removeLoadEventHandlers(), this.stop()) : ((r = document.createElement("video")).controls = !1, r.setAttribute("playsinline", "playsinline"), r.setAttribute("preload", "auto"), r.setAttribute("disablePictureInPicture", "true")), e ? (r.muted = !0, r.defaultMuted = !0, r.setAttribute("autoplay", "autoplay")) : (r.muted = !1, r.defaultMuted = !1, r.removeAttribute("autoplay")), i ? r.setAttribute("crossorigin", i) : r.removeAttribute("crossorigin"), n)
								if ("srcObject" in r) try { r.srcObject = n } catch (o) { if ("TypeError" !== o.name) throw o;
									r.src = URL.createObjectURL(n) } else r.src = URL.createObjectURL(n);
								else r.src = t;
							this.retry = 0, this.video = r, this._playCalled = !1, r.load(), this.addLoadEventHandlers(); var s = this.scene.sys.textures.get(this._key); return this.setTexture(s), this }, requestVideoFrame: function(t, e) { var i = this.video; if (i) { var n = e.width,
									r = e.height,
									s = this.videoTexture,
									a = this.videoTextureSource,
									l = !s || a.source !== i;
								l ? (this._codePaused = i.paused, this._codeMuted = i.muted, s ? (a.source = i, a.width = n, a.height = r, s.get().setSize(n, r)) : ((s = this.scene.sys.textures.create(this._key, i, n, r)).add("__BASE", 0, 0, 0, n, r), this.setTexture(s), this.videoTexture = s, this.videoTextureSource = s.source[0], this.videoTextureSource.setFlipY(this.flipY), this.emit(o.VIDEO_TEXTURE, this, s)), this.setSizeToFrame(), this.updateDisplayOrigin()) : a.update(), this.isStalled = !1, this.metadata = e; var h = e.mediaTime;
								l && (this._lastUpdate = h, this.emit(o.VIDEO_CREATED, this, n, r), this.frameReady || (this.frameReady = !0, this.emit(o.VIDEO_PLAY, this))), this._playingMarker ? h >= this._markerOut && (i.loop ? (i.currentTime = this._markerIn, this.emit(o.VIDEO_LOOP, this)) : (this.stop(!1), this.emit(o.VIDEO_COMPLETE, this))) : h < this._lastUpdate && this.emit(o.VIDEO_LOOP, this), this._lastUpdate = h, this._getFrame ? (this.removeEventHandlers(), i.pause(), this._getFrame = !1) : this._rfvCallbackId = this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this)) } }, play: function(t, e, i) { void 0 === e && (e = -1), void 0 === i && (i = h.MAX_SAFE_INTEGER); var n = this.video; return !n || this.isPlaying() ? (n || console.warn("Video not loaded"), this) : (void 0 === t && (t = n.loop), n.loop = t, this._markerIn = e, this._markerOut = i, this._playingMarker = e > -1 && i > e && i < h.MAX_SAFE_INTEGER, this._playCalled || (this._getFrame = !1, this._rfvCallbackId = n.requestVideoFrameCallback(this.requestVideoFrame.bind(this)), this._playCalled = !0, this.createPlayPromise()), this) }, getFirstFrame: function() { var t = this.video; return !t || this.isPlaying() ? (t || console.warn("Video not loaded"), this) : (this._playCalled || (this._getFrame = !0, this._rfvCallbackId = t.requestVideoFrameCallback(this.requestVideoFrame.bind(this)), this.createPlayPromise()), this) }, addLoadEventHandlers: function() { var t = this.video;
							t && (t.addEventListener("error", this._loadCallbackHandler), t.addEventListener("abort", this._loadCallbackHandler), t.addEventListener("loadedmetadata", this._metadataCallbackHandler)) }, removeLoadEventHandlers: function() { var t = this.video;
							t && (t.removeEventListener("error", this._loadCallbackHandler), t.removeEventListener("abort", this._loadCallbackHandler)) }, addEventHandlers: function() { var t = this.video; if (t) { var e = this._callbacks; for (var i in e) t.addEventListener(i, e[i]) } }, removeEventHandlers: function() { var t = this.video; if (t) { var e = this._callbacks; for (var i in e) t.removeEventListener(i, e[i]) } }, createPlayPromise: function(t) { void 0 === t && (t = !0); var e = this.video,
								i = e.play(); if (void 0 !== i) { var n = this.playSuccess.bind(this),
									r = this.playError.bind(this); if (!t) { var s = this;
									r = function() { s.failedPlayAttempts++ } } i.then(n).catch(r) } else e.addEventListener("playing", this._callbacks.legacy), t || this.failedPlayAttempts++ }, addMarker: function(t, e, i) { return !isNaN(e) && e >= 0 && !isNaN(i) && i > e && (this.markers[t] = [e, i]), this }, playMarker: function(t, e) { var i = this.markers[t]; return i && this.play(e, i[0], i[1]), this }, removeMarker: function(t) { return delete this.markers[t], this }, snapshot: function(t, e) { return void 0 === t && (t = this.width), void 0 === e && (e = this.height), this.snapshotArea(0, 0, this.width, this.height, t, e) }, snapshotArea: function(t, e, i, n, r, s) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.width), void 0 === n && (n = this.height), void 0 === r && (r = i), void 0 === s && (s = n); var o = this.video,
								a = this.snapshotTexture; return a ? (a.setSize(r, s), o && a.context.drawImage(o, t, e, i, n, 0, 0, r, s)) : (a = this.scene.sys.textures.createCanvas(c(), r, s), this.snapshotTexture = a, o && a.context.drawImage(o, t, e, i, n, 0, 0, r, s)), a.update() }, saveSnapshotTexture: function(t) { return this.snapshotTexture ? this.scene.sys.textures.renameTexture(this.snapshotTexture.key, t) : this.snapshotTexture = this.scene.sys.textures.createCanvas(t, this.width, this.height), this.snapshotTexture }, playSuccess: function() { if (this._playCalled) { this.addEventHandlers(), this._codePaused = !1, this.touchLocked && (this.touchLocked = !1, this.emit(o.VIDEO_UNLOCKED, this)); var t = this.scene.sys.sound;
								t && t.mute && this.setMute(!0), this._markerIn > -1 && (this.video.currentTime = this._markerIn) } }, playError: function(t) { var e = t.name; "NotAllowedError" === e ? (this.touchLocked = !0, this.playWhenUnlocked = !0, this.failedPlayAttempts = 1, this.emit(o.VIDEO_LOCKED, this)) : "NotSupportedError" === e ? (this.stop(!1), this.emit(o.VIDEO_UNSUPPORTED, this, t)) : (this.stop(!1), this.emit(o.VIDEO_ERROR, this, t)) }, legacyPlayHandler: function() { var t = this.video;
							t && (this.playSuccess(), t.removeEventListener("playing", this._callbacks.legacy)) }, playingHandler: function() { this.isStalled = !1, this.emit(o.VIDEO_PLAYING, this) }, loadErrorHandler: function(t) { this.stop(!1), this.emit(o.VIDEO_ERROR, this, t) }, metadataHandler: function(t) { this.emit(o.VIDEO_METADATA, this, t) }, setSizeToFrame: function(t) { t || (t = this.frame), this.width = t.realWidth, this.height = t.realHeight, 1 !== this.scaleX && (this.scaleX = this.displayWidth / this.width), 1 !== this.scaleY && (this.scaleY = this.displayHeight / this.height); var e = this.input; return e && !e.customHitArea && (e.hitArea.width = this.width, e.hitArea.height = this.height), this }, stalledHandler: function(t) { this.isStalled = !0, this.emit(o.VIDEO_STALLED, this, t) }, completeHandler: function() { this._playCalled = !1, this.emit(o.VIDEO_COMPLETE, this) }, preUpdate: function(t, e) { this.video && this._playCalled && this.touchLocked && this.playWhenUnlocked && (this.retry += e, this.retry >= this.retryInterval && (this.createPlayPromise(!1), this.retry = 0)) }, seekTo: function(t) { var e = this.video; if (e) { var i = e.duration; if (i !== 1 / 0 && !isNaN(i)) { var n = i * t;
									this.setCurrentTime(n) } } return this }, getCurrentTime: function() { return this.video ? this.video.currentTime : 0 }, setCurrentTime: function(t) { var e = this.video; if (e) { if ("string" == typeof t) { var i = t[0],
										n = parseFloat(t.substr(1)); "+" === i ? t = e.currentTime + n : "-" === i && (t = e.currentTime - n) } e.currentTime = t } return this }, seekingHandler: function() { this.isSeeking = !0, this.emit(o.VIDEO_SEEKING, this) }, seekedHandler: function() { this.isSeeking = !1, this.emit(o.VIDEO_SEEKED, this) }, getProgress: function() { var t = this.video; if (t) { var e = t.duration; if (e !== 1 / 0 && !isNaN(e)) return t.currentTime / e } return -1 }, getDuration: function() { return this.video ? this.video.duration : 0 }, setMute: function(t) { void 0 === t && (t = !0), this._codeMuted = t; var e = this.video; return e && (e.muted = !!this._systemMuted || t), this }, isMuted: function() { return this._codeMuted }, globalMute: function(t, e) { this._systemMuted = e; var i = this.video;
							i && (i.muted = !!this._codeMuted || e) }, globalPause: function() { this._systemPaused = !0, this.video && !this.video.ended && (this.removeEventHandlers(), this.video.pause()) }, globalResume: function() { this._systemPaused = !1, !this.video || this._codePaused || this.video.ended || this.createPlayPromise() }, setPaused: function(t) { void 0 === t && (t = !0); var e = this.video; return this._codePaused = t, e && !e.ended && (t ? e.paused || (this.removeEventHandlers(), e.pause()) : t || (this._playCalled ? e.paused && !this._systemPaused && this.createPlayPromise() : this.play())), this }, pause: function() { return this.setPaused(!0) }, resume: function() { return this.setPaused(!1) }, getVolume: function() { return this.video ? this.video.volume : 1 }, setVolume: function(t) { return void 0 === t && (t = 1), this.video && (this.video.volume = n(t, 0, 1)), this }, getPlaybackRate: function() { return this.video ? this.video.playbackRate : 1 }, setPlaybackRate: function(t) { return this.video && (this.video.playbackRate = t), this }, getLoop: function() { return !!this.video && this.video.loop }, setLoop: function(t) { return void 0 === t && (t = !0), this.video && (this.video.loop = t), this }, isPlaying: function() { return !!this.video && !(this.video.paused || this.video.ended) }, isPaused: function() { return this.video && this._playCalled && this.video.paused || this._codePaused || this._systemPaused }, saveTexture: function(t, e) { return void 0 === e && (e = !1), this.videoTexture && (this.scene.sys.textures.renameTexture(this._key, t), this.videoTextureSource.setFlipY(e)), this._key = t, this.flipY = e, !!this.videoTexture }, stop: function(t) { void 0 === t && (t = !0); var e = this.video; return e && (this.removeEventHandlers(), e.cancelVideoFrameCallback(this._rfvCallbackId), e.pause()), this.retry = 0, this._playCalled = !1, t && this.emit(o.VIDEO_STOP, this), this }, removeVideoElement: function() { var t = this.video; if (t) { for (t.parentNode && t.parentNode.removeChild(t); t.hasChildNodes();) t.removeChild(t.firstChild);
								t.removeAttribute("autoplay"), t.removeAttribute("src"), this.video = null } }, preDestroy: function() { this.stop(!1), this.removeLoadEventHandlers(), this.removeVideoElement(); var t = this.scene.sys.game.events;
							t.off(a.PAUSE, this.globalPause, this), t.off(a.RESUME, this.globalResume, this); var e = this.scene.sys.sound;
							e && e.off(u.GLOBAL_MUTE, this.globalMute, this) } });
				t.exports = f }, 58352: t => { t.exports = function(t, e, i, n) { e.videoTexture && (i.addToRenderList(e), t.batchSprite(e, e.frame, i, n)) } }, 11511: (t, e, i) => { var n = i(25305),
					r = i(44603),
					s = i(23568),
					o = i(18471);
				r.register("video", (function(t, e) { void 0 === t && (t = {}); var i = s(t, "key", null),
						r = new o(this.scene, 0, 0, i); return void 0 !== e && (t.add = e), n(this.scene, r, t), r })) }, 89025: (t, e, i) => { var n = i(18471);
				i(39429).register("video", (function(t, e, i) { return this.displayList.add(new n(this.scene, t, e, i)) })) }, 10247: (t, e, i) => { var n, r;
				i(29747), n = i(29849), r = i(58352), t.exports = { renderWebGL: n, renderCanvas: r } }, 29849: t => { t.exports = function(t, e, i, n) { e.videoTexture && (i.addToRenderList(e), e.pipeline.batchSprite(e, i, n)) } }, 41481: (t, e, i) => { var n = i(10312),
					r = i(96503),
					s = i(87902),
					o = i(83419),
					a = i(31401),
					l = i(95643),
					h = i(87841),
					u = i(37303),
					c = new o({ Extends: l, Mixins: [a.Depth, a.GetBounds, a.Origin, a.Transform, a.ScrollFactor, a.Visible], initialize: function(t, e, i, r, s) { void 0 === r && (r = 1), void 0 === s && (s = r), l.call(this, t, "Zone"), this.setPosition(e, i), this.width = r, this.height = s, this.blendMode = n.NORMAL, this.updateDisplayOrigin() }, displayWidth: { get: function() { return this.scaleX * this.width }, set: function(t) { this.scaleX = t / this.width } }, displayHeight: { get: function() { return this.scaleY * this.height }, set: function(t) { this.scaleY = t / this.height } }, setSize: function(t, e, i) { void 0 === i && (i = !0), this.width = t, this.height = e, this.updateDisplayOrigin(); var n = this.input; return i && n && !n.customHitArea && (n.hitArea.width = t, n.hitArea.height = e), this }, setDisplaySize: function(t, e) { return this.displayWidth = t, this.displayHeight = e, this }, setCircleDropZone: function(t) { return this.setDropZone(new r(0, 0, t), s) }, setRectangleDropZone: function(t, e) { return this.setDropZone(new h(0, 0, t, e), u) }, setDropZone: function(t, e) { return this.input || this.setInteractive(t, e, !0), this }, setAlpha: function() {}, setBlendMode: function() {}, renderCanvas: function(t, e, i) { i.addToRenderList(e) }, renderWebGL: function(t, e, i) { i.addToRenderList(e) } });
				t.exports = c }, 95261: (t, e, i) => { var n = i(44603),
					r = i(23568),
					s = i(41481);
				n.register("zone", (function(t) { var e = r(t, "x", 0),
						i = r(t, "y", 0),
						n = r(t, "width", 1),
						o = r(t, "height", n); return new s(this.scene, e, i, n, o) })) }, 84175: (t, e, i) => { var n = i(41481);
				i(39429).register("zone", (function(t, e, i, r) { return this.displayList.add(new n(this.scene, t, e, i, r)) })) }, 95166: t => { t.exports = function(t) { return t.radius > 0 ? Math.PI * t.radius * t.radius : 0 } }, 96503: (t, e, i) => { var n = i(83419),
					r = i(87902),
					s = i(26241),
					o = i(79124),
					a = i(23777),
					l = i(28176),
					h = new n({ initialize: function(t, e, i) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), this.type = a.CIRCLE, this.x = t, this.y = e, this._radius = i, this._diameter = 2 * i }, contains: function(t, e) { return r(this, t, e) }, getPoint: function(t, e) { return s(this, t, e) }, getPoints: function(t, e, i) { return o(this, t, e, i) }, getRandomPoint: function(t) { return l(this, t) }, setTo: function(t, e, i) { return this.x = t, this.y = e, this._radius = i, this._diameter = 2 * i, this }, setEmpty: function() { return this._radius = 0, this._diameter = 0, this }, setPosition: function(t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, isEmpty: function() { return this._radius <= 0 }, radius: { get: function() { return this._radius }, set: function(t) { this._radius = t, this._diameter = 2 * t } }, diameter: { get: function() { return this._diameter }, set: function(t) { this._diameter = t, this._radius = .5 * t } }, left: { get: function() { return this.x - this._radius }, set: function(t) { this.x = t + this._radius } }, right: { get: function() { return this.x + this._radius }, set: function(t) { this.x = t - this._radius } }, top: { get: function() { return this.y - this._radius }, set: function(t) { this.y = t + this._radius } }, bottom: { get: function() { return this.y + this._radius }, set: function(t) { this.y = t - this._radius } } });
				t.exports = h }, 71562: t => { t.exports = function(t) { return Math.PI * t.radius * 2 } }, 92110: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e, i) { return void 0 === i && (i = new n), i.x = t.x + t.radius * Math.cos(e), i.y = t.y + t.radius * Math.sin(e), i } }, 42250: (t, e, i) => { var n = i(96503);
				t.exports = function(t) { return new n(t.x, t.y, t.radius) } }, 87902: t => { t.exports = function(t, e, i) { return t.radius > 0 && e >= t.left && e <= t.right && i >= t.top && i <= t.bottom && (t.x - e) * (t.x - e) + (t.y - i) * (t.y - i) <= t.radius * t.radius } }, 5698: (t, e, i) => { var n = i(87902);
				t.exports = function(t, e) { return n(t, e.x, e.y) } }, 70588: (t, e, i) => { var n = i(87902);
				t.exports = function(t, e) { return n(t, e.x, e.y) && n(t, e.right, e.y) && n(t, e.x, e.bottom) && n(t, e.right, e.bottom) } }, 26394: t => { t.exports = function(t, e) { return e.setTo(t.x, t.y, t.radius) } }, 76278: t => { t.exports = function(t, e) { return t.x === e.x && t.y === e.y && t.radius === e.radius } }, 2074: (t, e, i) => { var n = i(87841);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.x = t.left, e.y = t.top, e.width = t.diameter, e.height = t.diameter, e } }, 26241: (t, e, i) => { var n = i(92110),
					r = i(62945),
					s = i(36383),
					o = i(2141);
				t.exports = function(t, e, i) { void 0 === i && (i = new o); var a = r(e, 0, s.PI2); return n(t, a, i) } }, 79124: (t, e, i) => { var n = i(71562),
					r = i(92110),
					s = i(62945),
					o = i(36383);
				t.exports = function(t, e, i, a) { void 0 === a && (a = []), !e && i > 0 && (e = n(t) / i); for (var l = 0; l < e; l++) { var h = s(l / e, 0, o.PI2);
						a.push(r(t, h)) } return a } }, 50884: t => { t.exports = function(t, e, i) { return t.x += e, t.y += i, t } }, 39212: t => { t.exports = function(t, e) { return t.x += e.x, t.y += e.y, t } }, 28176: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { void 0 === e && (e = new n); var i = 2 * Math.PI * Math.random(),
						r = Math.random() + Math.random(),
						s = r > 1 ? 2 - r : r,
						o = s * Math.cos(i),
						a = s * Math.sin(i); return e.x = t.x + o * t.radius, e.y = t.y + a * t.radius, e } }, 88911: (t, e, i) => { var n = i(96503);
				n.Area = i(95166), n.Circumference = i(71562), n.CircumferencePoint = i(92110), n.Clone = i(42250), n.Contains = i(87902), n.ContainsPoint = i(5698), n.ContainsRect = i(70588), n.CopyFrom = i(26394), n.Equals = i(76278), n.GetBounds = i(2074), n.GetPoint = i(26241), n.GetPoints = i(79124), n.Offset = i(50884), n.OffsetPoint = i(39212), n.Random = i(28176), t.exports = n }, 23777: t => { t.exports = { CIRCLE: 0, ELLIPSE: 1, LINE: 2, POINT: 3, POLYGON: 4, RECTANGLE: 5, TRIANGLE: 6 } }, 78874: t => { t.exports = function(t) { return t.isEmpty() ? 0 : t.getMajorRadius() * t.getMinorRadius() * Math.PI } }, 92990: t => { t.exports = function(t) { var e = t.width / 2,
						i = t.height / 2,
						n = Math.pow(e - i, 2) / Math.pow(e + i, 2); return Math.PI * (e + i) * (1 + 3 * n / (10 + Math.sqrt(4 - 3 * n))) } }, 79522: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e, i) { void 0 === i && (i = new n); var r = t.width / 2,
						s = t.height / 2; return i.x = t.x + r * Math.cos(e), i.y = t.y + s * Math.sin(e), i } }, 58102: (t, e, i) => { var n = i(8497);
				t.exports = function(t) { return new n(t.x, t.y, t.width, t.height) } }, 81154: t => { t.exports = function(t, e, i) { if (t.width <= 0 || t.height <= 0) return !1; var n = (e - t.x) / t.width,
						r = (i - t.y) / t.height; return (n *= n) + (r *= r) < .25 } }, 46662: (t, e, i) => { var n = i(81154);
				t.exports = function(t, e) { return n(t, e.x, e.y) } }, 1632: (t, e, i) => { var n = i(81154);
				t.exports = function(t, e) { return n(t, e.x, e.y) && n(t, e.right, e.y) && n(t, e.x, e.bottom) && n(t, e.right, e.bottom) } }, 65534: t => { t.exports = function(t, e) { return e.setTo(t.x, t.y, t.width, t.height) } }, 8497: (t, e, i) => { var n = i(83419),
					r = i(81154),
					s = i(90549),
					o = i(48320),
					a = i(23777),
					l = i(24820),
					h = new n({ initialize: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.type = a.ELLIPSE, this.x = t, this.y = e, this.width = i, this.height = n }, contains: function(t, e) { return r(this, t, e) }, getPoint: function(t, e) { return s(this, t, e) }, getPoints: function(t, e, i) { return o(this, t, e, i) }, getRandomPoint: function(t) { return l(this, t) }, setTo: function(t, e, i, n) { return this.x = t, this.y = e, this.width = i, this.height = n, this }, setEmpty: function() { return this.width = 0, this.height = 0, this }, setPosition: function(t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setSize: function(t, e) { return void 0 === e && (e = t), this.width = t, this.height = e, this }, isEmpty: function() { return this.width <= 0 || this.height <= 0 }, getMinorRadius: function() { return Math.min(this.width, this.height) / 2 }, getMajorRadius: function() { return Math.max(this.width, this.height) / 2 }, left: { get: function() { return this.x - this.width / 2 }, set: function(t) { this.x = t + this.width / 2 } }, right: { get: function() { return this.x + this.width / 2 }, set: function(t) { this.x = t - this.width / 2 } }, top: { get: function() { return this.y - this.height / 2 }, set: function(t) { this.y = t + this.height / 2 } }, bottom: { get: function() { return this.y + this.height / 2 }, set: function(t) { this.y = t - this.height / 2 } } });
				t.exports = h }, 36146: t => { t.exports = function(t, e) { return t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height } }, 23694: (t, e, i) => { var n = i(87841);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.x = t.left, e.y = t.top, e.width = t.width, e.height = t.height, e } }, 90549: (t, e, i) => { var n = i(79522),
					r = i(62945),
					s = i(36383),
					o = i(2141);
				t.exports = function(t, e, i) { void 0 === i && (i = new o); var a = r(e, 0, s.PI2); return n(t, a, i) } }, 48320: (t, e, i) => { var n = i(92990),
					r = i(79522),
					s = i(62945),
					o = i(36383);
				t.exports = function(t, e, i, a) { void 0 === a && (a = []), !e && i > 0 && (e = n(t) / i); for (var l = 0; l < e; l++) { var h = s(l / e, 0, o.PI2);
						a.push(r(t, h)) } return a } }, 73424: t => { t.exports = function(t, e, i) { return t.x += e, t.y += i, t } }, 44808: t => { t.exports = function(t, e) { return t.x += e.x, t.y += e.y, t } }, 24820: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { void 0 === e && (e = new n); var i = Math.random() * Math.PI * 2,
						r = Math.sqrt(Math.random()); return e.x = t.x + r * Math.cos(i) * t.width / 2, e.y = t.y + r * Math.sin(i) * t.height / 2, e } }, 49203: (t, e, i) => { var n = i(8497);
				n.Area = i(78874), n.Circumference = i(92990), n.CircumferencePoint = i(79522), n.Clone = i(58102), n.Contains = i(81154), n.ContainsPoint = i(46662), n.ContainsRect = i(1632), n.CopyFrom = i(65534), n.Equals = i(36146), n.GetBounds = i(23694), n.GetPoint = i(90549), n.GetPoints = i(48320), n.Offset = i(73424), n.OffsetPoint = i(44808), n.Random = i(24820), t.exports = n }, 55738: (t, e, i) => { var n = i(23777),
					r = i(79291),
					s = { Circle: i(88911), Ellipse: i(49203), Intersects: i(91865), Line: i(2529), Mesh: i(73090), Point: i(43711), Polygon: i(58423), Rectangle: i(93232), Triangle: i(84435) };
				s = r(!1, s, n), t.exports = s }, 2044: (t, e, i) => { var n = i(20339);
				t.exports = function(t, e) { return n(t.x, t.y, e.x, e.y) <= t.radius + e.radius } }, 81491: t => { t.exports = function(t, e) { var i = e.width / 2,
						n = e.height / 2,
						r = Math.abs(t.x - e.x - i),
						s = Math.abs(t.y - e.y - n),
						o = i + t.radius,
						a = n + t.radius; if (r > o || s > a) return !1; if (r <= i || s <= n) return !0; var l = r - i,
						h = s - n; return l * l + h * h <= t.radius * t.radius } }, 63376: (t, e, i) => { var n = i(2141),
					r = i(2044);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), r(t, e)) { var s, o, a, l, h = t.x,
							u = t.y,
							c = t.radius,
							d = e.x,
							f = e.y,
							p = e.radius; if (u === f) 0 == (a = (o = -2 * f) * o - 4 * (s = 1) * (d * d + (l = (p * p - c * c - d * d + h * h) / (2 * (h - d))) * l - 2 * d * l + f * f - p * p)) ? i.push(new n(l, -o / (2 * s))) : a > 0 && (i.push(new n(l, (-o + Math.sqrt(a)) / (2 * s))), i.push(new n(l, (-o - Math.sqrt(a)) / (2 * s))));
						else { var g = (h - d) / (u - f),
								m = (p * p - c * c - d * d + h * h - f * f + u * u) / (2 * (u - f));
							0 == (a = (o = 2 * u * g - 2 * m * g - 2 * h) * o - 4 * (s = g * g + 1) * (h * h + u * u + m * m - c * c - 2 * u * m)) ? (l = -o / (2 * s), i.push(new n(l, m - l * g))) : a > 0 && (l = (-o + Math.sqrt(a)) / (2 * s), i.push(new n(l, m - l * g)), l = (-o - Math.sqrt(a)) / (2 * s), i.push(new n(l, m - l * g))) } } return i } }, 97439: (t, e, i) => { var n = i(4042),
					r = i(81491);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), r(t, e)) { var s = e.getLineA(),
							o = e.getLineB(),
							a = e.getLineC(),
							l = e.getLineD();
						n(s, t, i), n(o, t, i), n(a, t, i), n(l, t, i) } return i } }, 4042: (t, e, i) => { var n = i(2141),
					r = i(80462);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), r(t, e)) { var s, o, a = t.x1,
							l = t.y1,
							h = t.x2,
							u = t.y2,
							c = e.x,
							d = e.y,
							f = e.radius,
							p = h - a,
							g = u - l,
							m = a - c,
							v = l - d,
							y = p * p + g * g,
							x = 2 * (p * m + g * v),
							b = x * x - 4 * y * (m * m + v * v - f * f); if (0 === b) { var w = -x / (2 * y);
							s = a + w * p, o = l + w * g, w >= 0 && w <= 1 && i.push(new n(s, o)) } else if (b > 0) { var T = (-x - Math.sqrt(b)) / (2 * y);
							s = a + T * p, o = l + T * g, T >= 0 && T <= 1 && i.push(new n(s, o)); var S = (-x + Math.sqrt(b)) / (2 * y);
							s = a + S * p, o = l + S * g, S >= 0 && S <= 1 && i.push(new n(s, o)) } } return i } }, 36100: (t, e, i) => { var n = i(25836);
				t.exports = function(t, e, i, r) { void 0 === i && (i = !1); var s, o, a, l = t.x1,
						h = t.y1,
						u = t.x2,
						c = t.y2,
						d = e.x1,
						f = e.y1,
						p = u - l,
						g = c - h,
						m = e.x2 - d,
						v = e.y2 - f,
						y = p * v - g * m; if (0 === y) return null; if (i) { if (s = (p * (f - h) + g * (l - d)) / (m * g - v * p), 0 !== p) o = (d + m * s - l) / p;
						else { if (0 === g) return null;
							o = (f + v * s - h) / g } if (o < 0 || s < 0 || s > 1) return null;
						a = o } else { if (o = ((h - f) * p - (l - d) * g) / y, (s = ((d - l) * v - (f - h) * m) / y) < 0 || s > 1 || o < 0 || o > 1) return null;
						a = s } return void 0 === r && (r = new n), r.set(l + p * a, h + g * a, a) } }, 3073: (t, e, i) => { var n = i(36100),
					r = i(23031),
					s = i(25836),
					o = new r,
					a = new s;
				t.exports = function(t, e, i, r) { void 0 === i && (i = !1), void 0 === r && (r = new s); var l = !1;
					r.set(), a.set(); for (var h = e[e.length - 1], u = 0; u < e.length; u++) { var c = e[u];
						o.setTo(h.x, h.y, c.x, c.y), h = c, n(t, o, i, a) && (!l || a.z < r.z) && (r.copy(a), l = !0) } return l ? r : null } }, 56362: (t, e, i) => { var n = i(25836),
					r = i(61369),
					s = i(3073),
					o = new n;
				t.exports = function(t, e, i, n) { void 0 === n && (n = new r), Array.isArray(e) || (e = [e]); var a = !1;
					n.set(), o.set(); for (var l = 0; l < e.length; l++) s(t, e[l].points, i, o) && (!a || o.z < n.z) && (n.set(o.x, o.y, o.z, l), a = !0); return a ? n : null } }, 60646: (t, e, i) => { var n = i(2141),
					r = i(76112),
					s = i(92773);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), s(t, e))
						for (var o = e.getLineA(), a = e.getLineB(), l = e.getLineC(), h = e.getLineD(), u = [new n, new n, new n, new n], c = [r(o, t, u[0]), r(a, t, u[1]), r(l, t, u[2]), r(h, t, u[3])], d = 0; d < 4; d++) c[d] && i.push(u[d]); return i } }, 71147: (t, e, i) => { var n = i(61369),
					r = i(56362),
					s = new(i(23031));

				function o(t, e, i, o, a) { var l = Math.cos(t),
						h = Math.sin(t);
					s.setTo(e, i, e + l, i + h); var u = r(s, o, !0);
					u && a.push(new n(u.x, u.y, t, u.w)) }

				function a(t, e) { return t.z - e.z } t.exports = function(t, e, i) { Array.isArray(i) || (i = [i]); for (var n = [], r = [], s = 0; s < i.length; s++)
						for (var l = i[s].points, h = 0; h < l.length; h++) { var u = Math.atan2(l[h].y - e, l[h].x - t); - 1 === r.indexOf(u) && (o(u, t, e, i, n), o(u - 1e-5, t, e, i, n), o(u + 1e-5, t, e, i, n), r.push(u)) }
					return n.sort(a) } }, 68389: (t, e, i) => { var n = i(87841),
					r = i(59996);
				t.exports = function(t, e, i) { return void 0 === i && (i = new n), r(t, e) && (i.x = Math.max(t.x, e.x), i.y = Math.max(t.y, e.y), i.width = Math.min(t.right, e.right) - i.x, i.height = Math.min(t.bottom, e.bottom) - i.y), i } }, 52784: (t, e, i) => { var n = i(60646),
					r = i(59996);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), r(t, e)) { var s = t.getLineA(),
							o = t.getLineB(),
							a = t.getLineC(),
							l = t.getLineD();
						n(s, e, i), n(o, e, i), n(a, e, i), n(l, e, i) } return i } }, 26341: (t, e, i) => { var n = i(89265),
					r = i(60646);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), n(t, e)) { var s = e.getLineA(),
							o = e.getLineB(),
							a = e.getLineC();
						r(s, t, i), r(o, t, i), r(a, t, i) } return i } }, 38720: (t, e, i) => { var n = i(4042),
					r = i(67636);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), r(t, e)) { var s = t.getLineA(),
							o = t.getLineB(),
							a = t.getLineC();
						n(s, e, i), n(o, e, i), n(a, e, i) } return i } }, 13882: (t, e, i) => { var n = i(2141),
					r = i(2822),
					s = i(76112);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), r(t, e))
						for (var o = t.getLineA(), a = t.getLineB(), l = t.getLineC(), h = [new n, new n, new n], u = [s(o, e, h[0]), s(a, e, h[1]), s(l, e, h[2])], c = 0; c < 3; c++) u[c] && i.push(h[c]); return i } }, 75636: (t, e, i) => { var n = i(82944),
					r = i(13882);
				t.exports = function(t, e, i) { if (void 0 === i && (i = []), n(t, e)) { var s = e.getLineA(),
							o = e.getLineB(),
							a = e.getLineC();
						r(t, s, i), r(t, o, i), r(t, a, i) } return i } }, 80462: (t, e, i) => { var n = i(87902),
					r = new(i(2141));
				t.exports = function(t, e, i) { if (void 0 === i && (i = r), n(e, t.x1, t.y1)) return i.x = t.x1, i.y = t.y1, !0; if (n(e, t.x2, t.y2)) return i.x = t.x2, i.y = t.y2, !0; var s = t.x2 - t.x1,
						o = t.y2 - t.y1,
						a = e.x - t.x1,
						l = e.y - t.y1,
						h = s * s + o * o,
						u = s,
						c = o; if (h > 0) { var d = (a * s + l * o) / h;
						u *= d, c *= d } return i.x = t.x1 + u, i.y = t.y1 + c, u * u + c * c <= h && u * s + c * o >= 0 && n(e, i.x, i.y) } }, 76112: t => { t.exports = function(t, e, i) { var n = t.x1,
						r = t.y1,
						s = t.x2,
						o = t.y2,
						a = e.x1,
						l = e.y1,
						h = e.x2,
						u = e.y2; if (n === s && r === o || a === h && l === u) return !1; var c = (u - l) * (s - n) - (h - a) * (o - r); if (0 === c) return !1; var d = ((h - a) * (r - l) - (u - l) * (n - a)) / c,
						f = ((s - n) * (r - l) - (o - r) * (n - a)) / c; return !(d < 0 || d > 1 || f < 0 || f > 1 || (i && (i.x = n + d * (s - n), i.y = r + d * (o - r)), 0)) } }, 92773: t => { t.exports = function(t, e) { var i = t.x1,
						n = t.y1,
						r = t.x2,
						s = t.y2,
						o = e.x,
						a = e.y,
						l = e.right,
						h = e.bottom,
						u = 0; if (i >= o && i <= l && n >= a && n <= h || r >= o && r <= l && s >= a && s <= h) return !0; if (i < o && r >= o) { if ((u = n + (s - n) * (o - i) / (r - i)) > a && u <= h) return !0 } else if (i > l && r <= l && (u = n + (s - n) * (l - i) / (r - i)) >= a && u <= h) return !0; if (n < a && s >= a) { if ((u = i + (r - i) * (a - n) / (s - n)) >= o && u <= l) return !0 } else if (n > h && s <= h && (u = i + (r - i) * (h - n) / (s - n)) >= o && u <= l) return !0; return !1 } }, 16204: t => { t.exports = function(t, e, i) { void 0 === i && (i = 1); var n = e.x1,
						r = e.y1,
						s = e.x2,
						o = e.y2,
						a = t.x,
						l = t.y,
						h = (s - n) * (s - n) + (o - r) * (o - r); if (0 === h) return !1; var u = ((a - n) * (s - n) + (l - r) * (o - r)) / h; if (u < 0) return Math.sqrt((n - a) * (n - a) + (r - l) * (r - l)) <= i; if (u >= 0 && u <= 1) { var c = ((r - l) * (s - n) - (n - a) * (o - r)) / h; return Math.abs(c) * Math.sqrt(h) <= i } return Math.sqrt((s - a) * (s - a) + (o - l) * (o - l)) <= i } }, 14199: (t, e, i) => { var n = i(16204);
				t.exports = function(t, e) { if (!n(t, e)) return !1; var i = Math.min(e.x1, e.x2),
						r = Math.max(e.x1, e.x2),
						s = Math.min(e.y1, e.y2),
						o = Math.max(e.y1, e.y2); return t.x >= i && t.x <= r && t.y >= s && t.y <= o } }, 59996: t => { t.exports = function(t, e) { return !(t.width <= 0 || t.height <= 0 || e.width <= 0 || e.height <= 0 || t.right < e.x || t.bottom < e.y || t.x > e.right || t.y > e.bottom) } }, 89265: (t, e, i) => { var n = i(76112),
					r = i(37303),
					s = i(48653),
					o = i(77493);
				t.exports = function(t, e) { if (e.left > t.right || e.right < t.left || e.top > t.bottom || e.bottom < t.top) return !1; var i = e.getLineA(),
						a = e.getLineB(),
						l = e.getLineC(); if (r(t, i.x1, i.y1) || r(t, i.x2, i.y2)) return !0; if (r(t, a.x1, a.y1) || r(t, a.x2, a.y2)) return !0; if (r(t, l.x1, l.y1) || r(t, l.x2, l.y2)) return !0; var h = t.getLineA(),
						u = t.getLineB(),
						c = t.getLineC(),
						d = t.getLineD(); if (n(i, h) || n(i, u) || n(i, c) || n(i, d)) return !0; if (n(a, h) || n(a, u) || n(a, c) || n(a, d)) return !0; if (n(l, h) || n(l, u) || n(l, c) || n(l, d)) return !0; var f = o(t); return s(e, f, !0).length > 0 } }, 84411: t => { t.exports = function(t, e, i, n, r, s) { return void 0 === s && (s = 0), !(e > t.right + s || i < t.left - s || n > t.bottom + s || r < t.top - s) } }, 67636: (t, e, i) => { var n = i(80462),
					r = i(10690);
				t.exports = function(t, e) { return !(t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top || !r(t, e.x, e.y) && !n(t.getLineA(), e) && !n(t.getLineB(), e) && !n(t.getLineC(), e)) } }, 2822: (t, e, i) => { var n = i(76112);
				t.exports = function(t, e) { return !!(t.contains(e.x1, e.y1) || t.contains(e.x2, e.y2) || n(t.getLineA(), e) || n(t.getLineB(), e) || n(t.getLineC(), e)) } }, 82944: (t, e, i) => { var n = i(48653),
					r = i(71694),
					s = i(76112);
				t.exports = function(t, e) { if (t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top) return !1; var i = t.getLineA(),
						o = t.getLineB(),
						a = t.getLineC(),
						l = e.getLineA(),
						h = e.getLineB(),
						u = e.getLineC(); if (s(i, l) || s(i, h) || s(i, u)) return !0; if (s(o, l) || s(o, h) || s(o, u)) return !0; if (s(a, l) || s(a, h) || s(a, u)) return !0; var c = r(t),
						d = n(e, c, !0); return d.length > 0 || (c = r(e), (d = n(t, c, !0)).length > 0) } }, 91865: (t, e, i) => { t.exports = { CircleToCircle: i(2044), CircleToRectangle: i(81491), GetCircleToCircle: i(63376), GetCircleToRectangle: i(97439), GetLineToCircle: i(4042), GetLineToLine: i(36100), GetLineToPoints: i(3073), GetLineToPolygon: i(56362), GetLineToRectangle: i(60646), GetRaysFromPointToPolygon: i(71147), GetRectangleIntersection: i(68389), GetRectangleToRectangle: i(52784), GetRectangleToTriangle: i(26341), GetTriangleToCircle: i(38720), GetTriangleToLine: i(13882), GetTriangleToTriangle: i(75636), LineToCircle: i(80462), LineToLine: i(76112), LineToRectangle: i(92773), PointToLine: i(16204), PointToLineSegment: i(14199), RectangleToRectangle: i(59996), RectangleToTriangle: i(89265), RectangleToValues: i(84411), TriangleToCircle: i(67636), TriangleToLine: i(2822), TriangleToTriangle: i(82944) } }, 91938: t => { t.exports = function(t) { return Math.atan2(t.y2 - t.y1, t.x2 - t.x1) } }, 84993: t => { t.exports = function(t, e, i) { void 0 === e && (e = 1), void 0 === i && (i = []); var n = Math.round(t.x1),
						r = Math.round(t.y1),
						s = Math.round(t.x2),
						o = Math.round(t.y2),
						a = Math.abs(s - n),
						l = Math.abs(o - r),
						h = n < s ? 1 : -1,
						u = r < o ? 1 : -1,
						c = a - l;
					i.push({ x: n, y: r }); for (var d = 1; n !== s || r !== o;) { var f = c << 1;
						f > -l && (c -= l, n += h), f < a && (c += a, r += u), d % e == 0 && i.push({ x: n, y: r }), d++ } return i } }, 36469: t => { t.exports = function(t, e, i) { var n = e - (t.x1 + t.x2) / 2,
						r = i - (t.y1 + t.y2) / 2; return t.x1 += n, t.y1 += r, t.x2 += n, t.y2 += r, t } }, 31116: (t, e, i) => { var n = i(23031);
				t.exports = function(t) { return new n(t.x1, t.y1, t.x2, t.y2) } }, 59944: t => { t.exports = function(t, e) { return e.setTo(t.x1, t.y1, t.x2, t.y2) } }, 59220: t => { t.exports = function(t, e) { return t.x1 === e.x1 && t.y1 === e.y1 && t.x2 === e.x2 && t.y2 === e.y2 } }, 78177: (t, e, i) => { var n = i(35001);
				t.exports = function(t, e, i) { void 0 === i && (i = e); var r = n(t),
						s = t.x2 - t.x1,
						o = t.y2 - t.y1; return e && (t.x1 = t.x1 - s / r * e, t.y1 = t.y1 - o / r * e), i && (t.x2 = t.x2 + s / r * i, t.y2 = t.y2 + o / r * i), t } }, 26708: (t, e, i) => { var n = i(52816),
					r = i(6113),
					s = i(2141);
				t.exports = function(t, e, i, o, a) { void 0 === o && (o = 0), void 0 === a && (a = []); var l, h, u = [],
						c = t.x1,
						d = t.y1,
						f = t.x2 - c,
						p = t.y2 - d,
						g = r(e, a),
						m = i - 1; for (l = 0; l < m; l++) h = g(l / m), u.push(new s(c + f * h, d + p * h)); if (h = g(1), u.push(new s(c + f * h, d + p * h)), o > 0) { var v = u[0],
							y = [v]; for (l = 1; l < u.length - 1; l++) { var x = u[l];
							n(v, x) >= o && (y.push(x), v = x) } var b = u[u.length - 1]; return n(v, b) < o && y.pop(), y.push(b), y } return u } }, 32125: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.x = (t.x1 + t.x2) / 2, e.y = (t.y1 + t.y2) / 2, e } }, 99569: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e, i) { void 0 === i && (i = new n); var r = t.x1,
						s = t.y1,
						o = t.x2,
						a = t.y2,
						l = (o - r) * (o - r) + (a - s) * (a - s); if (0 === l) return i; var h = ((e.x - r) * (o - r) + (e.y - s) * (a - s)) / l; return i.x = r + h * (o - r), i.y = s + h * (a - s), i } }, 34638: (t, e, i) => { var n = i(36383),
					r = i(91938),
					s = i(2141);
				t.exports = function(t, e) { void 0 === e && (e = new s); var i = r(t) - n.TAU; return e.x = Math.cos(i), e.y = Math.sin(i), e } }, 13151: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e, i) { return void 0 === i && (i = new n), i.x = t.x1 + (t.x2 - t.x1) * e, i.y = t.y1 + (t.y2 - t.y1) * e, i } }, 15258: (t, e, i) => { var n = i(35001),
					r = i(2141);
				t.exports = function(t, e, i, s) { void 0 === s && (s = []), !e && i > 0 && (e = n(t) / i); for (var o = t.x1, a = t.y1, l = t.x2, h = t.y2, u = 0; u < e; u++) { var c = u / e,
							d = o + (l - o) * c,
							f = a + (h - a) * c;
						s.push(new r(d, f)) } return s } }, 26408: t => { t.exports = function(t, e) { var i = t.x1,
						n = t.y1,
						r = t.x2,
						s = t.y2,
						o = (r - i) * (r - i) + (s - n) * (s - n); if (0 === o) return !1; var a = ((n - e.y) * (r - i) - (i - e.x) * (s - n)) / o; return Math.abs(a) * Math.sqrt(o) } }, 98770: t => { t.exports = function(t) { return Math.abs(t.y1 - t.y2) } }, 35001: t => { t.exports = function(t) { return Math.sqrt((t.x2 - t.x1) * (t.x2 - t.x1) + (t.y2 - t.y1) * (t.y2 - t.y1)) } }, 23031: (t, e, i) => { var n = i(83419),
					r = i(13151),
					s = i(15258),
					o = i(23777),
					a = i(65822),
					l = i(26099),
					h = new n({ initialize: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.type = o.LINE, this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = n }, getPoint: function(t, e) { return r(this, t, e) }, getPoints: function(t, e, i) { return s(this, t, e, i) }, getRandomPoint: function(t) { return a(this, t) }, setTo: function(t, e, i, n) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = n, this }, setFromObjects: function(t, e) { return this.x1 = t.x, this.y1 = t.y, this.x2 = e.x, this.y2 = e.y, this }, getPointA: function(t) { return void 0 === t && (t = new l), t.set(this.x1, this.y1), t }, getPointB: function(t) { return void 0 === t && (t = new l), t.set(this.x2, this.y2), t }, left: { get: function() { return Math.min(this.x1, this.x2) }, set: function(t) { this.x1 <= this.x2 ? this.x1 = t : this.x2 = t } }, right: { get: function() { return Math.max(this.x1, this.x2) }, set: function(t) { this.x1 > this.x2 ? this.x1 = t : this.x2 = t } }, top: { get: function() { return Math.min(this.y1, this.y2) }, set: function(t) { this.y1 <= this.y2 ? this.y1 = t : this.y2 = t } }, bottom: { get: function() { return Math.max(this.y1, this.y2) }, set: function(t) { this.y1 > this.y2 ? this.y1 = t : this.y2 = t } } });
				t.exports = h }, 64795: (t, e, i) => { var n = i(36383),
					r = i(15994),
					s = i(91938);
				t.exports = function(t) { var e = s(t) - n.TAU; return r(e, -Math.PI, Math.PI) } }, 52616: (t, e, i) => { var n = i(36383),
					r = i(91938);
				t.exports = function(t) { return Math.cos(r(t) - n.TAU) } }, 87231: (t, e, i) => { var n = i(36383),
					r = i(91938);
				t.exports = function(t) { return Math.sin(r(t) - n.TAU) } }, 89662: t => { t.exports = function(t, e, i) { return t.x1 += e, t.y1 += i, t.x2 += e, t.y2 += i, t } }, 71165: t => { t.exports = function(t) { return -(t.x2 - t.x1) / (t.y2 - t.y1) } }, 65822: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { void 0 === e && (e = new n); var i = Math.random(); return e.x = t.x1 + i * (t.x2 - t.x1), e.y = t.y1 + i * (t.y2 - t.y1), e } }, 69777: (t, e, i) => { var n = i(91938),
					r = i(64795);
				t.exports = function(t, e) { return 2 * r(e) - Math.PI - n(t) } }, 39706: (t, e, i) => { var n = i(64400);
				t.exports = function(t, e) { var i = (t.x1 + t.x2) / 2,
						r = (t.y1 + t.y2) / 2; return n(t, i, r, e) } }, 82585: (t, e, i) => { var n = i(64400);
				t.exports = function(t, e, i) { return n(t, e.x, e.y, i) } }, 64400: t => { t.exports = function(t, e, i, n) { var r = Math.cos(n),
						s = Math.sin(n),
						o = t.x1 - e,
						a = t.y1 - i; return t.x1 = o * r - a * s + e, t.y1 = o * s + a * r + i, o = t.x2 - e, a = t.y2 - i, t.x2 = o * r - a * s + e, t.y2 = o * s + a * r + i, t } }, 62377: t => { t.exports = function(t, e, i, n, r) { return t.x1 = e, t.y1 = i, t.x2 = e + Math.cos(n) * r, t.y2 = i + Math.sin(n) * r, t } }, 71366: t => { t.exports = function(t) { return (t.y2 - t.y1) / (t.x2 - t.x1) } }, 10809: t => { t.exports = function(t) { return Math.abs(t.x1 - t.x2) } }, 2529: (t, e, i) => { var n = i(23031);
				n.Angle = i(91938), n.BresenhamPoints = i(84993), n.CenterOn = i(36469), n.Clone = i(31116), n.CopyFrom = i(59944), n.Equals = i(59220), n.Extend = i(78177), n.GetEasedPoints = i(26708), n.GetMidPoint = i(32125), n.GetNearestPoint = i(99569), n.GetNormal = i(34638), n.GetPoint = i(13151), n.GetPoints = i(15258), n.GetShortestDistance = i(26408), n.Height = i(98770), n.Length = i(35001), n.NormalAngle = i(64795), n.NormalX = i(52616), n.NormalY = i(87231), n.Offset = i(89662), n.PerpSlope = i(71165), n.Random = i(65822), n.ReflectAngle = i(69777), n.Rotate = i(39706), n.RotateAroundPoint = i(82585), n.RotateAroundXY = i(64400), n.SetToAngle = i(62377), n.Slope = i(71366), n.Width = i(10809), t.exports = n }, 83997: (t, e, i) => { var n = i(83419),
					r = i(87841),
					s = i(26099);

				function o(t, e, i, n) { var r = t - i,
						s = e - n,
						o = r * r + s * s; return Math.sqrt(o) } var a = new n({ initialize: function(t, e, i) { this.vertex1 = t, this.vertex2 = e, this.vertex3 = i, this.bounds = new r, this._inCenter = new s }, getInCenter: function(t) { void 0 === t && (t = !0); var e, i, n, r, s, a, l = this.vertex1,
							h = this.vertex2,
							u = this.vertex3;
						t ? (e = l.x, i = l.y, n = h.x, r = h.y, s = u.x, a = u.y) : (e = l.vx, i = l.vy, n = h.vx, r = h.vy, s = u.vx, a = u.vy); var c = o(s, a, n, r),
							d = o(e, i, s, a),
							f = o(n, r, e, i),
							p = c + d + f; return this._inCenter.set((e * c + n * d + s * f) / p, (i * c + r * d + a * f) / p) }, contains: function(t, e, i) { var n = this.vertex1,
							r = this.vertex2,
							s = this.vertex3,
							o = n.vx,
							a = n.vy,
							l = r.vx,
							h = r.vy,
							u = s.vx,
							c = s.vy; if (i) { var d = i.a,
								f = i.b,
								p = i.c,
								g = i.d,
								m = i.e,
								v = i.f;
							o = n.vx * d + n.vy * p + m, a = n.vx * f + n.vy * g + v, l = r.vx * d + r.vy * p + m, h = r.vx * f + r.vy * g + v, u = s.vx * d + s.vy * p + m, c = s.vx * f + s.vy * g + v } var y = u - o,
							x = c - a,
							b = l - o,
							w = h - a,
							T = t - o,
							S = e - a,
							_ = y * y + x * x,
							E = y * b + x * w,
							A = y * T + x * S,
							C = b * b + w * w,
							k = b * T + w * S,
							P = _ * C - E * E,
							O = 0 === P ? 0 : 1 / P,
							R = (C * A - E * k) * O,
							M = (_ * k - E * A) * O; return R >= 0 && M >= 0 && R + M < 1 }, isCounterClockwise: function(t) { var e = this.vertex1,
							i = this.vertex2,
							n = this.vertex3,
							r = (i.vx - e.vx) * (n.vy - e.vy) - (i.vy - e.vy) * (n.vx - e.vx); return t <= 0 ? r >= 0 : r < 0 }, load: function(t, e, i, n, r) { return i = this.vertex1.load(t, e, i, n, r), i = this.vertex2.load(t, e, i, n, r), this.vertex3.load(t, e, i, n, r) }, transformCoordinatesLocal: function(t, e, i, n) { return this.vertex1.transformCoordinatesLocal(t, e, i, n), this.vertex2.transformCoordinatesLocal(t, e, i, n), this.vertex3.transformCoordinatesLocal(t, e, i, n), this }, updateBounds: function() { var t = this.vertex1,
							e = this.vertex2,
							i = this.vertex3,
							n = this.bounds; return n.x = Math.min(t.vx, e.vx, i.vx), n.y = Math.min(t.vy, e.vy, i.vy), n.width = Math.max(t.vx, e.vx, i.vx) - n.x, n.height = Math.max(t.vy, e.vy, i.vy) - n.y, this }, isInView: function(t, e, i, n, r, s, o, a, l, h, u) { this.update(n, r, s, o, a, l, h, u); var c = this.vertex1,
							d = this.vertex2,
							f = this.vertex3; if (c.ta <= 0 && d.ta <= 0 && f.ta <= 0) return !1; if (e && !this.isCounterClockwise(i)) return !1; var p = this.bounds;
						p.x = Math.min(c.tx, d.tx, f.tx), p.y = Math.min(c.ty, d.ty, f.ty), p.width = Math.max(c.tx, d.tx, f.tx) - p.x, p.height = Math.max(c.ty, d.ty, f.ty) - p.y; var g = t.x + t.width,
							m = t.y + t.height; return !(p.width <= 0 || p.height <= 0 || t.width <= 0 || t.height <= 0 || p.right < t.x || p.bottom < t.y || p.x > g || p.y > m) }, scrollUV: function(t, e) { return this.vertex1.scrollUV(t, e), this.vertex2.scrollUV(t, e), this.vertex3.scrollUV(t, e), this }, scaleUV: function(t, e) { return this.vertex1.scaleUV(t, e), this.vertex2.scaleUV(t, e), this.vertex3.scaleUV(t, e), this }, setColor: function(t) { return this.vertex1.color = t, this.vertex2.color = t, this.vertex3.color = t, this }, update: function(t, e, i, n, r, s, o, a) { return this.vertex1.update(e, i, n, r, s, o, a, t), this.vertex2.update(e, i, n, r, s, o, a, t), this.vertex3.update(e, i, n, r, s, o, a, t), this }, translate: function(t, e) { void 0 === e && (e = 0); var i = this.vertex1,
							n = this.vertex2,
							r = this.vertex3; return i.x += t, i.y += e, n.x += t, n.y += e, r.x += t, r.y += e, this }, x: { get: function() { return this.getInCenter().x }, set: function(t) { var e = this.getInCenter();
							this.translate(t - e.x, 0) } }, y: { get: function() { return this.getInCenter().y }, set: function(t) { var e = this.getInCenter();
							this.translate(0, t - e.y) } }, alpha: { get: function() { var t = this.vertex1,
								e = this.vertex2,
								i = this.vertex3; return (t.alpha + e.alpha + i.alpha) / 3 }, set: function(t) { this.vertex1.alpha = t, this.vertex2.alpha = t, this.vertex3.alpha = t } }, depth: { get: function() { var t = this.vertex1,
								e = this.vertex2,
								i = this.vertex3; return (t.vz + e.vz + i.vz) / 3 } }, destroy: function() { this.vertex1 = null, this.vertex2 = null, this.vertex3 = null } });
				t.exports = a }, 48803: (t, e, i) => { var n = i(83997),
					r = i(95540),
					s = i(37867),
					o = i(25836),
					a = i(39318),
					l = new o,
					h = new o,
					u = new s;
				t.exports = function(t) { var e, i = r(t, "mesh"),
						s = r(t, "texture", null),
						o = r(t, "frame"),
						c = r(t, "width", 1),
						d = r(t, "height", c),
						f = r(t, "widthSegments", 1),
						p = r(t, "heightSegments", f),
						g = r(t, "x", 0),
						m = r(t, "y", 0),
						v = r(t, "z", 0),
						y = r(t, "rotateX", 0),
						x = r(t, "rotateY", 0),
						b = r(t, "rotateZ", 0),
						w = r(t, "zIsUp", !0),
						T = r(t, "isOrtho", !!i && i.dirtyCache[11]),
						S = r(t, "colors", [16777215]),
						_ = r(t, "alphas", [1]),
						E = r(t, "tile", !1),
						A = r(t, "flipY", !1),
						C = r(t, "width", null),
						k = { faces: [], verts: [] }; if (l.set(g, m, v), h.set(y, x, b), u.fromRotationXYTranslation(h, l, w), !s && i) s = i.texture, o || (e = i.frame);
					else if (i && "string" == typeof s) s = i.scene.sys.textures.get(s);
					else if (!s) return k;
					e || (e = s.get(o)), !C && T && s && i && (c = e.width / i.height, d = e.height / i.height); var P, O, R = c / 2,
						M = d / 2,
						L = Math.floor(f),
						D = Math.floor(p),
						F = L + 1,
						I = D + 1,
						B = c / L,
						N = d / D,
						z = [],
						U = [],
						Y = 0,
						X = 1,
						G = 0,
						H = 1;
					e && (Y = e.u0, X = e.u1, A ? (G = e.v1, H = e.v0) : (G = e.v0, H = e.v1)); var W = X - Y,
						V = H - G; for (O = 0; O < I; O++) { var j = O * N - M; for (P = 0; P < F; P++) { var $ = P * B - R;
							U.push($, -j); var q = Y + W * (P / L),
								K = G + V * (O / D);
							z.push(q, K) } } Array.isArray(S) || (S = [S]), Array.isArray(_) || (_ = [_]); var Z = 0,
						J = 0; for (O = 0; O < D; O++)
						for (P = 0; P < L; P++) { var Q = 2 * (P + F * O),
								tt = 2 * (P + F * (O + 1)),
								et = 2 * (P + 1 + F * (O + 1)),
								it = 2 * (P + 1 + F * O),
								nt = S[J],
								rt = _[Z],
								st = new a(U[Q], U[Q + 1], 0, z[Q], z[Q + 1], nt, rt).transformMat4(u),
								ot = new a(U[tt], U[tt + 1], 0, z[tt], z[tt + 1], nt, rt).transformMat4(u),
								at = new a(U[it], U[it + 1], 0, z[it], z[it + 1], nt, rt).transformMat4(u),
								lt = new a(U[tt], U[tt + 1], 0, z[tt], z[tt + 1], nt, rt).transformMat4(u),
								ht = new a(U[et], U[et + 1], 0, z[et], z[et + 1], nt, rt).transformMat4(u),
								ut = new a(U[it], U[it + 1], 0, z[it], z[it + 1], nt, rt).transformMat4(u);
							E && (st.setUVs(Y, H), ot.setUVs(Y, G), at.setUVs(X, H), lt.setUVs(Y, G), ht.setUVs(X, G), ut.setUVs(X, H)), ++J === S.length && (J = 0), ++Z === _.length && (Z = 0), k.verts.push(st, ot, at, lt, ht, ut), k.faces.push(new n(st, ot, at), new n(lt, ht, ut)) }
					return i && (i.faces = i.faces.concat(k.faces), i.vertices = i.vertices.concat(k.verts)), k } }, 34684: (t, e, i) => { var n = i(83997),
					r = i(37867),
					s = i(25836),
					o = i(39318),
					a = new s,
					l = new s,
					h = new r;
				t.exports = function(t, e, i, r, s, u, c, d, f, p) { void 0 === i && (i = 1), void 0 === r && (r = 0), void 0 === s && (s = 0), void 0 === u && (u = 0), void 0 === c && (c = 0), void 0 === d && (d = 0), void 0 === f && (f = 0), void 0 === p && (p = !0); var g = { faces: [], verts: [] },
						m = t.materials;
					a.set(r, s, u), l.set(c, d, f), h.fromRotationXYTranslation(l, a, p); for (var v = 0; v < t.models.length; v++)
						for (var y = t.models[v], x = y.vertices, b = y.textureCoords, w = y.faces, T = 0; T < w.length; T++) { var S = w[T],
								_ = S.vertices[0],
								E = S.vertices[1],
								A = S.vertices[2],
								C = x[_.vertexIndex],
								k = x[E.vertexIndex],
								P = x[A.vertexIndex],
								O = _.textureCoordsIndex,
								R = E.textureCoordsIndex,
								M = A.textureCoordsIndex,
								L = -1 === O ? { u: 0, v: 1 } : b[O],
								D = -1 === R ? { u: 0, v: 0 } : b[R],
								F = -1 === M ? { u: 1, v: 1 } : b[M],
								I = 16777215; "" !== S.material && m[S.material] && (I = m[S.material]); var B = new o(C.x * i, C.y * i, C.z * i, L.u, L.v, I).transformMat4(h),
								N = new o(k.x * i, k.y * i, k.z * i, D.u, D.v, I).transformMat4(h),
								z = new o(P.x * i, P.y * i, P.z * i, F.u, F.v, I).transformMat4(h);
							g.verts.push(B, N, z), g.faces.push(new n(B, N, z)) }
					return e && (e.faces = e.faces.concat(g.faces), e.vertices = e.vertices.concat(g.verts)), g } }, 92515: (t, e, i) => { var n = i(83997),
					r = i(39318);
				t.exports = function(t, e, i, s, o, a, l, h) { if (void 0 === s && (s = !1), void 0 === a && (a = 16777215), void 0 === l && (l = 1), void 0 === h && (h = !1), t.length === e.length || s) { var u, c, d, f, p, g, m, v, y, x, b, w = { faces: [], vertices: [] },
							T = s ? 3 : 2,
							S = Array.isArray(a),
							_ = Array.isArray(l); if (Array.isArray(i) && i.length > 0)
							for (u = 0; u < i.length; u++) { var E = i[u],
									A = 2 * i[u],
									C = i[u] * T;
								c = t[C], d = t[C + 1], f = s ? t[C + 2] : 0, p = e[A], g = e[A + 1], h && (g = 1 - g), m = S ? a[E] : a, v = _ ? l[E] : l, y = 0, x = 0, b = 0, o && (y = o[C], x = o[C + 1], b = s ? o[C + 2] : 0), w.vertices.push(new r(c, d, f, p, g, m, v, y, x, b)) } else { var k = 0,
									P = 0; for (u = 0; u < t.length; u += T) c = t[u], d = t[u + 1], f = s ? t[u + 2] : 0, p = e[k], g = e[k + 1], m = S ? a[P] : a, v = _ ? l[P] : l, y = 0, x = 0, b = 0, o && (y = o[u], x = o[u + 1], b = s ? o[u + 2] : 0), w.vertices.push(new r(c, d, f, p, g, m, v, y, x, b)), k += 2, P++ }
						for (u = 0; u < w.vertices.length; u += 3) { var O = w.vertices[u],
								R = w.vertices[u + 1],
								M = w.vertices[u + 2];
							w.faces.push(new n(O, R, M)) } return w } console.warn("GenerateVerts: vertices and uvs count not equal") } }, 85048: t => { var e = !0,
					i = "untitled",
					n = "",
					r = "";

				function s(t) { return 0 === t.models.length && t.models.push({ faces: [], name: i, textureCoords: [], vertexNormals: [], vertices: [] }), n = "", t.models[t.models.length - 1] }

				function o(t, e) { var r = t.length >= 2 ? t[1] : i;
					e.models.push({ faces: [], name: r, textureCoords: [], vertexNormals: [], vertices: [] }), n = "" }

				function a(t) { 2 === t.length && (n = t[1]) }

				function l(t, e) { var i = t.length,
						n = i >= 2 ? parseFloat(t[1]) : 0,
						r = i >= 3 ? parseFloat(t[2]) : 0,
						o = i >= 4 ? parseFloat(t[3]) : 0;
					s(e).vertices.push({ x: n, y: r, z: o }) }

				function h(t, i) { var n = t.length,
						r = n >= 2 ? parseFloat(t[1]) : 0,
						o = n >= 3 ? parseFloat(t[2]) : 0,
						a = n >= 4 ? parseFloat(t[3]) : 0;
					isNaN(r) && (r = 0), isNaN(o) && (o = 0), isNaN(a) && (a = 0), e && (o = 1 - o), s(i).textureCoords.push({ u: r, v: o, w: a }) }

				function u(t, e) { var i = t.length,
						n = i >= 2 ? parseFloat(t[1]) : 0,
						r = i >= 3 ? parseFloat(t[2]) : 0,
						o = i >= 4 ? parseFloat(t[3]) : 0;
					s(e).vertexNormals.push({ x: n, y: r, z: o }) }

				function c(t, e) { var i = t.length - 1; if (!(i < 3)) { for (var o = { group: n, material: r, vertices: [] }, a = 0; a < i; a++) { var l = t[a + 1].split("/"),
								h = l.length; if (!(h < 1 || h > 3)) { var u = 0,
									c = 0,
									d = 0;
								u = parseInt(l[0], 10), h > 1 && "" !== l[1] && (c = parseInt(l[1], 10)), h > 2 && (d = parseInt(l[2], 10)), 0 !== u && (u < 0 && (u = s(e).vertices.length + 1 + u), c -= 1, u -= 1, d -= 1, o.vertices.push({ textureCoordsIndex: c, vertexIndex: u, vertexNormalIndex: d })) } } s(e).faces.push(o) } }

				function d(t, e) { t.length >= 2 && e.materialLibraries.push(t[1]) }

				function f(t) { t.length >= 2 && (r = t[1]) } t.exports = function(t, i) { void 0 === i && (i = !0), e = i; var s, p, g = { materials: {}, materialLibraries: [], models: [] };
					n = "", r = ""; for (var m = t.split("\n"), v = 0; v < m.length; v++) { var y = (s = m[v], p = void 0, p = s.indexOf("#"), p > -1 ? s.substring(0, p) : s).replace(/\s\s+/g, " ").trim().split(" "); switch (y[0].toLowerCase()) {
							case "o":
								o(y, g); break;
							case "g":
								a(y); break;
							case "v":
								l(y, g); break;
							case "vt":
								h(y, g); break;
							case "vn":
								u(y, g); break;
							case "f":
								c(y, g); break;
							case "mtllib":
								d(y, g); break;
							case "usemtl":
								f(y) } } return g } }, 61485: (t, e, i) => { var n = i(37589);
				t.exports = function(t) { for (var e = {}, i = t.split("\n"), r = "", s = 0; s < i.length; s++) { var o = i[s].trim(); if (0 !== o.indexOf("#") && "" !== o) { var a = o.replace(/\s\s+/g, " ").trim().split(" "); switch (a[0].toLowerCase()) {
								case "newmtl":
									r = a[1]; break;
								case "kd":
									var l = Math.floor(255 * a[1]),
										h = a.length >= 2 ? Math.floor(255 * a[2]) : l,
										u = a.length >= 3 ? Math.floor(255 * a[3]) : l;
									e[r] = n(l, h, u) } } } return e } }, 92570: t => { t.exports = function(t, e, i, n) { var r, s; if (void 0 === i && void 0 === n) { var o = t.getInCenter();
						r = o.x, s = o.y } var a = Math.cos(e),
						l = Math.sin(e),
						h = t.vertex1,
						u = t.vertex2,
						c = t.vertex3,
						d = h.x - r,
						f = h.y - s;
					h.set(d * a - f * l + r, d * l + f * a + s), d = u.x - r, f = u.y - s, u.set(d * a - f * l + r, d * l + f * a + s), d = c.x - r, f = c.y - s, c.set(d * a - f * l + r, d * l + f * a + s) } }, 39318: (t, e, i) => { var n = i(83419),
					r = i(70554),
					s = i(25836),
					o = new n({ Extends: s, initialize: function(t, e, i, n, r, o, a, l, h, u) { void 0 === o && (o = 16777215), void 0 === a && (a = 1), void 0 === l && (l = 0), void 0 === h && (h = 0), void 0 === u && (u = 0), s.call(this, t, e, i), this.vx = 0, this.vy = 0, this.vz = 0, this.nx = l, this.ny = h, this.nz = u, this.u = n, this.v = r, this.color = o, this.alpha = a, this.tx = 0, this.ty = 0, this.ta = 0, this.tu = n, this.tv = r }, setUVs: function(t, e) { return this.u = t, this.v = e, this.tu = t, this.tv = e, this }, scrollUV: function(t, e) { return this.tu += t, this.tv += e, this }, scaleUV: function(t, e) { return this.tu = this.u * t, this.tv = this.v * e, this }, transformCoordinatesLocal: function(t, e, i, n) { var r = this.x,
								s = this.y,
								o = this.z,
								a = t.val,
								l = r * a[0] + s * a[4] + o * a[8] + a[12],
								h = r * a[1] + s * a[5] + o * a[9] + a[13],
								u = r * a[2] + s * a[6] + o * a[10] + a[14],
								c = r * a[3] + s * a[7] + o * a[11] + a[15];
							this.vx = l / c * e, this.vy = -h / c * i, this.vz = n <= 0 ? u / c : -u / c }, resize: function(t, e, i, n, r, s) { return this.x = t, this.y = e, this.vx = this.x * i, this.vy = -this.y * n, this.vz = 0, r < .5 ? this.vx += i * (.5 - r) : r > .5 && (this.vx -= i * (r - .5)), s < .5 ? this.vy += n * (.5 - s) : s > .5 && (this.vy -= n * (s - .5)), this }, update: function(t, e, i, n, r, s, o, a) { var l = this.vx * t + this.vy * i + r,
								h = this.vx * e + this.vy * n + s; return o && (l = Math.round(l), h = Math.round(h)), this.tx = l, this.ty = h, this.ta = this.alpha * a, this }, load: function(t, e, i, n, s) { return t[++i] = this.tx, t[++i] = this.ty, t[++i] = this.tu, t[++i] = this.tv, t[++i] = n, t[++i] = s, e[++i] = r.getTintAppendFloatAlpha(this.color, this.ta), i } });
				t.exports = o }, 73090: (t, e, i) => { var n = { Face: i(83997), GenerateGridVerts: i(48803), GenerateObjVerts: i(34684), GenerateVerts: i(92515), ParseObj: i(85048), ParseObjMaterial: i(61485), RotateFace: i(92570), Vertex: i(39318) };
				t.exports = n }, 96550: t => { t.exports = function(t) { return t.setTo(Math.ceil(t.x), Math.ceil(t.y)) } }, 99706: (t, e, i) => { var n = i(2141);
				t.exports = function(t) { return new n(t.x, t.y) } }, 68010: t => { t.exports = function(t, e) { return e.setTo(t.x, t.y) } }, 27814: t => { t.exports = function(t, e) { return t.x === e.x && t.y === e.y } }, 73565: t => { t.exports = function(t) { return t.setTo(Math.floor(t.x), Math.floor(t.y)) } }, 87555: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { if (void 0 === e && (e = new n), !Array.isArray(t)) throw new Error("GetCentroid points argument must be an array"); var i = t.length; if (i < 1) throw new Error("GetCentroid points array must not be empty"); if (1 === i) e.x = t[0].x, e.y = t[0].y;
					else { for (var r = 0; r < i; r++) e.x += t[r].x, e.y += t[r].y;
						e.x /= i, e.y /= i } return e } }, 28793: t => { t.exports = function(t) { return Math.sqrt(t.x * t.x + t.y * t.y) } }, 44405: t => { t.exports = function(t) { return t.x * t.x + t.y * t.y } }, 20873: (t, e, i) => { var n = i(87841);
				t.exports = function(t, e) { void 0 === e && (e = new n); for (var i = Number.NEGATIVE_INFINITY, r = Number.POSITIVE_INFINITY, s = Number.NEGATIVE_INFINITY, o = Number.POSITIVE_INFINITY, a = 0; a < t.length; a++) { var l = t[a];
						l.x > i && (i = l.x), l.x < r && (r = l.x), l.y > s && (s = l.y), l.y < o && (o = l.y) } return e.x = r, e.y = o, e.width = i - r, e.height = s - o, e } }, 26152: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e, i, r) { return void 0 === i && (i = 0), void 0 === r && (r = new n), r.x = t.x + (e.x - t.x) * i, r.y = t.y + (e.y - t.y) * i, r } }, 55767: t => { t.exports = function(t) { return t.setTo(t.y, t.x) } }, 79432: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.setTo(-t.x, -t.y) } }, 2141: (t, e, i) => { var n = i(83419),
					r = i(23777),
					s = new n({ initialize: function(t, e) { void 0 === t && (t = 0), void 0 === e && (e = t), this.type = r.POINT, this.x = t, this.y = e }, setTo: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.x = t, this.y = e, this } });
				t.exports = s }, 72930: (t, e, i) => { var n = i(2141),
					r = i(44405);
				t.exports = function(t, e, i) { void 0 === i && (i = new n); var s = (t.x * e.x + t.y * e.y) / r(e); return 0 !== s && (i.x = s * e.x, i.y = s * e.y), i } }, 62880: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e, i) { void 0 === i && (i = new n); var r = t.x * e.x + t.y * e.y; return 0 !== r && (i.x = r * e.x, i.y = r * e.y), i } }, 15093: (t, e, i) => { var n = i(28793);
				t.exports = function(t, e) { if (0 !== t.x || 0 !== t.y) { var i = n(t);
						t.x /= i, t.y /= i } return t.x *= e, t.y *= e, t } }, 43711: (t, e, i) => { var n = i(2141);
				n.Ceil = i(96550), n.Clone = i(99706), n.CopyFrom = i(68010), n.Equals = i(27814), n.Floor = i(73565), n.GetCentroid = i(87555), n.GetMagnitude = i(28793), n.GetMagnitudeSq = i(44405), n.GetRectangleFromPoints = i(20873), n.Interpolate = i(26152), n.Invert = i(55767), n.Negative = i(79432), n.Project = i(72930), n.ProjectUnit = i(62880), n.SetMagnitude = i(15093), t.exports = n }, 12306: (t, e, i) => { var n = i(25717);
				t.exports = function(t) { return new n(t.points) } }, 63814: t => { t.exports = function(t, e, i) { for (var n = !1, r = -1, s = t.points.length - 1; ++r < t.points.length; s = r) { var o = t.points[r].x,
							a = t.points[r].y,
							l = t.points[s].x,
							h = t.points[s].y;
						(a <= i && i < h || h <= i && i < a) && e < (l - o) * (i - a) / (h - a) + o && (n = !n) } return n } }, 99338: (t, e, i) => { var n = i(63814);
				t.exports = function(t, e) { return n(t, e.x, e.y) } }, 94811: t => {
				function e(t, e, n) { n = n || 2; var s, o, a, l, c, d, p, g = e && e.length,
						m = g ? e[0] * n : t.length,
						v = i(t, 0, m, n, !0),
						y = []; if (!v || v.next === v.prev) return y; if (g && (v = function(t, e, n, r) { var s, o, a, l = []; for (s = 0, o = e.length; s < o; s++)(a = i(t, e[s] * r, s < o - 1 ? e[s + 1] * r : t.length, r, !1)) === a.next && (a.steiner = !0), l.push(f(a)); for (l.sort(h), s = 0; s < l.length; s++) n = u(l[s], n); return n }(t, e, v, n)), t.length > 80 * n) { s = a = t[0], o = l = t[1]; for (var x = n; x < m; x += n)(c = t[x]) < s && (s = c), (d = t[x + 1]) < o && (o = d), c > a && (a = c), d > l && (l = d);
						p = 0 !== (p = Math.max(a - s, l - o)) ? 32767 / p : 0 } return r(v, y, n, s, o, p, 0), y }

				function i(t, e, i, n, r) { var s, o; if (r === A(t, e, i, n) > 0)
						for (s = e; s < i; s += n) o = S(s, t[s], t[s + 1], o);
					else
						for (s = i - n; s >= e; s -= n) o = S(s, t[s], t[s + 1], o); return o && v(o, o.next) && (_(o), o = o.next), o }

				function n(t, e) { if (!t) return t;
					e || (e = t); var i, n = t;
					do { if (i = !1, n.steiner || !v(n, n.next) && 0 !== m(n.prev, n, n.next)) n = n.next;
						else { if (_(n), (n = e = n.prev) === n.next) break;
							i = !0 } } while (i || n !== e); return e }

				function r(t, e, i, h, u, c, f) { if (t) {!f && c && function(t, e, i, n) { var r = t;
							do { 0 === r.z && (r.z = d(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next } while (r !== t);
							r.prevZ.nextZ = null, r.prevZ = null,
								function(t) { var e, i, n, r, s, o, a, l, h = 1;
									do { for (i = t, t = null, s = null, o = 0; i;) { for (o++, n = i, a = 0, e = 0; e < h && (a++, n = n.nextZ); e++); for (l = h; a > 0 || l > 0 && n;) 0 !== a && (0 === l || !n || i.z <= n.z) ? (r = i, i = i.nextZ, a--) : (r = n, n = n.nextZ, l--), s ? s.nextZ = r : t = r, r.prevZ = s, s = r;
											i = n } s.nextZ = null, h *= 2 } while (o > 1) }(r) }(t, h, u, c); for (var p, g, m = t; t.prev !== t.next;)
							if (p = t.prev, g = t.next, c ? o(t, h, u, c) : s(t)) e.push(p.i / i | 0), e.push(t.i / i | 0), e.push(g.i / i | 0), _(t), t = g.next, m = g.next;
							else if ((t = g) === m) { f ? 1 === f ? r(t = a(n(t), e, i), e, i, h, u, c, 2) : 2 === f && l(t, e, i, h, u, c) : r(n(t), e, i, h, u, c, 1); break } } }

				function s(t) { var e = t.prev,
						i = t,
						n = t.next; if (m(e, i, n) >= 0) return !1; for (var r = e.x, s = i.x, o = n.x, a = e.y, l = i.y, h = n.y, u = r < s ? r < o ? r : o : s < o ? s : o, c = a < l ? a < h ? a : h : l < h ? l : h, d = r > s ? r > o ? r : o : s > o ? s : o, f = a > l ? a > h ? a : h : l > h ? l : h, g = n.next; g !== e;) { if (g.x >= u && g.x <= d && g.y >= c && g.y <= f && p(r, a, s, l, o, h, g.x, g.y) && m(g.prev, g, g.next) >= 0) return !1;
						g = g.next } return !0 }

				function o(t, e, i, n) { var r = t.prev,
						s = t,
						o = t.next; if (m(r, s, o) >= 0) return !1; for (var a = r.x, l = s.x, h = o.x, u = r.y, c = s.y, f = o.y, g = a < l ? a < h ? a : h : l < h ? l : h, v = u < c ? u < f ? u : f : c < f ? c : f, y = a > l ? a > h ? a : h : l > h ? l : h, x = u > c ? u > f ? u : f : c > f ? c : f, b = d(g, v, e, i, n), w = d(y, x, e, i, n), T = t.prevZ, S = t.nextZ; T && T.z >= b && S && S.z <= w;) { if (T.x >= g && T.x <= y && T.y >= v && T.y <= x && T !== r && T !== o && p(a, u, l, c, h, f, T.x, T.y) && m(T.prev, T, T.next) >= 0) return !1; if (T = T.prevZ, S.x >= g && S.x <= y && S.y >= v && S.y <= x && S !== r && S !== o && p(a, u, l, c, h, f, S.x, S.y) && m(S.prev, S, S.next) >= 0) return !1;
						S = S.nextZ } for (; T && T.z >= b;) { if (T.x >= g && T.x <= y && T.y >= v && T.y <= x && T !== r && T !== o && p(a, u, l, c, h, f, T.x, T.y) && m(T.prev, T, T.next) >= 0) return !1;
						T = T.prevZ } for (; S && S.z <= w;) { if (S.x >= g && S.x <= y && S.y >= v && S.y <= x && S !== r && S !== o && p(a, u, l, c, h, f, S.x, S.y) && m(S.prev, S, S.next) >= 0) return !1;
						S = S.nextZ } return !0 }

				function a(t, e, i) { var r = t;
					do { var s = r.prev,
							o = r.next.next;!v(s, o) && y(s, r, r.next, o) && w(s, o) && w(o, s) && (e.push(s.i / i | 0), e.push(r.i / i | 0), e.push(o.i / i | 0), _(r), _(r.next), r = t = o), r = r.next } while (r !== t); return n(r) }

				function l(t, e, i, s, o, a) { var l = t;
					do { for (var h = l.next.next; h !== l.prev;) { if (l.i !== h.i && g(l, h)) { var u = T(l, h); return l = n(l, l.next), u = n(u, u.next), r(l, e, i, s, o, a, 0), void r(u, e, i, s, o, a, 0) } h = h.next } l = l.next } while (l !== t) }

				function h(t, e) { return t.x - e.x }

				function u(t, e) { var i = function(t, e) { var i, n = e,
							r = t.x,
							s = t.y,
							o = -1 / 0;
						do { if (s <= n.y && s >= n.next.y && n.next.y !== n.y) { var a = n.x + (s - n.y) * (n.next.x - n.x) / (n.next.y - n.y); if (a <= r && a > o && (o = a, i = n.x < n.next.x ? n : n.next, a === r)) return i } n = n.next } while (n !== e); if (!i) return null; var l, h = i,
							u = i.x,
							d = i.y,
							f = 1 / 0;
						n = i;
						do { r >= n.x && n.x >= u && r !== n.x && p(s < d ? r : o, s, u, d, s < d ? o : r, s, n.x, n.y) && (l = Math.abs(s - n.y) / (r - n.x), w(n, t) && (l < f || l === f && (n.x > i.x || n.x === i.x && c(i, n))) && (i = n, f = l)), n = n.next } while (n !== h); return i }(t, e); if (!i) return e; var r = T(i, t); return n(r, r.next), n(i, i.next) }

				function c(t, e) { return m(t.prev, t, e.prev) < 0 && m(e.next, t, t.next) < 0 }

				function d(t, e, i, n, r) { return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = (t - i) * r | 0) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = (e - n) * r | 0) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1 }

				function f(t) { var e = t,
						i = t;
					do {
						(e.x < i.x || e.x === i.x && e.y < i.y) && (i = e), e = e.next } while (e !== t); return i }

				function p(t, e, i, n, r, s, o, a) { return (r - o) * (e - a) >= (t - o) * (s - a) && (t - o) * (n - a) >= (i - o) * (e - a) && (i - o) * (s - a) >= (r - o) * (n - a) }

				function g(t, e) { return t.next.i !== e.i && t.prev.i !== e.i && ! function(t, e) { var i = t;
						do { if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && y(i, i.next, t, e)) return !0;
							i = i.next } while (i !== t); return !1 }(t, e) && (w(t, e) && w(e, t) && function(t, e) { var i = t,
							n = !1,
							r = (t.x + e.x) / 2,
							s = (t.y + e.y) / 2;
						do { i.y > s != i.next.y > s && i.next.y !== i.y && r < (i.next.x - i.x) * (s - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next } while (i !== t); return n }(t, e) && (m(t.prev, t, e.prev) || m(t, e.prev, e)) || v(t, e) && m(t.prev, t, t.next) > 0 && m(e.prev, e, e.next) > 0) }

				function m(t, e, i) { return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y) }

				function v(t, e) { return t.x === e.x && t.y === e.y }

				function y(t, e, i, n) { var r = b(m(t, e, i)),
						s = b(m(t, e, n)),
						o = b(m(i, n, t)),
						a = b(m(i, n, e)); return r !== s && o !== a || !(0 !== r || !x(t, i, e)) || !(0 !== s || !x(t, n, e)) || !(0 !== o || !x(i, t, n)) || !(0 !== a || !x(i, e, n)) }

				function x(t, e, i) { return e.x <= Math.max(t.x, i.x) && e.x >= Math.min(t.x, i.x) && e.y <= Math.max(t.y, i.y) && e.y >= Math.min(t.y, i.y) }

				function b(t) { return t > 0 ? 1 : t < 0 ? -1 : 0 }

				function w(t, e) { return m(t.prev, t, t.next) < 0 ? m(t, e, t.next) >= 0 && m(t, t.prev, e) >= 0 : m(t, e, t.prev) < 0 || m(t, t.next, e) < 0 }

				function T(t, e) { var i = new E(t.i, t.x, t.y),
						n = new E(e.i, e.x, e.y),
						r = t.next,
						s = e.prev; return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, s.next = n, n.prev = s, n }

				function S(t, e, i, n) { var r = new E(t, e, i); return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r }

				function _(t) { t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ) }

				function E(t, e, i) { this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = !1 }

				function A(t, e, i, n) { for (var r = 0, s = e, o = i - n; s < i; s += n) r += (t[o] - t[s]) * (t[s + 1] + t[o + 1]), o = s; return r } e.deviation = function(t, e, i, n) { var r = e && e.length,
						s = r ? e[0] * i : t.length,
						o = Math.abs(A(t, 0, s, i)); if (r)
						for (var a = 0, l = e.length; a < l; a++) { var h = e[a] * i,
								u = a < l - 1 ? e[a + 1] * i : t.length;
							o -= Math.abs(A(t, h, u, i)) }
					var c = 0; for (a = 0; a < n.length; a += 3) { var d = n[a] * i,
							f = n[a + 1] * i,
							p = n[a + 2] * i;
						c += Math.abs((t[d] - t[p]) * (t[f + 1] - t[d + 1]) - (t[d] - t[f]) * (t[p + 1] - t[d + 1])) } return 0 === o && 0 === c ? 0 : Math.abs((c - o) / o) }, e.flatten = function(t) { for (var e = t[0][0].length, i = { vertices: [], holes: [], dimensions: e }, n = 0, r = 0; r < t.length; r++) { for (var s = 0; s < t[r].length; s++)
							for (var o = 0; o < e; o++) i.vertices.push(t[r][s][o]);
						r > 0 && (n += t[r - 1].length, i.holes.push(n)) } return i }, t.exports = e }, 13829: (t, e, i) => { var n = i(87841);
				t.exports = function(t, e) { void 0 === e && (e = new n); for (var i, r = 1 / 0, s = 1 / 0, o = -r, a = -s, l = 0; l < t.points.length; l++) i = t.points[l], r = Math.min(r, i.x), s = Math.min(s, i.y), o = Math.max(o, i.x), a = Math.max(a, i.y); return e.x = r, e.y = s, e.width = o - r, e.height = a - s, e } }, 26173: t => { t.exports = function(t, e) { void 0 === e && (e = []); for (var i = 0; i < t.points.length; i++) e.push(t.points[i].x), e.push(t.points[i].y); return e } }, 9564: (t, e, i) => { var n = i(35001),
					r = i(23031),
					s = i(30052);
				t.exports = function(t, e, i, o) { void 0 === o && (o = []); var a = t.points,
						l = s(t);!e && i > 0 && (e = l / i); for (var h = 0; h < e; h++)
						for (var u = l * (h / e), c = 0, d = 0; d < a.length; d++) { var f = a[d],
								p = a[(d + 1) % a.length],
								g = new r(f.x, f.y, p.x, p.y),
								m = n(g); if (!(u < c || u > c + m)) { var v = g.getPoint((u - c) / m);
								o.push(v); break } c += m }
					return o } }, 30052: (t, e, i) => { var n = i(35001),
					r = i(23031);
				t.exports = function(t) { for (var e = t.points, i = 0, s = 0; s < e.length; s++) { var o = e[s],
							a = e[(s + 1) % e.length],
							l = new r(o.x, o.y, a.x, a.y);
						i += n(l) } return i } }, 25717: (t, e, i) => { var n = i(83419),
					r = i(63814),
					s = i(9564),
					o = i(23777),
					a = new n({ initialize: function(t) { this.type = o.POLYGON, this.area = 0, this.points = [], t && this.setTo(t) }, contains: function(t, e) { return r(this, t, e) }, setTo: function(t) { if (this.area = 0, this.points = [], "string" == typeof t && (t = t.split(" ")), !Array.isArray(t)) return this; for (var e, i = 0; i < t.length; i++) e = { x: 0, y: 0 }, "number" == typeof t[i] || "string" == typeof t[i] ? (e.x = parseFloat(t[i]), e.y = parseFloat(t[i + 1]), i++) : Array.isArray(t[i]) ? (e.x = t[i][0], e.y = t[i][1]) : (e.x = t[i].x, e.y = t[i].y), this.points.push(e); return this.calculateArea(), this }, calculateArea: function() { if (this.points.length < 3) return this.area = 0, this.area; for (var t, e, i = 0, n = 0; n < this.points.length - 1; n++) t = this.points[n], i += ((e = this.points[n + 1]).x - t.x) * (t.y + e.y); return t = this.points[0], e = this.points[this.points.length - 1], i += (t.x - e.x) * (e.y + t.y), this.area = .5 * -i, this.area }, getPoints: function(t, e, i) { return s(this, t, e, i) } });
				t.exports = a }, 8133: t => { t.exports = function(t) { return t.points.reverse(), t } }, 29524: t => {
				function e(t, e, i) { var n = e.x,
						r = e.y,
						s = i.x - n,
						o = i.y - r; if (0 !== s || 0 !== o) { var a = ((t.x - n) * s + (t.y - r) * o) / (s * s + o * o);
						a > 1 ? (n = i.x, r = i.y) : a > 0 && (n += s * a, r += o * a) } return (s = t.x - n) * s + (o = t.y - r) * o }

				function i(t, n, r, s, o) { for (var a, l = s, h = n + 1; h < r; h++) { var u = e(t[h], t[n], t[r]);
						u > l && (a = h, l = u) } l > s && (a - n > 1 && i(t, n, a, s, o), o.push(t[a]), r - a > 1 && i(t, a, r, s, o)) }

				function n(t, e) { var n = t.length - 1,
						r = [t[0]]; return i(t, 0, n, e, r), r.push(t[n]), r } t.exports = function(t, e, i) { void 0 === e && (e = 1), void 0 === i && (i = !1); var r = t.points; if (r.length > 2) { var s = e * e;
						i || (r = function(t, e) { for (var i, n, r, s, o, a = t[0], l = [a], h = 1, u = t.length; h < u; h++) r = a, void 0, void 0, (s = (n = i = t[h]).x - r.x) * s + (o = n.y - r.y) * o > e && (l.push(i), a = i); return a !== i && l.push(i), l }(r, s)), t.setTo(n(r, s)) } return t } }, 5469: t => { var e = function(t, e) { return t[0] = e[0], t[1] = e[1], t };
				t.exports = function(t) { var i, n = [],
						r = t.points; for (i = 0; i < r.length; i++) n.push([r[i].x, r[i].y]); var s = []; for (n.length > 0 && s.push(e([0, 0], n[0])), i = 0; i < n.length - 1; i++) { var o = n[i],
							a = n[i + 1],
							l = o[0],
							h = o[1],
							u = a[0],
							c = a[1];
						s.push([.85 * l + .15 * u, .85 * h + .15 * c]), s.push([.15 * l + .85 * u, .15 * h + .85 * c]) } return n.length > 1 && s.push(e([0, 0], n[n.length - 1])), t.setTo(s) } }, 24709: t => { t.exports = function(t, e, i) { for (var n = t.points, r = 0; r < n.length; r++) n[r].x += e, n[r].y += i; return t } }, 58423: (t, e, i) => { var n = i(25717);
				n.Clone = i(12306), n.Contains = i(63814), n.ContainsPoint = i(99338), n.Earcut = i(94811), n.GetAABB = i(13829), n.GetNumberArray = i(26173), n.GetPoints = i(9564), n.Perimeter = i(30052), n.Reverse = i(8133), n.Simplify = i(29524), n.Smooth = i(5469), n.Translate = i(24709), t.exports = n }, 62224: t => { t.exports = function(t) { return t.width * t.height } }, 98615: t => { t.exports = function(t) { return t.x = Math.ceil(t.x), t.y = Math.ceil(t.y), t } }, 31688: t => { t.exports = function(t) { return t.x = Math.ceil(t.x), t.y = Math.ceil(t.y), t.width = Math.ceil(t.width), t.height = Math.ceil(t.height), t } }, 67502: t => { t.exports = function(t, e, i) { return t.x = e - t.width / 2, t.y = i - t.height / 2, t } }, 65085: (t, e, i) => { var n = i(87841);
				t.exports = function(t) { return new n(t.x, t.y, t.width, t.height) } }, 37303: t => { t.exports = function(t, e, i) { return !(t.width <= 0 || t.height <= 0) && t.x <= e && t.x + t.width >= e && t.y <= i && t.y + t.height >= i } }, 96553: (t, e, i) => { var n = i(37303);
				t.exports = function(t, e) { return n(t, e.x, e.y) } }, 70273: t => { t.exports = function(t, e) { return !(e.width * e.height > t.width * t.height) && e.x > t.x && e.x < t.right && e.right > t.x && e.right < t.right && e.y > t.y && e.y < t.bottom && e.bottom > t.y && e.bottom < t.bottom } }, 43459: t => { t.exports = function(t, e) { return e.setTo(t.x, t.y, t.width, t.height) } }, 77493: t => { t.exports = function(t, e) { return void 0 === e && (e = []), e.push({ x: t.x, y: t.y }), e.push({ x: t.right, y: t.y }), e.push({ x: t.right, y: t.bottom }), e.push({ x: t.x, y: t.bottom }), e } }, 9219: t => { t.exports = function(t, e) { return t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height } }, 53751: (t, e, i) => { var n = i(8249);
				t.exports = function(t, e) { var i = n(t); return i < n(e) ? t.setSize(e.height * i, e.height) : t.setSize(e.width, e.width / i), t.setPosition(e.centerX - t.width / 2, e.centerY - t.height / 2) } }, 16088: (t, e, i) => { var n = i(8249);
				t.exports = function(t, e) { var i = n(t); return i > n(e) ? t.setSize(e.height * i, e.height) : t.setSize(e.width, e.width / i), t.setPosition(e.centerX - t.width / 2, e.centerY - t.height / 2) } }, 80774: t => { t.exports = function(t) { return t.x = Math.floor(t.x), t.y = Math.floor(t.y), t } }, 83859: t => { t.exports = function(t) { return t.x = Math.floor(t.x), t.y = Math.floor(t.y), t.width = Math.floor(t.width), t.height = Math.floor(t.height), t } }, 19217: (t, e, i) => { var n = i(87841),
					r = i(36383);
				t.exports = function(t, e) { if (void 0 === e && (e = new n), 0 === t.length) return e; for (var i, s, o, a = Number.MAX_VALUE, l = Number.MAX_VALUE, h = r.MIN_SAFE_INTEGER, u = r.MIN_SAFE_INTEGER, c = 0; c < t.length; c++) i = t[c], Array.isArray(i) ? (s = i[0], o = i[1]) : (s = i.x, o = i.y), a = Math.min(a, s), l = Math.min(l, o), h = Math.max(h, s), u = Math.max(u, o); return e.x = a, e.y = l, e.width = h - a, e.height = u - l, e } }, 9477: (t, e, i) => { var n = i(87841);
				t.exports = function(t, e, i, r, s) { return void 0 === s && (s = new n), s.setTo(Math.min(t, i), Math.min(e, r), Math.abs(t - i), Math.abs(e - r)) } }, 8249: t => { t.exports = function(t) { return 0 === t.height ? NaN : t.width / t.height } }, 27165: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.x = t.centerX, e.y = t.centerY, e } }, 20812: (t, e, i) => { var n = i(13019),
					r = i(2141);
				t.exports = function(t, e, i) { if (void 0 === i && (i = new r), e <= 0 || e >= 1) return i.x = t.x, i.y = t.y, i; var s = n(t) * e; return e > .5 ? (s -= t.width + t.height) <= t.width ? (i.x = t.right - s, i.y = t.bottom) : (i.x = t.x, i.y = t.bottom - (s - t.width)) : s <= t.width ? (i.x = t.x + s, i.y = t.y) : (i.x = t.right, i.y = t.y + (s - t.width)), i } }, 34819: (t, e, i) => { var n = i(20812),
					r = i(13019);
				t.exports = function(t, e, i, s) { void 0 === s && (s = []), !e && i > 0 && (e = r(t) / i); for (var o = 0; o < e; o++) { var a = o / e;
						s.push(n(t, a)) } return s } }, 51313: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.x = t.width, e.y = t.height, e } }, 86091: (t, e, i) => { var n = i(67502);
				t.exports = function(t, e, i) { var r = t.centerX,
						s = t.centerY; return t.setSize(t.width + 2 * e, t.height + 2 * i), n(t, r, s) } }, 53951: (t, e, i) => { var n = i(87841),
					r = i(59996);
				t.exports = function(t, e, i) { return void 0 === i && (i = new n), r(t, e) ? (i.x = Math.max(t.x, e.x), i.y = Math.max(t.y, e.y), i.width = Math.min(t.right, e.right) - i.x, i.height = Math.min(t.bottom, e.bottom) - i.y) : i.setEmpty(), i } }, 14649: (t, e, i) => { var n = i(13019),
					r = i(2141);
				t.exports = function(t, e, i, s) { if (void 0 === s && (s = []), !e && !i) return s;
					e ? i = Math.round(n(t) / e) : e = n(t) / i; for (var o = t.x, a = t.y, l = 0, h = 0; h < i; h++) switch (s.push(new r(o, a)), l) {
						case 0:
							(o += e) >= t.right && (l = 1, a += o - t.right, o = t.right); break;
						case 1:
							(a += e) >= t.bottom && (l = 2, o -= a - t.bottom, a = t.bottom); break;
						case 2:
							(o -= e) <= t.left && (l = 3, a -= t.left - o, o = t.left); break;
						case 3:
							(a -= e) <= t.top && (l = 0, a = t.top) }
					return s } }, 33595: t => { t.exports = function(t, e) { for (var i = t.x, n = t.right, r = t.y, s = t.bottom, o = 0; o < e.length; o++) i = Math.min(i, e[o].x), n = Math.max(n, e[o].x), r = Math.min(r, e[o].y), s = Math.max(s, e[o].y); return t.x = i, t.y = r, t.width = n - i, t.height = s - r, t } }, 20074: t => { t.exports = function(t, e) { var i = Math.min(t.x, e.x),
						n = Math.max(t.right, e.right);
					t.x = i, t.width = n - i; var r = Math.min(t.y, e.y),
						s = Math.max(t.bottom, e.bottom); return t.y = r, t.height = s - r, t } }, 92171: t => { t.exports = function(t, e, i) { var n = Math.min(t.x, e),
						r = Math.max(t.right, e);
					t.x = n, t.width = r - n; var s = Math.min(t.y, i),
						o = Math.max(t.bottom, i); return t.y = s, t.height = o - s, t } }, 42981: t => { t.exports = function(t, e, i) { return t.x += e, t.y += i, t } }, 46907: t => { t.exports = function(t, e) { return t.x += e.x, t.y += e.y, t } }, 60170: t => { t.exports = function(t, e) { return t.x < e.right && t.right > e.x && t.y < e.bottom && t.bottom > e.y } }, 13019: t => { t.exports = function(t) { return 2 * (t.width + t.height) } }, 85133: (t, e, i) => { var n = i(2141),
					r = i(39506);
				t.exports = function(t, e, i) { void 0 === i && (i = new n), e = r(e); var s = Math.sin(e),
						o = Math.cos(e),
						a = o > 0 ? t.width / 2 : t.width / -2,
						l = s > 0 ? t.height / 2 : t.height / -2; return Math.abs(a * s) < Math.abs(l * o) ? l = a * s / o : a = l * o / s, i.x = a + t.centerX, i.y = l + t.centerY, i } }, 26597: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.x = t.x + Math.random() * t.width, e.y = t.y + Math.random() * t.height, e } }, 86470: (t, e, i) => { var n = i(30976),
					r = i(70273),
					s = i(2141);
				t.exports = function(t, e, i) { if (void 0 === i && (i = new s), r(t, e)) switch (n(0, 3)) {
						case 0:
							i.x = t.x + Math.random() * (e.right - t.x), i.y = t.y + Math.random() * (e.top - t.y); break;
						case 1:
							i.x = e.x + Math.random() * (t.right - e.x), i.y = e.bottom + Math.random() * (t.bottom - e.bottom); break;
						case 2:
							i.x = t.x + Math.random() * (e.x - t.x), i.y = e.y + Math.random() * (t.bottom - e.y); break;
						case 3:
							i.x = e.right + Math.random() * (t.right - e.right), i.y = t.y + Math.random() * (e.bottom - t.y) }
					return i } }, 87841: (t, e, i) => { var n = i(83419),
					r = i(37303),
					s = i(20812),
					o = i(34819),
					a = i(23777),
					l = i(23031),
					h = i(26597),
					u = new n({ initialize: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.type = a.RECTANGLE, this.x = t, this.y = e, this.width = i, this.height = n }, contains: function(t, e) { return r(this, t, e) }, getPoint: function(t, e) { return s(this, t, e) }, getPoints: function(t, e, i) { return o(this, t, e, i) }, getRandomPoint: function(t) { return h(this, t) }, setTo: function(t, e, i, n) { return this.x = t, this.y = e, this.width = i, this.height = n, this }, setEmpty: function() { return this.setTo(0, 0, 0, 0) }, setPosition: function(t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setSize: function(t, e) { return void 0 === e && (e = t), this.width = t, this.height = e, this }, isEmpty: function() { return this.width <= 0 || this.height <= 0 }, getLineA: function(t) { return void 0 === t && (t = new l), t.setTo(this.x, this.y, this.right, this.y), t }, getLineB: function(t) { return void 0 === t && (t = new l), t.setTo(this.right, this.y, this.right, this.bottom), t }, getLineC: function(t) { return void 0 === t && (t = new l), t.setTo(this.right, this.bottom, this.x, this.bottom), t }, getLineD: function(t) { return void 0 === t && (t = new l), t.setTo(this.x, this.bottom, this.x, this.y), t }, left: { get: function() { return this.x }, set: function(t) { t >= this.right ? this.width = 0 : this.width = this.right - t, this.x = t } }, right: { get: function() { return this.x + this.width }, set: function(t) { t <= this.x ? this.width = 0 : this.width = t - this.x } }, top: { get: function() { return this.y }, set: function(t) { t >= this.bottom ? this.height = 0 : this.height = this.bottom - t, this.y = t } }, bottom: { get: function() { return this.y + this.height }, set: function(t) { t <= this.y ? this.height = 0 : this.height = t - this.y } }, centerX: { get: function() { return this.x + this.width / 2 }, set: function(t) { this.x = t - this.width / 2 } }, centerY: { get: function() { return this.y + this.height / 2 }, set: function(t) { this.y = t - this.height / 2 } } });
				t.exports = u }, 94845: t => { t.exports = function(t, e) { return t.width === e.width && t.height === e.height } }, 31730: t => { t.exports = function(t, e, i) { return void 0 === i && (i = e), t.width *= e, t.height *= i, t } }, 36899: (t, e, i) => { var n = i(87841);
				t.exports = function(t, e, i) { void 0 === i && (i = new n); var r = Math.min(t.x, e.x),
						s = Math.min(t.y, e.y),
						o = Math.max(t.right, e.right) - r,
						a = Math.max(t.bottom, e.bottom) - s; return i.setTo(r, s, o, a) } }, 93232: (t, e, i) => { var n = i(87841);
				n.Area = i(62224), n.Ceil = i(98615), n.CeilAll = i(31688), n.CenterOn = i(67502), n.Clone = i(65085), n.Contains = i(37303), n.ContainsPoint = i(96553), n.ContainsRect = i(70273), n.CopyFrom = i(43459), n.Decompose = i(77493), n.Equals = i(9219), n.FitInside = i(53751), n.FitOutside = i(16088), n.Floor = i(80774), n.FloorAll = i(83859), n.FromPoints = i(19217), n.FromXY = i(9477), n.GetAspectRatio = i(8249), n.GetCenter = i(27165), n.GetPoint = i(20812), n.GetPoints = i(34819), n.GetSize = i(51313), n.Inflate = i(86091), n.Intersection = i(53951), n.MarchingAnts = i(14649), n.MergePoints = i(33595), n.MergeRect = i(20074), n.MergeXY = i(92171), n.Offset = i(42981), n.OffsetPoint = i(46907), n.Overlaps = i(60170), n.Perimeter = i(13019), n.PerimeterPoint = i(85133), n.Random = i(26597), n.RandomOutside = i(86470), n.SameDimensions = i(94845), n.Scale = i(31730), n.Union = i(36899), t.exports = n }, 41658: t => { t.exports = function(t) { var e = t.x1,
						i = t.y1,
						n = t.x2,
						r = t.y2,
						s = t.x3,
						o = t.y3; return Math.abs(((s - e) * (r - i) - (n - e) * (o - i)) / 2) } }, 39208: (t, e, i) => { var n = i(16483);
				t.exports = function(t, e, i) { var r = i * (Math.sqrt(3) / 2); return new n(t, e, t + i / 2, e + r, t - i / 2, e + r) } }, 39545: (t, e, i) => { var n = i(94811),
					r = i(16483);
				t.exports = function(t, e, i, s, o) { void 0 === e && (e = null), void 0 === i && (i = 1), void 0 === s && (s = 1), void 0 === o && (o = []); for (var a, l, h, u, c, d, f, p, g, m = n(t, e), v = 0; v < m.length; v += 3) a = m[v], l = m[v + 1], h = m[v + 2], u = t[2 * a] * i, c = t[2 * a + 1] * s, d = t[2 * l] * i, f = t[2 * l + 1] * s, p = t[2 * h] * i, g = t[2 * h + 1] * s, o.push(new r(u, c, d, f, p, g)); return o } }, 90301: (t, e, i) => { var n = i(16483);
				t.exports = function(t, e, i, r) { return void 0 === r && (r = i), new n(t, e, t, e - r, t + i, e) } }, 23707: (t, e, i) => { var n = i(97523),
					r = i(13584);
				t.exports = function(t, e, i, s) { void 0 === s && (s = n); var o = s(t),
						a = e - o.x,
						l = i - o.y; return r(t, a, l) } }, 97523: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { return void 0 === e && (e = new n), e.x = (t.x1 + t.x2 + t.x3) / 3, e.y = (t.y1 + t.y2 + t.y3) / 3, e } }, 24951: (t, e, i) => { var n = i(26099);

				function r(t, e, i, n) { return t * n - e * i } t.exports = function(t, e) { void 0 === e && (e = new n); var i = t.x3,
						s = t.y3,
						o = t.x1 - i,
						a = t.y1 - s,
						l = t.x2 - i,
						h = t.y2 - s,
						u = 2 * r(o, a, l, h),
						c = r(a, o * o + a * a, h, l * l + h * h),
						d = r(o, o * o + a * a, l, l * l + h * h); return e.x = i - c / u, e.y = s + d / u, e } }, 85614: (t, e, i) => { var n = i(96503);
				t.exports = function(t, e) { void 0 === e && (e = new n); var i, r, s = t.x1,
						o = t.y1,
						a = t.x2,
						l = t.y2,
						h = t.x3,
						u = t.y3,
						c = a - s,
						d = l - o,
						f = h - s,
						p = u - o,
						g = c * (s + a) + d * (o + l),
						m = f * (s + h) + p * (o + u),
						v = 2 * (c * (u - l) - d * (h - a)); if (Math.abs(v) < 1e-6) { var y = Math.min(s, a, h),
							x = Math.min(o, l, u);
						i = .5 * (Math.max(s, a, h) - y), r = .5 * (Math.max(o, l, u) - x), e.x = y + i, e.y = x + r, e.radius = Math.sqrt(i * i + r * r) } else e.x = (p * g - d * m) / v, e.y = (c * m - f * g) / v, i = e.x - s, r = e.y - o, e.radius = Math.sqrt(i * i + r * r); return e } }, 74422: (t, e, i) => { var n = i(16483);
				t.exports = function(t) { return new n(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) } }, 10690: t => { t.exports = function(t, e, i) { var n = t.x3 - t.x1,
						r = t.y3 - t.y1,
						s = t.x2 - t.x1,
						o = t.y2 - t.y1,
						a = e - t.x1,
						l = i - t.y1,
						h = n * n + r * r,
						u = n * s + r * o,
						c = n * a + r * l,
						d = s * s + o * o,
						f = s * a + o * l,
						p = h * d - u * u,
						g = 0 === p ? 0 : 1 / p,
						m = (d * c - u * f) * g,
						v = (h * f - u * c) * g; return m >= 0 && v >= 0 && m + v < 1 } }, 48653: t => { t.exports = function(t, e, i, n) { void 0 === i && (i = !1), void 0 === n && (n = []); for (var r, s, o, a, l, h, u = t.x3 - t.x1, c = t.y3 - t.y1, d = t.x2 - t.x1, f = t.y2 - t.y1, p = u * u + c * c, g = u * d + c * f, m = d * d + f * f, v = p * m - g * g, y = 0 === v ? 0 : 1 / v, x = t.x1, b = t.y1, w = 0; w < e.length && (s = (p * (h = d * (o = e[w].x - x) + f * (a = e[w].y - b)) - g * (l = u * o + c * a)) * y, !((r = (m * l - g * h) * y) >= 0 && s >= 0 && r + s < 1 && (n.push({ x: e[w].x, y: e[w].y }), i))); w++); return n } }, 96006: (t, e, i) => { var n = i(10690);
				t.exports = function(t, e) { return n(t, e.x, e.y) } }, 71326: t => { t.exports = function(t, e) { return e.setTo(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) } }, 71694: t => { t.exports = function(t, e) { return void 0 === e && (e = []), e.push({ x: t.x1, y: t.y1 }), e.push({ x: t.x2, y: t.y2 }), e.push({ x: t.x3, y: t.y3 }), e } }, 33522: t => { t.exports = function(t, e) { return t.x1 === e.x1 && t.y1 === e.y1 && t.x2 === e.x2 && t.y2 === e.y2 && t.x3 === e.x3 && t.y3 === e.y3 } }, 20437: (t, e, i) => { var n = i(2141),
					r = i(35001);
				t.exports = function(t, e, i) { void 0 === i && (i = new n); var s = t.getLineA(),
						o = t.getLineB(),
						a = t.getLineC(); if (e <= 0 || e >= 1) return i.x = s.x1, i.y = s.y1, i; var l = r(s),
						h = r(o),
						u = r(a),
						c = (l + h + u) * e,
						d = 0; return c < l ? (d = c / l, i.x = s.x1 + (s.x2 - s.x1) * d, i.y = s.y1 + (s.y2 - s.y1) * d) : c > l + h ? (d = (c -= l + h) / u, i.x = a.x1 + (a.x2 - a.x1) * d, i.y = a.y1 + (a.y2 - a.y1) * d) : (d = (c -= l) / h, i.x = o.x1 + (o.x2 - o.x1) * d, i.y = o.y1 + (o.y2 - o.y1) * d), i } }, 80672: (t, e, i) => { var n = i(35001),
					r = i(2141);
				t.exports = function(t, e, i, s) { void 0 === s && (s = []); var o = t.getLineA(),
						a = t.getLineB(),
						l = t.getLineC(),
						h = n(o),
						u = n(a),
						c = n(l),
						d = h + u + c;!e && i > 0 && (e = d / i); for (var f = 0; f < e; f++) { var p = d * (f / e),
							g = 0,
							m = new r;
						p < h ? (g = p / h, m.x = o.x1 + (o.x2 - o.x1) * g, m.y = o.y1 + (o.y2 - o.y1) * g) : p > h + u ? (g = (p -= h + u) / c, m.x = l.x1 + (l.x2 - l.x1) * g, m.y = l.y1 + (l.y2 - l.y1) * g) : (g = (p -= h) / u, m.x = a.x1 + (a.x2 - a.x1) * g, m.y = a.y1 + (a.y2 - a.y1) * g), s.push(m) } return s } }, 39757: (t, e, i) => { var n = i(2141);

				function r(t, e, i, n) { var r = t - i,
						s = e - n,
						o = r * r + s * s; return Math.sqrt(o) } t.exports = function(t, e) { void 0 === e && (e = new n); var i = t.x1,
						s = t.y1,
						o = t.x2,
						a = t.y2,
						l = t.x3,
						h = t.y3,
						u = r(l, h, o, a),
						c = r(i, s, l, h),
						d = r(o, a, i, s),
						f = u + c + d; return e.x = (i * u + o * c + l * d) / f, e.y = (s * u + a * c + h * d) / f, e } }, 13584: t => { t.exports = function(t, e, i) { return t.x1 += e, t.y1 += i, t.x2 += e, t.y2 += i, t.x3 += e, t.y3 += i, t } }, 1376: (t, e, i) => { var n = i(35001);
				t.exports = function(t) { var e = t.getLineA(),
						i = t.getLineB(),
						r = t.getLineC(); return n(e) + n(i) + n(r) } }, 90260: (t, e, i) => { var n = i(2141);
				t.exports = function(t, e) { void 0 === e && (e = new n); var i = t.x2 - t.x1,
						r = t.y2 - t.y1,
						s = t.x3 - t.x1,
						o = t.y3 - t.y1,
						a = Math.random(),
						l = Math.random(); return a + l >= 1 && (a = 1 - a, l = 1 - l), e.x = t.x1 + (i * a + s * l), e.y = t.y1 + (r * a + o * l), e } }, 52172: (t, e, i) => { var n = i(99614),
					r = i(39757);
				t.exports = function(t, e) { var i = r(t); return n(t, i.x, i.y, e) } }, 49907: (t, e, i) => { var n = i(99614);
				t.exports = function(t, e, i) { return n(t, e.x, e.y, i) } }, 99614: t => { t.exports = function(t, e, i, n) { var r = Math.cos(n),
						s = Math.sin(n),
						o = t.x1 - e,
						a = t.y1 - i; return t.x1 = o * r - a * s + e, t.y1 = o * s + a * r + i, o = t.x2 - e, a = t.y2 - i, t.x2 = o * r - a * s + e, t.y2 = o * s + a * r + i, o = t.x3 - e, a = t.y3 - i, t.x3 = o * r - a * s + e, t.y3 = o * s + a * r + i, t } }, 16483: (t, e, i) => { var n = i(83419),
					r = i(10690),
					s = i(20437),
					o = i(80672),
					a = i(23777),
					l = i(23031),
					h = i(90260),
					u = new n({ initialize: function(t, e, i, n, r, s) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 0), this.type = a.TRIANGLE, this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = n, this.x3 = r, this.y3 = s }, contains: function(t, e) { return r(this, t, e) }, getPoint: function(t, e) { return s(this, t, e) }, getPoints: function(t, e, i) { return o(this, t, e, i) }, getRandomPoint: function(t) { return h(this, t) }, setTo: function(t, e, i, n, r, s) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 0), this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = n, this.x3 = r, this.y3 = s, this }, getLineA: function(t) { return void 0 === t && (t = new l), t.setTo(this.x1, this.y1, this.x2, this.y2), t }, getLineB: function(t) { return void 0 === t && (t = new l), t.setTo(this.x2, this.y2, this.x3, this.y3), t }, getLineC: function(t) { return void 0 === t && (t = new l), t.setTo(this.x3, this.y3, this.x1, this.y1), t }, left: { get: function() { return Math.min(this.x1, this.x2, this.x3) }, set: function(t) { var e;
								e = this.x1 <= this.x2 && this.x1 <= this.x3 ? this.x1 - t : this.x2 <= this.x1 && this.x2 <= this.x3 ? this.x2 - t : this.x3 - t, this.x1 -= e, this.x2 -= e, this.x3 -= e } }, right: { get: function() { return Math.max(this.x1, this.x2, this.x3) }, set: function(t) { var e;
								e = this.x1 >= this.x2 && this.x1 >= this.x3 ? this.x1 - t : this.x2 >= this.x1 && this.x2 >= this.x3 ? this.x2 - t : this.x3 - t, this.x1 -= e, this.x2 -= e, this.x3 -= e } }, top: { get: function() { return Math.min(this.y1, this.y2, this.y3) }, set: function(t) { var e;
								e = this.y1 <= this.y2 && this.y1 <= this.y3 ? this.y1 - t : this.y2 <= this.y1 && this.y2 <= this.y3 ? this.y2 - t : this.y3 - t, this.y1 -= e, this.y2 -= e, this.y3 -= e } }, bottom: { get: function() { return Math.max(this.y1, this.y2, this.y3) }, set: function(t) { var e;
								e = this.y1 >= this.y2 && this.y1 >= this.y3 ? this.y1 - t : this.y2 >= this.y1 && this.y2 >= this.y3 ? this.y2 - t : this.y3 - t, this.y1 -= e, this.y2 -= e, this.y3 -= e } } });
				t.exports = u }, 84435: (t, e, i) => { var n = i(16483);
				n.Area = i(41658), n.BuildEquilateral = i(39208), n.BuildFromPolygon = i(39545), n.BuildRight = i(90301), n.CenterOn = i(23707), n.Centroid = i(97523), n.CircumCenter = i(24951), n.CircumCircle = i(85614), n.Clone = i(74422), n.Contains = i(10690), n.ContainsArray = i(48653), n.ContainsPoint = i(96006), n.CopyFrom = i(71326), n.Decompose = i(71694), n.Equals = i(33522), n.GetPoint = i(20437), n.GetPoints = i(80672), n.InCenter = i(39757), n.Perimeter = i(1376), n.Offset = i(13584), n.Random = i(90260), n.Rotate = i(52172), n.RotateAroundPoint = i(49907), n.RotateAroundXY = i(99614), t.exports = n }, 74457: t => { t.exports = function(t, e, i) { return { gameObject: t, enabled: !0, draggable: !1, dropZone: !1, cursor: !1, target: null, camera: null, hitArea: e, hitAreaCallback: i, hitAreaDebug: null, customHitArea: !1, localX: 0, localY: 0, dragState: 0, dragStartX: 0, dragStartY: 0, dragStartXGlobal: 0, dragStartYGlobal: 0, dragStartCamera: null, dragX: 0, dragY: 0 } } }, 84409: t => { t.exports = function(t, e) { return function(i, n, r, s) { var o = t.getPixelAlpha(n, r, s.texture.key, s.frame.name); return o && o >= e } } }, 7003: (t, e, i) => { var n = i(83419),
					r = i(93301),
					s = i(50792),
					o = i(8214),
					a = i(8443),
					l = i(78970),
					h = i(85098),
					u = i(42515),
					c = i(36210),
					d = i(61340),
					f = i(85955),
					p = new n({ initialize: function(t, e) { this.game = t, this.scaleManager, this.canvas, this.config = e, this.enabled = !0, this.events = new s, this.isOver = !0, this.defaultCursor = "", this.keyboard = e.inputKeyboard ? new l(this) : null, this.mouse = e.inputMouse ? new h(this) : null, this.touch = e.inputTouch ? new c(this) : null, this.pointers = [], this.pointersTotal = e.inputActivePointers; for (var i = 0; i <= this.pointersTotal; i++) { var n = new u(this, i);
								n.smoothFactor = e.inputSmoothFactor, this.pointers.push(n) } this.mousePointer = e.inputMouse ? this.pointers[0] : null, this.activePointer = this.pointers[0], this.globalTopOnly = !0, this.time = 0, this._tempPoint = { x: 0, y: 0 }, this._tempHitTest = [], this._tempMatrix = new d, this._tempMatrix2 = new d, this._tempSkip = !1, this.mousePointerContainer = [this.mousePointer], t.events.once(a.BOOT, this.boot, this) }, boot: function() { var t = this.game,
								e = t.events;
							this.canvas = t.canvas, this.scaleManager = t.scale, this.events.emit(o.MANAGER_BOOT), e.on(a.PRE_RENDER, this.preRender, this), e.once(a.DESTROY, this.destroy, this) }, setCanvasOver: function(t) { this.isOver = !0, this.events.emit(o.GAME_OVER, t) }, setCanvasOut: function(t) { this.isOver = !1, this.events.emit(o.GAME_OUT, t) }, preRender: function() { var t = this.game.loop.now,
								e = this.game.loop.delta,
								i = this.game.scene.getScenes(!0, !0);
							this.time = t, this.events.emit(o.MANAGER_UPDATE); for (var n = 0; n < i.length; n++) { var r = i[n]; if (r.sys.input && r.sys.input.updatePoll(t, e) && this.globalTopOnly) return } }, setDefaultCursor: function(t) { this.defaultCursor = t, this.canvas.style.cursor !== t && (this.canvas.style.cursor = t) }, setCursor: function(t) { t.cursor && (this.canvas.style.cursor = t.cursor) }, resetCursor: function(t, e) {
							(e || t && t.cursor) && this.canvas && (this.canvas.style.cursor = this.defaultCursor) }, addPointer: function(t) { void 0 === t && (t = 1); var e = [];
							this.pointersTotal + t > 10 && (t = 10 - this.pointersTotal); for (var i = 0; i < t; i++) { var n = this.pointers.length,
									r = new u(this, n);
								r.smoothFactor = this.config.inputSmoothFactor, this.pointers.push(r), this.pointersTotal++, e.push(r) } return e }, updateInputPlugins: function(t, e) { var i = this.game.scene.getScenes(!1, !0);
							this._tempSkip = !1; for (var n = 0; n < i.length; n++) { var r = i[n]; if (r.sys.input && (r.sys.input.update(t, e) && this.globalTopOnly || this._tempSkip)) return } }, onTouchStart: function(t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)
								for (var s = t.changedTouches[n], o = 1; o < e.length; o++) { var a = e[o]; if (!a.active) { a.touchstart(s, t), this.activePointer = a, i.push(a); break } } this.updateInputPlugins(r.TOUCH_START, i) }, onTouchMove: function(t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)
								for (var s = t.changedTouches[n], o = 1; o < e.length; o++) { var a = e[o]; if (a.active && a.identifier === s.identifier) { var l = document.elementFromPoint(s.clientX, s.clientY) === this.canvas;!this.isOver && l ? this.setCanvasOver(t) : this.isOver && !l && this.setCanvasOut(t), this.isOver && (a.touchmove(s, t), this.activePointer = a, i.push(a)); break } } this.updateInputPlugins(r.TOUCH_MOVE, i) }, onTouchEnd: function(t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)
								for (var s = t.changedTouches[n], o = 1; o < e.length; o++) { var a = e[o]; if (a.active && a.identifier === s.identifier) { a.touchend(s, t), i.push(a); break } } this.updateInputPlugins(r.TOUCH_END, i) }, onTouchCancel: function(t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)
								for (var s = t.changedTouches[n], o = 1; o < e.length; o++) { var a = e[o]; if (a.active && a.identifier === s.identifier) { a.touchcancel(s, t), i.push(a); break } } this.updateInputPlugins(r.TOUCH_CANCEL, i) }, onMouseDown: function(t) { var e = this.mousePointer;
							e.down(t), e.updateMotion(), this.activePointer = e, this.updateInputPlugins(r.MOUSE_DOWN, this.mousePointerContainer) }, onMouseMove: function(t) { var e = this.mousePointer;
							e.move(t), e.updateMotion(), this.activePointer = e, this.updateInputPlugins(r.MOUSE_MOVE, this.mousePointerContainer) }, onMouseUp: function(t) { var e = this.mousePointer;
							e.up(t), e.updateMotion(), this.activePointer = e, this.updateInputPlugins(r.MOUSE_UP, this.mousePointerContainer) }, onMouseWheel: function(t) { var e = this.mousePointer;
							e.wheel(t), this.activePointer = e, this.updateInputPlugins(r.MOUSE_WHEEL, this.mousePointerContainer) }, onPointerLockChange: function(t) { var e = this.mouse.locked;
							this.mousePointer.locked = e, this.events.emit(o.POINTERLOCK_CHANGE, t, e) }, inputCandidate: function(t, e) { var i = t.input; if (!i || !i.enabled || !t.willRender(e)) return !1; var n = !0,
								r = t.parentContainer; if (r)
								do { if (!r.willRender(e)) { n = !1; break } r = r.parentContainer } while (r); return n }, hitTest: function(t, e, i, n) { void 0 === n && (n = this._tempHitTest); var r = this._tempPoint,
								s = i.scrollX,
								o = i.scrollY;
							n.length = 0; var a = t.x,
								l = t.y;
							i.getWorldPoint(a, l, r), t.worldX = r.x, t.worldY = r.y; for (var h = { x: 0, y: 0 }, u = this._tempMatrix, c = this._tempMatrix2, d = 0; d < e.length; d++) { var p = e[d]; if (this.inputCandidate(p, i)) { var g = r.x + s * p.scrollFactorX - s,
										m = r.y + o * p.scrollFactorY - o;
									p.parentContainer ? (p.getWorldTransformMatrix(u, c), u.applyInverse(g, m, h)) : f(g, m, p.x, p.y, p.rotation, p.scaleX, p.scaleY, h), this.pointWithinHitArea(p, h.x, h.y) && n.push(p) } } return n }, pointWithinHitArea: function(t, e, i) { e += t.displayOriginX, i += t.displayOriginY; var n = t.input; return !(!n || !n.hitAreaCallback(n.hitArea, e, i, t) || (n.localX = e, n.localY = i, 0)) }, pointWithinInteractiveObject: function(t, e, i) { return !!t.hitArea && (e += t.gameObject.displayOriginX, i += t.gameObject.displayOriginY, t.localX = e, t.localY = i, t.hitAreaCallback(t.hitArea, e, i, t)) }, transformPointer: function(t, e, i, n) { var r = t.position,
								s = t.prevPosition;
							s.x = r.x, s.y = r.y; var o = this.scaleManager.transformX(e),
								a = this.scaleManager.transformY(i),
								l = t.smoothFactor;
							n && 0 !== l ? (r.x = o * l + s.x * (1 - l), r.y = a * l + s.y * (1 - l)) : (r.x = o, r.y = a) }, destroy: function() { this.events.removeAllListeners(), this.game.events.off(a.PRE_RENDER), this.keyboard && this.keyboard.destroy(), this.mouse && this.mouse.destroy(), this.touch && this.touch.destroy(); for (var t = 0; t < this.pointers.length; t++) this.pointers[t].destroy();
							this.pointers = [], this._tempHitTest = [], this._tempMatrix.destroy(), this.canvas = null, this.game = null } });
				t.exports = p }, 48205: (t, e, i) => { var n = i(96503),
					r = i(87902),
					s = i(83419),
					o = i(93301),
					a = i(74457),
					l = i(84409),
					h = i(20339),
					u = i(8497),
					c = i(81154),
					d = i(8214),
					f = i(50792),
					p = i(95540),
					g = i(23777),
					m = i(89639),
					v = i(41212),
					y = i(37277),
					x = i(87841),
					b = i(37303),
					w = i(44594),
					T = i(16483),
					S = i(10690),
					_ = new s({ Extends: f, initialize: function(t) { f.call(this), this.scene = t, this.systems = t.sys, this.settings = t.sys.settings, this.manager = t.sys.game.input, this.pluginEvents = new f, this.enabled = !0, this.displayList, this.cameras, m.install(this), this.mouse = this.manager.mouse, this.topOnly = !0, this.pollRate = -1, this._pollTimer = 0; var e = { cancelled: !1 };
							this._eventContainer = { stopPropagation: function() { e.cancelled = !0 } }, this._eventData = e, this.dragDistanceThreshold = 0, this.dragTimeThreshold = 0, this._temp = [], this._tempZones = [], this._list = [], this._pendingInsertion = [], this._pendingRemoval = [], this._draggable = [], this._drag = { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: [], 8: [], 9: [], 10: [] }, this._dragState = [], this._over = { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: [], 8: [], 9: [], 10: [] }, this._validTypes = ["onDown", "onUp", "onOver", "onOut", "onMove", "onDragStart", "onDrag", "onDragEnd", "onDragEnter", "onDragLeave", "onDragOver", "onDrop"], this._updatedThisFrame = !1, t.sys.events.once(w.BOOT, this.boot, this), t.sys.events.on(w.START, this.start, this) }, boot: function() { this.cameras = this.systems.cameras, this.displayList = this.systems.displayList, this.systems.events.once(w.DESTROY, this.destroy, this), this.pluginEvents.emit(d.BOOT) }, start: function() { var t = this.systems.events;
							t.on(w.TRANSITION_START, this.transitionIn, this), t.on(w.TRANSITION_OUT, this.transitionOut, this), t.on(w.TRANSITION_COMPLETE, this.transitionComplete, this), t.on(w.PRE_UPDATE, this.preUpdate, this), t.once(w.SHUTDOWN, this.shutdown, this), this.manager.events.on(d.GAME_OUT, this.onGameOut, this), this.manager.events.on(d.GAME_OVER, this.onGameOver, this), this.enabled = !0, this._dragState = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], this.pluginEvents.emit(d.START) }, onGameOver: function(t) { this.isActive() && this.emit(d.GAME_OVER, t.timeStamp, t) }, onGameOut: function(t) { this.isActive() && this.emit(d.GAME_OUT, t.timeStamp, t) }, preUpdate: function() { this.pluginEvents.emit(d.PRE_UPDATE); var t = this._pendingRemoval,
								e = this._pendingInsertion,
								i = t.length,
								n = e.length; if (0 !== i || 0 !== n) { for (var r = this._list, s = 0; s < i; s++) { var o = t[s],
										a = r.indexOf(o);
									a > -1 && (r.splice(a, 1), this.clear(o, !0)) } this._pendingRemoval.length = 0, this._list = r.concat(e.splice(0)) } }, isActive: function() { return this.manager && this.manager.enabled && this.enabled && this.scene.sys.canInput() }, setCursor: function(t) { this.manager && this.manager.setCursor(t) }, resetCursor: function() { this.manager && this.manager.resetCursor(null, !0) }, updatePoll: function(t, e) { if (!this.isActive()) return !1; if (this.pluginEvents.emit(d.UPDATE, t, e), this._updatedThisFrame) return this._updatedThisFrame = !1, !1; var i, n = this.manager.pointers; for (i = 0; i < n.length; i++) n[i].updateMotion(); if (0 === this._list.length) return !1; var r = this.pollRate; if (-1 === r) return !1; if (r > 0) { if (this._pollTimer -= e, !(this._pollTimer < 0)) return !1;
								this._pollTimer = this.pollRate } var s = !1; for (i = 0; i < n.length; i++) { var o = 0,
									a = n[i];
								this._tempZones = [], this._temp = this.hitTestPointer(a), this.sortGameObjects(this._temp, a), this.sortDropZones(this._tempZones), this.topOnly && (this._temp.length && this._temp.splice(1), this._tempZones.length && this._tempZones.splice(1)), o += this.processOverOutEvents(a), 2 === this.getDragState(a) && this.processDragThresholdEvent(a, t), o > 0 && (s = !0) } return s }, update: function(t, e) { if (!this.isActive()) return !1; for (var i = !1, n = 0; n < e.length; n++) { var r = 0,
									s = e[n]; switch (this._tempZones = [], this._temp = this.hitTestPointer(s), this.sortGameObjects(this._temp, s), this.sortDropZones(this._tempZones), this.topOnly && (this._temp.length && this._temp.splice(1), this._tempZones.length && this._tempZones.splice(1)), t) {
									case o.MOUSE_DOWN:
										r += this.processDragDownEvent(s), r += this.processDownEvents(s), r += this.processOverOutEvents(s); break;
									case o.MOUSE_UP:
										r += this.processDragUpEvent(s), r += this.processUpEvents(s), r += this.processOverOutEvents(s); break;
									case o.TOUCH_START:
										r += this.processDragDownEvent(s), r += this.processDownEvents(s), r += this.processOverEvents(s); break;
									case o.TOUCH_END:
									case o.TOUCH_CANCEL:
										r += this.processDragUpEvent(s), r += this.processUpEvents(s), r += this.processOutEvents(s); break;
									case o.MOUSE_MOVE:
									case o.TOUCH_MOVE:
										r += this.processDragMoveEvent(s), r += this.processMoveEvents(s), r += this.processOverOutEvents(s); break;
									case o.MOUSE_WHEEL:
										r += this.processWheelEvent(s) } r > 0 && (i = !0) } return this._updatedThisFrame = !0, i }, clear: function(t, e) { void 0 === e && (e = !1), this.disable(t); var i = t.input;
							i && (this.removeDebug(t), this.manager.resetCursor(i), i.gameObject = void 0, i.target = void 0, i.hitArea = void 0, i.hitAreaCallback = void 0, i.callbackContext = void 0, t.input = null), e || this.queueForRemoval(t); var n = this._draggable.indexOf(t); return n > -1 && this._draggable.splice(n, 1), t }, disable: function(t, e) { void 0 === e && (e = !1); var i = t.input;
							i && (i.enabled = !1, i.dragState = 0); for (var n, r = this._drag, s = this._over, o = this.manager, a = 0; a < o.pointers.length; a++)(n = r[a].indexOf(t)) > -1 && r[a].splice(n, 1), (n = s[a].indexOf(t)) > -1 && s[a].splice(n, 1); return e && this.resetCursor(), this }, enable: function(t, e, i, n) { return void 0 === n && (n = !1), t.input ? t.input.enabled = !0 : this.setHitArea(t, e, i), t.input && n && !t.input.dropZone && (t.input.dropZone = n), this }, hitTestPointer: function(t) { for (var e = this.cameras.getCamerasBelowPointer(t), i = 0; i < e.length; i++) { for (var n = e[i], r = this.manager.hitTest(t, this._list, n), s = 0; s < r.length; s++) { var o = r[s];
									o.input.dropZone && this._tempZones.push(o) } if (r.length > 0) return t.camera = n, r } return t.camera = e[0], [] }, processDownEvents: function(t) { var e = 0,
								i = this._temp,
								n = this._eventData,
								r = this._eventContainer;
							n.cancelled = !1; for (var s = 0; s < i.length; s++) { var o = i[s]; if (o.input && o.input.enabled) { if (e++, o.emit(d.GAMEOBJECT_POINTER_DOWN, t, o.input.localX, o.input.localY, r), n.cancelled || !this.isActive()) break; if (o.input && o.input.enabled && (this.emit(d.GAMEOBJECT_DOWN, t, o, r), n.cancelled || !this.isActive())) break } } return !n.cancelled && this.isActive() && (t.downElement === this.manager.game.canvas ? this.emit(d.POINTER_DOWN, t, i) : this.emit(d.POINTER_DOWN_OUTSIDE, t)), e }, getDragState: function(t) { return this._dragState[t.id] }, setDragState: function(t, e) { this._dragState[t.id] = e }, processDragThresholdEvent: function(t, e) { var i = !1,
								n = this.dragTimeThreshold,
								r = this.dragDistanceThreshold; if ((r > 0 && h(t.x, t.y, t.downX, t.downY) >= r || n > 0 && e >= t.downTime + n) && (i = !0), i) return this.setDragState(t, 3), this.processDragStartList(t) }, processDragStartList: function(t) { if (3 !== this.getDragState(t)) return 0; var e = this._drag[t.id];
							e.length > 1 && (e = e.slice(0)); for (var i = 0; i < e.length; i++) { var n = e[i],
									r = n.input;
								r.dragState = 2, r.dragStartX = n.x, r.dragStartY = n.y, r.dragStartXGlobal = t.worldX, r.dragStartYGlobal = t.worldY, r.dragStartCamera = t.camera, r.dragX = r.dragStartXGlobal - r.dragStartX, r.dragY = r.dragStartYGlobal - r.dragStartY, n.emit(d.GAMEOBJECT_DRAG_START, t, r.dragX, r.dragY), this.emit(d.DRAG_START, t, n) } return this.setDragState(t, 4), e.length }, processDragDownEvent: function(t) { var e = this._temp; if (0 === this._draggable.length || 0 === e.length || !t.primaryDown || 0 !== this.getDragState(t)) return 0;
							this.setDragState(t, 1); for (var i = [], n = 0; n < e.length; n++) { var r = e[n];
								r.input.draggable && 0 === r.input.dragState && i.push(r) } return 0 === i.length ? (this.setDragState(t, 0), 0) : (i.length > 1 && (this.sortGameObjects(i, t), this.topOnly && i.splice(1)), this._drag[t.id] = i, 0 === this.dragDistanceThreshold && 0 === this.dragTimeThreshold ? (this.setDragState(t, 3), this.processDragStartList(t)) : (this.setDragState(t, 2), 0)) }, processDragMoveEvent: function(t) { if (2 === this.getDragState(t) && this.processDragThresholdEvent(t, this.manager.game.loop.now), 4 !== this.getDragState(t)) return 0; var e = this._tempZones,
								i = this._drag[t.id];
							i.length > 1 && (i = i.slice(0)); for (var n = 0; n < i.length; n++) { var r, s, o = i[n],
									a = o.input,
									l = a.target; if (l) { var h = e.indexOf(l);
									0 === h ? (o.emit(d.GAMEOBJECT_DRAG_OVER, t, l), this.emit(d.DRAG_OVER, t, o, l)) : h > 0 ? (o.emit(d.GAMEOBJECT_DRAG_LEAVE, t, l), this.emit(d.DRAG_LEAVE, t, o, l), a.target = e[0], l = a.target, o.emit(d.GAMEOBJECT_DRAG_ENTER, t, l), this.emit(d.DRAG_ENTER, t, o, l)) : (o.emit(d.GAMEOBJECT_DRAG_LEAVE, t, l), this.emit(d.DRAG_LEAVE, t, o, l), e[0] ? (a.target = e[0], l = a.target, o.emit(d.GAMEOBJECT_DRAG_ENTER, t, l), this.emit(d.DRAG_ENTER, t, o, l)) : a.target = null) } else !l && e[0] && (a.target = e[0], l = a.target, o.emit(d.GAMEOBJECT_DRAG_ENTER, t, l), this.emit(d.DRAG_ENTER, t, o, l)); var u = t.positionToCamera(a.dragStartCamera); if (o.parentContainer) { var c = u.x - a.dragStartXGlobal,
										f = u.y - a.dragStartYGlobal,
										p = o.getParentRotation(),
										g = c * Math.cos(p) + f * Math.sin(p),
										m = f * Math.cos(p) - c * Math.sin(p);
									g *= 1 / o.parentContainer.scaleX, m *= 1 / o.parentContainer.scaleY, r = g + a.dragStartX, s = m + a.dragStartY } else r = u.x - a.dragX, s = u.y - a.dragY;
								o.emit(d.GAMEOBJECT_DRAG, t, r, s), this.emit(d.DRAG, t, o, r, s) } return i.length }, processDragUpEvent: function(t) { var e = this._drag[t.id];
							e.length > 1 && (e = e.slice(0)); for (var i = 0; i < e.length; i++) { var n = e[i],
									r = n.input; if (r && 2 === r.dragState) { r.dragState = 0, r.dragX = r.localX - n.displayOriginX, r.dragY = r.localY - n.displayOriginY, r.dragStartCamera = null; var s = !1,
										o = r.target;
									o && (n.emit(d.GAMEOBJECT_DROP, t, o), this.emit(d.DROP, t, n, o), r.target = null, s = !0), n.input && n.input.enabled && (n.emit(d.GAMEOBJECT_DRAG_END, t, r.dragX, r.dragY, s), this.emit(d.DRAG_END, t, n, s)) } } return this.setDragState(t, 0), e.splice(0), 0 }, processMoveEvents: function(t) { var e = 0,
								i = this._temp,
								n = this._eventData,
								r = this._eventContainer;
							n.cancelled = !1; for (var s = 0; s < i.length; s++) { var o = i[s]; if (o.input && o.input.enabled) { if (e++, o.emit(d.GAMEOBJECT_POINTER_MOVE, t, o.input.localX, o.input.localY, r), n.cancelled || !this.isActive()) break; if (o.input && o.input.enabled) { if (this.emit(d.GAMEOBJECT_MOVE, t, o, r), n.cancelled || !this.isActive()) break; if (this.topOnly) break } } } return !n.cancelled && this.isActive() && this.emit(d.POINTER_MOVE, t, i), e }, processWheelEvent: function(t) { var e = 0,
								i = this._temp,
								n = this._eventData,
								r = this._eventContainer;
							n.cancelled = !1; for (var s = t.deltaX, o = t.deltaY, a = t.deltaZ, l = 0; l < i.length; l++) { var h = i[l]; if (h.input && h.input.enabled) { if (e++, h.emit(d.GAMEOBJECT_POINTER_WHEEL, t, s, o, a, r), n.cancelled || !this.isActive()) break; if (h.input && h.input.enabled && (this.emit(d.GAMEOBJECT_WHEEL, t, h, s, o, a, r), n.cancelled || !this.isActive())) break } } return !n.cancelled && this.isActive() && this.emit(d.POINTER_WHEEL, t, i, s, o, a), e }, processOverEvents: function(t) { var e = this._temp,
								i = 0,
								n = e.length,
								r = []; if (n > 0) { var s = this.manager,
									o = this._eventData,
									a = this._eventContainer;
								o.cancelled = !1; for (var l = 0; l < n; l++) { var h = e[l]; if (h.input && h.input.enabled) { if (r.push(h), s.setCursor(h.input), h.emit(d.GAMEOBJECT_POINTER_OVER, t, h.input.localX, h.input.localY, a), i++, o.cancelled || !this.isActive()) break; if (h.input && h.input.enabled && (this.emit(d.GAMEOBJECT_OVER, t, h, a), o.cancelled || !this.isActive())) break } }!o.cancelled && this.isActive() && this.emit(d.POINTER_OVER, t, r) } return this._over[t.id] = r, i }, processOutEvents: function(t) { var e = this._over[t.id],
								i = 0,
								n = e.length; if (n > 0) { var r = this.manager,
									s = this._eventData,
									o = this._eventContainer;
								s.cancelled = !1, this.sortGameObjects(e, t); for (var a = 0; a < n; a++) { var l = e[a]; if ((l = e[a]).input && l.input.enabled) { if (r.resetCursor(l.input), l.emit(d.GAMEOBJECT_POINTER_OUT, t, o), i++, s.cancelled || !this.isActive()) break; if (l.input && l.input.enabled && (this.emit(d.GAMEOBJECT_OUT, t, l, o), s.cancelled || !this.isActive())) break } }!s.cancelled && this.isActive() && this.emit(d.POINTER_OUT, t, e), this._over[t.id] = [] } return i }, processOverOutEvents: function(t) { var e, i, n = this._temp,
								r = [],
								s = [],
								o = [],
								a = this._over[t.id],
								l = this._drag[t.id],
								h = this.manager; for (e = 0; e < a.length; e++) i = a[e], -1 === n.indexOf(i) && -1 === l.indexOf(i) ? r.push(i) : o.push(i); for (e = 0; e < n.length; e++) i = n[e], -1 === a.indexOf(i) && s.push(i); var u = r.length,
								c = 0,
								f = this._eventData,
								p = this._eventContainer; if (f.cancelled = !1, u > 0) { for (this.sortGameObjects(r, t), e = 0; e < u; e++)
									if ((i = r[e]).input && i.input.enabled) { if (h.resetCursor(i.input), i.emit(d.GAMEOBJECT_POINTER_OUT, t, p), c++, f.cancelled || !this.isActive()) break; if (i.input && i.input.enabled && (this.emit(d.GAMEOBJECT_OUT, t, i, p), f.cancelled || !this.isActive())) break } f.cancelled && !this.isActive() || this.emit(d.POINTER_OUT, t, r) } if (u = s.length, f.cancelled = !1, u > 0) { for (this.sortGameObjects(s, t), e = 0; e < u; e++)
									if ((i = s[e]).input && i.input.enabled) { if (h.setCursor(i.input), i.emit(d.GAMEOBJECT_POINTER_OVER, t, i.input.localX, i.input.localY, p), c++, f.cancelled || !this.isActive()) break; if (i.input && i.input.enabled && (this.emit(d.GAMEOBJECT_OVER, t, i, p), f.cancelled || !this.isActive())) break }! f.cancelled && this.isActive() && this.emit(d.POINTER_OVER, t, s) } return a = o.concat(s), this._over[t.id] = this.sortGameObjects(a, t), c }, processUpEvents: function(t) { var e = this._temp,
								i = this._eventData,
								n = this._eventContainer;
							i.cancelled = !1; for (var r = 0; r < e.length; r++) { var s = e[r]; if (s.input && s.input.enabled) { if (s.emit(d.GAMEOBJECT_POINTER_UP, t, s.input.localX, s.input.localY, n), i.cancelled || !this.isActive()) break; if (s.input && s.input.enabled && (this.emit(d.GAMEOBJECT_UP, t, s, n), i.cancelled || !this.isActive())) break } } return !i.cancelled && this.isActive() && (t.upElement === this.manager.game.canvas ? this.emit(d.POINTER_UP, t, e) : this.emit(d.POINTER_UP_OUTSIDE, t)), e.length }, forceDownState: function(t, e) { this.forceState(t, e, d.GAMEOBJECT_POINTER_DOWN, d.GAMEOBJECT_DOWN, !1) }, forceUpState: function(t, e) { this.forceState(t, e, d.GAMEOBJECT_POINTER_UP, d.GAMEOBJECT_UP, !1) }, forceOverState: function(t, e) { this.forceState(t, e, d.GAMEOBJECT_POINTER_OVER, d.GAMEOBJECT_OVER, !0) }, forceOutState: function(t, e) { this.forceState(t, e, d.GAMEOBJECT_POINTER_OUT, d.GAMEOBJECT_OUT, !1) }, forceState: function(t, e, i, n, r) { var s = this._eventData,
								o = this._eventContainer;
							s.cancelled = !1, e.input && e.input.enabled && (e.emit(i, t, e.input.localX, e.input.localY, o), r && this.setCursor(e.input), !s.cancelled && this.isActive() && e.input && e.input.enabled && this.emit(n, t, e, o)) }, queueForInsertion: function(t) { return -1 === this._pendingInsertion.indexOf(t) && -1 === this._list.indexOf(t) && this._pendingInsertion.push(t), this }, queueForRemoval: function(t) { return this._pendingRemoval.push(t), this }, setDraggable: function(t, e) { void 0 === e && (e = !0), Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var n = t[i];
								n.input.draggable = e; var r = this._draggable.indexOf(n);
								e && -1 === r ? this._draggable.push(n) : !e && r > -1 && this._draggable.splice(r, 1) } return this }, makePixelPerfect: function(t) { void 0 === t && (t = 1); var e = this.systems.textures; return l(e, t) }, setHitArea: function(t, e, i) { if (void 0 === e) return this.setHitAreaFromTexture(t);
							Array.isArray(t) || (t = [t]); var n = !1,
								r = !1,
								s = !1,
								o = !1,
								l = !1,
								h = !0; if (v(e) && Object.keys(e).length) { var u = e; if (!t.some((function(t) { return t.hasOwnProperty("faces") }))) { e = p(u, "hitArea", null), i = p(u, "hitAreaCallback", null), l = p(u, "pixelPerfect", !1); var c = p(u, "alphaTolerance", 1);
									l && (e = {}, i = this.makePixelPerfect(c)) } n = p(u, "draggable", !1), r = p(u, "dropZone", !1), s = p(u, "cursor", !1), o = p(u, "useHandCursor", !1), e && i || (this.setHitAreaFromTexture(t), h = !1) } else "function" != typeof e || i || (i = e, e = {}); for (var d = 0; d < t.length; d++) { var f = t[d]; if (l && "Container" === f.type) console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");
								else { var g = f.input ? f.input : a(f, e, i);
									g.customHitArea = h, g.dropZone = r, g.cursor = o ? "pointer" : s, f.input = g, n && this.setDraggable(f), this.queueForInsertion(f) } } return this }, setHitAreaCircle: function(t, e, i, s, o) { void 0 === o && (o = r); var a = new n(e, i, s); return this.setHitArea(t, a, o) }, setHitAreaEllipse: function(t, e, i, n, r, s) { void 0 === s && (s = c); var o = new u(e, i, n, r); return this.setHitArea(t, o, s) }, setHitAreaFromTexture: function(t, e) { void 0 === e && (e = b), Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var n = t[i],
									r = n.frame,
									s = 0,
									o = 0;
								n.width ? (s = n.width, o = n.height) : r && (s = r.realWidth, o = r.realHeight), "Container" !== n.type || 0 !== s && 0 !== o ? 0 !== s && 0 !== o && (n.input = a(n, new x(0, 0, s, o), e), this.queueForInsertion(n)) : console.warn("Container.setInteractive must specify a Shape or call setSize() first") } return this }, setHitAreaRectangle: function(t, e, i, n, r, s) { void 0 === s && (s = b); var o = new x(e, i, n, r); return this.setHitArea(t, o, s) }, setHitAreaTriangle: function(t, e, i, n, r, s, o, a) { void 0 === a && (a = S); var l = new T(e, i, n, r, s, o); return this.setHitArea(t, l, a) }, enableDebug: function(t, e) { void 0 === e && (e = 65280); var i = t.input; if (!i || !i.hitArea) return this; var n = i.hitArea,
								r = n.type,
								s = i.hitAreaDebug,
								o = this.systems.add,
								a = this.systems.updateList;
							s && (a.remove(s), s.destroy(), s = null); var l = 0,
								h = 0; switch (r) {
								case g.CIRCLE:
									s = o.arc(0, 0, n.radius), l = n.x - n.radius, h = n.y - n.radius; break;
								case g.ELLIPSE:
									s = o.ellipse(0, 0, n.width, n.height), l = n.x - n.width / 2, h = n.y - n.height / 2; break;
								case g.LINE:
									s = o.line(0, 0, n.x1, n.y1, n.x2, n.y2); break;
								case g.POLYGON:
									s = o.polygon(0, 0, n.points); break;
								case g.RECTANGLE:
									s = o.rectangle(0, 0, n.width, n.height), l = n.x, h = n.y; break;
								case g.TRIANGLE:
									s = o.triangle(0, 0, n.x1, n.y1, n.x2, n.y2, n.x3, n.y3) } return s && (s.isFilled = !1, s.strokeColor = e, s.preUpdate = function() { s.setVisible(t.visible), s.setStrokeStyle(1 / t.scale, s.strokeColor), s.setDisplayOrigin(t.displayOriginX, t.displayOriginY); var e = t.x,
									i = t.y,
									n = t.rotation,
									r = t.scaleX,
									o = t.scaleY; if (t.parentContainer) { var a = t.getWorldTransformMatrix();
									e = a.tx, i = a.ty, n = a.rotation, r = a.scaleX, o = a.scaleY } s.setRotation(n), s.setScale(r, o), s.setPosition(e + l * r, i + h * o), s.setScrollFactor(t.scrollFactorX, t.scrollFactorY), s.setDepth(t.depth) }, a.add(s), i.hitAreaDebug = s), this }, removeDebug: function(t) { var e = t.input; return e && e.hitAreaDebug && (e.hitAreaDebug.destroy(), e.hitAreaDebug = null), this }, setPollAlways: function() { return this.setPollRate(0) }, setPollOnMove: function() { return this.setPollRate(-1) }, setPollRate: function(t) { return this.pollRate = t, this._pollTimer = 0, this }, setGlobalTopOnly: function(t) { return this.manager.globalTopOnly = t, this }, setTopOnly: function(t) { return this.topOnly = t, this }, sortGameObjects: function(t, e) { if (t.length < 2 || !e.camera) return t; var i = e.camera.renderList; return t.sort((function(t, e) { var n = Math.max(i.indexOf(t), 0); return Math.max(i.indexOf(e), 0) - n })) }, sortDropZones: function(t) { return t.length < 2 ? t : (this.scene.sys.depthSort(), t.sort(this.sortDropZoneHandler.bind(this))) }, sortDropZoneHandler: function(t, e) { if (t.parentContainer || e.parentContainer) { if (t.parentContainer === e.parentContainer) return e.parentContainer.getIndex(e) - t.parentContainer.getIndex(t); if (t.parentContainer === e) return -1; if (e.parentContainer === t) return 1; for (var i = t.getIndexList(), n = e.getIndexList(), r = Math.min(i.length, n.length), s = 0; s < r; s++) { var o = i[s],
										a = n[s]; if (o !== a) return a - o } return n.length - i.length } return this.displayList.getIndex(e) - this.displayList.getIndex(t) }, stopPropagation: function() { return this.manager._tempSkip = !0, this }, addPointer: function(t) { return this.manager.addPointer(t) }, setDefaultCursor: function(t) { return this.manager.setDefaultCursor(t), this }, transitionIn: function() { this.enabled = this.settings.transitionAllowInput }, transitionComplete: function() { this.settings.transitionAllowInput || (this.enabled = !0) }, transitionOut: function() { this.enabled = this.settings.transitionAllowInput }, shutdown: function() { this.pluginEvents.emit(d.SHUTDOWN), this._temp.length = 0, this._list.length = 0, this._draggable.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0, this._dragState.length = 0; for (var t = 0; t < 10; t++) this._drag[t] = [], this._over[t] = [];
							this.removeAllListeners(); var e = this.manager;
							e.canvas.style.cursor = e.defaultCursor; var i = this.systems.events;
							i.off(w.TRANSITION_START, this.transitionIn, this), i.off(w.TRANSITION_OUT, this.transitionOut, this), i.off(w.TRANSITION_COMPLETE, this.transitionComplete, this), i.off(w.PRE_UPDATE, this.preUpdate, this), e.events.off(d.GAME_OUT, this.onGameOut, this), e.events.off(d.GAME_OVER, this.onGameOver, this), i.off(w.SHUTDOWN, this.shutdown, this) }, resetPointers: function() { for (var t = this.manager.pointers, e = 0; e < t.length; e++) t[e].reset() }, destroy: function() { this.shutdown(), this.pluginEvents.emit(d.DESTROY), this.pluginEvents.removeAllListeners(), this.scene.sys.events.off(w.START, this.start, this), this.scene = null, this.cameras = null, this.manager = null, this.events = null, this.mouse = null }, x: { get: function() { return this.manager.activePointer.x } }, y: { get: function() { return this.manager.activePointer.y } }, isOver: { get: function() { return this.manager.isOver } }, mousePointer: { get: function() { return this.manager.mousePointer } }, activePointer: { get: function() { return this.manager.activePointer } }, pointer1: { get: function() { return this.manager.pointers[1] } }, pointer2: { get: function() { return this.manager.pointers[2] } }, pointer3: { get: function() { return this.manager.pointers[3] } }, pointer4: { get: function() { return this.manager.pointers[4] } }, pointer5: { get: function() { return this.manager.pointers[5] } }, pointer6: { get: function() { return this.manager.pointers[6] } }, pointer7: { get: function() { return this.manager.pointers[7] } }, pointer8: { get: function() { return this.manager.pointers[8] } }, pointer9: { get: function() { return this.manager.pointers[9] } }, pointer10: { get: function() { return this.manager.pointers[10] } } });
				y.register("InputPlugin", _, "input"), t.exports = _ }, 89639: (t, e, i) => { var n = i(35154),
					r = {},
					s = { register: function(t, e, i, n, s) { r[t] = { plugin: e, mapping: i, settingsKey: n, configKey: s } }, getPlugin: function(t) { return r[t] }, install: function(t) { var e = t.scene.sys,
								i = e.settings.input,
								s = e.game.config; for (var o in r) { var a = r[o].plugin,
									l = r[o].mapping,
									h = r[o].settingsKey,
									u = r[o].configKey;
								n(i, h, s[u]) && (t[l] = new a(t)) } }, remove: function(t) { r.hasOwnProperty(t) && delete r[t] } };
				t.exports = s }, 42515: (t, e, i) => { var n = i(31040),
					r = i(83419),
					s = i(20339),
					o = i(43855),
					a = i(47235),
					l = i(26099),
					h = i(25892),
					u = new r({ initialize: function(t, e) { this.manager = t, this.id = e, this.event, this.downElement, this.upElement, this.camera = null, this.button = 0, this.buttons = 0, this.position = new l, this.prevPosition = new l, this.midPoint = new l(-1, -1), this.velocity = new l, this.angle = 0, this.distance = 0, this.smoothFactor = 0, this.motionFactor = .2, this.worldX = 0, this.worldY = 0, this.moveTime = 0, this.downX = 0, this.downY = 0, this.downTime = 0, this.upX = 0, this.upY = 0, this.upTime = 0, this.primaryDown = !1, this.isDown = !1, this.wasTouch = !1, this.wasCanceled = !1, this.movementX = 0, this.movementY = 0, this.identifier = 0, this.pointerId = null, this.active = 0 === e, this.locked = !1, this.deltaX = 0, this.deltaY = 0, this.deltaZ = 0 }, updateWorldPoint: function(t) { var e = t.getWorldPoint(this.x, this.y); return this.worldX = e.x, this.worldY = e.y, this }, positionToCamera: function(t, e) { return t.getWorldPoint(this.x, this.y, e) }, updateMotion: function() { var t = this.position.x,
								e = this.position.y,
								i = this.midPoint.x,
								r = this.midPoint.y; if (t !== i || e !== r) { var s = a(this.motionFactor, i, t),
									l = a(this.motionFactor, r, e);
								o(s, t, .1) && (s = t), o(l, e, .1) && (l = e), this.midPoint.set(s, l); var h = t - s,
									u = e - l;
								this.velocity.set(h, u), this.angle = n(s, l, t, e), this.distance = Math.sqrt(h * h + u * u) } }, up: function(t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.button = t.button, this.upElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), 0 === t.button && (this.primaryDown = !1, this.upX = this.x, this.upY = this.y), 0 === this.buttons && (this.isDown = !1, this.upTime = t.timeStamp, this.wasTouch = !1) }, down: function(t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.button = t.button, this.downElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), 0 === t.button && (this.primaryDown = !0, this.downX = this.x, this.downY = this.y), h.macOS && t.ctrlKey && (this.buttons = 2, this.primaryDown = !1), this.isDown || (this.isDown = !0, this.downTime = t.timeStamp), this.wasTouch = !1 }, move: function(t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.manager.transformPointer(this, t.pageX, t.pageY, !0), this.locked && (this.movementX = t.movementX || t.mozMovementX || t.webkitMovementX || 0, this.movementY = t.movementY || t.mozMovementY || t.webkitMovementY || 0), this.moveTime = t.timeStamp, this.wasTouch = !1 }, wheel: function(t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.deltaX = t.deltaX, this.deltaY = t.deltaY, this.deltaZ = t.deltaZ, this.wasTouch = !1 }, touchstart: function(t, e) { t.pointerId && (this.pointerId = t.pointerId), this.identifier = t.identifier, this.target = t.target, this.active = !0, this.buttons = 1, this.event = e, this.downElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.primaryDown = !0, this.downX = this.x, this.downY = this.y, this.downTime = e.timeStamp, this.isDown = !0, this.wasTouch = !0, this.wasCanceled = !1, this.updateMotion() }, touchmove: function(t, e) { this.event = e, this.manager.transformPointer(this, t.pageX, t.pageY, !0), this.moveTime = e.timeStamp, this.wasTouch = !0, this.updateMotion() }, touchend: function(t, e) { this.buttons = 0, this.event = e, this.upElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.primaryDown = !1, this.upX = this.x, this.upY = this.y, this.upTime = e.timeStamp, this.isDown = !1, this.wasTouch = !0, this.wasCanceled = !1, this.active = !1, this.updateMotion() }, touchcancel: function(t, e) { this.buttons = 0, this.event = e, this.upElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.primaryDown = !1, this.upX = this.x, this.upY = this.y, this.upTime = e.timeStamp, this.isDown = !1, this.wasTouch = !0, this.wasCanceled = !0, this.active = !1 }, noButtonDown: function() { return 0 === this.buttons }, leftButtonDown: function() { return !!(1 & this.buttons) }, rightButtonDown: function() { return !!(2 & this.buttons) }, middleButtonDown: function() { return !!(4 & this.buttons) }, backButtonDown: function() { return !!(8 & this.buttons) }, forwardButtonDown: function() { return !!(16 & this.buttons) }, leftButtonReleased: function() { return 0 === this.buttons ? 0 === this.button && !this.isDown : 0 === this.button }, rightButtonReleased: function() { return 0 === this.buttons ? 2 === this.button && !this.isDown : 2 === this.button }, middleButtonReleased: function() { return 0 === this.buttons ? 1 === this.button && !this.isDown : 1 === this.button }, backButtonReleased: function() { return 0 === this.buttons ? 3 === this.button && !this.isDown : 3 === this.button }, forwardButtonReleased: function() { return 0 === this.buttons ? 4 === this.button && !this.isDown : 4 === this.button }, getDistance: function() { return this.isDown ? s(this.downX, this.downY, this.x, this.y) : s(this.downX, this.downY, this.upX, this.upY) }, getDistanceX: function() { return this.isDown ? Math.abs(this.downX - this.x) : Math.abs(this.downX - this.upX) }, getDistanceY: function() { return this.isDown ? Math.abs(this.downY - this.y) : Math.abs(this.downY - this.upY) }, getDuration: function() { return this.isDown ? this.manager.time - this.downTime : this.upTime - this.downTime }, getAngle: function() { return this.isDown ? n(this.downX, this.downY, this.x, this.y) : n(this.downX, this.downY, this.upX, this.upY) }, getInterpolatedPosition: function(t, e) { void 0 === t && (t = 10), void 0 === e && (e = []); for (var i = this.prevPosition.x, n = this.prevPosition.y, r = this.position.x, s = this.position.y, o = 0; o < t; o++) { var l = 1 / t * o;
								e[o] = { x: a(l, i, r), y: a(l, n, s) } } return e }, reset: function() { this.event = null, this.downElement = null, this.upElement = null, this.button = 0, this.buttons = 0, this.position.set(0, 0), this.prevPosition.set(0, 0), this.midPoint.set(-1, -1), this.velocity.set(0, 0), this.angle = 0, this.distance = 0, this.worldX = 0, this.worldY = 0, this.downX = 0, this.downY = 0, this.upX = 0, this.upY = 0, this.moveTime = 0, this.upTime = 0, this.downTime = 0, this.primaryDown = !1, this.isDown = !1, this.wasTouch = !1, this.wasCanceled = !1, this.movementX = 0, this.movementY = 0, this.identifier = 0, this.pointerId = null, this.deltaX = 0, this.deltaY = 0, this.deltaZ = 0, this.active = 0 === this.id }, destroy: function() { this.camera = null, this.manager = null, this.position = null }, x: { get: function() { return this.position.x }, set: function(t) { this.position.x = t } }, y: { get: function() { return this.position.y }, set: function(t) { this.position.y = t } }, time: { get: function() { return this.event ? this.event.timeStamp : 0 } } });
				t.exports = u }, 93301: t => { t.exports = { MOUSE_DOWN: 0, MOUSE_MOVE: 1, MOUSE_UP: 2, TOUCH_START: 3, TOUCH_MOVE: 4, TOUCH_END: 5, POINTER_LOCK_CHANGE: 6, TOUCH_CANCEL: 7, MOUSE_WHEEL: 8 } }, 7179: t => { t.exports = "boot" }, 85375: t => { t.exports = "destroy" }, 39843: t => { t.exports = "dragend" }, 23388: t => { t.exports = "dragenter" }, 16133: t => { t.exports = "drag" }, 27829: t => { t.exports = "dragleave" }, 53904: t => { t.exports = "dragover" }, 56058: t => { t.exports = "dragstart" }, 2642: t => { t.exports = "drop" }, 88171: t => { t.exports = "gameobjectdown" }, 36147: t => { t.exports = "dragend" }, 71692: t => { t.exports = "dragenter" }, 96149: t => { t.exports = "drag" }, 81285: t => { t.exports = "dragleave" }, 74048: t => { t.exports = "dragover" }, 21322: t => { t.exports = "dragstart" }, 49378: t => { t.exports = "drop" }, 86754: t => { t.exports = "gameobjectmove" }, 86433: t => { t.exports = "gameobjectout" }, 60709: t => { t.exports = "gameobjectover" }, 24081: t => { t.exports = "pointerdown" }, 11172: t => { t.exports = "pointermove" }, 18907: t => { t.exports = "pointerout" }, 95579: t => { t.exports = "pointerover" }, 35368: t => { t.exports = "pointerup" }, 26972: t => { t.exports = "wheel" }, 47078: t => { t.exports = "gameobjectup" }, 73802: t => { t.exports = "gameobjectwheel" }, 56718: t => { t.exports = "gameout" }, 25936: t => { t.exports = "gameover" }, 27503: t => { t.exports = "boot" }, 50852: t => { t.exports = "process" }, 96438: t => { t.exports = "update" }, 59152: t => { t.exports = "pointerlockchange" }, 47777: t => { t.exports = "pointerdown" }, 27957: t => { t.exports = "pointerdownoutside" }, 19444: t => { t.exports = "pointermove" }, 54251: t => { t.exports = "pointerout" }, 18667: t => { t.exports = "pointerover" }, 27192: t => { t.exports = "pointerup" }, 24652: t => { t.exports = "pointerupoutside" }, 45132: t => { t.exports = "wheel" }, 44512: t => { t.exports = "preupdate" }, 15757: t => { t.exports = "shutdown" }, 41637: t => { t.exports = "start" }, 93802: t => { t.exports = "update" }, 8214: (t, e, i) => { t.exports = { BOOT: i(7179), DESTROY: i(85375), DRAG_END: i(39843), DRAG_ENTER: i(23388), DRAG: i(16133), DRAG_LEAVE: i(27829), DRAG_OVER: i(53904), DRAG_START: i(56058), DROP: i(2642), GAME_OUT: i(56718), GAME_OVER: i(25936), GAMEOBJECT_DOWN: i(88171), GAMEOBJECT_DRAG_END: i(36147), GAMEOBJECT_DRAG_ENTER: i(71692), GAMEOBJECT_DRAG: i(96149), GAMEOBJECT_DRAG_LEAVE: i(81285), GAMEOBJECT_DRAG_OVER: i(74048), GAMEOBJECT_DRAG_START: i(21322), GAMEOBJECT_DROP: i(49378), GAMEOBJECT_MOVE: i(86754), GAMEOBJECT_OUT: i(86433), GAMEOBJECT_OVER: i(60709), GAMEOBJECT_POINTER_DOWN: i(24081), GAMEOBJECT_POINTER_MOVE: i(11172), GAMEOBJECT_POINTER_OUT: i(18907), GAMEOBJECT_POINTER_OVER: i(95579), GAMEOBJECT_POINTER_UP: i(35368), GAMEOBJECT_POINTER_WHEEL: i(26972), GAMEOBJECT_UP: i(47078), GAMEOBJECT_WHEEL: i(73802), MANAGER_BOOT: i(27503), MANAGER_PROCESS: i(50852), MANAGER_UPDATE: i(96438), POINTER_DOWN: i(47777), POINTER_DOWN_OUTSIDE: i(27957), POINTER_MOVE: i(19444), POINTER_OUT: i(54251), POINTER_OVER: i(18667), POINTER_UP: i(27192), POINTER_UP_OUTSIDE: i(24652), POINTER_WHEEL: i(45132), POINTERLOCK_CHANGE: i(59152), PRE_UPDATE: i(44512), SHUTDOWN: i(15757), START: i(41637), UPDATE: i(93802) } }, 97421: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e) { this.pad = t, this.events = t.events, this.index = e, this.value = 0, this.threshold = .1 }, update: function(t) { this.value = t }, getValue: function() { return Math.abs(this.value) < this.threshold ? 0 : this.value }, destroy: function() { this.pad = null, this.events = null } });
				t.exports = n }, 28884: (t, e, i) => { var n = i(83419),
					r = i(92734),
					s = new n({ initialize: function(t, e) { this.pad = t, this.events = t.manager, this.index = e, this.value = 0, this.threshold = 1, this.pressed = !1 }, update: function(t) { this.value = t; var e = this.pad,
								i = this.index;
							t >= this.threshold ? this.pressed || (this.pressed = !0, this.events.emit(r.BUTTON_DOWN, e, this, t), this.pad.emit(r.GAMEPAD_BUTTON_DOWN, i, t, this)) : this.pressed && (this.pressed = !1, this.events.emit(r.BUTTON_UP, e, this, t), this.pad.emit(r.GAMEPAD_BUTTON_UP, i, t, this)) }, destroy: function() { this.pad = null, this.events = null } });
				t.exports = s }, 99125: (t, e, i) => { var n = i(97421),
					r = i(28884),
					s = i(83419),
					o = i(50792),
					a = i(26099),
					l = new s({ Extends: o, initialize: function(t, e) { o.call(this), this.manager = t, this.pad = e, this.id = e.id, this.index = e.index; for (var i = [], s = 0; s < e.buttons.length; s++) i.push(new r(this, s));
							this.buttons = i; var l = []; for (s = 0; s < e.axes.length; s++) l.push(new n(this, s));
							this.axes = l, this.vibration = e.vibrationActuator; var h = { value: 0, pressed: !1 };
							this._LCLeft = i[14] ? i[14] : h, this._LCRight = i[15] ? i[15] : h, this._LCTop = i[12] ? i[12] : h, this._LCBottom = i[13] ? i[13] : h, this._RCLeft = i[2] ? i[2] : h, this._RCRight = i[1] ? i[1] : h, this._RCTop = i[3] ? i[3] : h, this._RCBottom = i[0] ? i[0] : h, this._FBLeftTop = i[4] ? i[4] : h, this._FBLeftBottom = i[6] ? i[6] : h, this._FBRightTop = i[5] ? i[5] : h, this._FBRightBottom = i[7] ? i[7] : h; var u = { value: 0 };
							this._HAxisLeft = l[0] ? l[0] : u, this._VAxisLeft = l[1] ? l[1] : u, this._HAxisRight = l[2] ? l[2] : u, this._VAxisRight = l[3] ? l[3] : u, this.leftStick = new a, this.rightStick = new a, this._created = performance.now() }, getAxisTotal: function() { return this.axes.length }, getAxisValue: function(t) { return this.axes[t].getValue() }, setAxisThreshold: function(t) { for (var e = 0; e < this.axes.length; e++) this.axes[e].threshold = t }, getButtonTotal: function() { return this.buttons.length }, getButtonValue: function(t) { return this.buttons[t].value }, isButtonDown: function(t) { return this.buttons[t].pressed }, update: function(t) { if (!(t.timestamp < this._created)) { var e, i = this.buttons,
									n = t.buttons,
									r = i.length; for (e = 0; e < r; e++) i[e].update(n[e].value); var s = this.axes,
									o = t.axes; for (r = s.length, e = 0; e < r; e++) s[e].update(o[e]);
								r >= 2 && (this.leftStick.set(s[0].getValue(), s[1].getValue()), r >= 4 && this.rightStick.set(s[2].getValue(), s[3].getValue())) } }, destroy: function() { var t; for (this.removeAllListeners(), this.manager = null, this.pad = null, t = 0; t < this.buttons.length; t++) this.buttons[t].destroy(); for (t = 0; t < this.axes.length; t++) this.axes[t].destroy();
							this.buttons = [], this.axes = [] }, connected: { get: function() { return this.pad.connected } }, timestamp: { get: function() { return this.pad.timestamp } }, left: { get: function() { return this._LCLeft.pressed } }, right: { get: function() { return this._LCRight.pressed } }, up: { get: function() { return this._LCTop.pressed } }, down: { get: function() { return this._LCBottom.pressed } }, A: { get: function() { return this._RCBottom.pressed } }, Y: { get: function() { return this._RCTop.pressed } }, X: { get: function() { return this._RCLeft.pressed } }, B: { get: function() { return this._RCRight.pressed } }, L1: { get: function() { return this._FBLeftTop.value } }, L2: { get: function() { return this._FBLeftBottom.value } }, R1: { get: function() { return this._FBRightTop.value } }, R2: { get: function() { return this._FBRightBottom.value } } });
				t.exports = l }, 56654: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(92734),
					o = i(99125),
					a = i(35154),
					l = i(89639),
					h = i(8214),
					u = new n({ Extends: r, initialize: function(t) { r.call(this), this.scene = t.scene, this.settings = this.scene.sys.settings, this.sceneInputPlugin = t, this.enabled = !0, this.target, this.gamepads = [], this.queue = [], this.onGamepadHandler, this._pad1, this._pad2, this._pad3, this._pad4, t.pluginEvents.once(h.BOOT, this.boot, this), t.pluginEvents.on(h.START, this.start, this) }, boot: function() { var t = this.scene.sys.game,
								e = this.settings.input,
								i = t.config;
							this.enabled = a(e, "gamepad", i.inputGamepad) && t.device.input.gamepads, this.target = a(e, "gamepad.target", i.inputGamepadEventTarget), this.sceneInputPlugin.pluginEvents.once(h.DESTROY, this.destroy, this) }, start: function() { this.enabled && (this.startListeners(), this.refreshPads()), this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN, this.shutdown, this) }, isActive: function() { return this.enabled && this.scene.sys.isActive() }, startListeners: function() { var t = this,
								e = this.target,
								i = function(e) {!e.defaultPrevented && t.isActive() && (t.refreshPads(), t.queue.push(e)) };
							this.onGamepadHandler = i, e.addEventListener("gamepadconnected", i, !1), e.addEventListener("gamepaddisconnected", i, !1), this.sceneInputPlugin.pluginEvents.on(h.UPDATE, this.update, this) }, stopListeners: function() { this.target.removeEventListener("gamepadconnected", this.onGamepadHandler), this.target.removeEventListener("gamepaddisconnected", this.onGamepadHandler), this.sceneInputPlugin.pluginEvents.off(h.UPDATE, this.update); for (var t = 0; t < this.gamepads.length; t++) this.gamepads[t].removeAllListeners() }, disconnectAll: function() { for (var t = 0; t < this.gamepads.length; t++) this.gamepads[t].pad.connected = !1 }, refreshPads: function() { var t = navigator.getGamepads(); if (t)
								for (var e = this.gamepads, i = 0; i < t.length; i++) { var n = t[i]; if (n) { var r = n.id,
											s = n.index,
											a = e[s]; if (a) a.id !== r ? (a.destroy(), e[s] = new o(this, n)) : a.update(n);
										else { var l = new o(this, n);
											e[s] = l, this._pad1 ? this._pad2 ? this._pad3 ? this._pad4 || (this._pad4 = l) : this._pad3 = l : this._pad2 = l : this._pad1 = l } } } else this.disconnectAll() }, getAll: function() { for (var t = [], e = this.gamepads, i = 0; i < e.length; i++) e[i] && t.push(e[i]); return t }, getPad: function(t) { for (var e = this.gamepads, i = 0; i < e.length; i++)
								if (e[i] && e[i].index === t) return e[i] }, update: function() { if (this.enabled) { this.refreshPads(); var t = this.queue.length; if (0 !== t)
									for (var e = this.queue.splice(0, t), i = 0; i < t; i++) { var n = e[i],
											r = this.getPad(n.gamepad.index); "gamepadconnected" === n.type ? this.emit(s.CONNECTED, r, n) : "gamepaddisconnected" === n.type && this.emit(s.DISCONNECTED, r, n) } } }, shutdown: function() { this.stopListeners(), this.removeAllListeners() }, destroy: function() { this.shutdown(); for (var t = 0; t < this.gamepads.length; t++) this.gamepads[t] && this.gamepads[t].destroy();
							this.gamepads = [], this.scene = null, this.settings = null, this.sceneInputPlugin = null, this.target = null }, total: { get: function() { return this.gamepads.length } }, pad1: { get: function() { return this._pad1 } }, pad2: { get: function() { return this._pad2 } }, pad3: { get: function() { return this._pad3 } }, pad4: { get: function() { return this._pad4 } } });
				l.register("GamepadPlugin", u, "gamepad", "gamepad", "inputGamepad"), t.exports = u }, 89651: t => { t.exports = { UP: 12, DOWN: 13, LEFT: 14, RIGHT: 15, SELECT: 8, START: 9, B: 0, A: 1, Y: 2, X: 3, LEFT_SHOULDER: 4, RIGHT_SHOULDER: 5 } }, 65294: t => { t.exports = { UP: 12, DOWN: 13, LEFT: 14, RIGHT: 15, SHARE: 8, OPTIONS: 9, PS: 16, TOUCHBAR: 17, X: 0, CIRCLE: 1, SQUARE: 2, TRIANGLE: 3, L1: 4, R1: 5, L2: 6, R2: 7, L3: 10, R3: 11, LEFT_STICK_H: 0, LEFT_STICK_V: 1, RIGHT_STICK_H: 2, RIGHT_STICK_V: 3 } }, 90089: t => { t.exports = { UP: 12, DOWN: 13, LEFT: 14, RIGHT: 15, MENU: 16, A: 0, B: 1, X: 2, Y: 3, LB: 4, RB: 5, LT: 6, RT: 7, BACK: 8, START: 9, LS: 10, RS: 11, LEFT_STICK_H: 0, LEFT_STICK_V: 1, RIGHT_STICK_H: 2, RIGHT_STICK_V: 3 } }, 64894: (t, e, i) => { t.exports = { DUALSHOCK_4: i(65294), SNES_USB: i(89651), XBOX_360: i(90089) } }, 46008: t => { t.exports = "down" }, 7629: t => { t.exports = "up" }, 42206: t => { t.exports = "connected" }, 86544: t => { t.exports = "disconnected" }, 94784: t => { t.exports = "down" }, 14325: t => { t.exports = "up" }, 92734: (t, e, i) => { t.exports = { BUTTON_DOWN: i(46008), BUTTON_UP: i(7629), CONNECTED: i(42206), DISCONNECTED: i(86544), GAMEPAD_BUTTON_DOWN: i(94784), GAMEPAD_BUTTON_UP: i(14325) } }, 48646: (t, e, i) => { t.exports = { Axis: i(97421), Button: i(28884), Events: i(92734), Gamepad: i(99125), GamepadPlugin: i(56654), Configs: i(64894) } }, 14350: (t, e, i) => { var n = i(93301),
					r = i(79291),
					s = { CreatePixelPerfectHandler: i(84409), CreateInteractiveObject: i(74457), Events: i(8214), Gamepad: i(48646), InputManager: i(7003), InputPlugin: i(48205), InputPluginCache: i(89639), Keyboard: i(51442), Mouse: i(87078), Pointer: i(42515), Touch: i(95618) };
				s = r(!1, s, n), t.exports = s }, 78970: (t, e, i) => { var n = i(72905),
					r = i(83419),
					s = i(8443),
					o = i(8214),
					a = i(46032),
					l = i(29747),
					h = new r({ initialize: function(t) { this.manager = t, this.queue = [], this.preventDefault = !0, this.captures = [], this.enabled = !1, this.target, this.onKeyDown = l, this.onKeyUp = l, t.events.once(o.MANAGER_BOOT, this.boot, this) }, boot: function() { var t = this.manager.config;
							this.enabled = t.inputKeyboard, this.target = t.inputKeyboardEventTarget, this.addCapture(t.inputKeyboardCapture), !this.target && window && (this.target = window), this.enabled && this.target && this.startListeners(), this.manager.game.events.on(s.POST_STEP, this.postUpdate, this) }, startListeners: function() { var t = this;
							this.onKeyDown = function(e) { if (!e.defaultPrevented && t.enabled && t.manager) { t.queue.push(e), t.manager.events.emit(o.MANAGER_PROCESS); var i = e.altKey || e.ctrlKey || e.shiftKey || e.metaKey;
									t.preventDefault && !i && t.captures.indexOf(e.keyCode) > -1 && e.preventDefault() } }, this.onKeyUp = function(e) { if (!e.defaultPrevented && t.enabled && t.manager) { t.queue.push(e), t.manager.events.emit(o.MANAGER_PROCESS); var i = e.altKey || e.ctrlKey || e.shiftKey || e.metaKey;
									t.preventDefault && !i && t.captures.indexOf(e.keyCode) > -1 && e.preventDefault() } }; var e = this.target;
							e && (e.addEventListener("keydown", this.onKeyDown, !1), e.addEventListener("keyup", this.onKeyUp, !1), this.enabled = !0) }, stopListeners: function() { var t = this.target;
							t.removeEventListener("keydown", this.onKeyDown, !1), t.removeEventListener("keyup", this.onKeyUp, !1), this.enabled = !1 }, postUpdate: function() { this.queue = [] }, addCapture: function(t) { "string" == typeof t && (t = t.split(",")), Array.isArray(t) || (t = [t]); for (var e = this.captures, i = 0; i < t.length; i++) { var n = t[i]; "string" == typeof n && (n = a[n.trim().toUpperCase()]), -1 === e.indexOf(n) && e.push(n) } this.preventDefault = e.length > 0 }, removeCapture: function(t) { "string" == typeof t && (t = t.split(",")), Array.isArray(t) || (t = [t]); for (var e = this.captures, i = 0; i < t.length; i++) { var r = t[i]; "string" == typeof r && (r = a[r.toUpperCase()]), n(e, r) } this.preventDefault = e.length > 0 }, clearCaptures: function() { this.captures = [], this.preventDefault = !1 }, destroy: function() { this.stopListeners(), this.clearCaptures(), this.queue = [], this.manager.game.events.off(s.POST_RENDER, this.postUpdate, this), this.target = null, this.enabled = !1, this.manager = null } });
				t.exports = h }, 28846: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(95922),
					o = i(8443),
					a = i(35154),
					l = i(8214),
					h = i(89639),
					u = i(30472),
					c = i(46032),
					d = i(87960),
					f = i(74600),
					p = i(44594),
					g = i(56583),
					m = new n({ Extends: r, initialize: function(t) { r.call(this), this.game = t.systems.game, this.scene = t.scene, this.settings = this.scene.sys.settings, this.sceneInputPlugin = t, this.manager = t.manager.keyboard, this.enabled = !0, this.keys = [], this.combos = [], this.prevCode = null, this.prevTime = 0, this.prevType = null, t.pluginEvents.once(l.BOOT, this.boot, this), t.pluginEvents.on(l.START, this.start, this) }, boot: function() { var t = this.settings.input;
							this.enabled = a(t, "keyboard", !0); var e = a(t, "keyboard.capture", null);
							e && this.addCaptures(e), this.sceneInputPlugin.pluginEvents.once(l.DESTROY, this.destroy, this) }, start: function() { this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS, this.update, this), this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN, this.shutdown, this), this.game.events.on(o.BLUR, this.resetKeys, this), this.scene.sys.events.on(p.PAUSE, this.resetKeys, this), this.scene.sys.events.on(p.SLEEP, this.resetKeys, this) }, isActive: function() { return this.enabled && this.scene.sys.canInput() }, addCapture: function(t) { return this.manager.addCapture(t), this }, removeCapture: function(t) { return this.manager.removeCapture(t), this }, getCaptures: function() { return this.manager.captures }, enableGlobalCapture: function() { return this.manager.preventDefault = !0, this }, disableGlobalCapture: function() { return this.manager.preventDefault = !1, this }, clearCaptures: function() { return this.manager.clearCaptures(), this }, createCursorKeys: function() { return this.addKeys({ up: c.UP, down: c.DOWN, left: c.LEFT, right: c.RIGHT, space: c.SPACE, shift: c.SHIFT }) }, addKeys: function(t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = !1); var n = {}; if ("string" == typeof t) { t = t.split(","); for (var r = 0; r < t.length; r++) { var s = t[r].trim();
									s && (n[s] = this.addKey(s, e, i)) } } else
								for (var o in t) n[o] = this.addKey(t[o], e, i); return n }, addKey: function(t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = !1); var n = this.keys; if (t instanceof u) { var r = n.indexOf(t); return r > -1 ? n[r] = t : n[t.keyCode] = t, e && this.addCapture(t.keyCode), t.setEmitOnRepeat(i), t } return "string" == typeof t && (t = c[t.toUpperCase()]), n[t] || (n[t] = new u(this, t), e && this.addCapture(t), n[t].setEmitOnRepeat(i)), n[t] }, removeKey: function(t, e, i) { void 0 === e && (e = !1), void 0 === i && (i = !1); var n, r = this.keys; if (t instanceof u) { var s = r.indexOf(t);
								s > -1 && (n = this.keys[s], this.keys[s] = void 0) } else "string" == typeof t && (t = c[t.toUpperCase()]); return r[t] && (n = r[t], r[t] = void 0), n && (n.plugin = null, i && this.removeCapture(n.keyCode), e && n.destroy()), this }, removeAllKeys: function(t, e) { void 0 === t && (t = !1), void 0 === e && (e = !1); for (var i = this.keys, n = 0; n < i.length; n++) { var r = i[n];
								r && (i[n] = void 0, e && this.removeCapture(r.keyCode), t && r.destroy()) } return this }, createCombo: function(t, e) { return new d(this, t, e) }, checkDown: function(t, e) { if (void 0 === e && (e = 0), this.enabled && t.isDown) { var i = g(this.time - t.timeDown, e); if (i > t._tick) return t._tick = i, !0 } return !1 }, update: function() { var t = this.manager.queue,
								e = t.length; if (this.isActive() && 0 !== e)
								for (var i = this.keys, n = 0; n < e; n++) { var r = t[n],
										o = r.keyCode,
										a = i[o],
										l = !1;
									void 0 === r.cancelled && (r.cancelled = 0, r.stopImmediatePropagation = function() { r.cancelled = 1 }, r.stopPropagation = function() { r.cancelled = -1 }), -1 !== r.cancelled && (o === this.prevCode && r.timeStamp === this.prevTime && r.type === this.prevType || (this.prevCode = o, this.prevTime = r.timeStamp, this.prevType = r.type, "keydown" === r.type ? (a && (l = a.isDown, a.onDown(r)), r.cancelled || a && l || (f[o] && this.emit(s.KEY_DOWN + f[o], r), r.cancelled || this.emit(s.ANY_KEY_DOWN, r))) : (a && a.onUp(r), r.cancelled || (f[o] && this.emit(s.KEY_UP + f[o], r), r.cancelled || this.emit(s.ANY_KEY_UP, r))), 1 === r.cancelled && (r.cancelled = 0))) } }, resetKeys: function() { for (var t = this.keys, e = 0; e < t.length; e++) t[e] && t[e].reset(); return this }, shutdown: function() { this.removeAllKeys(!0), this.removeAllListeners(), this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS, this.update, this), this.game.events.off(o.BLUR, this.resetKeys), this.scene.sys.events.off(p.PAUSE, this.resetKeys, this), this.scene.sys.events.off(p.SLEEP, this.resetKeys, this), this.queue = [] }, destroy: function() { this.shutdown(); for (var t = this.keys, e = 0; e < t.length; e++) t[e] && t[e].destroy();
							this.keys = [], this.combos = [], this.queue = [], this.scene = null, this.settings = null, this.sceneInputPlugin = null, this.manager = null }, time: { get: function() { return this.sceneInputPlugin.manager.time } } });
				h.register("KeyboardPlugin", m, "keyboard", "keyboard", "inputKeyboard"), t.exports = m }, 66970: t => { t.exports = function(t, e) { return e.timeLastMatched = t.timeStamp, e.index++, e.index === e.size || (e.current = e.keyCodes[e.index], !1) } }, 87960: (t, e, i) => { var n = i(83419),
					r = i(95922),
					s = i(95540),
					o = i(68769),
					a = i(92803),
					l = new n({ initialize: function(t, e, i) { if (void 0 === i && (i = {}), e.length < 2) return !1;
							this.manager = t, this.enabled = !0, this.keyCodes = []; for (var n = 0; n < e.length; n++) { var l = e[n]; "string" == typeof l ? this.keyCodes.push(l.toUpperCase().charCodeAt(0)) : "number" == typeof l ? this.keyCodes.push(l) : l.hasOwnProperty("keyCode") && this.keyCodes.push(l.keyCode) } this.current = this.keyCodes[0], this.index = 0, this.size = this.keyCodes.length, this.timeLastMatched = 0, this.matched = !1, this.timeMatched = 0, this.resetOnWrongKey = s(i, "resetOnWrongKey", !0), this.maxKeyDelay = s(i, "maxKeyDelay", 0), this.resetOnMatch = s(i, "resetOnMatch", !1), this.deleteOnMatch = s(i, "deleteOnMatch", !1); var h = this;
							this.onKeyDown = function(t) {!h.matched && h.enabled && o(t, h) && (h.manager.emit(r.COMBO_MATCH, h, t), h.resetOnMatch ? a(h) : h.deleteOnMatch && h.destroy()) }, this.manager.on(r.ANY_KEY_DOWN, this.onKeyDown) }, progress: { get: function() { return this.index / this.size } }, destroy: function() { this.enabled = !1, this.keyCodes = [], this.manager.off(r.ANY_KEY_DOWN, this.onKeyDown), this.manager = null } });
				t.exports = l }, 68769: (t, e, i) => { var n = i(66970);
				t.exports = function(t, e) { if (e.matched) return !0; var i = !1,
						r = !1; if (t.keyCode === e.current)
						if (e.index > 0 && e.maxKeyDelay > 0) { var s = e.timeLastMatched + e.maxKeyDelay;
							t.timeStamp <= s && (r = !0, i = n(t, e)) } else r = !0, i = n(t, e); return !r && e.resetOnWrongKey && (e.index = 0, e.current = e.keyCodes[0]), i && (e.timeLastMatched = t.timeStamp, e.matched = !0, e.timeMatched = t.timeStamp), i } }, 92803: t => { t.exports = function(t) { return t.current = t.keyCodes[0], t.index = 0, t.timeLastMatched = 0, t.matched = !1, t.timeMatched = 0, t } }, 92612: t => { t.exports = "keydown" }, 23345: t => { t.exports = "keyup" }, 21957: t => { t.exports = "keycombomatch" }, 44743: t => { t.exports = "down" }, 3771: t => { t.exports = "keydown-" }, 46358: t => { t.exports = "keyup-" }, 75674: t => { t.exports = "up" }, 95922: (t, e, i) => { t.exports = { ANY_KEY_DOWN: i(92612), ANY_KEY_UP: i(23345), COMBO_MATCH: i(21957), DOWN: i(44743), KEY_DOWN: i(3771), KEY_UP: i(46358), UP: i(75674) } }, 51442: (t, e, i) => { t.exports = { Events: i(95922), KeyboardManager: i(78970), KeyboardPlugin: i(28846), Key: i(30472), KeyCodes: i(46032), KeyCombo: i(87960), AdvanceKeyCombo: i(66970), ProcessKeyCombo: i(68769), ResetKeyCombo: i(92803), JustDown: i(90229), JustUp: i(38796), DownDuration: i(37015), UpDuration: i(41170) } }, 37015: t => { t.exports = function(t, e) { void 0 === e && (e = 50); var i = t.plugin.game.loop.time - t.timeDown; return t.isDown && i < e } }, 90229: t => { t.exports = function(t) { return !!t._justDown && (t._justDown = !1, !0) } }, 38796: t => { t.exports = function(t) { return !!t._justUp && (t._justUp = !1, !0) } }, 30472: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(95922),
					o = new n({ Extends: r, initialize: function(t, e) { r.call(this), this.plugin = t, this.keyCode = e, this.originalEvent = void 0, this.enabled = !0, this.isDown = !1, this.isUp = !0, this.altKey = !1, this.ctrlKey = !1, this.shiftKey = !1, this.metaKey = !1, this.location = 0, this.timeDown = 0, this.duration = 0, this.timeUp = 0, this.emitOnRepeat = !1, this.repeats = 0, this._justDown = !1, this._justUp = !1, this._tick = -1 }, setEmitOnRepeat: function(t) { return this.emitOnRepeat = t, this }, onDown: function(t) { this.originalEvent = t, this.enabled && (this.altKey = t.altKey, this.ctrlKey = t.ctrlKey, this.shiftKey = t.shiftKey, this.metaKey = t.metaKey, this.location = t.location, this.repeats++, this.isDown ? this.emitOnRepeat && this.emit(s.DOWN, this, t) : (this.isDown = !0, this.isUp = !1, this.timeDown = t.timeStamp, this.duration = 0, this._justDown = !0, this._justUp = !1, this.emit(s.DOWN, this, t))) }, onUp: function(t) { this.originalEvent = t, this.enabled && (this.isDown = !1, this.isUp = !0, this.timeUp = t.timeStamp, this.duration = this.timeUp - this.timeDown, this.repeats = 0, this._justDown = !1, this._justUp = !0, this._tick = -1, this.emit(s.UP, this, t)) }, reset: function() { return this.isDown = !1, this.isUp = !0, this.altKey = !1, this.ctrlKey = !1, this.shiftKey = !1, this.metaKey = !1, this.timeDown = 0, this.duration = 0, this.timeUp = 0, this.repeats = 0, this._justDown = !1, this._justUp = !1, this._tick = -1, this }, getDuration: function() { return this.isDown ? this.plugin.game.loop.time - this.timeDown : 0 }, destroy: function() { this.removeAllListeners(), this.originalEvent = null, this.plugin = null } });
				t.exports = o }, 46032: t => { t.exports = { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, PAUSE: 19, CAPS_LOCK: 20, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, PRINT_SCREEN: 42, INSERT: 45, DELETE: 46, ZERO: 48, ONE: 49, TWO: 50, THREE: 51, FOUR: 52, FIVE: 53, SIX: 54, SEVEN: 55, EIGHT: 56, NINE: 57, NUMPAD_ZERO: 96, NUMPAD_ONE: 97, NUMPAD_TWO: 98, NUMPAD_THREE: 99, NUMPAD_FOUR: 100, NUMPAD_FIVE: 101, NUMPAD_SIX: 102, NUMPAD_SEVEN: 103, NUMPAD_EIGHT: 104, NUMPAD_NINE: 105, NUMPAD_ADD: 107, NUMPAD_SUBTRACT: 109, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, F1: 112, F2: 113, F3: 114, F4: 115, F5: 116, F6: 117, F7: 118, F8: 119, F9: 120, F10: 121, F11: 122, F12: 123, SEMICOLON: 186, PLUS: 187, COMMA: 188, MINUS: 189, PERIOD: 190, FORWARD_SLASH: 191, BACK_SLASH: 220, QUOTES: 222, BACKTICK: 192, OPEN_BRACKET: 219, CLOSED_BRACKET: 221, SEMICOLON_FIREFOX: 59, COLON: 58, COMMA_FIREFOX_WINDOWS: 60, COMMA_FIREFOX: 62, BRACKET_RIGHT_FIREFOX: 174, BRACKET_LEFT_FIREFOX: 175 } }, 74600: (t, e, i) => { var n = i(46032),
					r = {}; for (var s in n) r[n[s]] = s;
				t.exports = r }, 41170: t => { t.exports = function(t, e) { void 0 === e && (e = 50); var i = t.plugin.game.loop.time - t.timeUp; return t.isUp && i < e } }, 85098: (t, e, i) => { var n = i(83419),
					r = i(89357),
					s = i(8214),
					o = i(29747),
					a = new n({ initialize: function(t) { this.manager = t, this.preventDefaultDown = !0, this.preventDefaultUp = !0, this.preventDefaultMove = !0, this.preventDefaultWheel = !1, this.enabled = !1, this.target, this.locked = !1, this.onMouseMove = o, this.onMouseDown = o, this.onMouseUp = o, this.onMouseDownWindow = o, this.onMouseUpWindow = o, this.onMouseOver = o, this.onMouseOut = o, this.onMouseWheel = o, this.pointerLockChange = o, this.isTop = !0, t.events.once(s.MANAGER_BOOT, this.boot, this) }, boot: function() { var t = this.manager.config;
							this.enabled = t.inputMouse, this.target = t.inputMouseEventTarget, this.passive = t.inputMousePassive, this.preventDefaultDown = t.inputMousePreventDefaultDown, this.preventDefaultUp = t.inputMousePreventDefaultUp, this.preventDefaultMove = t.inputMousePreventDefaultMove, this.preventDefaultWheel = t.inputMousePreventDefaultWheel, this.target ? "string" == typeof this.target && (this.target = document.getElementById(this.target)) : this.target = this.manager.game.canvas, t.disableContextMenu && this.disableContextMenu(), this.enabled && this.target && this.startListeners() }, disableContextMenu: function() { return this.target.addEventListener("contextmenu", (function(t) { return t.preventDefault(), !1 })), this }, requestPointerLock: function() { if (r.pointerLock) { var t = this.target;
								t.requestPointerLock = t.requestPointerLock || t.mozRequestPointerLock || t.webkitRequestPointerLock, t.requestPointerLock() } }, releasePointerLock: function() { r.pointerLock && (document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock || document.webkitExitPointerLock, document.exitPointerLock()) }, startListeners: function() { var t = this.target; if (t) { var e = this,
									i = this.manager,
									n = i.canvas,
									s = window && window.focus && i.game.config.autoFocus;
								this.onMouseMove = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && (i.onMouseMove(t), e.preventDefaultMove && t.preventDefault()) }, this.onMouseDown = function(t) { s && window.focus(), !t.defaultPrevented && e.enabled && i && i.enabled && (i.onMouseDown(t), e.preventDefaultDown && t.target === n && t.preventDefault()) }, this.onMouseDownWindow = function(t) { t.sourceCapabilities && t.sourceCapabilities.firesTouchEvents || !t.defaultPrevented && e.enabled && i && i.enabled && t.target !== n && i.onMouseDown(t) }, this.onMouseUp = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && (i.onMouseUp(t), e.preventDefaultUp && t.target === n && t.preventDefault()) }, this.onMouseUpWindow = function(t) { t.sourceCapabilities && t.sourceCapabilities.firesTouchEvents || !t.defaultPrevented && e.enabled && i && i.enabled && t.target !== n && i.onMouseUp(t) }, this.onMouseOver = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && i.setCanvasOver(t) }, this.onMouseOut = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && i.setCanvasOut(t) }, this.onMouseWheel = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && i.onMouseWheel(t), e.preventDefaultWheel && t.target === n && t.preventDefault() }; var o = { passive: !0 }; if (t.addEventListener("mousemove", this.onMouseMove), t.addEventListener("mousedown", this.onMouseDown), t.addEventListener("mouseup", this.onMouseUp), t.addEventListener("mouseover", this.onMouseOver, o), t.addEventListener("mouseout", this.onMouseOut, o), this.preventDefaultWheel ? t.addEventListener("wheel", this.onMouseWheel, { passive: !1 }) : t.addEventListener("wheel", this.onMouseWheel, o), window && i.game.config.inputWindowEvents) try { window.top.addEventListener("mousedown", this.onMouseDownWindow, o), window.top.addEventListener("mouseup", this.onMouseUpWindow, o) } catch (a) { window.addEventListener("mousedown", this.onMouseDownWindow, o), window.addEventListener("mouseup", this.onMouseUpWindow, o), this.isTop = !1 } r.pointerLock && (this.pointerLockChange = function(t) { var n = e.target;
									e.locked = document.pointerLockElement === n || document.mozPointerLockElement === n || document.webkitPointerLockElement === n, i.onPointerLockChange(t) }, document.addEventListener("pointerlockchange", this.pointerLockChange, !0), document.addEventListener("mozpointerlockchange", this.pointerLockChange, !0), document.addEventListener("webkitpointerlockchange", this.pointerLockChange, !0)), this.enabled = !0 } }, stopListeners: function() { var t = this.target;
							t.removeEventListener("mousemove", this.onMouseMove), t.removeEventListener("mousedown", this.onMouseDown), t.removeEventListener("mouseup", this.onMouseUp), t.removeEventListener("mouseover", this.onMouseOver), t.removeEventListener("mouseout", this.onMouseOut), window && ((t = this.isTop ? window.top : window).removeEventListener("mousedown", this.onMouseDownWindow), t.removeEventListener("mouseup", this.onMouseUpWindow)), r.pointerLock && (document.removeEventListener("pointerlockchange", this.pointerLockChange, !0), document.removeEventListener("mozpointerlockchange", this.pointerLockChange, !0), document.removeEventListener("webkitpointerlockchange", this.pointerLockChange, !0)) }, destroy: function() { this.stopListeners(), this.target = null, this.enabled = !1, this.manager = null } });
				t.exports = a }, 87078: (t, e, i) => { t.exports = { MouseManager: i(85098) } }, 36210: (t, e, i) => { var n = i(83419),
					r = i(8214),
					s = i(29747),
					o = new n({ initialize: function(t) { this.manager = t, this.capture = !0, this.enabled = !1, this.target, this.onTouchStart = s, this.onTouchStartWindow = s, this.onTouchMove = s, this.onTouchEnd = s, this.onTouchEndWindow = s, this.onTouchCancel = s, this.onTouchCancelWindow = s, this.isTop = !0, t.events.once(r.MANAGER_BOOT, this.boot, this) }, boot: function() { var t = this.manager.config;
							this.enabled = t.inputTouch, this.target = t.inputTouchEventTarget, this.capture = t.inputTouchCapture, this.target ? "string" == typeof this.target && (this.target = document.getElementById(this.target)) : this.target = this.manager.game.canvas, t.disableContextMenu && this.disableContextMenu(), this.enabled && this.target && this.startListeners() }, disableContextMenu: function() { return this.target.addEventListener("contextmenu", (function(t) { return t.preventDefault(), !1 })), this }, startListeners: function() { var t = this.target; if (t) { var e = this,
									i = this.manager,
									n = i.canvas,
									r = window && window.focus && i.game.config.autoFocus;
								this.onTouchMove = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && (i.onTouchMove(t), e.capture && t.cancelable && t.preventDefault()) }, this.onTouchStart = function(t) { r && window.focus(), !t.defaultPrevented && e.enabled && i && i.enabled && (i.onTouchStart(t), e.capture && t.cancelable && t.target === n && t.preventDefault()) }, this.onTouchStartWindow = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && t.target !== n && i.onTouchStart(t) }, this.onTouchEnd = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && (i.onTouchEnd(t), e.capture && t.cancelable && t.target === n && t.preventDefault()) }, this.onTouchEndWindow = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && t.target !== n && i.onTouchEnd(t) }, this.onTouchCancel = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && (i.onTouchCancel(t), e.capture && t.preventDefault()) }, this.onTouchCancelWindow = function(t) {!t.defaultPrevented && e.enabled && i && i.enabled && i.onTouchCancel(t) }; var s = this.capture,
									o = { passive: !0 },
									a = { passive: !1 }; if (t.addEventListener("touchstart", this.onTouchStart, s ? a : o), t.addEventListener("touchmove", this.onTouchMove, s ? a : o), t.addEventListener("touchend", this.onTouchEnd, s ? a : o), t.addEventListener("touchcancel", this.onTouchCancel, s ? a : o), window && i.game.config.inputWindowEvents) try { window.top.addEventListener("touchstart", this.onTouchStartWindow, a), window.top.addEventListener("touchend", this.onTouchEndWindow, a), window.top.addEventListener("touchcancel", this.onTouchCancelWindow, a) } catch (l) { window.addEventListener("touchstart", this.onTouchStartWindow, a), window.addEventListener("touchend", this.onTouchEndWindow, a), window.addEventListener("touchcancel", this.onTouchCancelWindow, a), this.isTop = !1 } this.enabled = !0 } }, stopListeners: function() { var t = this.target;
							t.removeEventListener("touchstart", this.onTouchStart), t.removeEventListener("touchmove", this.onTouchMove), t.removeEventListener("touchend", this.onTouchEnd), t.removeEventListener("touchcancel", this.onTouchCancel), window && ((t = this.isTop ? window.top : window).removeEventListener("touchstart", this.onTouchStartWindow), t.removeEventListener("touchend", this.onTouchEndWindow), t.removeEventListener("touchcancel", this.onTouchCancelWindow)) }, destroy: function() { this.stopListeners(), this.target = null, this.enabled = !1, this.manager = null } });
				t.exports = o }, 95618: (t, e, i) => { t.exports = { TouchManager: i(36210) } }, 41299: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(54899),
					o = i(95540),
					a = i(98356),
					l = i(3374),
					h = i(84376),
					u = i(92638),
					c = new n({ initialize: function(t, e) { if (this.loader = t, this.cache = o(e, "cache", !1), this.type = o(e, "type", !1), !this.type) throw new Error("Invalid File type: " + this.type);
							this.key = o(e, "key", !1); var i = this.key; if (t.prefix && "" !== t.prefix && (this.key = t.prefix + i), !this.key) throw new Error("Invalid File key: " + this.key); var n = o(e, "url");
							void 0 === n ? n = t.path + i + "." + o(e, "extension", "") : "string" != typeof n || n.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/) || (n = t.path + n), this.url = n, this.src = "", this.xhrSettings = u(o(e, "responseType", void 0)), o(e, "xhrSettings", !1) && (this.xhrSettings = l(this.xhrSettings, o(e, "xhrSettings", {}))), this.xhrLoader = null, this.state = "function" == typeof this.url ? r.FILE_POPULATED : r.FILE_PENDING, this.bytesTotal = 0, this.bytesLoaded = -1, this.percentComplete = -1, this.crossOrigin = void 0, this.data = void 0, this.config = o(e, "config", {}), this.multiFile, this.linkFile, this.base64 = "string" == typeof n && 0 === n.indexOf("data:"), this.retryAttempts = o(e, "maxRetries", t.maxRetries) }, setLink: function(t) { this.linkFile = t, t.linkFile = this }, resetXHR: function() { this.xhrLoader && (this.xhrLoader.onload = void 0, this.xhrLoader.onerror = void 0, this.xhrLoader.onprogress = void 0) }, load: function() { if (this.state === r.FILE_POPULATED) this.loader.nextFile(this, !0);
							else { if (this.state = r.FILE_LOADING, this.src = a(this, this.loader.baseURL), !this.src) throw new Error("URL Error in File: " + this.key + " from: " + this.url);
								0 === this.src.indexOf("data:") && (this.base64 = !0), this.xhrLoader = h(this, this.loader.xhr) } }, onLoad: function(t, e) { var i = t.responseURL && this.loader.localSchemes.some((function(e) { return 0 === t.responseURL.indexOf(e) })) && 0 === e.target.status,
								n = !(e.target && 200 !== e.target.status) || i;
							4 === t.readyState && t.status >= 400 && t.status <= 599 && (n = !1), this.state = r.FILE_LOADED, this.resetXHR(), this.loader.nextFile(this, n) }, onBase64Load: function(t) { this.xhrLoader = t, this.state = r.FILE_LOADED, this.percentComplete = 1, this.loader.emit(s.FILE_PROGRESS, this, this.percentComplete), this.loader.nextFile(this, !0) }, onError: function() { this.resetXHR(), this.retryAttempts > 0 ? (this.retryAttempts--, this.load()) : this.loader.nextFile(this, !1) }, onProgress: function(t) { t.lengthComputable && (this.bytesLoaded = t.loaded, this.bytesTotal = t.total, this.percentComplete = Math.min(this.bytesLoaded / this.bytesTotal, 1), this.loader.emit(s.FILE_PROGRESS, this, this.percentComplete)) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.onProcessComplete() }, onProcessComplete: function() { this.state = r.FILE_COMPLETE, this.multiFile && this.multiFile.onFileComplete(this), this.loader.fileProcessComplete(this) }, onProcessError: function() { console.error('Failed to process file: %s "%s"', this.type, this.key), this.state = r.FILE_ERRORED, this.multiFile && this.multiFile.onFileFailed(this), this.loader.fileProcessComplete(this) }, hasCacheConflict: function() { return this.cache && this.cache.exists(this.key) }, addToCache: function() { this.cache && this.data && this.cache.add(this.key, this.data) }, pendingDestroy: function(t) { if (this.state !== r.FILE_PENDING_DESTROY) { void 0 === t && (t = this.data); var e = this.key,
									i = this.type;
								this.loader.emit(s.FILE_COMPLETE, e, i, t), this.loader.emit(s.FILE_KEY_COMPLETE + i + "-" + e, e, i, t), this.loader.flagForRemoval(this), this.state = r.FILE_PENDING_DESTROY } }, destroy: function() { this.loader = null, this.cache = null, this.xhrSettings = null, this.multiFile = null, this.linkFile = null, this.data = null } });
				c.createObjectURL = function(t, e, i) { if ("function" == typeof URL) t.src = URL.createObjectURL(e);
					else { var n = new FileReader;
						n.onload = function() { t.removeAttribute("crossOrigin"), t.src = "data:" + (e.type || i) + ";base64," + n.result.split(",")[1] }, n.onerror = t.onerror, n.readAsDataURL(e) } }, c.revokeObjectURL = function(t) { "function" == typeof URL && URL.revokeObjectURL(t.src) }, t.exports = c }, 74099: t => { var e = {},
					i = { install: function(t) { for (var i in e) t[i] = e[i] }, register: function(t, i) { e[t] = i }, destroy: function() { e = {} } };
				t.exports = i }, 98356: t => { t.exports = function(t, e) { return !!t.url && (t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/) ? t.url : e + t.url) } }, 74261: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(35072),
					o = i(50792),
					a = i(54899),
					l = i(74099),
					h = i(95540),
					u = i(35154),
					c = i(41212),
					d = i(37277),
					f = i(44594),
					p = i(92638),
					g = new n({ Extends: o, initialize: function(t) { o.call(this); var e = t.sys.game.config,
								i = t.sys.settings.loader;
							this.scene = t, this.systems = t.sys, this.cacheManager = t.sys.cache, this.textureManager = t.sys.textures, this.sceneManager = t.sys.game.scene, l.install(this), this.prefix = "", this.path = "", this.baseURL = "", this.setBaseURL(h(i, "baseURL", e.loaderBaseURL)), this.setPath(h(i, "path", e.loaderPath)), this.setPrefix(h(i, "prefix", e.loaderPrefix)), this.maxParallelDownloads = h(i, "maxParallelDownloads", e.loaderMaxParallelDownloads), this.xhr = p(h(i, "responseType", e.loaderResponseType), h(i, "async", e.loaderAsync), h(i, "user", e.loaderUser), h(i, "password", e.loaderPassword), h(i, "timeout", e.loaderTimeout), h(i, "withCredentials", e.loaderWithCredentials)), this.crossOrigin = h(i, "crossOrigin", e.loaderCrossOrigin), this.imageLoadType = h(i, "imageLoadType", e.loaderImageLoadType), this.localSchemes = h(i, "localScheme", e.loaderLocalScheme), this.totalToLoad = 0, this.progress = 0, this.list = new s, this.inflight = new s, this.queue = new s, this._deleteQueue = new s, this.totalFailed = 0, this.totalComplete = 0, this.state = r.LOADER_IDLE, this.multiKeyIndex = 0, this.maxRetries = h(i, "maxRetries", e.loaderMaxRetries), t.sys.events.once(f.BOOT, this.boot, this), t.sys.events.on(f.START, this.pluginStart, this) }, boot: function() { this.systems.events.once(f.DESTROY, this.destroy, this) }, pluginStart: function() { this.systems.events.once(f.SHUTDOWN, this.shutdown, this) }, setBaseURL: function(t) { return void 0 === t && (t = ""), "" !== t && "/" !== t.substr(-1) && (t = t.concat("/")), this.baseURL = t, this }, setPath: function(t) { return void 0 === t && (t = ""), "" !== t && "/" !== t.substr(-1) && (t = t.concat("/")), this.path = t, this }, setPrefix: function(t) { return void 0 === t && (t = ""), this.prefix = t, this }, setCORS: function(t) { return this.crossOrigin = t, this }, addFile: function(t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i = t[e];
								this.keyExists(i) || (this.list.set(i), this.emit(a.ADD, i.key, i.type, this, i), this.isLoading() && (this.totalToLoad++, this.updateProgress())) } }, keyExists: function(t) { var e = t.hasCacheConflict(); return e || this.list.iterate((function(i) { if (i.type === t.type && i.key === t.key) return e = !0, !1 })), !e && this.isLoading() && (this.inflight.iterate((function(i) { if (i.type === t.type && i.key === t.key) return e = !0, !1 })), this.queue.iterate((function(i) { if (i.type === t.type && i.key === t.key) return e = !0, !1 }))), e }, addPack: function(t, e) { if ("string" == typeof e) { var i = u(t, e);
								i && (t = { packKey: i }) } var n = 0,
								r = this.baseURL,
								s = this.path,
								o = this.prefix; for (var a in t)
								if (Object.prototype.hasOwnProperty.call(t, a)) { var l = t[a],
										c = h(l, "baseURL", r),
										d = h(l, "path", s),
										f = h(l, "prefix", o),
										p = h(l, "files", null),
										g = h(l, "defaultType", "void"); if (Array.isArray(p)) { this.setBaseURL(c), this.setPath(d), this.setPrefix(f); for (var m = 0; m < p.length; m++) { var v = p[m],
												y = v.hasOwnProperty("type") ? v.type : g;
											this[y] && (this[y](v), n++) } } } return this.setBaseURL(r), this.setPath(s), this.setPrefix(o), n > 0 }, removePack: function(t, e) { var i, n = this.systems.anims,
								r = this.cacheManager,
								s = this.textureManager,
								o = { animation: "json", aseprite: "json", audio: "audio", audioSprite: "audio", binary: "binary", bitmapFont: "bitmapFont", css: null, glsl: "shader", html: "html", json: "json", obj: "obj", plugin: null, scenePlugin: null, script: null, spine: "json", text: "text", tilemapCSV: "tilemap", tilemapImpact: "tilemap", tilemapTiledJSON: "tilemap", video: "video", xml: "xml" }; if (c(t)) i = t;
							else if (!(i = r.json.get(t))) return void console.warn("Asset Pack not found in JSON cache:", t); for (var a in e && (i = { _: i[e] }), i) { var l = i[a],
									u = h(l, "prefix", ""),
									d = h(l, "files"),
									f = h(l, "defaultType"); if (Array.isArray(d))
									for (var p = 0; p < d.length; p++) { var g = d[p],
											m = g.hasOwnProperty("type") ? g.type : f; if (m) { var v = u + g.key; if ("animation" === m && n.remove(v), "aseprite" !== m && "atlas" !== m && "atlasXML" !== m && "htmlTexture" !== m && "image" !== m && "multiatlas" !== m && "spritesheet" !== m && "svg" !== m && "texture" !== m && "unityAtlas" !== m || (s.remove(v), o[m]))
												if ("pack" !== m) { if ("spine" === m) { var y = r.custom.spine.get(v); if (!y) continue; var x = void 0 === y.prefix ? "" : y.prefix;
														r.custom.spine.remove(v); var b = r.custom.spineTextures.get(v); if (!b) continue;
														r.custom.spineTextures.remove(v); for (var w = 0; w < b.pages.length; w++) { var T = x + b.pages[w].name,
																S = v + ":" + T;
															s.exists(S) ? s.remove(S) : s.remove(T) } } var _ = o[m];
													null !== _ && (_ ? r[_].remove(v) : console.warn("Unknown type:", m)) } else this.removePack(v, g.dataKey) } else console.warn("No type:", g) } } }, isLoading: function() { return this.state === r.LOADER_LOADING || this.state === r.LOADER_PROCESSING }, isReady: function() { return this.state === r.LOADER_IDLE || this.state === r.LOADER_COMPLETE }, start: function() { this.isReady() && (this.progress = 0, this.totalFailed = 0, this.totalComplete = 0, this.totalToLoad = this.list.size, this.emit(a.START, this), 0 === this.list.size ? this.loadComplete() : (this.state = r.LOADER_LOADING, this.inflight.clear(), this.queue.clear(), this.updateProgress(), this.checkLoadQueue(), this.systems.events.on(f.UPDATE, this.update, this))) }, updateProgress: function() { this.progress = 1 - (this.list.size + this.inflight.size) / this.totalToLoad, this.emit(a.PROGRESS, this.progress) }, update: function() { this.state === r.LOADER_LOADING && this.list.size > 0 && this.inflight.size < this.maxParallelDownloads && this.checkLoadQueue() }, checkLoadQueue: function() { this.list.each((function(t) { if ((t.state === r.FILE_POPULATED || t.state === r.FILE_PENDING && this.inflight.size < this.maxParallelDownloads) && (this.inflight.set(t), this.list.delete(t), t.crossOrigin || (t.crossOrigin = this.crossOrigin), t.load()), this.inflight.size === this.maxParallelDownloads) return !1 }), this) }, nextFile: function(t, e) { this.inflight && (this.inflight.delete(t), this.updateProgress(), e ? (this.totalComplete++, this.queue.set(t), this.emit(a.FILE_LOAD, t), t.onProcess()) : (this.totalFailed++, this._deleteQueue.set(t), this.emit(a.FILE_LOAD_ERROR, t), this.fileProcessComplete(t))) }, fileProcessComplete: function(t) { this.scene && this.systems && this.systems.game && !this.systems.game.pendingDestroy && (t.state === r.FILE_ERRORED ? t.multiFile && t.multiFile.onFileFailed(t) : t.state === r.FILE_COMPLETE && (t.multiFile ? t.multiFile.isReadyToProcess() && (t.multiFile.addToCache(), t.multiFile.pendingDestroy()) : (t.addToCache(), t.pendingDestroy())), this.queue.delete(t), 0 === this.list.size && 0 === this.inflight.size && 0 === this.queue.size && this.loadComplete()) }, loadComplete: function() { this.emit(a.POST_PROCESS, this), this.list.clear(), this.inflight.clear(), this.queue.clear(), this.progress = 1, this.state = r.LOADER_COMPLETE, this.systems.events.off(f.UPDATE, this.update, this), this._deleteQueue.iterateLocal("destroy"), this._deleteQueue.clear(), this.emit(a.COMPLETE, this, this.totalComplete, this.totalFailed) }, flagForRemoval: function(t) { this._deleteQueue.set(t) }, saveJSON: function(t, e) { return this.save(JSON.stringify(t), e) }, save: function(t, e, i) { void 0 === e && (e = "file.json"), void 0 === i && (i = "application/json"); var n = new Blob([t], { type: i }),
								r = URL.createObjectURL(n),
								s = document.createElement("a"); return s.download = e, s.textContent = "Download " + e, s.href = r, s.click(), this }, reset: function() { this.list.clear(), this.inflight.clear(), this.queue.clear(); var t = this.systems.game.config,
								e = this.systems.settings.loader;
							this.setBaseURL(h(e, "baseURL", t.loaderBaseURL)), this.setPath(h(e, "path", t.loaderPath)), this.setPrefix(h(e, "prefix", t.loaderPrefix)), this.state = r.LOADER_IDLE }, shutdown: function() { this.reset(), this.state = r.LOADER_SHUTDOWN, this.removeAllListeners(), this.systems.events.off(f.UPDATE, this.update, this), this.systems.events.off(f.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.state = r.LOADER_DESTROYED, this.systems.events.off(f.UPDATE, this.update, this), this.systems.events.off(f.START, this.pluginStart, this), this.list = null, this.inflight = null, this.queue = null, this.scene = null, this.systems = null, this.textureManager = null, this.cacheManager = null, this.sceneManager = null } });
				d.register("Loader", g, "load"), t.exports = g }, 3374: (t, e, i) => { var n = i(79291),
					r = i(92638);
				t.exports = function(t, e) { var i = void 0 === t ? r() : n({}, t); if (e)
						for (var s in e) void 0 !== e[s] && (i[s] = e[s]); return i } }, 26430: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(54899),
					o = new n({ initialize: function(t, e, i, n) { var s = [];
							n.forEach((function(t) { t && s.push(t) })), this.loader = t, this.type = e, this.key = i; var o = this.key;
							t.prefix && "" !== t.prefix && (this.key = t.prefix + o), this.multiKeyIndex = t.multiKeyIndex++, this.files = s, this.state = r.FILE_PENDING, this.complete = !1, this.pending = s.length, this.failed = 0, this.config = {}, this.baseURL = t.baseURL, this.path = t.path, this.prefix = t.prefix; for (var a = 0; a < s.length; a++) s[a].multiFile = this }, isReadyToProcess: function() { return 0 === this.pending && 0 === this.failed && !this.complete }, addToMultiFile: function(t) { return this.files.push(t), t.multiFile = this, this.pending++, this.complete = !1, this }, onFileComplete: function(t) {-1 !== this.files.indexOf(t) && this.pending-- }, onFileFailed: function(t) {-1 !== this.files.indexOf(t) && (this.failed++, console.error('File failed: %s "%s" (via %s "%s")', this.type, this.key, t.type, t.key)) }, pendingDestroy: function() { if (this.state !== r.FILE_PENDING_DESTROY) { var t = this.key,
									e = this.type;
								this.loader.emit(s.FILE_COMPLETE, t, e), this.loader.emit(s.FILE_KEY_COMPLETE + e + "-" + t, t, e), this.loader.flagForRemoval(this); for (var i = 0; i < this.files.length; i++) this.files[i].pendingDestroy();
								this.state = r.FILE_PENDING_DESTROY } }, destroy: function() { this.loader = null, this.files = null, this.config = null } });
				t.exports = o }, 84376: (t, e, i) => { var n = i(3374);
				t.exports = function(t, e) { var i = n(e, t.xhrSettings); if (!t.base64) { var r = new XMLHttpRequest; if (r.open("GET", t.src, i.async, i.user, i.password), r.responseType = t.xhrSettings.responseType, r.timeout = i.timeout, i.headers)
							for (var s in i.headers) r.setRequestHeader(s, i.headers[s]); return i.header && i.headerValue && r.setRequestHeader(i.header, i.headerValue), i.requestedWith && r.setRequestHeader("X-Requested-With", i.requestedWith), i.overrideMimeType && r.overrideMimeType(i.overrideMimeType), i.withCredentials && (r.withCredentials = !0), r.onload = t.onLoad.bind(t, r), r.onerror = t.onError.bind(t, r), r.onprogress = t.onProgress.bind(t), r.ontimeout = t.onError.bind(t, r), r.send(), r } var o = t.url.split(";base64,").pop() || t.url.split(",").pop(),
						a = { responseText: atob(o) };
					t.onBase64Load(a) } }, 92638: t => { t.exports = function(t, e, i, n, r, s) { return void 0 === t && (t = ""), void 0 === e && (e = !0), void 0 === i && (i = ""), void 0 === n && (n = ""), void 0 === r && (r = 0), void 0 === s && (s = !1), { responseType: t, async: e, user: i, password: n, timeout: r, headers: void 0, header: void 0, headerValue: void 0, requestedWith: !1, overrideMimeType: void 0, withCredentials: s } } }, 23906: t => { t.exports = { LOADER_IDLE: 0, LOADER_LOADING: 1, LOADER_PROCESSING: 2, LOADER_COMPLETE: 3, LOADER_SHUTDOWN: 4, LOADER_DESTROYED: 5, FILE_PENDING: 10, FILE_LOADING: 11, FILE_LOADED: 12, FILE_FAILED: 13, FILE_PROCESSING: 14, FILE_ERRORED: 16, FILE_COMPLETE: 17, FILE_DESTROYED: 18, FILE_POPULATED: 19, FILE_PENDING_DESTROY: 20 } }, 42155: t => { t.exports = "addfile" }, 38991: t => { t.exports = "complete" }, 27540: t => { t.exports = "filecomplete" }, 87464: t => { t.exports = "filecomplete-" }, 94486: t => { t.exports = "loaderror" }, 13035: t => { t.exports = "load" }, 38144: t => { t.exports = "fileprogress" }, 97520: t => { t.exports = "postprocess" }, 85595: t => { t.exports = "progress" }, 55680: t => { t.exports = "start" }, 54899: (t, e, i) => { t.exports = { ADD: i(42155), COMPLETE: i(38991), FILE_COMPLETE: i(27540), FILE_KEY_COMPLETE: i(87464), FILE_LOAD_ERROR: i(94486), FILE_LOAD: i(13035), FILE_PROGRESS: i(38144), POST_PROCESS: i(97520), PROGRESS: i(85595), START: i(55680) } }, 14135: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(518),
					o = i(54899),
					a = new n({ Extends: s, initialize: function(t, e, i, n, r) { s.call(this, t, e, i, n, r), this.type = "animationJSON" }, onProcess: function() { this.loader.once(o.POST_PROCESS, this.onLoadComplete, this), s.prototype.onProcess.call(this) }, onLoadComplete: function() { this.loader.systems.anims.fromJSON(this.data) } });
				r.register("animation", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new a(this, t[r]));
					else this.addFile(new a(this, t, e, n, i)); return this })), t.exports = a }, 76272: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(19550),
					a = i(41212),
					l = i(518),
					h = i(26430),
					u = new n({ Extends: h, initialize: function(t, e, i, n, r, u) { var c, d; if (a(e)) { var f = e;
								e = s(f, "key"), c = new o(t, { key: e, url: s(f, "textureURL"), extension: s(f, "textureExtension", "png"), normalMap: s(f, "normalMap"), xhrSettings: s(f, "textureXhrSettings") }), d = new l(t, { key: e, url: s(f, "atlasURL"), extension: s(f, "atlasExtension", "json"), xhrSettings: s(f, "atlasXhrSettings") }) } else c = new o(t, e, i, r), d = new l(t, e, n, u);
							c.linkFile ? h.call(this, t, "atlasjson", e, [c, d, c.linkFile]) : h.call(this, t, "atlasjson", e, [c, d]) }, addToCache: function() { if (this.isReadyToProcess()) { var t = this.files[0],
									e = this.files[1],
									i = this.files[2] ? this.files[2].data : null;
								this.loader.textureManager.addAtlas(t.key, t.data, e.data, i), e.addToCache(), this.complete = !0 } } });
				r.register("aseprite", (function(t, e, i, n, r) { var s; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s = new u(this, t[o]), this.addFile(s.files);
					else s = new u(this, t, e, i, n, r), this.addFile(s.files); return this })), t.exports = u }, 38734: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(19550),
					a = i(41212),
					l = i(518),
					h = i(26430),
					u = new n({ Extends: h, initialize: function(t, e, i, n, r, u) { var c, d; if (a(e)) { var f = e;
								e = s(f, "key"), c = new o(t, { key: e, url: s(f, "textureURL"), extension: s(f, "textureExtension", "png"), normalMap: s(f, "normalMap"), xhrSettings: s(f, "textureXhrSettings") }), d = new l(t, { key: e, url: s(f, "atlasURL"), extension: s(f, "atlasExtension", "json"), xhrSettings: s(f, "atlasXhrSettings") }) } else c = new o(t, e, i, r), d = new l(t, e, n, u);
							c.linkFile ? h.call(this, t, "atlasjson", e, [c, d, c.linkFile]) : h.call(this, t, "atlasjson", e, [c, d]) }, addToCache: function() { if (this.isReadyToProcess()) { var t = this.files[0],
									e = this.files[1],
									i = this.files[2] ? this.files[2].data : null;
								this.loader.textureManager.addAtlas(t.key, t.data, e.data, i), this.complete = !0 } } });
				r.register("atlas", (function(t, e, i, n, r) { var s; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s = new u(this, t[o]), this.addFile(s.files);
					else s = new u(this, t, e, i, n, r), this.addFile(s.files); return this })), t.exports = u }, 74599: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(19550),
					a = i(41212),
					l = i(26430),
					h = i(57318),
					u = new n({ Extends: l, initialize: function(t, e, i, n, r, u) { var c, d; if (a(e)) { var f = e;
								e = s(f, "key"), c = new o(t, { key: e, url: s(f, "textureURL"), extension: s(f, "textureExtension", "png"), normalMap: s(f, "normalMap"), xhrSettings: s(f, "textureXhrSettings") }), d = new h(t, { key: e, url: s(f, "atlasURL"), extension: s(f, "atlasExtension", "xml"), xhrSettings: s(f, "atlasXhrSettings") }) } else c = new o(t, e, i, r), d = new h(t, e, n, u);
							c.linkFile ? l.call(this, t, "atlasxml", e, [c, d, c.linkFile]) : l.call(this, t, "atlasxml", e, [c, d]) }, addToCache: function() { if (this.isReadyToProcess()) { var t = this.files[0],
									e = this.files[1],
									i = this.files[2] ? this.files[2].data : null;
								this.loader.textureManager.addAtlasXML(t.key, t.data, e.data, i), this.complete = !0 } } });
				r.register("atlasXML", (function(t, e, i, n, r) { var s; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s = new u(this, t[o]), this.addFile(s.files);
					else s = new u(this, t, e, i, n, r), this.addFile(s.files); return this })), t.exports = u }, 21097: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(89749),
					h = i(41212),
					u = new n({ Extends: s, initialize: function(t, e, i, n, r) { if (h(e)) { var o = e;
								e = a(o, "key"), n = a(o, "xhrSettings"), r = a(o, "context", r) } var l = { type: "audio", cache: t.cacheManager.audio, extension: i.type, responseType: "arraybuffer", key: e, url: i.url, xhrSettings: n, config: { context: r } };
							s.call(this, t, l) }, onProcess: function() { this.state = r.FILE_PROCESSING; var t = this;
							this.config.context.decodeAudioData(this.xhrLoader.response, (function(e) { t.data = e, t.onProcessComplete() }), (function(e) { console.error("Error decoding audio: " + t.key + " - ", e ? e.message : null), t.onProcessError() })), this.config.context = null } });
				u.create = function(t, e, i, n, r) { var s = t.systems.game,
						o = s.config.audio,
						c = s.device.audio;
					h(e) && (i = a(e, "url", []), n = a(e, "config", {})); var d = u.getAudioURL(s, i); return d ? c.webAudio && !o.disableWebAudio ? new u(t, e, d, r, s.sound.context) : new l(t, e, d, n) : (console.warn('No audio URLs for "%s" can play on this device', e), null) }, u.getAudioURL = function(t, e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++) { var n = a(e[i], "url", e[i]); if (0 === n.indexOf("blob:") || 0 === n.indexOf("data:")) return { url: n, type: "" }; var r = n.match(/\.([a-zA-Z0-9]+)($|\?)/); if (r = a(e[i], "type", r ? r[1] : "").toLowerCase(), t.device.audio[r]) return { url: n, type: r } } return null }, o.register("audio", (function(t, e, i, n) { var r, s = this.systems.game,
						o = s.config.audio,
						a = s.device.audio; if (o.noAudio || !a.webAudio && !a.audioData) return this; if (Array.isArray(t))
						for (var l = 0; l < t.length; l++)(r = u.create(this, t[l])) && this.addFile(r);
					else(r = u.create(this, t, e, i, n)) && this.addFile(r); return this })), t.exports = u }, 89524: (t, e, i) => { var n = i(21097),
					r = i(83419),
					s = i(74099),
					o = i(95540),
					a = i(41212),
					l = i(518),
					h = i(26430),
					u = new r({ Extends: h, initialize: function(t, e, i, r, s, u, c) { if (a(e)) { var d = e;
								e = o(d, "key"), i = o(d, "jsonURL"), r = o(d, "audioURL"), s = o(d, "audioConfig"), u = o(d, "audioXhrSettings"), c = o(d, "jsonXhrSettings") } var f; if (r) { var p = n.create(t, e, r, s, u);
								p && (f = new l(t, e, i, c), h.call(this, t, "audiosprite", e, [p, f]), this.config.resourceLoad = !1) } else f = new l(t, e, i, c), h.call(this, t, "audiosprite", e, [f]), this.config.resourceLoad = !0, this.config.audioConfig = s, this.config.audioXhrSettings = u }, onFileComplete: function(t) { if (-1 !== this.files.indexOf(t) && (this.pending--, this.config.resourceLoad && "json" === t.type && t.data.hasOwnProperty("resources"))) { var e = t.data.resources,
									i = o(this.config, "audioConfig"),
									r = o(this.config, "audioXhrSettings"),
									s = n.create(this.loader, t.key, e, i, r);
								s && (this.addToMultiFile(s), this.loader.addFile(s)) } }, addToCache: function() { if (this.isReadyToProcess()) { var t = this.files[0],
									e = this.files[1];
								t.addToCache(), e.addToCache(), this.complete = !0 } } });
				s.register("audioSprite", (function(t, e, i, n, r, s) { var o, a = this.systems.game,
						l = a.config.audio,
						h = a.device.audio; if (l && l.noAudio || !h.webAudio && !h.audioData) return this; if (Array.isArray(t))
						for (var c = 0; c < t.length; c++)(o = new u(this, t[c])).files && this.addFile(o.files);
					else(o = new u(this, t, e, i, n, r, s)).files && this.addFile(o.files); return this })) }, 85722: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n, r) { var o = "bin"; if (l(e)) { var h = e;
								e = a(h, "key"), i = a(h, "url"), n = a(h, "xhrSettings"), o = a(h, "extension", o), r = a(h, "dataType", r) } var u = { type: "binary", cache: t.cacheManager.binary, extension: o, responseType: "arraybuffer", key: e, url: i, xhrSettings: n, config: { dataType: r } };
							s.call(this, t, u) }, onProcess: function() { this.state = r.FILE_PROCESSING; var t = this.config.dataType;
							this.data = t ? new t(this.xhrLoader.response) : this.xhrLoader.response, this.onProcessComplete() } });
				o.register("binary", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new h(this, t[r]));
					else this.addFile(new h(this, t, e, n, i)); return this })), t.exports = h }, 97025: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(19550),
					a = i(41212),
					l = i(26430),
					h = i(21859),
					u = i(57318),
					c = new n({ Extends: l, initialize: function(t, e, i, n, r, h) { var c, d; if (a(e)) { var f = e;
								e = s(f, "key"), c = new o(t, { key: e, url: s(f, "textureURL"), extension: s(f, "textureExtension", "png"), normalMap: s(f, "normalMap"), xhrSettings: s(f, "textureXhrSettings") }), d = new u(t, { key: e, url: s(f, "fontDataURL"), extension: s(f, "fontDataExtension", "xml"), xhrSettings: s(f, "fontDataXhrSettings") }) } else c = new o(t, e, i, r), d = new u(t, e, n, h);
							c.linkFile ? l.call(this, t, "bitmapfont", e, [c, d, c.linkFile]) : l.call(this, t, "bitmapfont", e, [c, d]) }, addToCache: function() { if (this.isReadyToProcess()) { var t = this.files[0],
									e = this.files[1];
								t.addToCache(); var i = t.cache.get(t.key),
									n = h(e.data, t.cache.getFrame(t.key), 0, 0, i);
								this.loader.cacheManager.bitmapFont.add(t.key, { data: n, texture: t.key, frame: null }), this.complete = !0 } } });
				r.register("bitmapFont", (function(t, e, i, n, r) { var s; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s = new c(this, t[o]), this.addFile(s.files);
					else s = new c(this, t, e, i, n, r), this.addFile(s.files); return this })), t.exports = c }, 16024: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n) { var r = "css"; if (l(e)) { var o = e;
								e = a(o, "key"), i = a(o, "url"), n = a(o, "xhrSettings"), r = a(o, "extension", r) } var h = { type: "script", cache: !1, extension: r, responseType: "text", key: e, url: i, xhrSettings: n };
							s.call(this, t, h) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = document.createElement("style"), this.data.defer = !1, this.data.innerHTML = this.xhrLoader.responseText, document.head.appendChild(this.data), this.onProcessComplete() } });
				o.register("css", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new h(this, t[n]));
					else this.addFile(new h(this, t, e, i)); return this })), t.exports = h }, 69559: (t, e, i) => { var n = i(38734),
					r = i(85722),
					s = i(83419),
					o = i(74099),
					a = i(95540),
					l = i(19550),
					h = i(41212),
					u = i(518),
					c = i(31403),
					d = i(46975),
					f = i(59327),
					p = i(26430),
					g = i(82038),
					m = i(55222),
					v = new s({ Extends: p, initialize: function(t, e, i, n) { if (i.multiAtlasURL) { var s = new u(t, { key: e, url: i.multiAtlasURL, xhrSettings: n, config: i });
								p.call(this, t, "texture", e, [s]) } else { var o = i.textureURL.substr(i.textureURL.length - 3);
								i.type || (i.type = "ktx" === o.toLowerCase() ? "KTX" : "PVR"); var a = new r(t, { key: e, url: i.textureURL, extension: o, xhrSettings: n, config: i }); if (i.atlasURL) { var l = new u(t, { key: e, url: i.atlasURL, xhrSettings: n, config: i });
									p.call(this, t, "texture", e, [a, l]) } else p.call(this, t, "texture", e, [a]) } this.config = i }, onFileComplete: function(t) { if (-1 !== this.files.indexOf(t)) { if (this.pending--, !this.config.multiAtlasURL) return; if ("json" === t.type && t.data.hasOwnProperty("textures")) { var e = t.data.textures,
										i = this.config,
										n = this.loader,
										s = n.baseURL,
										o = n.path,
										l = n.prefix,
										h = a(i, "multiBaseURL", this.baseURL),
										u = a(i, "multiPath", this.path),
										c = a(i, "prefix", this.prefix),
										d = a(i, "textureXhrSettings");
									h && n.setBaseURL(h), u && n.setPath(u), c && n.setPrefix(c); for (var f = 0; f < e.length; f++) { var p = e[f].image,
											g = "CMA" + this.multiKeyIndex + "_" + p,
											m = new r(n, g, p, d); if (this.addToMultiFile(m), n.addFile(m), e[f].normalMap) { var v = new r(n, g, e[f].normalMap, d);
											v.type = "normalMap", m.setLink(v), this.addToMultiFile(v), n.addFile(v) } } n.setBaseURL(s), n.setPath(o), n.setPrefix(l) } } }, addToCache: function() {
							function t(t) { console.warn('Compressed Texture Invalid: "' + s.key + '". ' + t) } if (this.isReadyToProcess()) { var e = this.config; if (e.multiAtlasURL) this.addMultiToCache();
								else { var i, n = this.loader.systems.renderer,
										r = this.loader.textureManager,
										s = this.files[0],
										o = this.files[1]; if ("PVR" === e.type ? i = g(s.data) : "KTX" === e.type && ((i = c(s.data)) || t("KTX file contains unsupported format.")), i && !m(i) && (t("Texture dimensions failed verification. Check the texture format specifications for " + e.format + " 0x" + i.internalFormat.toString(16) + "."), i = null), i && !n.supportsCompressedTexture(e.format, i.internalFormat) && (t("Texture format " + e.format + " with internal format " + i.internalFormat + " not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."), i = null), i) { i.format = n.getCompressedTextureName(e.format, i.internalFormat); var a = o && o.data ? o.data : null;
										r.addCompressedTexture(s.key, i, a) } } this.complete = !0 } }, addMultiToCache: function() { for (var t, e = this.config, i = this.files[0], n = [], r = [], s = [], o = this.loader.systems.renderer, a = this.loader.textureManager, l = 1; l < this.files.length; l++) { var h = this.files[l]; if ("normalMap" !== h.type)
									for (var u = h.key.indexOf("_"), d = h.key.substr(u + 1), f = h.data, p = 0; p < i.data.textures.length; p++) { var m = i.data.textures[p]; if (m.image === d) { "PVR" === e.type ? t = g(f) : "KTX" === e.type && (t = c(f)), t && o.supportsCompressedTexture(e.format, t.internalFormat) && (t.format = o.getCompressedTextureName(e.format, t.internalFormat), r.push(t), n.push(m), h.linkFile && s.push(h.linkFile.data)); break } } } 0 === s.length && (s = void 0), a.addAtlasJSONArray(this.key, r, n, s), this.complete = !0 } });
				o.register("texture", (function(t, e, i) { var r = this.systems.renderer,
						s = function(t, e, i, s) { var o = { format: null, type: null, textureURL: void 0, atlasURL: void 0, multiAtlasURL: void 0, multiPath: void 0, multiBaseURL: void 0 }; if (h(e)) { var u = e;
								e = a(u, "key"), i = a(u, "url"), s = a(u, "xhrSettings") } var c = !1; for (var p in i)
								if (r.supportsCompressedTexture(p)) { var g = i[p]; "string" == typeof g ? o.textureURL = g : o = d(g, o), o.format = p.toUpperCase(), c = !0; break } if (c)
								if ("IMG" === o.format) { var m;
									m = o.multiAtlasURL ? new f(t, e, o.multiAtlasURL, o.multiPath, o.multiBaseURL, s).files : o.atlasURL ? new n(t, e, o.textureURL, o.atlasURL, s).files : new l(t, e, o.textureURL, s), t.addFile(m) } else { var y = new v(t, e, o, s);
									t.addFile(y.files) } else console.warn("No supported compressed texture format or IMG fallback", e) }; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s(this, t[o]);
					else s(this, t, e, i); return this })), t.exports = v }, 87674: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(98356),
					h = i(41212),
					u = new n({ Extends: s, initialize: function(t, e, i, n, o, l) { var u = "ttf"; if (h(e)) { var c = e;
								e = a(c, "key"), i = a(c, "url"), n = a(c, "format", "truetype"), o = a(c, "descriptors", null), l = a(c, "xhrSettings"), u = a(c, "extension", u) } else void 0 === n && (n = "truetype"); var d = { type: "font", cache: !1, extension: u, responseType: "text", key: e, url: i, xhrSettings: l };
							s.call(this, t, d), this.data = { format: n, descriptors: o }, this.state = r.FILE_POPULATED }, onProcess: function() { var t;
							this.state = r.FILE_PROCESSING, this.src = l(this, this.loader.baseURL); var e = this.key,
								i = "url(" + this.src + ') format("' + this.data.format + '")';
							t = this.data.descriptors ? new FontFace(e, i, this.data.descriptors) : new FontFace(e, i); var n = this;
							t.load().then((function() { document.fonts.add(t), document.body.classList.add("fonts-loaded"), n.onProcessComplete() })).catch((function() { console.warn("Font failed to load", i), n.onProcessComplete() })) } });
				o.register("font", (function(t, e, i, n, r) { if (Array.isArray(t))
						for (var s = 0; s < t.length; s++) this.addFile(new u(this, t[s]));
					else this.addFile(new u(this, t, e, i, n, r)); return this })), t.exports = u }, 47931: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = i(73894),
					u = new n({ Extends: s, initialize: function(t, e, i, n, r) { var o = "glsl"; if (l(e)) { var h = e;
								e = a(h, "key"), i = a(h, "url"), n = a(h, "shaderType", "fragment"), r = a(h, "xhrSettings"), o = a(h, "extension", o) } else void 0 === n && (n = "fragment"); var u = { type: "glsl", cache: t.cacheManager.shader, extension: o, responseType: "text", key: e, url: i, config: { shaderType: n }, xhrSettings: r };
							s.call(this, t, u) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() }, addToCache: function() { var t = this.data.split("\n"),
								e = this.extractBlock(t, 0); if (e)
								for (; e;) { var i = this.getShaderName(e.header),
										n = this.getShaderType(e.header),
										r = this.getShaderUniforms(e.header),
										s = e.shader; if (this.cache.has(i)) { var o = this.cache.get(i); "fragment" === n ? o.fragmentSrc = s : o.vertexSrc = s, o.uniforms || (o.uniforms = r) } else "fragment" === n ? this.cache.add(i, new h(i, s, "", r)) : this.cache.add(i, new h(i, "", s, r));
									e = this.extractBlock(t, e.offset) } else "fragment" === this.config.shaderType ? this.cache.add(this.key, new h(this.key, this.data)) : this.cache.add(this.key, new h(this.key, "", this.data)) }, getShaderName: function(t) { for (var e = 0; e < t.length; e++) { var i = t[e].trim(); if ("name:" === i.substring(0, 5)) return i.substring(5).trim() } return this.key }, getShaderType: function(t) { for (var e = 0; e < t.length; e++) { var i = t[e].trim(); if ("type:" === i.substring(0, 5)) return i.substring(5).trim() } return this.config.shaderType }, getShaderUniforms: function(t) { for (var e = {}, i = 0; i < t.length; i++) { var n = t[i].trim(); if ("uniform." === n.substring(0, 8)) { var r = n.indexOf(":"); if (r) { var s = n.substring(8, r); try { e[s] = JSON.parse(n.substring(r + 1)) } catch (o) { console.warn("Invalid uniform JSON: " + s) } } } } return e }, extractBlock: function(t, e) { for (var i = -1, n = -1, r = -1, s = !1, o = !1, a = [], l = [], h = e; h < t.length; h++) { var u = t[h].trim(); if ("---" === u)
									if (-1 === i) i = h, s = !0;
									else { if (!s) { o = !1; break } n = h, s = !1, o = !0 } else s ? a.push(u) : o && (l.push(u), r = h) } return s || -1 === n ? null : { header: a, shader: l.join("\n"), offset: r } } });
				o.register("glsl", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new u(this, t[r]));
					else this.addFile(new u(this, t, e, i, n)); return this })), t.exports = u }, 89749: (t, e, i) => { var n = i(83419),
					r = i(54899),
					s = i(41299),
					o = i(95540),
					a = i(98356),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n) { if (l(e)) { var r = e;
								e = o(r, "key"), n = o(r, "config", n) } var a = { type: "audio", cache: t.cacheManager.audio, extension: i.type, key: e, url: i.url, config: n };
							s.call(this, t, a), this.locked = "ontouchstart" in window, this.loaded = !1, this.filesLoaded = 0, this.filesTotal = 0 }, onLoad: function() { this.loaded || (this.loaded = !0, this.loader.nextFile(this, !0)) }, onError: function() { for (var t = 0; t < this.data.length; t++) { var e = this.data[t];
								e.oncanplaythrough = null, e.onerror = null } this.loader.nextFile(this, !1) }, onProgress: function(t) { var e = t.target;
							e.oncanplaythrough = null, e.onerror = null, this.filesLoaded++, this.percentComplete = Math.min(this.filesLoaded / this.filesTotal, 1), this.loader.emit(r.FILE_PROGRESS, this, this.percentComplete), this.filesLoaded === this.filesTotal && this.onLoad() }, load: function() { this.data = []; var t = this.config && this.config.instances || 1;
							this.filesTotal = t, this.filesLoaded = 0, this.percentComplete = 0; for (var e = 0; e < t; e++) { var i = new Audio;
								i.dataset || (i.dataset = {}), i.dataset.name = this.key + ("0" + e).slice(-2), i.dataset.used = "false", this.locked ? i.dataset.locked = "true" : (i.dataset.locked = "false", i.preload = "auto", i.oncanplaythrough = this.onProgress.bind(this), i.onerror = this.onError.bind(this)), this.data.push(i) } for (e = 0; e < this.data.length; e++)(i = this.data[e]).src = a(this, this.loader.baseURL), this.locked || i.load();
							this.locked && setTimeout(this.onLoad.bind(this)) } });
				t.exports = h }, 88470: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n) { var r = "html"; if (l(e)) { var o = e;
								e = a(o, "key"), i = a(o, "url"), n = a(o, "xhrSettings"), r = a(o, "extension", r) } var h = { type: "text", cache: t.cacheManager.html, extension: r, responseType: "text", key: e, url: i, xhrSettings: n };
							s.call(this, t, h) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() } });
				o.register("html", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new h(this, t[n]));
					else this.addFile(new h(this, t, e, i)); return this })), t.exports = h }, 14643: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n, r, o) { void 0 === n && (n = 512), void 0 === r && (r = 512); var h = "html"; if (l(e)) { var u = e;
								e = a(u, "key"), i = a(u, "url"), o = a(u, "xhrSettings"), h = a(u, "extension", h), n = a(u, "width", n), r = a(u, "height", r) } var c = { type: "html", cache: t.textureManager, extension: h, responseType: "text", key: e, url: i, xhrSettings: o, config: { width: n, height: r } };
							s.call(this, t, c) }, onProcess: function() { this.state = r.FILE_PROCESSING; var t = this.config.width,
								e = this.config.height,
								i = [];
							i.push('<svg width="' + t + 'px" height="' + e + 'px" viewBox="0 0 ' + t + " " + e + '" xmlns="http://www.w3.org/2000/svg">'), i.push('<foreignObject width="100%" height="100%">'), i.push('<body xmlns="http://www.w3.org/1999/xhtml">'), i.push(this.xhrLoader.responseText), i.push("</body>"), i.push("</foreignObject>"), i.push("</svg>"); var n = [i.join("\n")],
								o = this; try { var a = new window.Blob(n, { type: "image/svg+xml;charset=utf-8" }) } catch (l) { return o.state = r.FILE_ERRORED, void o.onProcessComplete() } this.data = new Image, this.data.crossOrigin = this.crossOrigin, this.data.onload = function() { s.revokeObjectURL(o.data), o.onProcessComplete() }, this.data.onerror = function() { s.revokeObjectURL(o.data), o.onProcessError() }, s.createObjectURL(this.data, a, "image/svg+xml") }, addToCache: function() { this.cache.addImage(this.key, this.data) } });
				o.register("htmlTexture", (function(t, e, i, n, r) { if (Array.isArray(t))
						for (var s = 0; s < t.length; s++) this.addFile(new h(this, t[s]));
					else this.addFile(new h(this, t, e, i, n, r)); return this })), t.exports = h }, 19550: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = i(98356),
					u = new n({ Extends: s, initialize: function t(e, i, n, r, o) { var h, u = "png"; if (l(i)) { var c = i;
								i = a(c, "key"), n = a(c, "url"), h = a(c, "normalMap"), r = a(c, "xhrSettings"), u = a(c, "extension", u), o = a(c, "frameConfig") } Array.isArray(n) && (h = n[1], n = n[0]); var d = { type: "image", cache: e.textureManager, extension: u, responseType: "blob", key: i, url: n, xhrSettings: r, config: o }; if (s.call(this, e, d), h) { var f = new t(e, this.key, h, r, o);
								f.type = "normalMap", this.setLink(f), e.addFile(f) } this.useImageElementLoad = "HTMLImageElement" === e.imageLoadType || this.base64, this.useImageElementLoad && (this.load = this.loadImage, this.onProcess = this.onProcessImage) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = new Image, this.data.crossOrigin = this.crossOrigin; var t = this;
							this.data.onload = function() { s.revokeObjectURL(t.data), t.onProcessComplete() }, this.data.onerror = function() { s.revokeObjectURL(t.data), t.onProcessError() }, s.createObjectURL(this.data, this.xhrLoader.response, "image/png") }, onProcessImage: function() { var t = this.state;
							this.state = r.FILE_PROCESSING, t === r.FILE_LOADED ? this.onProcessComplete() : this.onProcessError() }, loadImage: function() { this.state = r.FILE_LOADING, this.src = h(this, this.loader.baseURL), this.data = new Image, this.data.crossOrigin = this.crossOrigin; var t = this;
							this.data.onload = function() { t.state = r.FILE_LOADED, t.loader.nextFile(t, !0) }, this.data.onerror = function() { t.loader.nextFile(t, !1) }, this.data.src = this.src }, addToCache: function() { var t = this.linkFile;
							t ? t.state >= r.FILE_COMPLETE && ("spritesheet" === t.type ? t.addToCache() : "normalMap" === this.type ? this.cache.addImage(this.key, t.data, this.data) : this.cache.addImage(this.key, this.data, t.data)) : this.cache.addImage(this.key, this.data) } });
				o.register("image", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new u(this, t[n]));
					else this.addFile(new u(this, t, e, i)); return this })), t.exports = u }, 518: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(35154),
					h = i(41212),
					u = new n({ Extends: s, initialize: function(t, e, i, n, o) { var u = "json"; if (h(e)) { var c = e;
								e = a(c, "key"), i = a(c, "url"), n = a(c, "xhrSettings"), u = a(c, "extension", u), o = a(c, "dataKey", o) } var d = { type: "json", cache: t.cacheManager.json, extension: u, responseType: "text", key: e, url: i, xhrSettings: n, config: o };
							s.call(this, t, d), h(i) && (this.data = o ? l(i, o) : i, this.state = r.FILE_POPULATED) }, onProcess: function() { if (this.state !== r.FILE_POPULATED) { this.state = r.FILE_PROCESSING; try { var t = JSON.parse(this.xhrLoader.responseText) } catch (i) { throw this.onProcessError(), i } var e = this.config;
								this.data = "string" == typeof e ? l(t, e, t) : t } this.onProcessComplete() } });
				o.register("json", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new u(this, t[r]));
					else this.addFile(new u(this, t, e, n, i)); return this })), t.exports = u }, 59327: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(19550),
					a = i(41212),
					l = i(518),
					h = i(26430),
					u = new n({ Extends: h, initialize: function(t, e, i, n, r, o, u) { if (a(e)) { var c = e;
								e = s(c, "key"), i = s(c, "url", !1) ? s(c, "url") : s(c, "atlasURL"), o = s(c, "xhrSettings"), n = s(c, "path"), r = s(c, "baseURL"), u = s(c, "textureXhrSettings") } var d = new l(t, e, i, o);
							h.call(this, t, "multiatlas", e, [d]), this.config.path = n, this.config.baseURL = r, this.config.textureXhrSettings = u }, onFileComplete: function(t) { if (-1 !== this.files.indexOf(t) && (this.pending--, "json" === t.type && t.data.hasOwnProperty("textures"))) { var e = t.data.textures,
									i = this.config,
									n = this.loader,
									r = n.baseURL,
									a = n.path,
									l = n.prefix,
									h = s(i, "baseURL", this.baseURL),
									u = s(i, "path", this.path),
									c = s(i, "prefix", this.prefix),
									d = s(i, "textureXhrSettings");
								n.setBaseURL(h), n.setPath(u), n.setPrefix(c); for (var f = 0; f < e.length; f++) { var p = e[f].image,
										g = "MA" + this.multiKeyIndex + "_" + p,
										m = new o(n, g, p, d); if (this.addToMultiFile(m), n.addFile(m), e[f].normalMap) { var v = new o(n, g, e[f].normalMap, d);
										v.type = "normalMap", m.setLink(v), this.addToMultiFile(v), n.addFile(v) } } n.setBaseURL(r), n.setPath(a), n.setPrefix(l) } }, addToCache: function() { if (this.isReadyToProcess()) { for (var t = this.files[0], e = [], i = [], n = [], r = 1; r < this.files.length; r++) { var s = this.files[r]; if ("normalMap" !== s.type)
										for (var o = s.key.indexOf("_"), a = s.key.substr(o + 1), l = s.data, h = 0; h < t.data.textures.length; h++) { var u = t.data.textures[h]; if (u.image === a) { i.push(l), e.push(u), s.linkFile && n.push(s.linkFile.data); break } } } 0 === n.length && (n = void 0), this.loader.textureManager.addAtlasJSONArray(this.key, i, e, n), this.complete = !0 } } });
				r.register("multiatlas", (function(t, e, i, n, r) { var s; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s = new u(this, t[o]), this.addFile(s.files);
					else s = new u(this, t, e, i, n, r), this.addFile(s.files); return this })), t.exports = u }, 99297: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(41212),
					a = i(26430),
					l = i(34328),
					h = new n({ Extends: a, initialize: function(t, e, i, n) { var r = "js",
								h = []; if (o(e)) { var u = e;
								e = s(u, "key"), i = s(u, "url"), n = s(u, "xhrSettings"), r = s(u, "extension", r) } Array.isArray(i) || (i = [i]); for (var c = 0; c < i.length; c++) { var d = new l(t, { key: e + "_" + c.toString(), url: i[c], extension: r, xhrSettings: n });
								d.onProcess = function() { this.onProcessComplete() }, h.push(d) } a.call(this, t, "scripts", e, h) }, addToCache: function() { if (this.isReadyToProcess()) { for (var t = 0; t < this.files.length; t++) { var e = this.files[t];
									e.data = document.createElement("script"), e.data.language = "javascript", e.data.type = "text/javascript", e.data.defer = !1, e.data.text = e.xhrLoader.responseText, document.head.appendChild(e.data) } this.complete = !0 } } });
				r.register("scripts", (function(t, e, i) { var n; if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) n = new h(this, t[r]), this.addFile(n.files);
					else n = new h(this, t, e, i), this.addFile(n.files); return this })), t.exports = h }, 41846: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(41212),
					a = i(26430),
					l = i(85048),
					h = i(61485),
					u = i(78776),
					c = new n({ Extends: a, initialize: function(t, e, i, n, r, l) { var h, c, d = t.cacheManager.obj; if (o(e)) { var f = e;
								e = s(f, "key"), h = new u(t, { key: e, type: "obj", cache: d, url: s(f, "url"), extension: s(f, "extension", "obj"), xhrSettings: s(f, "xhrSettings"), config: { flipUV: s(f, "flipUV", r) } }), (n = s(f, "matURL")) && (c = new u(t, { key: e, type: "mat", cache: d, url: n, extension: s(f, "matExtension", "mat"), xhrSettings: s(f, "xhrSettings") })) } else h = new u(t, { key: e, url: i, type: "obj", cache: d, extension: "obj", xhrSettings: l, config: { flipUV: r } }), n && (c = new u(t, { key: e, url: n, type: "mat", cache: d, extension: "mat", xhrSettings: l }));
							a.call(this, t, "obj", e, [h, c]) }, addToCache: function() { if (this.isReadyToProcess()) { var t = this.files[0],
									e = this.files[1],
									i = l(t.data, t.config.flipUV);
								e && (i.materials = h(e.data)), t.cache.add(t.key, i), this.complete = !0 } } });
				r.register("obj", (function(t, e, i, n, r) { var s; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s = new c(this, t[o]), this.addFile(s.files);
					else s = new c(this, t, e, i, n, r), this.addFile(s.files); return this })), t.exports = c }, 58610: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(74099),
					o = i(518),
					a = new n({ Extends: o, initialize: function(t, e, i, n, r) { o.call(this, t, e, i, n, r), this.type = "packfile" }, onProcess: function() { if (this.state !== r.FILE_POPULATED && (this.state = r.FILE_PROCESSING, this.data = JSON.parse(this.xhrLoader.responseText)), this.data.hasOwnProperty("files") && this.config) { var t = {};
								t[this.config] = this.data, this.data = t } this.loader.addPack(this.data, this.config), this.onProcessComplete() } });
				s.register("pack", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new a(this, t[r]));
					else this.addFile(new a(this, t, e, n, i)); return this })), t.exports = a }, 48988: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n, o, h) { var u = "js"; if (l(e)) { var c = e;
								e = a(c, "key"), i = a(c, "url"), h = a(c, "xhrSettings"), u = a(c, "extension", u), n = a(c, "start"), o = a(c, "mapping") } var d = { type: "plugin", cache: !1, extension: u, responseType: "text", key: e, url: i, xhrSettings: h, config: { start: n, mapping: o } };
							s.call(this, t, d), "function" == typeof i && (this.data = i, this.state = r.FILE_POPULATED) }, onProcess: function() { var t = this.loader.systems.plugins,
								e = this.config,
								i = a(e, "start", !1),
								n = a(e, "mapping", null); if (this.state === r.FILE_POPULATED) t.install(this.key, this.data, i, n);
							else { this.state = r.FILE_PROCESSING, this.data = document.createElement("script"), this.data.language = "javascript", this.data.type = "text/javascript", this.data.defer = !1, this.data.text = this.xhrLoader.responseText, document.head.appendChild(this.data); var s = t.install(this.key, window[this.key], i, n);
								(i || n) && (this.loader.systems[n] = s, this.loader.scene[n] = s) } this.onProcessComplete() } });
				o.register("plugin", (function(t, e, i, n, r) { if (Array.isArray(t))
						for (var s = 0; s < t.length; s++) this.addFile(new h(this, t[s]));
					else this.addFile(new h(this, t, e, i, n, r)); return this })), t.exports = h }, 67397: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n, r) { var o = "svg"; if (l(e)) { var h = e;
								e = a(h, "key"), i = a(h, "url"), n = a(h, "svgConfig", {}), r = a(h, "xhrSettings"), o = a(h, "extension", o) } var u = { type: "svg", cache: t.textureManager, extension: o, responseType: "text", key: e, url: i, xhrSettings: r, config: { width: a(n, "width"), height: a(n, "height"), scale: a(n, "scale") } };
							s.call(this, t, u) }, onProcess: function() { this.state = r.FILE_PROCESSING; var t = this.xhrLoader.responseText,
								e = [t],
								i = this.config.width,
								n = this.config.height,
								o = this.config.scale;
							t: if (i && n || o) { var a = (new DOMParser).parseFromString(t, "text/xml").getElementsByTagName("svg")[0],
									l = a.hasAttribute("viewBox"),
									h = parseFloat(a.getAttribute("width")),
									u = parseFloat(a.getAttribute("height")); if (!l && h && u) a.setAttribute("viewBox", "0  0 " + h + " " + u);
								else if (l && !h && !u) { var c = a.getAttribute("viewBox").split(/\s+|,/);
									h = c[2], u = c[3] } if (o) { if (!h || !u) break t;
									i = h * o, n = u * o } a.setAttribute("width", i.toString() + "px"), a.setAttribute("height", n.toString() + "px"), e = [(new XMLSerializer).serializeToString(a)] } try { var d = new window.Blob(e, { type: "image/svg+xml;charset=utf-8" }) } catch (g) { return void this.onProcessError() } this.data = new Image, this.data.crossOrigin = this.crossOrigin; var f = this,
								p = !1;
							this.data.onload = function() { p || s.revokeObjectURL(f.data), f.onProcessComplete() }, this.data.onerror = function() { p ? f.onProcessError() : (p = !0, s.revokeObjectURL(f.data), f.data.src = "data:image/svg+xml," + encodeURIComponent(e.join(""))) }, s.createObjectURL(this.data, d, "image/svg+xml") }, addToCache: function() { this.cache.addImage(this.key, this.data) } });
				o.register("svg", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new h(this, t[r]));
					else this.addFile(new h(this, t, e, i, n)); return this })), t.exports = h }, 88423: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n) { var r = "js"; if (l(e)) { var o = e;
								e = a(o, "key"), i = a(o, "url"), n = a(o, "xhrSettings"), r = a(o, "extension", r) } var h = { type: "text", extension: r, responseType: "text", key: e, url: i, xhrSettings: n };
							s.call(this, t, h) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() }, addToCache: function() { var t = this.data.concat("(function(){\nreturn new " + this.key + "();\n}).call(this);"),
								e = eval;
							this.loader.sceneManager.add(this.key, e(t)), this.complete = !0 } });
				o.register("sceneFile", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new h(this, t[n]));
					else this.addFile(new h(this, t, e, i)); return this })), t.exports = h }, 56812: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n, o, h) { var u = "js"; if (l(e)) { var c = e;
								e = a(c, "key"), i = a(c, "url"), h = a(c, "xhrSettings"), u = a(c, "extension", u), n = a(c, "systemKey"), o = a(c, "sceneKey") } var d = { type: "scenePlugin", cache: !1, extension: u, responseType: "text", key: e, url: i, xhrSettings: h, config: { systemKey: n, sceneKey: o } };
							s.call(this, t, d), "function" == typeof i && (this.data = i, this.state = r.FILE_POPULATED) }, onProcess: function() { var t = this.loader.systems.plugins,
								e = this.config,
								i = this.key,
								n = a(e, "systemKey", i),
								s = a(e, "sceneKey", i);
							this.state === r.FILE_POPULATED ? t.installScenePlugin(n, this.data, s, this.loader.scene, !0) : (this.state = r.FILE_PROCESSING, this.data = document.createElement("script"), this.data.language = "javascript", this.data.type = "text/javascript", this.data.defer = !1, this.data.text = this.xhrLoader.responseText, document.head.appendChild(this.data), t.installScenePlugin(n, window[this.key], s, this.loader.scene, !0)), this.onProcessComplete() } });
				o.register("scenePlugin", (function(t, e, i, n, r) { if (Array.isArray(t))
						for (var s = 0; s < t.length; s++) this.addFile(new h(this, t[s]));
					else this.addFile(new h(this, t, e, i, n, r)); return this })), t.exports = h }, 34328: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n, r) { var o = "js"; if (l(e)) { var h = e;
								e = a(h, "key"), i = a(h, "url"), n = a(h, "type", "script"), r = a(h, "xhrSettings"), o = a(h, "extension", o) } else void 0 === n && (n = "script"); var u = { type: n, cache: !1, extension: o, responseType: "text", key: e, url: i, xhrSettings: r };
							s.call(this, t, u) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = document.createElement("script"), this.data.language = "javascript", this.data.type = "text/javascript", this.data.defer = !1, this.data.text = this.xhrLoader.responseText, document.head.appendChild(this.data), this.onProcessComplete() } });
				o.register("script", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new h(this, t[r]));
					else this.addFile(new h(this, t, e, i, n)); return this })), t.exports = h }, 85035: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(74099),
					o = i(19550),
					a = new n({ Extends: o, initialize: function(t, e, i, n, r) { o.call(this, t, e, i, r, n), this.type = "spritesheet" }, addToCache: function() { var t = this.linkFile;
							t ? t.state >= r.FILE_COMPLETE && ("normalMap" === this.type ? this.cache.addSpriteSheet(this.key, t.data, this.config, this.data) : this.cache.addSpriteSheet(this.key, this.data, this.config, t.data)) : this.cache.addSpriteSheet(this.key, this.data, this.config) } });
				s.register("spritesheet", (function(t, e, i, n) { if (Array.isArray(t))
						for (var r = 0; r < t.length; r++) this.addFile(new a(this, t[r]));
					else this.addFile(new a(this, t, e, i, n)); return this })), t.exports = a }, 78776: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = new n({ Extends: s, initialize: function(t, e, i, n) { var r = "text",
								o = "txt",
								h = t.cacheManager.text; if (l(e)) { var u = e;
								e = a(u, "key"), i = a(u, "url"), n = a(u, "xhrSettings"), o = a(u, "extension", o), r = a(u, "type", r), h = a(u, "cache", h) } var c = { type: r, cache: h, extension: o, responseType: "text", key: e, url: i, xhrSettings: n };
							s.call(this, t, c) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() } });
				o.register("text", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new h(this, t[n]));
					else this.addFile(new h(this, t, e, i)); return this })), t.exports = h }, 49477: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = i(80341),
					u = new n({ Extends: s, initialize: function(t, e, i, n) { var r = "csv"; if (l(e)) { var o = e;
								e = a(o, "key"), i = a(o, "url"), n = a(o, "xhrSettings"), r = a(o, "extension", r) } var u = { type: "tilemapCSV", cache: t.cacheManager.tilemap, extension: r, responseType: "text", key: e, url: i, xhrSettings: n };
							s.call(this, t, u), this.tilemapFormat = h.CSV }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() }, addToCache: function() { var t = { format: this.tilemapFormat, data: this.data };
							this.cache.add(this.key, t) } });
				o.register("tilemapCSV", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new u(this, t[n]));
					else this.addFile(new u(this, t, e, i)); return this })), t.exports = u }, 40807: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(518),
					o = i(80341),
					a = new n({ Extends: s, initialize: function(t, e, i, n) { s.call(this, t, e, i, n), this.type = "tilemapJSON", this.cache = t.cacheManager.tilemap }, addToCache: function() { var t = { format: o.WELTMEISTER, data: this.data };
							this.cache.add(this.key, t) } });
				r.register("tilemapImpact", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new a(this, t[n]));
					else this.addFile(new a(this, t, e, i)); return this })), t.exports = a }, 56775: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(518),
					o = i(80341),
					a = new n({ Extends: s, initialize: function(t, e, i, n) { s.call(this, t, e, i, n), this.type = "tilemapJSON", this.cache = t.cacheManager.tilemap }, addToCache: function() { var t = { format: o.TILED_JSON, data: this.data };
							this.cache.add(this.key, t) } });
				r.register("tilemapTiledJSON", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new a(this, t[n]));
					else this.addFile(new a(this, t, e, i)); return this })), t.exports = a }, 25771: (t, e, i) => { var n = i(83419),
					r = i(74099),
					s = i(95540),
					o = i(19550),
					a = i(41212),
					l = i(26430),
					h = i(78776),
					u = new n({ Extends: l, initialize: function(t, e, i, n, r, u) { var c, d; if (a(e)) { var f = e;
								e = s(f, "key"), c = new o(t, { key: e, url: s(f, "textureURL"), extension: s(f, "textureExtension", "png"), normalMap: s(f, "normalMap"), xhrSettings: s(f, "textureXhrSettings") }), d = new h(t, { key: e, url: s(f, "atlasURL"), extension: s(f, "atlasExtension", "txt"), xhrSettings: s(f, "atlasXhrSettings") }) } else c = new o(t, e, i, r), d = new h(t, e, n, u);
							c.linkFile ? l.call(this, t, "unityatlas", e, [c, d, c.linkFile]) : l.call(this, t, "unityatlas", e, [c, d]) }, addToCache: function() { if (this.isReadyToProcess()) { var t = this.files[0],
									e = this.files[1],
									i = this.files[2] ? this.files[2].data : null;
								this.loader.textureManager.addUnityAtlas(t.key, t.data, e.data, i), this.complete = !0 } } });
				r.register("unityAtlas", (function(t, e, i, n, r) { var s; if (Array.isArray(t))
						for (var o = 0; o < t.length; o++) s = new u(this, t[o]), this.addFile(s.files);
					else s = new u(this, t, e, i, n, r), this.addFile(s.files); return this })), t.exports = u }, 33720: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(98356),
					l = i(95540),
					h = i(41212),
					u = new n({ Extends: s, initialize: function(t, e, i, n) { if (void 0 === n && (n = !1), h(e)) { var r = e;
								e = l(r, "key"), i = l(r, "url", []), n = l(r, "noAudio", !1) } var o = t.systems.game.device.video.getVideoURL(i);
							o || console.warn("VideoFile: No supported format for " + e); var a = { type: "video", cache: t.cacheManager.video, extension: o.type, key: e, url: o.url, config: { noAudio: n } };
							s.call(this, t, a) }, onProcess: function() { this.data = { url: this.src, noAudio: this.config.noAudio, crossOrigin: this.crossOrigin }, this.onProcessComplete() }, load: function() { this.src = a(this, this.loader.baseURL), this.state = r.FILE_LOADED, this.loader.nextFile(this, !0) } });
				o.register("video", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new u(this, t[n]));
					else this.addFile(new u(this, t, e, i)); return this })), t.exports = u }, 57318: (t, e, i) => { var n = i(83419),
					r = i(23906),
					s = i(41299),
					o = i(74099),
					a = i(95540),
					l = i(41212),
					h = i(56836),
					u = new n({ Extends: s, initialize: function(t, e, i, n) { var r = "xml"; if (l(e)) { var o = e;
								e = a(o, "key"), i = a(o, "url"), n = a(o, "xhrSettings"), r = a(o, "extension", r) } var h = { type: "xml", cache: t.cacheManager.xml, extension: r, responseType: "text", key: e, url: i, xhrSettings: n };
							s.call(this, t, h) }, onProcess: function() { this.state = r.FILE_PROCESSING, this.data = h(this.xhrLoader.responseText), this.data ? this.onProcessComplete() : this.onProcessError() } });
				o.register("xml", (function(t, e, i) { if (Array.isArray(t))
						for (var n = 0; n < t.length; n++) this.addFile(new u(this, t[n]));
					else this.addFile(new u(this, t, e, i)); return this })), t.exports = u }, 64589: (t, e, i) => { t.exports = { AnimationJSONFile: i(14135), AsepriteFile: i(76272), AtlasJSONFile: i(38734), AtlasXMLFile: i(74599), AudioFile: i(21097), AudioSpriteFile: i(89524), BinaryFile: i(85722), BitmapFontFile: i(97025), CompressedTextureFile: i(69559), CSSFile: i(16024), FontFile: i(87674), GLSLFile: i(47931), HTML5AudioFile: i(89749), HTMLFile: i(88470), HTMLTextureFile: i(14643), ImageFile: i(19550), JSONFile: i(518), MultiAtlasFile: i(59327), MultiScriptFile: i(99297), OBJFile: i(41846), PackFile: i(58610), PluginFile: i(48988), SceneFile: i(88423), ScenePluginFile: i(56812), ScriptFile: i(34328), SpriteSheetFile: i(85035), SVGFile: i(67397), TextFile: i(78776), TilemapCSVFile: i(49477), TilemapImpactFile: i(40807), TilemapJSONFile: i(56775), UnityAtlasFile: i(25771), VideoFile: i(33720), XMLFile: i(57318) } }, 57777: (t, e, i) => { var n = i(23906),
					r = i(79291),
					s = { Events: i(54899), FileTypes: i(64589), File: i(41299), FileTypesManager: i(74099), GetURL: i(98356), LoaderPlugin: i(74261), MergeXHRSettings: i(3374), MultiFile: i(26430), XHRLoader: i(84376), XHRSettings: i(92638) };
				s = r(!1, s, n), t.exports = s }, 53307: t => { t.exports = function(t) { for (var e = 0, i = 0; i < t.length; i++) e += +t[i]; return e / t.length } }, 85710: (t, e, i) => { var n = i(6411);
				t.exports = function(t, e) { return n(t) / n(e) / n(t - e) } }, 30976: t => { t.exports = function(t, e) { return Math.floor(Math.random() * (e - t + 1) + t) } }, 87842: t => { t.exports = function(t, e, i, n, r) { var s = .5 * (n - e),
						o = .5 * (r - i),
						a = t * t; return (2 * i - 2 * n + s + o) * (t * a) + (-3 * i + 3 * n - 2 * s - o) * a + s * t + i } }, 26302: t => { t.exports = function(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 10); var n = Math.pow(i, -e); return Math.ceil(t * n) / n } }, 45319: t => { t.exports = function(t, e, i) { return Math.max(e, Math.min(i, t)) } }, 39506: (t, e, i) => { var n = i(36383);
				t.exports = function(t) { return t * n.DEG_TO_RAD } }, 61241: t => { t.exports = function(t, e) { return Math.abs(t - e) } }, 38857: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(37867),
					o = i(29747),
					a = new s,
					l = new r({ initialize: function t(e, i, n, r) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = t.DefaultOrder), this._x = e, this._y = i, this._z = n, this._order = r, this.onChangeCallback = o }, x: { get: function() { return this._x }, set: function(t) { this._x = t, this.onChangeCallback(this) } }, y: { get: function() { return this._y }, set: function(t) { this._y = t, this.onChangeCallback(this) } }, z: { get: function() { return this._z }, set: function(t) { this._z = t, this.onChangeCallback(this) } }, order: { get: function() { return this._order }, set: function(t) { this._order = t, this.onChangeCallback(this) } }, set: function(t, e, i, n) { return void 0 === n && (n = this._order), this._x = t, this._y = e, this._z = i, this._order = n, this.onChangeCallback(this), this }, copy: function(t) { return this.set(t.x, t.y, t.z, t.order) }, setFromQuaternion: function(t, e, i) { return void 0 === e && (e = this._order), void 0 === i && (i = !1), a.fromQuat(t), this.setFromRotationMatrix(a, e, i) }, setFromRotationMatrix: function(t, e, i) { void 0 === e && (e = this._order), void 0 === i && (i = !1); var r = t.val,
								s = r[0],
								o = r[4],
								a = r[8],
								l = r[1],
								h = r[5],
								u = r[9],
								c = r[2],
								d = r[6],
								f = r[10],
								p = 0,
								g = 0,
								m = 0,
								v = .99999; switch (e) {
								case "XYZ":
									g = Math.asin(n(a, -1, 1)), Math.abs(a) < v ? (p = Math.atan2(-u, f), m = Math.atan2(-o, s)) : p = Math.atan2(d, h); break;
								case "YXZ":
									p = Math.asin(-n(u, -1, 1)), Math.abs(u) < v ? (g = Math.atan2(a, f), m = Math.atan2(l, h)) : g = Math.atan2(-c, s); break;
								case "ZXY":
									p = Math.asin(n(d, -1, 1)), Math.abs(d) < v ? (g = Math.atan2(-c, f), m = Math.atan2(-o, h)) : m = Math.atan2(l, s); break;
								case "ZYX":
									g = Math.asin(-n(c, -1, 1)), Math.abs(c) < v ? (p = Math.atan2(d, f), m = Math.atan2(l, s)) : m = Math.atan2(-o, h); break;
								case "YZX":
									m = Math.asin(n(l, -1, 1)), Math.abs(l) < v ? (p = Math.atan2(-u, h), g = Math.atan2(-c, s)) : g = Math.atan2(a, f); break;
								case "XZY":
									m = Math.asin(-n(o, -1, 1)), Math.abs(o) < v ? (p = Math.atan2(d, h), g = Math.atan2(a, s)) : p = Math.atan2(-u, f) } return this._x = p, this._y = g, this._z = m, this._order = e, i && this.onChangeCallback(this), this } });
				l.RotationOrders = ["XYZ", "YXZ", "ZXY", "ZYX", "YZX", "XZY"], l.DefaultOrder = "XYZ", t.exports = l }, 6411: t => { t.exports = function(t) { if (0 === t) return 1; for (var e = t; --t;) e *= t; return e } }, 99472: t => { t.exports = function(t, e) { return Math.random() * (e - t) + t } }, 77623: t => { t.exports = function(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 10); var n = Math.pow(i, -e); return Math.floor(t * n) / n } }, 62945: (t, e, i) => { var n = i(45319);
				t.exports = function(t, e, i) { return (i - e) * (t = n(t, 0, 1)) + e } }, 38265: t => { t.exports = function(t, e) { return t / e / 1e3 } }, 78702: t => { t.exports = function(t) { return t == parseFloat(t) ? !(t % 2) : void 0 } }, 94883: t => { t.exports = function(t) { return t === parseFloat(t) ? !(t % 2) : void 0 } }, 28915: t => { t.exports = function(t, e, i) { return (e - t) * i + t } }, 94908: t => { t.exports = function(t, e, i) { return void 0 === i && (i = 0), t.clone().lerp(e, i) } }, 94434: (t, e, i) => { var n = new(i(83419))({ initialize: function(t) { this.val = new Float32Array(9), t ? this.copy(t) : this.identity() }, clone: function() { return new n(this) }, set: function(t) { return this.copy(t) }, copy: function(t) { var e = this.val,
							i = t.val; return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], this }, fromMat4: function(t) { var e = t.val,
							i = this.val; return i[0] = e[0], i[1] = e[1], i[2] = e[2], i[3] = e[4], i[4] = e[5], i[5] = e[6], i[6] = e[8], i[7] = e[9], i[8] = e[10], this }, fromArray: function(t) { var e = this.val; return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], this }, identity: function() { var t = this.val; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, this }, transpose: function() { var t = this.val,
							e = t[1],
							i = t[2],
							n = t[5]; return t[1] = t[3], t[2] = t[6], t[3] = e, t[5] = t[7], t[6] = i, t[7] = n, this }, invert: function() { var t = this.val,
							e = t[0],
							i = t[1],
							n = t[2],
							r = t[3],
							s = t[4],
							o = t[5],
							a = t[6],
							l = t[7],
							h = t[8],
							u = h * s - o * l,
							c = -h * r + o * a,
							d = l * r - s * a,
							f = e * u + i * c + n * d; return f ? (f = 1 / f, t[0] = u * f, t[1] = (-h * i + n * l) * f, t[2] = (o * i - n * s) * f, t[3] = c * f, t[4] = (h * e - n * a) * f, t[5] = (-o * e + n * r) * f, t[6] = d * f, t[7] = (-l * e + i * a) * f, t[8] = (s * e - i * r) * f, this) : null }, adjoint: function() { var t = this.val,
							e = t[0],
							i = t[1],
							n = t[2],
							r = t[3],
							s = t[4],
							o = t[5],
							a = t[6],
							l = t[7],
							h = t[8]; return t[0] = s * h - o * l, t[1] = n * l - i * h, t[2] = i * o - n * s, t[3] = o * a - r * h, t[4] = e * h - n * a, t[5] = n * r - e * o, t[6] = r * l - s * a, t[7] = i * a - e * l, t[8] = e * s - i * r, this }, determinant: function() { var t = this.val,
							e = t[0],
							i = t[1],
							n = t[2],
							r = t[3],
							s = t[4],
							o = t[5],
							a = t[6],
							l = t[7],
							h = t[8]; return e * (h * s - o * l) + i * (-h * r + o * a) + n * (l * r - s * a) }, multiply: function(t) { var e = this.val,
							i = e[0],
							n = e[1],
							r = e[2],
							s = e[3],
							o = e[4],
							a = e[5],
							l = e[6],
							h = e[7],
							u = e[8],
							c = t.val,
							d = c[0],
							f = c[1],
							p = c[2],
							g = c[3],
							m = c[4],
							v = c[5],
							y = c[6],
							x = c[7],
							b = c[8]; return e[0] = d * i + f * s + p * l, e[1] = d * n + f * o + p * h, e[2] = d * r + f * a + p * u, e[3] = g * i + m * s + v * l, e[4] = g * n + m * o + v * h, e[5] = g * r + m * a + v * u, e[6] = y * i + x * s + b * l, e[7] = y * n + x * o + b * h, e[8] = y * r + x * a + b * u, this }, translate: function(t) { var e = this.val,
							i = t.x,
							n = t.y; return e[6] = i * e[0] + n * e[3] + e[6], e[7] = i * e[1] + n * e[4] + e[7], e[8] = i * e[2] + n * e[5] + e[8], this }, rotate: function(t) { var e = this.val,
							i = e[0],
							n = e[1],
							r = e[2],
							s = e[3],
							o = e[4],
							a = e[5],
							l = Math.sin(t),
							h = Math.cos(t); return e[0] = h * i + l * s, e[1] = h * n + l * o, e[2] = h * r + l * a, e[3] = h * s - l * i, e[4] = h * o - l * n, e[5] = h * a - l * r, this }, scale: function(t) { var e = this.val,
							i = t.x,
							n = t.y; return e[0] = i * e[0], e[1] = i * e[1], e[2] = i * e[2], e[3] = n * e[3], e[4] = n * e[4], e[5] = n * e[5], this }, fromQuat: function(t) { var e = t.x,
							i = t.y,
							n = t.z,
							r = t.w,
							s = e + e,
							o = i + i,
							a = n + n,
							l = e * s,
							h = e * o,
							u = e * a,
							c = i * o,
							d = i * a,
							f = n * a,
							p = r * s,
							g = r * o,
							m = r * a,
							v = this.val; return v[0] = 1 - (c + f), v[3] = h + m, v[6] = u - g, v[1] = h - m, v[4] = 1 - (l + f), v[7] = d + p, v[2] = u + g, v[5] = d - p, v[8] = 1 - (l + c), this }, normalFromMat4: function(t) { var e = t.val,
							i = this.val,
							n = e[0],
							r = e[1],
							s = e[2],
							o = e[3],
							a = e[4],
							l = e[5],
							h = e[6],
							u = e[7],
							c = e[8],
							d = e[9],
							f = e[10],
							p = e[11],
							g = e[12],
							m = e[13],
							v = e[14],
							y = e[15],
							x = n * l - r * a,
							b = n * h - s * a,
							w = n * u - o * a,
							T = r * h - s * l,
							S = r * u - o * l,
							_ = s * u - o * h,
							E = c * m - d * g,
							A = c * v - f * g,
							C = c * y - p * g,
							k = d * v - f * m,
							P = d * y - p * m,
							O = f * y - p * v,
							R = x * O - b * P + w * k + T * C - S * A + _ * E; return R ? (R = 1 / R, i[0] = (l * O - h * P + u * k) * R, i[1] = (h * C - a * O - u * A) * R, i[2] = (a * P - l * C + u * E) * R, i[3] = (s * P - r * O - o * k) * R, i[4] = (n * O - s * C + o * A) * R, i[5] = (r * C - n * P - o * E) * R, i[6] = (m * _ - v * S + y * T) * R, i[7] = (v * w - g * _ - y * b) * R, i[8] = (g * S - m * w + y * x) * R, this) : null } });
				t.exports = n }, 37867: (t, e, i) => { var n = i(83419),
					r = i(25836),
					s = 1e-6,
					o = new n({ initialize: function(t) { this.val = new Float32Array(16), t ? this.copy(t) : this.identity() }, clone: function() { return new o(this) }, set: function(t) { return this.copy(t) }, setValues: function(t, e, i, n, r, s, o, a, l, h, u, c, d, f, p, g) { var m = this.val; return m[0] = t, m[1] = e, m[2] = i, m[3] = n, m[4] = r, m[5] = s, m[6] = o, m[7] = a, m[8] = l, m[9] = h, m[10] = u, m[11] = c, m[12] = d, m[13] = f, m[14] = p, m[15] = g, this }, copy: function(t) { var e = t.val; return this.setValues(e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9], e[10], e[11], e[12], e[13], e[14], e[15]) }, fromArray: function(t) { return this.setValues(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15]) }, zero: function() { return this.setValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) }, transform: function(t, e, i) { var n = a.fromQuat(i).val,
								r = e.x,
								s = e.y,
								o = e.z; return this.setValues(n[0] * r, n[1] * r, n[2] * r, 0, n[4] * s, n[5] * s, n[6] * s, 0, n[8] * o, n[9] * o, n[10] * o, 0, t.x, t.y, t.z, 1) }, xyz: function(t, e, i) { this.identity(); var n = this.val; return n[12] = t, n[13] = e, n[14] = i, this }, scaling: function(t, e, i) { this.zero(); var n = this.val; return n[0] = t, n[5] = e, n[10] = i, n[15] = 1, this }, identity: function() { return this.setValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1) }, transpose: function() { var t = this.val,
								e = t[1],
								i = t[2],
								n = t[3],
								r = t[6],
								s = t[7],
								o = t[11]; return t[1] = t[4], t[2] = t[8], t[3] = t[12], t[4] = e, t[6] = t[9], t[7] = t[13], t[8] = i, t[9] = r, t[11] = t[14], t[12] = n, t[13] = s, t[14] = o, this }, getInverse: function(t) { return this.copy(t), this.invert() }, invert: function() { var t = this.val,
								e = t[0],
								i = t[1],
								n = t[2],
								r = t[3],
								s = t[4],
								o = t[5],
								a = t[6],
								l = t[7],
								h = t[8],
								u = t[9],
								c = t[10],
								d = t[11],
								f = t[12],
								p = t[13],
								g = t[14],
								m = t[15],
								v = e * o - i * s,
								y = e * a - n * s,
								x = e * l - r * s,
								b = i * a - n * o,
								w = i * l - r * o,
								T = n * l - r * a,
								S = h * p - u * f,
								_ = h * g - c * f,
								E = h * m - d * f,
								A = u * g - c * p,
								C = u * m - d * p,
								k = c * m - d * g,
								P = v * k - y * C + x * A + b * E - w * _ + T * S; return P ? (P = 1 / P, this.setValues((o * k - a * C + l * A) * P, (n * C - i * k - r * A) * P, (p * T - g * w + m * b) * P, (c * w - u * T - d * b) * P, (a * E - s * k - l * _) * P, (e * k - n * E + r * _) * P, (g * x - f * T - m * y) * P, (h * T - c * x + d * y) * P, (s * C - o * E + l * S) * P, (i * E - e * C - r * S) * P, (f * w - p * x + m * v) * P, (u * x - h * w - d * v) * P, (o * _ - s * A - a * S) * P, (e * A - i * _ + n * S) * P, (p * y - f * b - g * v) * P, (h * b - u * y + c * v) * P)) : this }, adjoint: function() { var t = this.val,
								e = t[0],
								i = t[1],
								n = t[2],
								r = t[3],
								s = t[4],
								o = t[5],
								a = t[6],
								l = t[7],
								h = t[8],
								u = t[9],
								c = t[10],
								d = t[11],
								f = t[12],
								p = t[13],
								g = t[14],
								m = t[15]; return this.setValues(o * (c * m - d * g) - u * (a * m - l * g) + p * (a * d - l * c), -(i * (c * m - d * g) - u * (n * m - r * g) + p * (n * d - r * c)), i * (a * m - l * g) - o * (n * m - r * g) + p * (n * l - r * a), -(i * (a * d - l * c) - o * (n * d - r * c) + u * (n * l - r * a)), -(s * (c * m - d * g) - h * (a * m - l * g) + f * (a * d - l * c)), e * (c * m - d * g) - h * (n * m - r * g) + f * (n * d - r * c), -(e * (a * m - l * g) - s * (n * m - r * g) + f * (n * l - r * a)), e * (a * d - l * c) - s * (n * d - r * c) + h * (n * l - r * a), s * (u * m - d * p) - h * (o * m - l * p) + f * (o * d - l * u), -(e * (u * m - d * p) - h * (i * m - r * p) + f * (i * d - r * u)), e * (o * m - l * p) - s * (i * m - r * p) + f * (i * l - r * o), -(e * (o * d - l * u) - s * (i * d - r * u) + h * (i * l - r * o)), -(s * (u * g - c * p) - h * (o * g - a * p) + f * (o * c - a * u)), e * (u * g - c * p) - h * (i * g - n * p) + f * (i * c - n * u), -(e * (o * g - a * p) - s * (i * g - n * p) + f * (i * a - n * o)), e * (o * c - a * u) - s * (i * c - n * u) + h * (i * a - n * o)) }, determinant: function() { var t = this.val,
								e = t[0],
								i = t[1],
								n = t[2],
								r = t[3],
								s = t[4],
								o = t[5],
								a = t[6],
								l = t[7],
								h = t[8],
								u = t[9],
								c = t[10],
								d = t[11],
								f = t[12],
								p = t[13],
								g = t[14],
								m = t[15]; return (e * o - i * s) * (c * m - d * g) - (e * a - n * s) * (u * m - d * p) + (e * l - r * s) * (u * g - c * p) + (i * a - n * o) * (h * m - d * f) - (i * l - r * o) * (h * g - c * f) + (n * l - r * a) * (h * p - u * f) }, multiply: function(t) { var e = this.val,
								i = e[0],
								n = e[1],
								r = e[2],
								s = e[3],
								o = e[4],
								a = e[5],
								l = e[6],
								h = e[7],
								u = e[8],
								c = e[9],
								d = e[10],
								f = e[11],
								p = e[12],
								g = e[13],
								m = e[14],
								v = e[15],
								y = t.val,
								x = y[0],
								b = y[1],
								w = y[2],
								T = y[3]; return e[0] = x * i + b * o + w * u + T * p, e[1] = x * n + b * a + w * c + T * g, e[2] = x * r + b * l + w * d + T * m, e[3] = x * s + b * h + w * f + T * v, x = y[4], b = y[5], w = y[6], T = y[7], e[4] = x * i + b * o + w * u + T * p, e[5] = x * n + b * a + w * c + T * g, e[6] = x * r + b * l + w * d + T * m, e[7] = x * s + b * h + w * f + T * v, x = y[8], b = y[9], w = y[10], T = y[11], e[8] = x * i + b * o + w * u + T * p, e[9] = x * n + b * a + w * c + T * g, e[10] = x * r + b * l + w * d + T * m, e[11] = x * s + b * h + w * f + T * v, x = y[12], b = y[13], w = y[14], T = y[15], e[12] = x * i + b * o + w * u + T * p, e[13] = x * n + b * a + w * c + T * g, e[14] = x * r + b * l + w * d + T * m, e[15] = x * s + b * h + w * f + T * v, this }, multiplyLocal: function(t) { var e = this.val,
								i = t.val; return this.setValues(e[0] * i[0] + e[1] * i[4] + e[2] * i[8] + e[3] * i[12], e[0] * i[1] + e[1] * i[5] + e[2] * i[9] + e[3] * i[13], e[0] * i[2] + e[1] * i[6] + e[2] * i[10] + e[3] * i[14], e[0] * i[3] + e[1] * i[7] + e[2] * i[11] + e[3] * i[15], e[4] * i[0] + e[5] * i[4] + e[6] * i[8] + e[7] * i[12], e[4] * i[1] + e[5] * i[5] + e[6] * i[9] + e[7] * i[13], e[4] * i[2] + e[5] * i[6] + e[6] * i[10] + e[7] * i[14], e[4] * i[3] + e[5] * i[7] + e[6] * i[11] + e[7] * i[15], e[8] * i[0] + e[9] * i[4] + e[10] * i[8] + e[11] * i[12], e[8] * i[1] + e[9] * i[5] + e[10] * i[9] + e[11] * i[13], e[8] * i[2] + e[9] * i[6] + e[10] * i[10] + e[11] * i[14], e[8] * i[3] + e[9] * i[7] + e[10] * i[11] + e[11] * i[15], e[12] * i[0] + e[13] * i[4] + e[14] * i[8] + e[15] * i[12], e[12] * i[1] + e[13] * i[5] + e[14] * i[9] + e[15] * i[13], e[12] * i[2] + e[13] * i[6] + e[14] * i[10] + e[15] * i[14], e[12] * i[3] + e[13] * i[7] + e[14] * i[11] + e[15] * i[15]) }, premultiply: function(t) { return this.multiplyMatrices(t, this) }, multiplyMatrices: function(t, e) { var i = t.val,
								n = e.val,
								r = i[0],
								s = i[4],
								o = i[8],
								a = i[12],
								l = i[1],
								h = i[5],
								u = i[9],
								c = i[13],
								d = i[2],
								f = i[6],
								p = i[10],
								g = i[14],
								m = i[3],
								v = i[7],
								y = i[11],
								x = i[15],
								b = n[0],
								w = n[4],
								T = n[8],
								S = n[12],
								_ = n[1],
								E = n[5],
								A = n[9],
								C = n[13],
								k = n[2],
								P = n[6],
								O = n[10],
								R = n[14],
								M = n[3],
								L = n[7],
								D = n[11],
								F = n[15]; return this.setValues(r * b + s * _ + o * k + a * M, l * b + h * _ + u * k + c * M, d * b + f * _ + p * k + g * M, m * b + v * _ + y * k + x * M, r * w + s * E + o * P + a * L, l * w + h * E + u * P + c * L, d * w + f * E + p * P + g * L, m * w + v * E + y * P + x * L, r * T + s * A + o * O + a * D, l * T + h * A + u * O + c * D, d * T + f * A + p * O + g * D, m * T + v * A + y * O + x * D, r * S + s * C + o * R + a * F, l * S + h * C + u * R + c * F, d * S + f * C + p * R + g * F, m * S + v * C + y * R + x * F) }, translate: function(t) { return this.translateXYZ(t.x, t.y, t.z) }, translateXYZ: function(t, e, i) { var n = this.val; return n[12] = n[0] * t + n[4] * e + n[8] * i + n[12], n[13] = n[1] * t + n[5] * e + n[9] * i + n[13], n[14] = n[2] * t + n[6] * e + n[10] * i + n[14], n[15] = n[3] * t + n[7] * e + n[11] * i + n[15], this }, scale: function(t) { return this.scaleXYZ(t.x, t.y, t.z) }, scaleXYZ: function(t, e, i) { var n = this.val; return n[0] = n[0] * t, n[1] = n[1] * t, n[2] = n[2] * t, n[3] = n[3] * t, n[4] = n[4] * e, n[5] = n[5] * e, n[6] = n[6] * e, n[7] = n[7] * e, n[8] = n[8] * i, n[9] = n[9] * i, n[10] = n[10] * i, n[11] = n[11] * i, this }, makeRotationAxis: function(t, e) { var i = Math.cos(e),
								n = Math.sin(e),
								r = 1 - i,
								s = t.x,
								o = t.y,
								a = t.z,
								l = r * s,
								h = r * o; return this.setValues(l * s + i, l * o - n * a, l * a + n * o, 0, l * o + n * a, h * o + i, h * a - n * s, 0, l * a - n * o, h * a + n * s, r * a * a + i, 0, 0, 0, 0, 1) }, rotate: function(t, e) { var i = this.val,
								n = e.x,
								r = e.y,
								o = e.z,
								a = Math.sqrt(n * n + r * r + o * o); if (Math.abs(a) < s) return this;
							n *= a = 1 / a, r *= a, o *= a; var l = Math.sin(t),
								h = Math.cos(t),
								u = 1 - h,
								c = i[0],
								d = i[1],
								f = i[2],
								p = i[3],
								g = i[4],
								m = i[5],
								v = i[6],
								y = i[7],
								x = i[8],
								b = i[9],
								w = i[10],
								T = i[11],
								S = i[12],
								_ = i[13],
								E = i[14],
								A = i[15],
								C = n * n * u + h,
								k = r * n * u + o * l,
								P = o * n * u - r * l,
								O = n * r * u - o * l,
								R = r * r * u + h,
								M = o * r * u + n * l,
								L = n * o * u + r * l,
								D = r * o * u - n * l,
								F = o * o * u + h; return this.setValues(c * C + g * k + x * P, d * C + m * k + b * P, f * C + v * k + w * P, p * C + y * k + T * P, c * O + g * R + x * M, d * O + m * R + b * M, f * O + v * R + w * M, p * O + y * R + T * M, c * L + g * D + x * F, d * L + m * D + b * F, f * L + v * D + w * F, p * L + y * D + T * F, S, _, E, A) }, rotateX: function(t) { var e = this.val,
								i = Math.sin(t),
								n = Math.cos(t),
								r = e[4],
								s = e[5],
								o = e[6],
								a = e[7],
								l = e[8],
								h = e[9],
								u = e[10],
								c = e[11]; return e[4] = r * n + l * i, e[5] = s * n + h * i, e[6] = o * n + u * i, e[7] = a * n + c * i, e[8] = l * n - r * i, e[9] = h * n - s * i, e[10] = u * n - o * i, e[11] = c * n - a * i, this }, rotateY: function(t) { var e = this.val,
								i = Math.sin(t),
								n = Math.cos(t),
								r = e[0],
								s = e[1],
								o = e[2],
								a = e[3],
								l = e[8],
								h = e[9],
								u = e[10],
								c = e[11]; return e[0] = r * n - l * i, e[1] = s * n - h * i, e[2] = o * n - u * i, e[3] = a * n - c * i, e[8] = r * i + l * n, e[9] = s * i + h * n, e[10] = o * i + u * n, e[11] = a * i + c * n, this }, rotateZ: function(t) { var e = this.val,
								i = Math.sin(t),
								n = Math.cos(t),
								r = e[0],
								s = e[1],
								o = e[2],
								a = e[3],
								l = e[4],
								h = e[5],
								u = e[6],
								c = e[7]; return e[0] = r * n + l * i, e[1] = s * n + h * i, e[2] = o * n + u * i, e[3] = a * n + c * i, e[4] = l * n - r * i, e[5] = h * n - s * i, e[6] = u * n - o * i, e[7] = c * n - a * i, this }, fromRotationTranslation: function(t, e) { var i = t.x,
								n = t.y,
								r = t.z,
								s = t.w,
								o = i + i,
								a = n + n,
								l = r + r,
								h = i * o,
								u = i * a,
								c = i * l,
								d = n * a,
								f = n * l,
								p = r * l,
								g = s * o,
								m = s * a,
								v = s * l; return this.setValues(1 - (d + p), u + v, c - m, 0, u - v, 1 - (h + p), f + g, 0, c + m, f - g, 1 - (h + d), 0, e.x, e.y, e.z, 1) }, fromQuat: function(t) { var e = t.x,
								i = t.y,
								n = t.z,
								r = t.w,
								s = e + e,
								o = i + i,
								a = n + n,
								l = e * s,
								h = e * o,
								u = e * a,
								c = i * o,
								d = i * a,
								f = n * a,
								p = r * s,
								g = r * o,
								m = r * a; return this.setValues(1 - (c + f), h + m, u - g, 0, h - m, 1 - (l + f), d + p, 0, u + g, d - p, 1 - (l + c), 0, 0, 0, 0, 1) }, frustum: function(t, e, i, n, r, s) { var o = 1 / (e - t),
								a = 1 / (n - i),
								l = 1 / (r - s); return this.setValues(2 * r * o, 0, 0, 0, 0, 2 * r * a, 0, 0, (e + t) * o, (n + i) * a, (s + r) * l, -1, 0, 0, s * r * 2 * l, 0) }, perspective: function(t, e, i, n) { var r = 1 / Math.tan(t / 2),
								s = 1 / (i - n); return this.setValues(r / e, 0, 0, 0, 0, r, 0, 0, 0, 0, (n + i) * s, -1, 0, 0, 2 * n * i * s, 0) }, perspectiveLH: function(t, e, i, n) { return this.setValues(2 * i / t, 0, 0, 0, 0, 2 * i / e, 0, 0, 0, 0, -n / (i - n), 1, 0, 0, i * n / (i - n), 0) }, ortho: function(t, e, i, n, r, s) { var o = t - e,
								a = i - n,
								l = r - s; return o = 0 === o ? o : 1 / o, a = 0 === a ? a : 1 / a, l = 0 === l ? l : 1 / l, this.setValues(-2 * o, 0, 0, 0, 0, -2 * a, 0, 0, 0, 0, 2 * l, 0, (t + e) * o, (n + i) * a, (s + r) * l, 1) }, lookAtRH: function(t, e, i) { var n = this.val; return c.subVectors(t, e), 0 === c.lengthSq() && (c.z = 1), c.normalize(), h.crossVectors(i, c), 0 === h.lengthSq() && (1 === Math.abs(i.z) ? c.x += 1e-4 : c.z += 1e-4, c.normalize(), h.crossVectors(i, c)), h.normalize(), u.crossVectors(c, h), n[0] = h.x, n[1] = h.y, n[2] = h.z, n[4] = u.x, n[5] = u.y, n[6] = u.z, n[8] = c.x, n[9] = c.y, n[10] = c.z, this }, lookAt: function(t, e, i) { var n = t.x,
								r = t.y,
								o = t.z,
								a = i.x,
								l = i.y,
								h = i.z,
								u = e.x,
								c = e.y,
								d = e.z; if (Math.abs(n - u) < s && Math.abs(r - c) < s && Math.abs(o - d) < s) return this.identity(); var f = n - u,
								p = r - c,
								g = o - d,
								m = 1 / Math.sqrt(f * f + p * p + g * g),
								v = l * (g *= m) - h * (p *= m),
								y = h * (f *= m) - a * g,
								x = a * p - l * f;
							(m = Math.sqrt(v * v + y * y + x * x)) ? (v *= m = 1 / m, y *= m, x *= m) : (v = 0, y = 0, x = 0); var b = p * x - g * y,
								w = g * v - f * x,
								T = f * y - p * v; return (m = Math.sqrt(b * b + w * w + T * T)) ? (b *= m = 1 / m, w *= m, T *= m) : (b = 0, w = 0, T = 0), this.setValues(v, b, f, 0, y, w, p, 0, x, T, g, 0, -(v * n + y * r + x * o), -(b * n + w * r + T * o), -(f * n + p * r + g * o), 1) }, yawPitchRoll: function(t, e, i) { this.zero(), a.zero(), l.zero(); var n = this.val,
								r = a.val,
								s = l.val,
								o = Math.sin(i),
								h = Math.cos(i); return n[10] = 1, n[15] = 1, n[0] = h, n[1] = o, n[4] = -o, n[5] = h, o = Math.sin(e), h = Math.cos(e), r[0] = 1, r[15] = 1, r[5] = h, r[10] = h, r[9] = -o, r[6] = o, o = Math.sin(t), h = Math.cos(t), s[5] = 1, s[15] = 1, s[0] = h, s[2] = -o, s[8] = o, s[10] = h, this.multiplyLocal(a), this.multiplyLocal(l), this }, setWorldMatrix: function(t, e, i, n, r) { return this.yawPitchRoll(t.y, t.x, t.z), a.scaling(i.x, i.y, i.z), l.xyz(e.x, e.y, e.z), this.multiplyLocal(a), this.multiplyLocal(l), n && this.multiplyLocal(n), r && this.multiplyLocal(r), this }, multiplyToMat4: function(t, e) { var i = this.val,
								n = t.val,
								r = i[0],
								s = i[1],
								o = i[2],
								a = i[3],
								l = i[4],
								h = i[5],
								u = i[6],
								c = i[7],
								d = i[8],
								f = i[9],
								p = i[10],
								g = i[11],
								m = i[12],
								v = i[13],
								y = i[14],
								x = i[15],
								b = n[0],
								w = n[1],
								T = n[2],
								S = n[3],
								_ = n[4],
								E = n[5],
								A = n[6],
								C = n[7],
								k = n[8],
								P = n[9],
								O = n[10],
								R = n[11],
								M = n[12],
								L = n[13],
								D = n[14],
								F = n[15]; return e.setValues(b * r + w * l + T * d + S * m, w * s + w * h + T * f + S * v, T * o + w * u + T * p + S * y, S * a + w * c + T * g + S * x, _ * r + E * l + A * d + C * m, _ * s + E * h + A * f + C * v, _ * o + E * u + A * p + C * y, _ * a + E * c + A * g + C * x, k * r + P * l + O * d + R * m, k * s + P * h + O * f + R * v, k * o + P * u + O * p + R * y, k * a + P * c + O * g + R * x, M * r + L * l + D * d + F * m, M * s + L * h + D * f + F * v, M * o + L * u + D * p + F * y, M * a + L * c + D * g + F * x) }, fromRotationXYTranslation: function(t, e, i) { var n = e.x,
								r = e.y,
								s = e.z,
								o = Math.sin(t.x),
								a = Math.cos(t.x),
								l = Math.sin(t.y),
								h = Math.cos(t.y),
								u = n,
								c = r,
								d = s,
								f = -o,
								p = 0 - f * l,
								g = 0 - a * l,
								m = f * h,
								v = a * h; return i || (u = h * n + l * s, c = p * n + a * r + m * s, d = g * n + o * r + v * s), this.setValues(h, p, g, 0, 0, a, o, 0, l, m, v, 0, u, c, d, 1) }, getMaxScaleOnAxis: function() { var t = this.val,
								e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
								i = t[4] * t[4] + t[5] * t[5] + t[6] * t[6],
								n = t[8] * t[8] + t[9] * t[9] + t[10] * t[10]; return Math.sqrt(Math.max(e, i, n)) } }),
					a = new o,
					l = new o,
					h = new r,
					u = new r,
					c = new r;
				t.exports = o }, 86883: t => { t.exports = function(t, e, i) { return Math.min(t + e, i) } }, 50040: t => { t.exports = function(t) { var e = t.length; if (0 === e) return 0;
					t.sort((function(t, e) { return t - e })); var i = Math.floor(e / 2); return e % 2 == 0 ? (t[i] + t[i - 1]) / 2 : t[i] } }, 37204: t => { t.exports = function(t, e, i) { return Math.max(t - e, i) } }, 65201: t => { t.exports = function(t, e, i, n) { void 0 === i && (i = e + 1); var r = (t - e) / (i - e); return r > 1 ? void 0 !== n ? (r = (n - t) / (n - i)) < 0 && (r = 0) : r = 1 : r < 0 && (r = 0), r } }, 15746: (t, e, i) => { var n = i(83419),
					r = i(94434),
					s = i(29747),
					o = i(25836),
					a = 1e-6,
					l = new Int8Array([1, 2, 0]),
					h = new Float32Array([0, 0, 0]),
					u = new o(1, 0, 0),
					c = new o(0, 1, 0),
					d = new o,
					f = new r,
					p = new n({ initialize: function(t, e, i, n) { this.onChangeCallback = s, this.set(t, e, i, n) }, x: { get: function() { return this._x }, set: function(t) { this._x = t, this.onChangeCallback(this) } }, y: { get: function() { return this._y }, set: function(t) { this._y = t, this.onChangeCallback(this) } }, z: { get: function() { return this._z }, set: function(t) { this._z = t, this.onChangeCallback(this) } }, w: { get: function() { return this._w }, set: function(t) { this._w = t, this.onChangeCallback(this) } }, copy: function(t) { return this.set(t) }, set: function(t, e, i, n, r) { return void 0 === r && (r = !0), "object" == typeof t ? (this._x = t.x || 0, this._y = t.y || 0, this._z = t.z || 0, this._w = t.w || 0) : (this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = n || 0), r && this.onChangeCallback(this), this }, add: function(t) { return this._x += t.x, this._y += t.y, this._z += t.z, this._w += t.w, this.onChangeCallback(this), this }, subtract: function(t) { return this._x -= t.x, this._y -= t.y, this._z -= t.z, this._w -= t.w, this.onChangeCallback(this), this }, scale: function(t) { return this._x *= t, this._y *= t, this._z *= t, this._w *= t, this.onChangeCallback(this), this }, length: function() { var t = this.x,
								e = this.y,
								i = this.z,
								n = this.w; return Math.sqrt(t * t + e * e + i * i + n * n) }, lengthSq: function() { var t = this.x,
								e = this.y,
								i = this.z,
								n = this.w; return t * t + e * e + i * i + n * n }, normalize: function() { var t = this.x,
								e = this.y,
								i = this.z,
								n = this.w,
								r = t * t + e * e + i * i + n * n; return r > 0 && (r = 1 / Math.sqrt(r), this._x = t * r, this._y = e * r, this._z = i * r, this._w = n * r), this.onChangeCallback(this), this }, dot: function(t) { return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w }, lerp: function(t, e) { void 0 === e && (e = 0); var i = this.x,
								n = this.y,
								r = this.z,
								s = this.w; return this.set(i + e * (t.x - i), n + e * (t.y - n), r + e * (t.z - r), s + e * (t.w - s)) }, rotationTo: function(t, e) { var i = t.x * e.x + t.y * e.y + t.z * e.z; return i < -.999999 ? (d.copy(u).cross(t).length() < a && d.copy(c).cross(t), d.normalize(), this.setAxisAngle(d, Math.PI)) : i > .999999 ? this.set(0, 0, 0, 1) : (d.copy(t).cross(e), this._x = d.x, this._y = d.y, this._z = d.z, this._w = 1 + i, this.normalize()) }, setAxes: function(t, e, i) { var n = f.val; return n[0] = e.x, n[3] = e.y, n[6] = e.z, n[1] = i.x, n[4] = i.y, n[7] = i.z, n[2] = -t.x, n[5] = -t.y, n[8] = -t.z, this.fromMat3(f).normalize() }, identity: function() { return this.set(0, 0, 0, 1) }, setAxisAngle: function(t, e) { e *= .5; var i = Math.sin(e); return this.set(i * t.x, i * t.y, i * t.z, Math.cos(e)) }, multiply: function(t) { var e = this.x,
								i = this.y,
								n = this.z,
								r = this.w,
								s = t.x,
								o = t.y,
								a = t.z,
								l = t.w; return this.set(e * l + r * s + i * a - n * o, i * l + r * o + n * s - e * a, n * l + r * a + e * o - i * s, r * l - e * s - i * o - n * a) }, slerp: function(t, e) { var i = this.x,
								n = this.y,
								r = this.z,
								s = this.w,
								o = t.x,
								l = t.y,
								h = t.z,
								u = t.w,
								c = i * o + n * l + r * h + s * u;
							c < 0 && (c = -c, o = -o, l = -l, h = -h, u = -u); var d = 1 - e,
								f = e; if (1 - c > a) { var p = Math.acos(c),
									g = Math.sin(p);
								d = Math.sin((1 - e) * p) / g, f = Math.sin(e * p) / g } return this.set(d * i + f * o, d * n + f * l, d * r + f * h, d * s + f * u) }, invert: function() { var t = this.x,
								e = this.y,
								i = this.z,
								n = this.w,
								r = t * t + e * e + i * i + n * n,
								s = r ? 1 / r : 0; return this.set(-t * s, -e * s, -i * s, n * s) }, conjugate: function() { return this._x = -this.x, this._y = -this.y, this._z = -this.z, this.onChangeCallback(this), this }, rotateX: function(t) { t *= .5; var e = this.x,
								i = this.y,
								n = this.z,
								r = this.w,
								s = Math.sin(t),
								o = Math.cos(t); return this.set(e * o + r * s, i * o + n * s, n * o - i * s, r * o - e * s) }, rotateY: function(t) { t *= .5; var e = this.x,
								i = this.y,
								n = this.z,
								r = this.w,
								s = Math.sin(t),
								o = Math.cos(t); return this.set(e * o - n * s, i * o + r * s, n * o + e * s, r * o - i * s) }, rotateZ: function(t) { t *= .5; var e = this.x,
								i = this.y,
								n = this.z,
								r = this.w,
								s = Math.sin(t),
								o = Math.cos(t); return this.set(e * o + i * s, i * o - e * s, n * o + r * s, r * o - n * s) }, calculateW: function() { var t = this.x,
								e = this.y,
								i = this.z; return this.w = -Math.sqrt(1 - t * t - e * e - i * i), this }, setFromEuler: function(t, e) { var i = t.x / 2,
								n = t.y / 2,
								r = t.z / 2,
								s = Math.cos(i),
								o = Math.cos(n),
								a = Math.cos(r),
								l = Math.sin(i),
								h = Math.sin(n),
								u = Math.sin(r); switch (t.order) {
								case "XYZ":
									this.set(l * o * a + s * h * u, s * h * a - l * o * u, s * o * u + l * h * a, s * o * a - l * h * u, e); break;
								case "YXZ":
									this.set(l * o * a + s * h * u, s * h * a - l * o * u, s * o * u - l * h * a, s * o * a + l * h * u, e); break;
								case "ZXY":
									this.set(l * o * a - s * h * u, s * h * a + l * o * u, s * o * u + l * h * a, s * o * a - l * h * u, e); break;
								case "ZYX":
									this.set(l * o * a - s * h * u, s * h * a + l * o * u, s * o * u - l * h * a, s * o * a + l * h * u, e); break;
								case "YZX":
									this.set(l * o * a + s * h * u, s * h * a + l * o * u, s * o * u - l * h * a, s * o * a - l * h * u, e); break;
								case "XZY":
									this.set(l * o * a - s * h * u, s * h * a - l * o * u, s * o * u + l * h * a, s * o * a + l * h * u, e) } return this }, setFromRotationMatrix: function(t) { var e, i = t.val,
								n = i[0],
								r = i[4],
								s = i[8],
								o = i[1],
								a = i[5],
								l = i[9],
								h = i[2],
								u = i[6],
								c = i[10],
								d = n + a + c; return d > 0 ? (e = .5 / Math.sqrt(d + 1), this.set((u - l) * e, (s - h) * e, (o - r) * e, .25 / e)) : n > a && n > c ? (e = 2 * Math.sqrt(1 + n - a - c), this.set(.25 * e, (r + o) / e, (s + h) / e, (u - l) / e)) : a > c ? (e = 2 * Math.sqrt(1 + a - n - c), this.set((r + o) / e, .25 * e, (l + u) / e, (s - h) / e)) : (e = 2 * Math.sqrt(1 + c - n - a), this.set((s + h) / e, (l + u) / e, .25 * e, (o - r) / e)), this }, fromMat3: function(t) { var e, i = t.val,
								n = i[0] + i[4] + i[8]; if (n > 0) e = Math.sqrt(n + 1), this.w = .5 * e, e = .5 / e, this._x = (i[7] - i[5]) * e, this._y = (i[2] - i[6]) * e, this._z = (i[3] - i[1]) * e;
							else { var r = 0;
								i[4] > i[0] && (r = 1), i[8] > i[3 * r + r] && (r = 2); var s = l[r],
									o = l[s];
								e = Math.sqrt(i[3 * r + r] - i[3 * s + s] - i[3 * o + o] + 1), h[r] = .5 * e, e = .5 / e, h[s] = (i[3 * s + r] + i[3 * r + s]) * e, h[o] = (i[3 * o + r] + i[3 * r + o]) * e, this._x = h[0], this._y = h[1], this._z = h[2], this._w = (i[3 * o + s] - i[3 * s + o]) * e } return this.onChangeCallback(this), this } });
				t.exports = p }, 43396: (t, e, i) => { var n = i(36383);
				t.exports = function(t) { return t * n.RAD_TO_DEG } }, 74362: t => { t.exports = function(t, e) { void 0 === e && (e = 1); var i = 2 * Math.random() * Math.PI; return t.x = Math.cos(i) * e, t.y = Math.sin(i) * e, t } }, 60706: t => { t.exports = function(t, e) { void 0 === e && (e = 1); var i = 2 * Math.random() * Math.PI,
						n = 2 * Math.random() - 1,
						r = Math.sqrt(1 - n * n) * e; return t.x = Math.cos(i) * r, t.y = Math.sin(i) * r, t.z = n * e, t } }, 67421: t => { t.exports = function(t, e) { return void 0 === e && (e = 1), t.x = (2 * Math.random() - 1) * e, t.y = (2 * Math.random() - 1) * e, t.z = (2 * Math.random() - 1) * e, t.w = (2 * Math.random() - 1) * e, t } }, 36305: t => { t.exports = function(t, e) { var i = t.x,
						n = t.y; return t.x = i * Math.cos(e) - n * Math.sin(e), t.y = i * Math.sin(e) + n * Math.cos(e), t } }, 11520: t => { t.exports = function(t, e, i, n) { var r = Math.cos(n),
						s = Math.sin(n),
						o = t.x - e,
						a = t.y - i; return t.x = o * r - a * s + e, t.y = o * s + a * r + i, t } }, 1163: t => { t.exports = function(t, e, i, n, r) { var s = n + Math.atan2(t.y - i, t.x - e); return t.x = e + r * Math.cos(s), t.y = i + r * Math.sin(s), t } }, 70336: t => { t.exports = function(t, e, i, n, r) { return t.x = e + r * Math.cos(n), t.y = i + r * Math.sin(n), t } }, 72678: (t, e, i) => { var n = i(25836),
					r = i(37867),
					s = i(15746),
					o = new r,
					a = new s,
					l = new n;
				t.exports = function(t, e, i) { return a.setAxisAngle(e, i), o.fromRotationTranslation(a, l.set(0, 0, 0)), t.transformMat4(o) } }, 2284: t => { t.exports = function(t) { return t > 0 ? Math.ceil(t) : Math.floor(t) } }, 41013: t => { t.exports = function(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 10); var n = Math.pow(i, -e); return Math.round(t * n) / n } }, 16922: t => { t.exports = function(t, e, i, n) { void 0 === e && (e = 1), void 0 === i && (i = 1), void 0 === n && (n = 1), n *= Math.PI / t; for (var r = [], s = [], o = 0; o < t; o++) e += (i -= e * n) * n, r[o] = i, s[o] = e; return { sin: s, cos: r, length: t } } }, 7602: t => { t.exports = function(t, e, i) { return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * (3 - 2 * t) } }, 54261: t => { t.exports = function(t, e, i) { return (t = Math.max(0, Math.min(1, (t - e) / (i - e)))) * t * t * (t * (6 * t - 15) + 10) } }, 44408: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r) { void 0 === r && (r = new n); var s = 0,
						o = 0; return t > 0 && t <= e * i && (s = t > e - 1 ? t - (o = Math.floor(t / e)) * e : t), r.set(s, o) } }, 85955: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s, o, a, l) { void 0 === l && (l = new n); var h = Math.sin(s),
						u = Math.cos(s),
						c = u * o,
						d = h * o,
						f = -h * a,
						p = u * a,
						g = 1 / (c * p + f * -d); return l.x = p * g * t + -f * g * e + (r * f - i * p) * g, l.y = c * g * e + -d * g * t + (-r * c + i * d) * g, l } }, 26099: (t, e, i) => { var n = i(83419),
					r = i(43855),
					s = new n({ initialize: function(t, e) { this.x = 0, this.y = 0, "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0) : (void 0 === e && (e = t), this.x = t || 0, this.y = e || 0) }, clone: function() { return new s(this.x, this.y) }, copy: function(t) { return this.x = t.x || 0, this.y = t.y || 0, this }, setFromObject: function(t) { return this.x = t.x || 0, this.y = t.y || 0, this }, set: function(t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setTo: function(t, e) { return this.set(t, e) }, setToPolar: function(t, e) { return null == e && (e = 1), this.x = Math.cos(t) * e, this.y = Math.sin(t) * e, this }, equals: function(t) { return this.x === t.x && this.y === t.y }, fuzzyEquals: function(t, e) { return r(this.x, t.x, e) && r(this.y, t.y, e) }, angle: function() { var t = Math.atan2(this.y, this.x); return t < 0 && (t += 2 * Math.PI), t }, setAngle: function(t) { return this.setToPolar(t, this.length()) }, add: function(t) { return this.x += t.x, this.y += t.y, this }, subtract: function(t) { return this.x -= t.x, this.y -= t.y, this }, multiply: function(t) { return this.x *= t.x, this.y *= t.y, this }, scale: function(t) { return isFinite(t) ? (this.x *= t, this.y *= t) : (this.x = 0, this.y = 0), this }, divide: function(t) { return this.x /= t.x, this.y /= t.y, this }, negate: function() { return this.x = -this.x, this.y = -this.y, this }, distance: function(t) { var e = t.x - this.x,
								i = t.y - this.y; return Math.sqrt(e * e + i * i) }, distanceSq: function(t) { var e = t.x - this.x,
								i = t.y - this.y; return e * e + i * i }, length: function() { var t = this.x,
								e = this.y; return Math.sqrt(t * t + e * e) }, setLength: function(t) { return this.normalize().scale(t) }, lengthSq: function() { var t = this.x,
								e = this.y; return t * t + e * e }, normalize: function() { var t = this.x,
								e = this.y,
								i = t * t + e * e; return i > 0 && (i = 1 / Math.sqrt(i), this.x = t * i, this.y = e * i), this }, normalizeRightHand: function() { var t = this.x; return this.x = -1 * this.y, this.y = t, this }, normalizeLeftHand: function() { var t = this.x; return this.x = this.y, this.y = -1 * t, this }, dot: function(t) { return this.x * t.x + this.y * t.y }, cross: function(t) { return this.x * t.y - this.y * t.x }, lerp: function(t, e) { void 0 === e && (e = 0); var i = this.x,
								n = this.y; return this.x = i + e * (t.x - i), this.y = n + e * (t.y - n), this }, transformMat3: function(t) { var e = this.x,
								i = this.y,
								n = t.val; return this.x = n[0] * e + n[3] * i + n[6], this.y = n[1] * e + n[4] * i + n[7], this }, transformMat4: function(t) { var e = this.x,
								i = this.y,
								n = t.val; return this.x = n[0] * e + n[4] * i + n[12], this.y = n[1] * e + n[5] * i + n[13], this }, reset: function() { return this.x = 0, this.y = 0, this }, limit: function(t) { var e = this.length(); return e && e > t && this.scale(t / e), this }, reflect: function(t) { return t = t.clone().normalize(), this.subtract(t.scale(2 * this.dot(t))) }, mirror: function(t) { return this.reflect(t).negate() }, rotate: function(t) { var e = Math.cos(t),
								i = Math.sin(t); return this.set(e * this.x - i * this.y, i * this.x + e * this.y) }, project: function(t) { var e = this.dot(t) / t.dot(t); return this.copy(t).scale(e) } });
				s.ZERO = new s, s.RIGHT = new s(1, 0), s.LEFT = new s(-1, 0), s.UP = new s(0, -1), s.DOWN = new s(0, 1), s.ONE = new s(1, 1), t.exports = s }, 25836: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i) { this.x = 0, this.y = 0, this.z = 0, "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0) }, up: function() { return this.x = 0, this.y = 1, this.z = 0, this }, min: function(t) { return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this }, max: function(t) { return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this }, clone: function() { return new n(this.x, this.y, this.z) }, addVectors: function(t, e) { return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this }, subVectors: function(t, e) { return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this }, crossVectors: function(t, e) { var i = t.x,
							n = t.y,
							r = t.z,
							s = e.x,
							o = e.y,
							a = e.z; return this.x = n * a - r * o, this.y = r * s - i * a, this.z = i * o - n * s, this }, equals: function(t) { return this.x === t.x && this.y === t.y && this.z === t.z }, copy: function(t) { return this.x = t.x, this.y = t.y, this.z = t.z || 0, this }, set: function(t, e, i) { return "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0), this }, setFromMatrixPosition: function(t) { return this.fromArray(t.val, 12) }, setFromMatrixColumn: function(t, e) { return this.fromArray(t.val, 4 * e) }, fromArray: function(t, e) { return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this }, add: function(t) { return this.x += t.x, this.y += t.y, this.z += t.z || 0, this }, addScalar: function(t) { return this.x += t, this.y += t, this.z += t, this }, addScale: function(t, e) { return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e || 0, this }, subtract: function(t) { return this.x -= t.x, this.y -= t.y, this.z -= t.z || 0, this }, multiply: function(t) { return this.x *= t.x, this.y *= t.y, this.z *= t.z || 1, this }, scale: function(t) { return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t) : (this.x = 0, this.y = 0, this.z = 0), this }, divide: function(t) { return this.x /= t.x, this.y /= t.y, this.z /= t.z || 1, this }, negate: function() { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this }, distance: function(t) { var e = t.x - this.x,
							i = t.y - this.y,
							n = t.z - this.z || 0; return Math.sqrt(e * e + i * i + n * n) }, distanceSq: function(t) { var e = t.x - this.x,
							i = t.y - this.y,
							n = t.z - this.z || 0; return e * e + i * i + n * n }, length: function() { var t = this.x,
							e = this.y,
							i = this.z; return Math.sqrt(t * t + e * e + i * i) }, lengthSq: function() { var t = this.x,
							e = this.y,
							i = this.z; return t * t + e * e + i * i }, normalize: function() { var t = this.x,
							e = this.y,
							i = this.z,
							n = t * t + e * e + i * i; return n > 0 && (n = 1 / Math.sqrt(n), this.x = t * n, this.y = e * n, this.z = i * n), this }, dot: function(t) { return this.x * t.x + this.y * t.y + this.z * t.z }, cross: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.x,
							s = t.y,
							o = t.z; return this.x = i * o - n * s, this.y = n * r - e * o, this.z = e * s - i * r, this }, lerp: function(t, e) { void 0 === e && (e = 0); var i = this.x,
							n = this.y,
							r = this.z; return this.x = i + e * (t.x - i), this.y = n + e * (t.y - n), this.z = r + e * (t.z - r), this }, applyMatrix3: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.val; return this.x = r[0] * e + r[3] * i + r[6] * n, this.y = r[1] * e + r[4] * i + r[7] * n, this.z = r[2] * e + r[5] * i + r[8] * n, this }, applyMatrix4: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.val,
							s = 1 / (r[3] * e + r[7] * i + r[11] * n + r[15]); return this.x = (r[0] * e + r[4] * i + r[8] * n + r[12]) * s, this.y = (r[1] * e + r[5] * i + r[9] * n + r[13]) * s, this.z = (r[2] * e + r[6] * i + r[10] * n + r[14]) * s, this }, transformMat3: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.val; return this.x = e * r[0] + i * r[3] + n * r[6], this.y = e * r[1] + i * r[4] + n * r[7], this.z = e * r[2] + i * r[5] + n * r[8], this }, transformMat4: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.val; return this.x = r[0] * e + r[4] * i + r[8] * n + r[12], this.y = r[1] * e + r[5] * i + r[9] * n + r[13], this.z = r[2] * e + r[6] * i + r[10] * n + r[14], this }, transformCoordinates: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.val,
							s = e * r[0] + i * r[4] + n * r[8] + r[12],
							o = e * r[1] + i * r[5] + n * r[9] + r[13],
							a = e * r[2] + i * r[6] + n * r[10] + r[14],
							l = e * r[3] + i * r[7] + n * r[11] + r[15]; return this.x = s / l, this.y = o / l, this.z = a / l, this }, transformQuat: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.x,
							s = t.y,
							o = t.z,
							a = t.w,
							l = a * e + s * n - o * i,
							h = a * i + o * e - r * n,
							u = a * n + r * i - s * e,
							c = -r * e - s * i - o * n; return this.x = l * a + c * -r + h * -o - u * -s, this.y = h * a + c * -s + u * -r - l * -o, this.z = u * a + c * -o + l * -s - h * -r, this }, project: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.val,
							s = r[0],
							o = r[1],
							a = r[2],
							l = r[3],
							h = r[4],
							u = r[5],
							c = r[6],
							d = r[7],
							f = r[8],
							p = r[9],
							g = r[10],
							m = r[11],
							v = r[12],
							y = r[13],
							x = r[14],
							b = 1 / (e * l + i * d + n * m + r[15]); return this.x = (e * s + i * h + n * f + v) * b, this.y = (e * o + i * u + n * p + y) * b, this.z = (e * a + i * c + n * g + x) * b, this }, projectViewMatrix: function(t, e) { return this.applyMatrix4(t).applyMatrix4(e) }, unprojectViewMatrix: function(t, e) { return this.applyMatrix4(t).applyMatrix4(e) }, unproject: function(t, e) { var i = t.x,
							n = t.y,
							r = t.z,
							s = t.w,
							o = this.x - i,
							a = s - this.y - 1 - n,
							l = this.z; return this.x = 2 * o / r - 1, this.y = 2 * a / s - 1, this.z = 2 * l - 1, this.project(e) }, reset: function() { return this.x = 0, this.y = 0, this.z = 0, this } });
				n.ZERO = new n, n.RIGHT = new n(1, 0, 0), n.LEFT = new n(-1, 0, 0), n.UP = new n(0, -1, 0), n.DOWN = new n(0, 1, 0), n.FORWARD = new n(0, 0, 1), n.BACK = new n(0, 0, -1), n.ONE = new n(1, 1, 1), t.exports = n }, 61369: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i, n) { this.x = 0, this.y = 0, this.z = 0, this.w = 0, "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0, this.w = t.w || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = n || 0) }, clone: function() { return new n(this.x, this.y, this.z, this.w) }, copy: function(t) { return this.x = t.x, this.y = t.y, this.z = t.z || 0, this.w = t.w || 0, this }, equals: function(t) { return this.x === t.x && this.y === t.y && this.z === t.z && this.w === t.w }, set: function(t, e, i, n) { return "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0, this.w = t.w || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = n || 0), this }, add: function(t) { return this.x += t.x, this.y += t.y, this.z += t.z || 0, this.w += t.w || 0, this }, subtract: function(t) { return this.x -= t.x, this.y -= t.y, this.z -= t.z || 0, this.w -= t.w || 0, this }, scale: function(t) { return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this }, length: function() { var t = this.x,
							e = this.y,
							i = this.z,
							n = this.w; return Math.sqrt(t * t + e * e + i * i + n * n) }, lengthSq: function() { var t = this.x,
							e = this.y,
							i = this.z,
							n = this.w; return t * t + e * e + i * i + n * n }, normalize: function() { var t = this.x,
							e = this.y,
							i = this.z,
							n = this.w,
							r = t * t + e * e + i * i + n * n; return r > 0 && (r = 1 / Math.sqrt(r), this.x = t * r, this.y = e * r, this.z = i * r, this.w = n * r), this }, dot: function(t) { return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w }, lerp: function(t, e) { void 0 === e && (e = 0); var i = this.x,
							n = this.y,
							r = this.z,
							s = this.w; return this.x = i + e * (t.x - i), this.y = n + e * (t.y - n), this.z = r + e * (t.z - r), this.w = s + e * (t.w - s), this }, multiply: function(t) { return this.x *= t.x, this.y *= t.y, this.z *= t.z || 1, this.w *= t.w || 1, this }, divide: function(t) { return this.x /= t.x, this.y /= t.y, this.z /= t.z || 1, this.w /= t.w || 1, this }, distance: function(t) { var e = t.x - this.x,
							i = t.y - this.y,
							n = t.z - this.z || 0,
							r = t.w - this.w || 0; return Math.sqrt(e * e + i * i + n * n + r * r) }, distanceSq: function(t) { var e = t.x - this.x,
							i = t.y - this.y,
							n = t.z - this.z || 0,
							r = t.w - this.w || 0; return e * e + i * i + n * n + r * r }, negate: function() { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this }, transformMat4: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = this.w,
							s = t.val; return this.x = s[0] * e + s[4] * i + s[8] * n + s[12] * r, this.y = s[1] * e + s[5] * i + s[9] * n + s[13] * r, this.z = s[2] * e + s[6] * i + s[10] * n + s[14] * r, this.w = s[3] * e + s[7] * i + s[11] * n + s[15] * r, this }, transformQuat: function(t) { var e = this.x,
							i = this.y,
							n = this.z,
							r = t.x,
							s = t.y,
							o = t.z,
							a = t.w,
							l = a * e + s * n - o * i,
							h = a * i + o * e - r * n,
							u = a * n + r * i - s * e,
							c = -r * e - s * i - o * n; return this.x = l * a + c * -r + h * -o - u * -s, this.y = h * a + c * -s + u * -r - l * -o, this.z = u * a + c * -o + l * -s - h * -r, this }, reset: function() { return this.x = 0, this.y = 0, this.z = 0, this.w = 0, this } });
				n.prototype.sub = n.prototype.subtract, n.prototype.mul = n.prototype.multiply, n.prototype.div = n.prototype.divide, n.prototype.dist = n.prototype.distance, n.prototype.distSq = n.prototype.distanceSq, n.prototype.len = n.prototype.length, n.prototype.lenSq = n.prototype.lengthSq, t.exports = n }, 60417: t => { t.exports = function(t, e, i) { return Math.abs(t - e) <= i } }, 15994: t => { t.exports = function(t, e, i) { var n = i - e; return e + ((t - e) % n + n) % n } }, 31040: t => { t.exports = function(t, e, i, n) { return Math.atan2(n - e, i - t) } }, 55495: t => { t.exports = function(t, e) { return Math.atan2(e.y - t.y, e.x - t.x) } }, 128: t => { t.exports = function(t, e) { return Math.atan2(e.x - t.x, e.y - t.y) } }, 41273: t => { t.exports = function(t, e, i, n) { return Math.atan2(i - t, n - e) } }, 1432: (t, e, i) => { var n = i(36383);
				t.exports = function(t) { return t > Math.PI && (t -= n.PI2), Math.abs(((t + n.TAU) % n.PI2 - n.PI2) % n.PI2) } }, 12407: t => { t.exports = function(t) { return (t %= 2 * Math.PI) >= 0 ? t : t + 2 * Math.PI } }, 53993: (t, e, i) => { var n = i(99472);
				t.exports = function() { return n(-Math.PI, Math.PI) } }, 86564: (t, e, i) => { var n = i(99472);
				t.exports = function() { return n(-180, 180) } }, 90154: (t, e, i) => { var n = i(12407);
				t.exports = function(t) { return n(t + Math.PI) } }, 48736: (t, e, i) => { var n = i(36383);
				t.exports = function(t, e, i) { return void 0 === i && (i = .05), t === e || (Math.abs(e - t) <= i || Math.abs(e - t) >= n.PI2 - i ? t = e : (Math.abs(e - t) > Math.PI && (e < t ? e += n.PI2 : e -= n.PI2), e > t ? t += i : e < t && (t -= i))), t } }, 61430: t => { t.exports = function(t, e) { var i = e - t; return 0 === i ? 0 : i - 360 * Math.floor((i - -180) / 360) } }, 86554: (t, e, i) => { var n = i(15994);
				t.exports = function(t) { return n(t, -Math.PI, Math.PI) } }, 30954: (t, e, i) => { var n = i(15994);
				t.exports = function(t) { return n(t, -180, 180) } }, 25588: (t, e, i) => { t.exports = { Between: i(31040), BetweenPoints: i(55495), BetweenPointsY: i(128), BetweenY: i(41273), CounterClockwise: i(1432), Normalize: i(12407), Random: i(53993), RandomDegrees: i(86564), Reverse: i(90154), RotateTo: i(48736), ShortestBetween: i(61430), Wrap: i(86554), WrapDegrees: i(30954) } }, 36383: t => { var e = { PI2: 2 * Math.PI, TAU: .5 * Math.PI, EPSILON: 1e-6, DEG_TO_RAD: Math.PI / 180, RAD_TO_DEG: 180 / Math.PI, RND: null, MIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER || -9007199254740991, MAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER || 9007199254740991 };
				t.exports = e }, 20339: t => { t.exports = function(t, e, i, n) { var r = t - i,
						s = e - n; return Math.sqrt(r * r + s * s) } }, 52816: t => { t.exports = function(t, e) { var i = t.x - e.x,
						n = t.y - e.y; return Math.sqrt(i * i + n * n) } }, 64559: t => { t.exports = function(t, e) { var i = t.x - e.x,
						n = t.y - e.y; return i * i + n * n } }, 82340: t => { t.exports = function(t, e, i, n) { return Math.max(Math.abs(t - i), Math.abs(e - n)) } }, 14390: t => { t.exports = function(t, e, i, n, r) { return void 0 === r && (r = 2), Math.sqrt(Math.pow(i - t, r) + Math.pow(n - e, r)) } }, 2243: t => { t.exports = function(t, e, i, n) { return Math.abs(t - i) + Math.abs(e - n) } }, 89774: t => { t.exports = function(t, e, i, n) { var r = t - i,
						s = e - n; return r * r + s * s } }, 50994: (t, e, i) => { t.exports = { Between: i(20339), BetweenPoints: i(52816), BetweenPointsSquared: i(64559), Chebyshev: i(82340), Power: i(14390), Snake: i(2243), Squared: i(89774) } }, 62640: (t, e, i) => { var n = i(54178),
					r = i(41521),
					s = i(79980),
					o = i(85433),
					a = i(99140),
					l = i(48857),
					h = i(81596),
					u = i(59133),
					c = i(98516),
					d = i(35248),
					f = i(82500),
					p = i(49752);
				t.exports = { Power0: h, Power1: u.Out, Power2: o.Out, Power3: c.Out, Power4: d.Out, Linear: h, Quad: u.Out, Cubic: o.Out, Quart: c.Out, Quint: d.Out, Sine: f.Out, Expo: l.Out, Circ: s.Out, Elastic: a.Out, Back: n.Out, Bounce: r.Out, Stepped: p, "Quad.easeIn": u.In, "Cubic.easeIn": o.In, "Quart.easeIn": c.In, "Quint.easeIn": d.In, "Sine.easeIn": f.In, "Expo.easeIn": l.In, "Circ.easeIn": s.In, "Elastic.easeIn": a.In, "Back.easeIn": n.In, "Bounce.easeIn": r.In, "Quad.easeOut": u.Out, "Cubic.easeOut": o.Out, "Quart.easeOut": c.Out, "Quint.easeOut": d.Out, "Sine.easeOut": f.Out, "Expo.easeOut": l.Out, "Circ.easeOut": s.Out, "Elastic.easeOut": a.Out, "Back.easeOut": n.Out, "Bounce.easeOut": r.Out, "Quad.easeInOut": u.InOut, "Cubic.easeInOut": o.InOut, "Quart.easeInOut": c.InOut, "Quint.easeInOut": d.InOut, "Sine.easeInOut": f.InOut, "Expo.easeInOut": l.InOut, "Circ.easeInOut": s.InOut, "Elastic.easeInOut": a.InOut, "Back.easeInOut": n.InOut, "Bounce.easeInOut": r.InOut } }, 1639: t => { t.exports = function(t, e) { return void 0 === e && (e = 1.70158), t * t * ((e + 1) * t - e) } }, 50099: t => { t.exports = function(t, e) { void 0 === e && (e = 1.70158); var i = 1.525 * e; return (t *= 2) < 1 ? t * t * ((i + 1) * t - i) * .5 : .5 * ((t -= 2) * t * ((i + 1) * t + i) + 2) } }, 41286: t => { t.exports = function(t, e) { return void 0 === e && (e = 1.70158), --t * t * ((e + 1) * t + e) + 1 } }, 54178: (t, e, i) => { t.exports = { In: i(1639), Out: i(41286), InOut: i(50099) } }, 59590: t => { t.exports = function(t) { return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375) } }, 41788: t => { t.exports = function(t) { var e = !1; return t < .5 ? (t = 1 - 2 * t, e = !0) : t = 2 * t - 1, t < 1 / 2.75 ? t *= 7.5625 * t : t = t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5 } }, 69905: t => { t.exports = function(t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 } }, 41521: (t, e, i) => { t.exports = { In: i(59590), Out: i(69905), InOut: i(41788) } }, 91861: t => { t.exports = function(t) { return 1 - Math.sqrt(1 - t * t) } }, 4177: t => { t.exports = function(t) { return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) } }, 57512: t => { t.exports = function(t) { return Math.sqrt(1 - --t * t) } }, 79980: (t, e, i) => { t.exports = { In: i(91861), Out: i(57512), InOut: i(4177) } }, 51150: t => { t.exports = function(t) { return t * t * t } }, 82820: t => { t.exports = function(t) { return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2) } }, 35033: t => { t.exports = function(t) { return --t * t * t + 1 } }, 85433: (t, e, i) => { t.exports = { In: i(51150), Out: i(35033), InOut: i(82820) } }, 69965: t => { t.exports = function(t, e, i) { if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0; if (1 === t) return 1; var n = i / 4; return e < 1 ? e = 1 : n = i * Math.asin(1 / e) / (2 * Math.PI), -e * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - n) * (2 * Math.PI) / i) } }, 50665: t => { t.exports = function(t, e, i) { if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0; if (1 === t) return 1; var n = i / 4; return e < 1 ? e = 1 : n = i * Math.asin(1 / e) / (2 * Math.PI), (t *= 2) < 1 ? e * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - n) * (2 * Math.PI) / i) * -.5 : e * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - n) * (2 * Math.PI) / i) * .5 + 1 } }, 7744: t => { t.exports = function(t, e, i) { if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0; if (1 === t) return 1; var n = i / 4; return e < 1 ? e = 1 : n = i * Math.asin(1 / e) / (2 * Math.PI), e * Math.pow(2, -10 * t) * Math.sin((t - n) * (2 * Math.PI) / i) + 1 } }, 99140: (t, e, i) => { t.exports = { In: i(69965), Out: i(7744), InOut: i(50665) } }, 24590: t => { t.exports = function(t) { return Math.pow(2, 10 * (t - 1)) - .001 } }, 87844: t => { t.exports = function(t) { return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1))) } }, 89433: t => { t.exports = function(t) { return 1 - Math.pow(2, -10 * t) } }, 48857: (t, e, i) => { t.exports = { In: i(24590), Out: i(89433), InOut: i(87844) } }, 48820: (t, e, i) => { t.exports = { Back: i(54178), Bounce: i(41521), Circular: i(79980), Cubic: i(85433), Elastic: i(99140), Expo: i(48857), Linear: i(81596), Quadratic: i(59133), Quartic: i(98516), Quintic: i(35248), Sine: i(82500), Stepped: i(49752) } }, 7147: t => { t.exports = function(t) { return t } }, 81596: (t, e, i) => { t.exports = i(7147) }, 34826: t => { t.exports = function(t) { return t * t } }, 20544: t => { t.exports = function(t) { return (t *= 2) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1) } }, 92029: t => { t.exports = function(t) { return t * (2 - t) } }, 59133: (t, e, i) => { t.exports = { In: i(34826), Out: i(92029), InOut: i(20544) } }, 64413: t => { t.exports = function(t) { return t * t * t * t } }, 78137: t => { t.exports = function(t) { return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2) } }, 45840: t => { t.exports = function(t) { return 1 - --t * t * t * t } }, 98516: (t, e, i) => { t.exports = { In: i(64413), Out: i(45840), InOut: i(78137) } }, 87745: t => { t.exports = function(t) { return t * t * t * t * t } }, 16509: t => { t.exports = function(t) { return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2) } }, 17868: t => { t.exports = function(t) { return --t * t * t * t * t + 1 } }, 35248: (t, e, i) => { t.exports = { In: i(87745), Out: i(17868), InOut: i(16509) } }, 80461: t => { t.exports = function(t) { return 0 === t ? 0 : 1 === t ? 1 : 1 - Math.cos(t * Math.PI / 2) } }, 34025: t => { t.exports = function(t) { return 0 === t ? 0 : 1 === t ? 1 : .5 * (1 - Math.cos(Math.PI * t)) } }, 52768: t => { t.exports = function(t) { return 0 === t ? 0 : 1 === t ? 1 : Math.sin(t * Math.PI / 2) } }, 82500: (t, e, i) => { t.exports = { In: i(80461), Out: i(52768), InOut: i(34025) } }, 72251: t => { t.exports = function(t, e) { return void 0 === e && (e = 1), t <= 0 ? 0 : t >= 1 ? 1 : 1 / e * (1 + (e * t | 0)) } }, 49752: (t, e, i) => { t.exports = i(72251) }, 75698: t => { t.exports = function(t, e) { return void 0 === e && (e = 1e-4), Math.ceil(t - e) } }, 43855: t => { t.exports = function(t, e, i) { return void 0 === i && (i = 1e-4), Math.abs(t - e) < i } }, 25777: t => { t.exports = function(t, e) { return void 0 === e && (e = 1e-4), Math.floor(t + e) } }, 5470: t => { t.exports = function(t, e, i) { return void 0 === i && (i = 1e-4), t > e - i } }, 94977: t => { t.exports = function(t, e, i) { return void 0 === i && (i = 1e-4), t < e + i } }, 48379: (t, e, i) => { t.exports = { Ceil: i(75698), Equal: i(43855), Floor: i(25777), GreaterThan: i(5470), LessThan: i(94977) } }, 75508: (t, e, i) => { var n = i(36383),
					r = i(79291),
					s = { Angle: i(25588), Distance: i(50994), Easing: i(48820), Fuzzy: i(48379), Interpolation: i(38289), Pow2: i(49001), Snap: i(73697), RandomDataGenerator: i(28453), Average: i(53307), Bernstein: i(85710), Between: i(30976), CatmullRom: i(87842), CeilTo: i(26302), Clamp: i(45319), DegToRad: i(39506), Difference: i(61241), Euler: i(38857), Factorial: i(6411), FloatBetween: i(99472), FloorTo: i(77623), FromPercent: i(62945), GetSpeed: i(38265), IsEven: i(78702), IsEvenStrict: i(94883), Linear: i(28915), LinearXY: i(94908), MaxAdd: i(86883), Median: i(50040), MinSub: i(37204), Percent: i(65201), RadToDeg: i(43396), RandomXY: i(74362), RandomXYZ: i(60706), RandomXYZW: i(67421), Rotate: i(36305), RotateAround: i(11520), RotateAroundDistance: i(1163), RotateTo: i(70336), RoundAwayFromZero: i(2284), RoundTo: i(41013), SinCosTableGenerator: i(16922), SmootherStep: i(54261), SmoothStep: i(7602), ToXY: i(44408), TransformXY: i(85955), Within: i(60417), Wrap: i(15994), Vector2: i(26099), Vector3: i(25836), Vector4: i(61369), Matrix3: i(94434), Matrix4: i(37867), Quaternion: i(15746), RotateVec3: i(72678) };
				s = r(!1, s, n), t.exports = s }, 89318: (t, e, i) => { var n = i(85710);
				t.exports = function(t, e) { for (var i = 0, r = t.length - 1, s = 0; s <= r; s++) i += Math.pow(1 - e, r - s) * Math.pow(e, s) * t[s] * n(r, s); return i } }, 77259: (t, e, i) => { var n = i(87842);
				t.exports = function(t, e) { var i = t.length - 1,
						r = i * e,
						s = Math.floor(r); return t[0] === t[i] ? (e < 0 && (s = Math.floor(r = i * (1 + e))), n(r - s, t[(s - 1 + i) % i], t[s], t[(s + 1) % i], t[(s + 2) % i])) : e < 0 ? t[0] - (n(-r, t[0], t[0], t[1], t[1]) - t[0]) : e > 1 ? t[i] - (n(r - i, t[i], t[i], t[i - 1], t[i - 1]) - t[i]) : n(r - s, t[s ? s - 1 : 0], t[s], t[i < s + 1 ? i : s + 1], t[i < s + 2 ? i : s + 2]) } }, 36316: t => { t.exports = function(t, e, i, n, r) { return function(t, e) { var i = 1 - t; return i * i * i * e }(t, e) + function(t, e) { var i = 1 - t; return 3 * i * i * t * e }(t, i) + function(t, e) { return 3 * (1 - t) * t * t * e }(t, n) + function(t, e) { return t * t * t * e }(t, r) } }, 28392: (t, e, i) => { var n = i(28915);
				t.exports = function(t, e) { var i = t.length - 1,
						r = i * e,
						s = Math.floor(r); return e < 0 ? n(t[0], t[1], r) : e > 1 ? n(t[i], t[i - 1], i - r) : n(t[s], t[s + 1 > i ? i : s + 1], r - s) } }, 32112: t => { t.exports = function(t, e, i, n) { return function(t, e) { var i = 1 - t; return i * i * e }(t, e) + function(t, e) { return 2 * (1 - t) * t * e }(t, i) + function(t, e) { return t * t * e }(t, n) } }, 47235: (t, e, i) => { var n = i(7602);
				t.exports = function(t, e, i) { return e + (i - e) * n(t, 0, 1) } }, 50178: (t, e, i) => { var n = i(54261);
				t.exports = function(t, e, i) { return e + (i - e) * n(t, 0, 1) } }, 38289: (t, e, i) => { t.exports = { Bezier: i(89318), CatmullRom: i(77259), CubicBezier: i(36316), Linear: i(28392), QuadraticBezier: i(32112), SmoothStep: i(47235), SmootherStep: i(50178) } }, 98439: t => { t.exports = function(t) { var e = Math.log(t) / .6931471805599453; return 1 << Math.ceil(e) } }, 50030: t => { t.exports = function(t, e) { return t > 0 && !(t & t - 1) && e > 0 && !(e & e - 1) } }, 81230: t => { t.exports = function(t) { return t > 0 && !(t & t - 1) } }, 49001: (t, e, i) => { t.exports = { GetNext: i(98439), IsSize: i(50030), IsValue: i(81230) } }, 28453: (t, e, i) => { var n = new(i(83419))({ initialize: function(t) { void 0 === t && (t = [(Date.now() * Math.random()).toString()]), this.c = 1, this.s0 = 0, this.s1 = 0, this.s2 = 0, this.n = 0, this.signs = [-1, 1], t && this.init(t) }, rnd: function() { var t = 2091639 * this.s0 + 2.3283064365386963e-10 * this.c; return this.c = 0 | t, this.s0 = this.s1, this.s1 = this.s2, this.s2 = t - this.c, this.s2 }, hash: function(t) { var e, i = this.n;
						t = t.toString(); for (var n = 0; n < t.length; n++) e = .02519603282416938 * (i += t.charCodeAt(n)), e -= i = e >>> 0, i = (e *= i) >>> 0, i += 4294967296 * (e -= i); return this.n = i, 2.3283064365386963e-10 * (i >>> 0) }, init: function(t) { "string" == typeof t ? this.state(t) : this.sow(t) }, sow: function(t) { if (this.n = 4022871197, this.s0 = this.hash(" "), this.s1 = this.hash(" "), this.s2 = this.hash(" "), this.c = 1, t)
							for (var e = 0; e < t.length && null != t[e]; e++) { var i = t[e];
								this.s0 -= this.hash(i), this.s0 += ~~(this.s0 < 0), this.s1 -= this.hash(i), this.s1 += ~~(this.s1 < 0), this.s2 -= this.hash(i), this.s2 += ~~(this.s2 < 0) } }, integer: function() { return 4294967296 * this.rnd() }, frac: function() { return this.rnd() + 11102230246251565e-32 * (2097152 * this.rnd() | 0) }, real: function() { return this.integer() + this.frac() }, integerInRange: function(t, e) { return Math.floor(this.realInRange(0, e - t + 1) + t) }, between: function(t, e) { return Math.floor(this.realInRange(0, e - t + 1) + t) }, realInRange: function(t, e) { return this.frac() * (e - t) + t }, normal: function() { return 1 - 2 * this.frac() }, uuid: function() { var t = "",
							e = ""; for (e = t = ""; t++ < 36; e += ~t % 5 | 3 * t & 4 ? (15 ^ t ? 8 ^ this.frac() * (20 ^ t ? 16 : 4) : 4).toString(16) : "-"); return e }, pick: function(t) { return t[this.integerInRange(0, t.length - 1)] }, sign: function() { return this.pick(this.signs) }, weightedPick: function(t) { return t[~~(Math.pow(this.frac(), 2) * (t.length - .5) + .5)] }, timestamp: function(t, e) { return this.realInRange(t || 9466848e5, e || 1577862e6) }, angle: function() { return this.integerInRange(-180, 180) }, rotation: function() { return this.realInRange(-3.1415926, 3.1415926) }, state: function(t) { return "string" == typeof t && t.match(/^!rnd/) && (t = t.split(","), this.c = parseFloat(t[1]), this.s0 = parseFloat(t[2]), this.s1 = parseFloat(t[3]), this.s2 = parseFloat(t[4])), ["!rnd", this.c, this.s0, this.s1, this.s2].join(",") }, shuffle: function(t) { for (var e = t.length - 1; e > 0; e--) { var i = Math.floor(this.frac() * (e + 1)),
								n = t[i];
							t[i] = t[e], t[e] = n } return t } });
				t.exports = n }, 63448: t => { t.exports = function(t, e, i, n) { return void 0 === i && (i = 0), 0 === e ? t : (t -= i, t = e * Math.ceil(t / e), n ? (i + t) / e : i + t) } }, 56583: t => { t.exports = function(t, e, i, n) { return void 0 === i && (i = 0), 0 === e ? t : (t -= i, t = e * Math.floor(t / e), n ? (i + t) / e : i + t) } }, 77720: t => { t.exports = function(t, e, i, n) { return void 0 === i && (i = 0), 0 === e ? t : (t -= i, t = e * Math.round(t / e), n ? (i + t) / e : i + t) } }, 73697: (t, e, i) => { t.exports = { Ceil: i(63448), Floor: i(56583), To: i(77720) } }, 85454: (t, e, i) => { i(63595); var n = i(8054),
					r = i(79291),
					s = { Actions: i(61061), Animations: i(60421), BlendModes: i(10312), Cache: i(83388), Cameras: i(26638), Core: i(42857), Class: i(83419), Create: i(15822), Curves: i(25410), Data: i(44965), Display: i(27460), DOM: i(84902), Events: i(93055), FX: i(66064), Game: i(50127), GameObjects: i(77856), Geom: i(55738), Input: i(14350), Loader: i(57777), Math: i(75508), Physics: i(44563), Plugins: i(18922), Renderer: i(36909), Scale: i(93364), ScaleModes: i(29795), Scene: i(97482), Scenes: i(62194), Structs: i(41392), Textures: i(27458), Tilemaps: i(62501), Time: i(90291), Tweens: i(43066), Utils: i(91799) };
				s.Sound = i(23717), s = r(!1, s, n), t.exports = s, i.g.Phaser = s }, 71289: (t, e, i) => { var n = i(83419),
					r = i(92209),
					s = i(88571),
					o = new n({ Extends: s, Mixins: [r.Acceleration, r.Angular, r.Bounce, r.Collision, r.Debug, r.Drag, r.Enable, r.Friction, r.Gravity, r.Immovable, r.Mass, r.Pushable, r.Size, r.Velocity], initialize: function(t, e, i, n, r) { s.call(this, t, e, i, n, r), this.body = null } });
				t.exports = o }, 86689: (t, e, i) => { var n = i(83419),
					r = i(39506),
					s = i(20339),
					o = i(89774),
					a = i(66022),
					l = i(95540),
					h = i(46975),
					u = i(72441),
					c = i(47956),
					d = i(37277),
					f = i(44594),
					p = i(26099),
					g = i(82248),
					m = new n({ initialize: function(t) { this.scene = t, this.systems = t.sys, this.config = this.getConfig(), this.world, this.add, this._category = 1, t.sys.events.once(f.BOOT, this.boot, this), t.sys.events.on(f.START, this.start, this) }, boot: function() { this.world = new g(this.scene, this.config), this.add = new a(this.world), this.systems.events.once(f.DESTROY, this.destroy, this) }, start: function() { this.world || (this.world = new g(this.scene, this.config), this.add = new a(this.world)); var t = this.systems.events;
							l(this.config, "customUpdate", !1) || t.on(f.UPDATE, this.world.update, this.world), t.on(f.POST_UPDATE, this.world.postUpdate, this.world), t.once(f.SHUTDOWN, this.shutdown, this) }, enableUpdate: function() { this.systems.events.on(f.UPDATE, this.world.update, this.world) }, disableUpdate: function() { this.systems.events.off(f.UPDATE, this.world.update, this.world) }, getConfig: function() { var t = this.systems.game.config.physics,
								e = this.systems.settings.physics; return h(l(e, "arcade", {}), l(t, "arcade", {})) }, nextCategory: function() { return this._category = this._category << 1, this._category }, overlap: function(t, e, i, n, r) { return void 0 === i && (i = null), void 0 === n && (n = null), void 0 === r && (r = i), this.world.collideObjects(t, e, i, n, r, !0) }, collide: function(t, e, i, n, r) { return void 0 === i && (i = null), void 0 === n && (n = null), void 0 === r && (r = i), this.world.collideObjects(t, e, i, n, r, !1) }, collideTiles: function(t, e, i, n, r) { return this.world.collideTiles(t, e, i, n, r) }, overlapTiles: function(t, e, i, n, r) { return this.world.overlapTiles(t, e, i, n, r) }, pause: function() { return this.world.pause() }, resume: function() { return this.world.resume() }, accelerateTo: function(t, e, i, n, r, s) { void 0 === n && (n = 60); var o = Math.atan2(i - t.y, e - t.x); return t.body.acceleration.setToPolar(o, n), void 0 !== r && void 0 !== s && t.body.maxVelocity.set(r, s), o }, accelerateToObject: function(t, e, i, n, r) { return this.accelerateTo(t, e.x, e.y, i, n, r) }, closest: function(t, e) { e || (e = this.world.bodies.entries); for (var i = Number.MAX_VALUE, n = null, r = t.x, s = t.y, a = e.length, l = 0; l < a; l++) { var h = e[l],
									u = h.body || h; if (t !== h && t !== u && t !== u.gameObject && t !== u.center) { var c = o(r, s, u.center.x, u.center.y);
									c < i && (n = h, i = c) } } return n }, furthest: function(t, e) { e || (e = this.world.bodies.entries); for (var i = -1, n = null, r = t.x, s = t.y, a = e.length, l = 0; l < a; l++) { var h = e[l],
									u = h.body || h; if (t !== h && t !== u && t !== u.gameObject && t !== u.center) { var c = o(r, s, u.center.x, u.center.y);
									c > i && (n = h, i = c) } } return n }, moveTo: function(t, e, i, n, r) { void 0 === n && (n = 60), void 0 === r && (r = 0); var o = Math.atan2(i - t.y, e - t.x); return r > 0 && (n = s(t.x, t.y, e, i) / (r / 1e3)), t.body.velocity.setToPolar(o, n), o }, moveToObject: function(t, e, i, n) { return this.moveTo(t, e.x, e.y, i, n) }, velocityFromAngle: function(t, e, i) { return void 0 === e && (e = 60), void 0 === i && (i = new p), i.setToPolar(r(t), e) }, velocityFromRotation: function(t, e, i) { return void 0 === e && (e = 60), void 0 === i && (i = new p), i.setToPolar(t, e) }, overlapRect: function(t, e, i, n, r, s) { return c(this.world, t, e, i, n, r, s) }, overlapCirc: function(t, e, i, n, r) { return u(this.world, t, e, i, n, r) }, shutdown: function() { if (this.world) { var t = this.systems.events;
								t.off(f.UPDATE, this.world.update, this.world), t.off(f.POST_UPDATE, this.world.postUpdate, this.world), t.off(f.SHUTDOWN, this.shutdown, this), this.add.destroy(), this.world.destroy(), this.add = null, this.world = null, this._category = 1 } }, destroy: function() { this.shutdown(), this.scene.sys.events.off(f.START, this.start, this), this.scene = null, this.systems = null } });
				d.register("ArcadePhysics", m, "arcadePhysics"), t.exports = m }, 13759: (t, e, i) => { var n = i(83419),
					r = i(92209),
					s = i(68287),
					o = new n({ Extends: s, Mixins: [r.Acceleration, r.Angular, r.Bounce, r.Collision, r.Debug, r.Drag, r.Enable, r.Friction, r.Gravity, r.Immovable, r.Mass, r.Pushable, r.Size, r.Velocity], initialize: function(t, e, i, n, r) { s.call(this, t, e, i, n, r), this.body = null } });
				t.exports = o }, 37742: (t, e, i) => { var n = i(83419),
					r = i(78389),
					s = i(37747),
					o = i(63012),
					a = i(43396),
					l = i(87841),
					h = i(37303),
					u = i(95829),
					c = i(26099),
					d = new n({ Mixins: [r], initialize: function(t, e) { var i = 64,
								n = 64,
								r = void 0 !== e;
							r && e.displayWidth && (i = e.displayWidth, n = e.displayHeight), r || (e = { x: 0, y: 0, angle: 0, rotation: 0, scaleX: 1, scaleY: 1, displayOriginX: 0, displayOriginY: 0 }), this.world = t, this.gameObject = r ? e : void 0, this.isBody = !0, this.transform = { x: e.x, y: e.y, rotation: e.angle, scaleX: e.scaleX, scaleY: e.scaleY, displayOriginX: e.displayOriginX, displayOriginY: e.displayOriginY }, this.debugShowBody = t.defaults.debugShowBody, this.debugShowVelocity = t.defaults.debugShowVelocity, this.debugBodyColor = t.defaults.bodyDebugColor, this.enable = !0, this.isCircle = !1, this.radius = 0, this.offset = new c, this.position = new c(e.x - e.scaleX * e.displayOriginX, e.y - e.scaleY * e.displayOriginY), this.prev = this.position.clone(), this.prevFrame = this.position.clone(), this.allowRotation = !0, this.rotation = e.angle, this.preRotation = e.angle, this.width = i, this.height = n, this.sourceWidth = i, this.sourceHeight = n, e.frame && (this.sourceWidth = e.frame.realWidth, this.sourceHeight = e.frame.realHeight), this.halfWidth = Math.abs(i / 2), this.halfHeight = Math.abs(n / 2), this.center = new c(this.position.x + this.halfWidth, this.position.y + this.halfHeight), this.velocity = new c, this.newVelocity = new c, this.deltaMax = new c, this.acceleration = new c, this.allowDrag = !0, this.drag = new c, this.allowGravity = !0, this.gravity = new c, this.bounce = new c, this.worldBounce = null, this.customBoundsRectangle = t.bounds, this.onWorldBounds = !1, this.onCollide = !1, this.onOverlap = !1, this.maxVelocity = new c(1e4, 1e4), this.maxSpeed = -1, this.friction = new c(1, 0), this.useDamping = !1, this.angularVelocity = 0, this.angularAcceleration = 0, this.angularDrag = 0, this.maxAngular = 1e3, this.mass = 1, this.angle = 0, this.speed = 0, this.facing = s.FACING_NONE, this.immovable = !1, this.pushable = !0, this.slideFactor = new c(1, 1), this.moves = !0, this.customSeparateX = !1, this.customSeparateY = !1, this.overlapX = 0, this.overlapY = 0, this.overlapR = 0, this.embedded = !1, this.collideWorldBounds = !1, this.checkCollision = u(!1), this.touching = u(!0), this.wasTouching = u(!0), this.blocked = u(!0), this.syncBounds = !1, this.physicsType = s.DYNAMIC_BODY, this.collisionCategory = 1, this.collisionMask = 1, this._sx = e.scaleX, this._sy = e.scaleY, this._dx = 0, this._dy = 0, this._tx = 0, this._ty = 0, this._bounds = new l, this.directControl = !1, this.autoFrame = this.position.clone() }, updateBounds: function() { var t = this.gameObject,
								e = this.transform; if (t.parentContainer) { var i = t.getWorldTransformMatrix(this.world._tempMatrix, this.world._tempMatrix2);
								e.x = i.tx, e.y = i.ty, e.rotation = a(i.rotation), e.scaleX = i.scaleX, e.scaleY = i.scaleY, e.displayOriginX = t.displayOriginX, e.displayOriginY = t.displayOriginY } else e.x = t.x, e.y = t.y, e.rotation = t.angle, e.scaleX = t.scaleX, e.scaleY = t.scaleY, e.displayOriginX = t.displayOriginX, e.displayOriginY = t.displayOriginY; var n = !1; if (this.syncBounds) { var r = t.getBounds(this._bounds);
								this.width = r.width, this.height = r.height, n = !0 } else { var s = Math.abs(e.scaleX),
									o = Math.abs(e.scaleY);
								this._sx === s && this._sy === o || (this.width = this.sourceWidth * s, this.height = this.sourceHeight * o, this._sx = s, this._sy = o, n = !0) } n && (this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.updateCenter()) }, updateCenter: function() { this.center.set(this.position.x + this.halfWidth, this.position.y + this.halfHeight) }, updateFromGameObject: function() { this.updateBounds(); var t = this.transform;
							this.position.x = t.x + t.scaleX * (this.offset.x - t.displayOriginX), this.position.y = t.y + t.scaleY * (this.offset.y - t.displayOriginY), this.updateCenter() }, resetFlags: function(t) { void 0 === t && (t = !1); var e = this.wasTouching,
								i = this.touching,
								n = this.blocked;
							t ? u(!0, e) : (e.none = i.none, e.up = i.up, e.down = i.down, e.left = i.left, e.right = i.right), u(!0, i), u(!0, n), this.overlapR = 0, this.overlapX = 0, this.overlapY = 0, this.embedded = !1 }, preUpdate: function(t, e) { if (t && this.resetFlags(), this.gameObject && this.updateFromGameObject(), this.rotation = this.transform.rotation, this.preRotation = this.rotation, this.moves) { var i = this.position;
								this.prev.x = i.x, this.prev.y = i.y, this.prevFrame.x = i.x, this.prevFrame.y = i.y } t && this.update(e) }, update: function(t) { var e = this.prev,
								i = this.position,
								n = this.velocity; if (e.set(i.x, i.y), !this.moves) return this._dx = i.x - e.x, void(this._dy = i.y - e.y); if (this.directControl) { var r = this.autoFrame;
								n.set((i.x - r.x) / t, (i.y - r.y) / t), this.world.updateMotion(this, t), this._dx = i.x - r.x, this._dy = i.y - r.y } else this.world.updateMotion(this, t), this.newVelocity.set(n.x * t, n.y * t), i.add(this.newVelocity), this._dx = i.x - e.x, this._dy = i.y - e.y; var s = n.x,
								a = n.y; if (this.updateCenter(), this.angle = Math.atan2(a, s), this.speed = Math.sqrt(s * s + a * a), this.collideWorldBounds && this.checkWorldBounds() && this.onWorldBounds) { var l = this.blocked;
								this.world.emit(o.WORLD_BOUNDS, this, l.up, l.down, l.left, l.right) } }, postUpdate: function() { var t = this.position,
								e = t.x - this.prevFrame.x,
								i = t.y - this.prevFrame.y,
								n = this.gameObject; if (this.moves) { var r = this.deltaMax.x,
									o = this.deltaMax.y;
								0 !== r && 0 !== e && (e < 0 && e < -r ? e = -r : e > 0 && e > r && (e = r)), 0 !== o && 0 !== i && (i < 0 && i < -o ? i = -o : i > 0 && i > o && (i = o)), n && (n.x += e, n.y += i) } e < 0 ? this.facing = s.FACING_LEFT : e > 0 && (this.facing = s.FACING_RIGHT), i < 0 ? this.facing = s.FACING_UP : i > 0 && (this.facing = s.FACING_DOWN), this.allowRotation && n && (n.angle += this.deltaZ()), this._tx = e, this._ty = i, this.autoFrame.set(t.x, t.y) }, setBoundsRectangle: function(t) { return this.customBoundsRectangle = t || this.world.bounds, this }, checkWorldBounds: function() { var t = this.position,
								e = this.velocity,
								i = this.blocked,
								n = this.customBoundsRectangle,
								r = this.world.checkCollision,
								s = this.worldBounce ? -this.worldBounce.x : -this.bounce.x,
								o = this.worldBounce ? -this.worldBounce.y : -this.bounce.y,
								a = !1; return t.x < n.x && r.left ? (t.x = n.x, e.x *= s, i.left = !0, a = !0) : this.right > n.right && r.right && (t.x = n.right - this.width, e.x *= s, i.right = !0, a = !0), t.y < n.y && r.up ? (t.y = n.y, e.y *= o, i.up = !0, a = !0) : this.bottom > n.bottom && r.down && (t.y = n.bottom - this.height, e.y *= o, i.down = !0, a = !0), a && (this.blocked.none = !1, this.updateCenter()), a }, setOffset: function(t, e) { return void 0 === e && (e = t), this.offset.set(t, e), this }, setGameObject: function(t, e) { return void 0 === e && (e = !0), this.world.remove(this), this.gameObject && this.gameObject.body && (this.gameObject.body = null), this.gameObject = t, t.body && (t.body = this), this.setSize(), this.world.add(this), this.enable = e, this }, setSize: function(t, e, i) { void 0 === i && (i = !0); var n = this.gameObject; if (n && (!t && n.frame && (t = n.frame.realWidth), !e && n.frame && (e = n.frame.realHeight)), this.sourceWidth = t, this.sourceHeight = e, this.width = this.sourceWidth * this._sx, this.height = this.sourceHeight * this._sy, this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.updateCenter(), i && n && n.getCenter) { var r = (n.width - t) / 2,
									s = (n.height - e) / 2;
								this.offset.set(r, s) } return this.isCircle = !1, this.radius = 0, this }, setCircle: function(t, e, i) { return void 0 === e && (e = this.offset.x), void 0 === i && (i = this.offset.y), t > 0 ? (this.isCircle = !0, this.radius = t, this.sourceWidth = 2 * t, this.sourceHeight = 2 * t, this.width = this.sourceWidth * this._sx, this.height = this.sourceHeight * this._sy, this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.offset.set(e, i), this.updateCenter()) : this.isCircle = !1, this }, reset: function(t, e) { this.stop(); var i = this.gameObject;
							i && (i.setPosition(t, e), this.rotation = i.angle, this.preRotation = i.angle); var n = this.position;
							i && i.getTopLeft ? i.getTopLeft(n) : n.set(t, e), this.prev.copy(n), this.prevFrame.copy(n), this.autoFrame.copy(n), i && this.updateBounds(), this.updateCenter(), this.collideWorldBounds && this.checkWorldBounds(), this.resetFlags(!0) }, stop: function() { return this.velocity.set(0), this.acceleration.set(0), this.speed = 0, this.angularVelocity = 0, this.angularAcceleration = 0, this }, getBounds: function(t) { return t.x = this.x, t.y = this.y, t.right = this.right, t.bottom = this.bottom, t }, hitTest: function(t, e) { return this.isCircle ? this.radius > 0 && t >= this.left && t <= this.right && e >= this.top && e <= this.bottom && (this.center.x - t) * (this.center.x - t) + (this.center.y - e) * (this.center.y - e) <= this.radius * this.radius : h(this, t, e) }, onFloor: function() { return this.blocked.down }, onCeiling: function() { return this.blocked.up }, onWall: function() { return this.blocked.left || this.blocked.right }, deltaAbsX: function() { return this._dx > 0 ? this._dx : -this._dx }, deltaAbsY: function() { return this._dy > 0 ? this._dy : -this._dy }, deltaX: function() { return this._dx }, deltaY: function() { return this._dy }, deltaXFinal: function() { return this._tx }, deltaYFinal: function() { return this._ty }, deltaZ: function() { return this.rotation - this.preRotation }, destroy: function() { this.enable = !1, this.world && this.world.pendingDestroy.set(this) }, drawDebug: function(t) { var e = this.position,
								i = e.x + this.halfWidth,
								n = e.y + this.halfHeight;
							this.debugShowBody && (t.lineStyle(t.defaultStrokeWidth, this.debugBodyColor), this.isCircle ? t.strokeCircle(i, n, this.width / 2) : (this.checkCollision.up && t.lineBetween(e.x, e.y, e.x + this.width, e.y), this.checkCollision.right && t.lineBetween(e.x + this.width, e.y, e.x + this.width, e.y + this.height), this.checkCollision.down && t.lineBetween(e.x, e.y + this.height, e.x + this.width, e.y + this.height), this.checkCollision.left && t.lineBetween(e.x, e.y, e.x, e.y + this.height))), this.debugShowVelocity && (t.lineStyle(t.defaultStrokeWidth, this.world.defaults.velocityDebugColor, 1), t.lineBetween(i, n, i + this.velocity.x / 2, n + this.velocity.y / 2)) }, willDrawDebug: function() { return this.debugShowBody || this.debugShowVelocity }, setDirectControl: function(t) { return void 0 === t && (t = !0), this.directControl = t, this }, setCollideWorldBounds: function(t, e, i, n) { void 0 === t && (t = !0), this.collideWorldBounds = t; var r = void 0 !== e,
								s = void 0 !== i; return (r || s) && (this.worldBounce || (this.worldBounce = new c), r && (this.worldBounce.x = e), s && (this.worldBounce.y = i)), void 0 !== n && (this.onWorldBounds = n), this }, setVelocity: function(t, e) { return this.velocity.set(t, e), t = this.velocity.x, e = this.velocity.y, this.speed = Math.sqrt(t * t + e * e), this }, setVelocityX: function(t) { return this.setVelocity(t, this.velocity.y) }, setVelocityY: function(t) { return this.setVelocity(this.velocity.x, t) }, setMaxVelocity: function(t, e) { return this.maxVelocity.set(t, e), this }, setMaxVelocityX: function(t) { return this.maxVelocity.x = t, this }, setMaxVelocityY: function(t) { return this.maxVelocity.y = t, this }, setMaxSpeed: function(t) { return this.maxSpeed = t, this }, setSlideFactor: function(t, e) { return this.slideFactor.set(t, e), this }, setBounce: function(t, e) { return this.bounce.set(t, e), this }, setBounceX: function(t) { return this.bounce.x = t, this }, setBounceY: function(t) { return this.bounce.y = t, this }, setAcceleration: function(t, e) { return this.acceleration.set(t, e), this }, setAccelerationX: function(t) { return this.acceleration.x = t, this }, setAccelerationY: function(t) { return this.acceleration.y = t, this }, setAllowDrag: function(t) { return void 0 === t && (t = !0), this.allowDrag = t, this }, setAllowGravity: function(t) { return void 0 === t && (t = !0), this.allowGravity = t, this }, setAllowRotation: function(t) { return void 0 === t && (t = !0), this.allowRotation = t, this }, setDrag: function(t, e) { return this.drag.set(t, e), this }, setDamping: function(t) { return this.useDamping = t, this }, setDragX: function(t) { return this.drag.x = t, this }, setDragY: function(t) { return this.drag.y = t, this }, setGravity: function(t, e) { return this.gravity.set(t, e), this }, setGravityX: function(t) { return this.gravity.x = t, this }, setGravityY: function(t) { return this.gravity.y = t, this }, setFriction: function(t, e) { return this.friction.set(t, e), this }, setFrictionX: function(t) { return this.friction.x = t, this }, setFrictionY: function(t) { return this.friction.y = t, this }, setAngularVelocity: function(t) { return this.angularVelocity = t, this }, setAngularAcceleration: function(t) { return this.angularAcceleration = t, this }, setAngularDrag: function(t) { return this.angularDrag = t, this }, setMass: function(t) { return this.mass = t, this }, setImmovable: function(t) { return void 0 === t && (t = !0), this.immovable = t, this }, setEnable: function(t) { return void 0 === t && (t = !0), this.enable = t, this }, processX: function(t, e, i, n) { this.x += t, this.updateCenter(), null !== e && (this.velocity.x = e * this.slideFactor.x); var r = this.blocked;
							i && (r.left = !0, r.none = !1), n && (r.right = !0, r.none = !1) }, processY: function(t, e, i, n) { this.y += t, this.updateCenter(), null !== e && (this.velocity.y = e * this.slideFactor.y); var r = this.blocked;
							i && (r.up = !0, r.none = !1), n && (r.down = !0, r.none = !1) }, x: { get: function() { return this.position.x }, set: function(t) { this.position.x = t } }, y: { get: function() { return this.position.y }, set: function(t) { this.position.y = t } }, left: { get: function() { return this.position.x } }, right: { get: function() { return this.position.x + this.width } }, top: { get: function() { return this.position.y } }, bottom: { get: function() { return this.position.y + this.height } } });
				t.exports = d }, 79342: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i, n, r, s, o) { this.world = t, this.name = "", this.active = !0, this.overlapOnly = e, this.object1 = i, this.object2 = n, this.collideCallback = r, this.processCallback = s, this.callbackContext = o }, setName: function(t) { return this.name = t, this }, update: function() { this.world.collideObjects(this.object1, this.object2, this.collideCallback, this.processCallback, this.callbackContext, this.overlapOnly) }, destroy: function() { this.world.removeCollider(this), this.active = !1, this.world = null, this.object1 = null, this.object2 = null, this.collideCallback = null, this.processCallback = null, this.callbackContext = null } });
				t.exports = n }, 66022: (t, e, i) => { var n = i(71289),
					r = i(13759),
					s = i(37742),
					o = i(83419),
					a = i(37747),
					l = i(60758),
					h = i(72624),
					u = i(71464),
					c = new o({ initialize: function(t) { this.world = t, this.scene = t.scene, this.sys = t.scene.sys }, collider: function(t, e, i, n, r) { return this.world.addCollider(t, e, i, n, r) }, overlap: function(t, e, i, n, r) { return this.world.addOverlap(t, e, i, n, r) }, existing: function(t, e) { var i = e ? a.STATIC_BODY : a.DYNAMIC_BODY; return this.world.enableBody(t, i), t }, staticImage: function(t, e, i, r) { var s = new n(this.scene, t, e, i, r); return this.sys.displayList.add(s), this.world.enableBody(s, a.STATIC_BODY), s }, image: function(t, e, i, r) { var s = new n(this.scene, t, e, i, r); return this.sys.displayList.add(s), this.world.enableBody(s, a.DYNAMIC_BODY), s }, staticSprite: function(t, e, i, n) { var s = new r(this.scene, t, e, i, n); return this.sys.displayList.add(s), this.sys.updateList.add(s), this.world.enableBody(s, a.STATIC_BODY), s }, sprite: function(t, e, i, n) { var s = new r(this.scene, t, e, i, n); return this.sys.displayList.add(s), this.sys.updateList.add(s), this.world.enableBody(s, a.DYNAMIC_BODY), s }, staticGroup: function(t, e) { return this.sys.updateList.add(new u(this.world, this.world.scene, t, e)) }, group: function(t, e) { return this.sys.updateList.add(new l(this.world, this.world.scene, t, e)) }, body: function(t, e, i, n) { var r = new s(this.world); return r.position.set(t, e), i && n && r.setSize(i, n), this.world.add(r, a.DYNAMIC_BODY), r }, staticBody: function(t, e, i, n) { var r = new h(this.world); return r.position.set(t, e), i && n && r.setSize(i, n), this.world.add(r, a.STATIC_BODY), r }, destroy: function() { this.world = null, this.scene = null, this.sys = null } });
				t.exports = c }, 79599: t => { t.exports = function(t) { var e = 0; if (Array.isArray(t))
						for (var i = 0; i < t.length; i++) e |= t[i];
					else e = t; return e } }, 64897: (t, e, i) => { var n = i(37747);
				t.exports = function(t, e, i, r) { var s = 0,
						o = t.deltaAbsX() + e.deltaAbsX() + r; return 0 === t._dx && 0 === e._dx ? (t.embedded = !0, e.embedded = !0) : t._dx > e._dx ? (s = t.right - e.x) > o && !i || !1 === t.checkCollision.right || !1 === e.checkCollision.left ? s = 0 : (t.touching.none = !1, t.touching.right = !0, e.touching.none = !1, e.touching.left = !0, e.physicsType !== n.STATIC_BODY || i || (t.blocked.none = !1, t.blocked.right = !0), t.physicsType !== n.STATIC_BODY || i || (e.blocked.none = !1, e.blocked.left = !0)) : t._dx < e._dx && (-(s = t.x - e.width - e.x) > o && !i || !1 === t.checkCollision.left || !1 === e.checkCollision.right ? s = 0 : (t.touching.none = !1, t.touching.left = !0, e.touching.none = !1, e.touching.right = !0, e.physicsType !== n.STATIC_BODY || i || (t.blocked.none = !1, t.blocked.left = !0), t.physicsType !== n.STATIC_BODY || i || (e.blocked.none = !1, e.blocked.right = !0))), t.overlapX = s, e.overlapX = s, s } }, 45170: (t, e, i) => { var n = i(37747);
				t.exports = function(t, e, i, r) { var s = 0,
						o = t.deltaAbsY() + e.deltaAbsY() + r; return 0 === t._dy && 0 === e._dy ? (t.embedded = !0, e.embedded = !0) : t._dy > e._dy ? (s = t.bottom - e.y) > o && !i || !1 === t.checkCollision.down || !1 === e.checkCollision.up ? s = 0 : (t.touching.none = !1, t.touching.down = !0, e.touching.none = !1, e.touching.up = !0, e.physicsType !== n.STATIC_BODY || i || (t.blocked.none = !1, t.blocked.down = !0), t.physicsType !== n.STATIC_BODY || i || (e.blocked.none = !1, e.blocked.up = !0)) : t._dy < e._dy && (-(s = t.y - e.bottom) > o && !i || !1 === t.checkCollision.up || !1 === e.checkCollision.down ? s = 0 : (t.touching.none = !1, t.touching.up = !0, e.touching.none = !1, e.touching.down = !0, e.physicsType !== n.STATIC_BODY || i || (t.blocked.none = !1, t.blocked.up = !0), t.physicsType !== n.STATIC_BODY || i || (e.blocked.none = !1, e.blocked.down = !0))), t.overlapY = s, e.overlapY = s, s } }, 60758: (t, e, i) => { var n = i(13759),
					r = i(83419),
					s = i(78389),
					o = i(37747),
					a = i(95540),
					l = i(26479),
					h = i(41212),
					u = new r({ Extends: l, Mixins: [s], initialize: function(t, e, i, r) { if (i || r)
								if (h(i)) r = i, i = null, r.internalCreateCallback = this.createCallbackHandler, r.internalRemoveCallback = this.removeCallbackHandler;
								else if (Array.isArray(i) && h(i[0])) { var s = this;
								i.forEach((function(t) { t.internalCreateCallback = s.createCallbackHandler, t.internalRemoveCallback = s.removeCallbackHandler, t.classType = a(t, "classType", n) })), r = null } else r = { internalCreateCallback: this.createCallbackHandler, internalRemoveCallback: this.removeCallbackHandler };
							else r = { internalCreateCallback: this.createCallbackHandler, internalRemoveCallback: this.removeCallbackHandler };
							this.world = t, r && (r.classType = a(r, "classType", n)), this.physicsType = o.DYNAMIC_BODY, this.collisionCategory = 1, this.collisionMask = 2147483647, this.defaults = { setCollideWorldBounds: a(r, "collideWorldBounds", !1), setBoundsRectangle: a(r, "customBoundsRectangle", null), setAccelerationX: a(r, "accelerationX", 0), setAccelerationY: a(r, "accelerationY", 0), setAllowDrag: a(r, "allowDrag", !0), setAllowGravity: a(r, "allowGravity", !0), setAllowRotation: a(r, "allowRotation", !0), setDamping: a(r, "useDamping", !1), setBounceX: a(r, "bounceX", 0), setBounceY: a(r, "bounceY", 0), setDragX: a(r, "dragX", 0), setDragY: a(r, "dragY", 0), setEnable: a(r, "enable", !0), setGravityX: a(r, "gravityX", 0), setGravityY: a(r, "gravityY", 0), setFrictionX: a(r, "frictionX", 0), setFrictionY: a(r, "frictionY", 0), setMaxSpeed: a(r, "maxSpeed", -1), setMaxVelocityX: a(r, "maxVelocityX", 1e4), setMaxVelocityY: a(r, "maxVelocityY", 1e4), setVelocityX: a(r, "velocityX", 0), setVelocityY: a(r, "velocityY", 0), setAngularVelocity: a(r, "angularVelocity", 0), setAngularAcceleration: a(r, "angularAcceleration", 0), setAngularDrag: a(r, "angularDrag", 0), setMass: a(r, "mass", 1), setImmovable: a(r, "immovable", !1) }, l.call(this, e, i, r), this.type = "PhysicsGroup" }, createCallbackHandler: function(t) { t.body || this.world.enableBody(t, o.DYNAMIC_BODY); var e = t.body; for (var i in this.defaults) e[i](this.defaults[i]) }, removeCallbackHandler: function(t) { t.body && this.world.disableBody(t) }, setVelocity: function(t, e, i) { void 0 === i && (i = 0); for (var n = this.getChildren(), r = 0; r < n.length; r++) n[r].body.velocity.set(t + r * i, e + r * i); return this }, setVelocityX: function(t, e) { void 0 === e && (e = 0); for (var i = this.getChildren(), n = 0; n < i.length; n++) i[n].body.velocity.x = t + n * e; return this }, setVelocityY: function(t, e) { void 0 === e && (e = 0); for (var i = this.getChildren(), n = 0; n < i.length; n++) i[n].body.velocity.y = t + n * e; return this } });
				t.exports = u }, 3017: t => { var e, i, n, r, s, o, a, l, h, u, c, d, f, p, g, m, v, y = function() { return u && g && i.blocked.right ? (e.processX(-v, a, !1, !0), 1) : h && m && i.blocked.left ? (e.processX(v, a, !0), 1) : f && m && e.blocked.right ? (i.processX(-v, l, !1, !0), 2) : d && g && e.blocked.left ? (i.processX(v, l, !0), 2) : 0 },
					x = function(t) { if (n && r) v *= .5, 0 === t || 3 === t ? (e.processX(v, s), i.processX(-v, o)) : (e.processX(-v, s), i.processX(v, o));
						else if (n && !r) 0 === t || 3 === t ? e.processX(v, a, !0) : e.processX(-v, a, !1, !0);
						else if (!n && r) 0 === t || 3 === t ? i.processX(-v, l, !1, !0) : i.processX(v, l, !0);
						else { var g = .5 * v;
							0 === t ? p ? (e.processX(v, 0, !0), i.processX(0, null, !1, !0)) : f ? (e.processX(g, 0, !0), i.processX(-g, 0, !1, !0)) : (e.processX(g, i.velocity.x, !0), i.processX(-g, null, !1, !0)) : 1 === t ? c ? (e.processX(0, null, !1, !0), i.processX(v, 0, !0)) : u ? (e.processX(-g, 0, !1, !0), i.processX(g, 0, !0)) : (e.processX(-g, null, !1, !0), i.processX(g, e.velocity.x, !0)) : 2 === t ? p ? (e.processX(-v, 0, !1, !0), i.processX(0, null, !0)) : d ? (e.processX(-g, 0, !1, !0), i.processX(g, 0, !0)) : (e.processX(-g, i.velocity.x, !1, !0), i.processX(g, null, !0)) : 3 === t && (c ? (e.processX(0, null, !0), i.processX(-v, 0, !1, !0)) : h ? (e.processX(g, 0, !0), i.processX(-g, 0, !1, !0)) : (e.processX(g, i.velocity.y, !0), i.processX(-g, null, !1, !0))) } return !0 };
				t.exports = { BlockCheck: y, Check: function() { var t = e.velocity.x,
							n = i.velocity.x,
							r = Math.sqrt(n * n * i.mass / e.mass) * (n > 0 ? 1 : -1),
							a = Math.sqrt(t * t * e.mass / i.mass) * (t > 0 ? 1 : -1),
							l = .5 * (r + a); return a -= l, s = l + (r -= l) * e.bounce.x, o = l + a * i.bounce.x, h && m ? x(0) : d && g ? x(1) : u && g ? x(2) : !(!f || !m) && x(3) }, Set: function(t, s, o) { i = s; var x = (e = t).velocity.x,
							b = i.velocity.x; return n = e.pushable, h = e._dx < 0, u = e._dx > 0, c = 0 === e._dx, g = Math.abs(e.right - i.x) <= Math.abs(i.right - e.x), a = b - x * e.bounce.x, r = i.pushable, d = i._dx < 0, f = i._dx > 0, p = 0 === i._dx, m = !g, l = x - b * i.bounce.x, v = Math.abs(o), y() }, Run: x, RunImmovableBody1: function(t) { if (1 === t ? i.velocity.x = 0 : g ? i.processX(v, l, !0) : i.processX(-v, l, !1, !0), e.moves) { var n = e.directControl ? e.y - e.autoFrame.y : e.y - e.prev.y;
							i.y += n * e.friction.y, i._dy = i.y - i.prev.y } }, RunImmovableBody2: function(t) { if (2 === t ? e.velocity.x = 0 : m ? e.processX(v, a, !0) : e.processX(-v, a, !1, !0), i.moves) { var n = i.directControl ? i.y - i.autoFrame.y : i.y - i.prev.y;
							e.y += n * i.friction.y, e._dy = e.y - e.prev.y } } } }, 47962: t => { var e, i, n, r, s, o, a, l, h, u, c, d, f, p, g, m, v, y = function() { return u && g && i.blocked.down ? (e.processY(-v, a, !1, !0), 1) : h && m && i.blocked.up ? (e.processY(v, a, !0), 1) : f && m && e.blocked.down ? (i.processY(-v, l, !1, !0), 2) : d && g && e.blocked.up ? (i.processY(v, l, !0), 2) : 0 },
					x = function(t) { if (n && r) v *= .5, 0 === t || 3 === t ? (e.processY(v, s), i.processY(-v, o)) : (e.processY(-v, s), i.processY(v, o));
						else if (n && !r) 0 === t || 3 === t ? e.processY(v, a, !0) : e.processY(-v, a, !1, !0);
						else if (!n && r) 0 === t || 3 === t ? i.processY(-v, l, !1, !0) : i.processY(v, l, !0);
						else { var g = .5 * v;
							0 === t ? p ? (e.processY(v, 0, !0), i.processY(0, null, !1, !0)) : f ? (e.processY(g, 0, !0), i.processY(-g, 0, !1, !0)) : (e.processY(g, i.velocity.y, !0), i.processY(-g, null, !1, !0)) : 1 === t ? c ? (e.processY(0, null, !1, !0), i.processY(v, 0, !0)) : u ? (e.processY(-g, 0, !1, !0), i.processY(g, 0, !0)) : (e.processY(-g, null, !1, !0), i.processY(g, e.velocity.y, !0)) : 2 === t ? p ? (e.processY(-v, 0, !1, !0), i.processY(0, null, !0)) : d ? (e.processY(-g, 0, !1, !0), i.processY(g, 0, !0)) : (e.processY(-g, i.velocity.y, !1, !0), i.processY(g, null, !0)) : 3 === t && (c ? (e.processY(0, null, !0), i.processY(-v, 0, !1, !0)) : h ? (e.processY(g, 0, !0), i.processY(-g, 0, !1, !0)) : (e.processY(g, i.velocity.y, !0), i.processY(-g, null, !1, !0))) } return !0 };
				t.exports = { BlockCheck: y, Check: function() { var t = e.velocity.y,
							n = i.velocity.y,
							r = Math.sqrt(n * n * i.mass / e.mass) * (n > 0 ? 1 : -1),
							a = Math.sqrt(t * t * e.mass / i.mass) * (t > 0 ? 1 : -1),
							l = .5 * (r + a); return a -= l, s = l + (r -= l) * e.bounce.y, o = l + a * i.bounce.y, h && m ? x(0) : d && g ? x(1) : u && g ? x(2) : !(!f || !m) && x(3) }, Set: function(t, s, o) { i = s; var x = (e = t).velocity.y,
							b = i.velocity.y; return n = e.pushable, h = e._dy < 0, u = e._dy > 0, c = 0 === e._dy, g = Math.abs(e.bottom - i.y) <= Math.abs(i.bottom - e.y), a = b - x * e.bounce.y, r = i.pushable, d = i._dy < 0, f = i._dy > 0, p = 0 === i._dy, m = !g, l = x - b * i.bounce.y, v = Math.abs(o), y() }, Run: x, RunImmovableBody1: function(t) { if (1 === t ? i.velocity.y = 0 : g ? i.processY(v, l, !0) : i.processY(-v, l, !1, !0), e.moves) { var n = e.directControl ? e.x - e.autoFrame.x : e.x - e.prev.x;
							i.x += n * e.friction.x, i._dx = i.x - i.prev.x } }, RunImmovableBody2: function(t) { if (2 === t ? e.velocity.y = 0 : m ? e.processY(v, a, !0) : e.processY(-v, a, !1, !0), i.moves) { var n = i.directControl ? i.x - i.autoFrame.x : i.x - i.prev.x;
							e.x += n * i.friction.x, e._dx = e.x - e.prev.x } } } }, 14087: (t, e, i) => { var n = i(64897),
					r = i(3017);
				t.exports = function(t, e, i, s, o) { void 0 === o && (o = n(t, e, i, s)); var a = t.immovable,
						l = e.immovable; if (i || 0 === o || a && l || t.customSeparateX || e.customSeparateX) return 0 !== o || t.embedded && e.embedded; var h = r.Set(t, e, o); return a || l ? (a ? r.RunImmovableBody1(h) : l && r.RunImmovableBody2(h), !0) : h > 0 || r.Check() } }, 89936: (t, e, i) => { var n = i(45170),
					r = i(47962);
				t.exports = function(t, e, i, s, o) { void 0 === o && (o = n(t, e, i, s)); var a = t.immovable,
						l = e.immovable; if (i || 0 === o || a && l || t.customSeparateY || e.customSeparateY) return 0 !== o || t.embedded && e.embedded; var h = r.Set(t, e, o); return a || l ? (a ? r.RunImmovableBody1(h) : l && r.RunImmovableBody2(h), !0) : h > 0 || r.Check() } }, 95829: t => { t.exports = function(t, e) { return void 0 === e && (e = {}), e.none = t, e.up = !1, e.down = !1, e.left = !1, e.right = !1, t || (e.up = !0, e.down = !0, e.left = !0, e.right = !0), e } }, 72624: (t, e, i) => { var n = i(87902),
					r = i(83419),
					s = i(78389),
					o = i(37747),
					a = i(37303),
					l = i(95829),
					h = i(26099),
					u = new r({ Mixins: [s], initialize: function(t, e) { var i = 64,
								n = 64,
								r = void 0 !== e;
							r && e.displayWidth && (i = e.displayWidth, n = e.displayHeight), r || (e = { x: 0, y: 0, angle: 0, rotation: 0, scaleX: 1, scaleY: 1, displayOriginX: 0, displayOriginY: 0 }), this.world = t, this.gameObject = r ? e : void 0, this.isBody = !0, this.debugShowBody = t.defaults.debugShowStaticBody, this.debugBodyColor = t.defaults.staticBodyDebugColor, this.enable = !0, this.isCircle = !1, this.radius = 0, this.offset = new h, this.position = new h(e.x - i * e.originX, e.y - n * e.originY), this.width = i, this.height = n, this.halfWidth = Math.abs(this.width / 2), this.halfHeight = Math.abs(this.height / 2), this.center = new h(this.position.x + this.halfWidth, this.position.y + this.halfHeight), this.velocity = h.ZERO, this.allowGravity = !1, this.gravity = h.ZERO, this.bounce = h.ZERO, this.onWorldBounds = !1, this.onCollide = !1, this.onOverlap = !1, this.mass = 1, this.immovable = !0, this.pushable = !1, this.customSeparateX = !1, this.customSeparateY = !1, this.overlapX = 0, this.overlapY = 0, this.overlapR = 0, this.embedded = !1, this.collideWorldBounds = !1, this.checkCollision = l(!1), this.touching = l(!0), this.wasTouching = l(!0), this.blocked = l(!0), this.physicsType = o.STATIC_BODY, this.collisionCategory = 1, this.collisionMask = 1, this._dx = 0, this._dy = 0 }, setGameObject: function(t, e) { return t && t !== this.gameObject && (this.gameObject.body = null, t.body = this, this.gameObject = t), e && this.updateFromGameObject(), this }, updateFromGameObject: function() { this.world.staticTree.remove(this); var t = this.gameObject; return t.getTopLeft(this.position), this.width = t.displayWidth, this.height = t.displayHeight, this.halfWidth = Math.abs(this.width / 2), this.halfHeight = Math.abs(this.height / 2), this.center.set(this.position.x + this.halfWidth, this.position.y + this.halfHeight), this.world.staticTree.insert(this), this }, setOffset: function(t, e) { return void 0 === e && (e = t), this.world.staticTree.remove(this), this.position.x -= this.offset.x, this.position.y -= this.offset.y, this.offset.set(t, e), this.position.x += this.offset.x, this.position.y += this.offset.y, this.updateCenter(), this.world.staticTree.insert(this), this }, setSize: function(t, e, i) { void 0 === i && (i = !0); var n = this.gameObject; if (n && n.frame && (t || (t = n.frame.realWidth), e || (e = n.frame.realHeight)), this.world.staticTree.remove(this), this.width = t, this.height = e, this.halfWidth = Math.floor(t / 2), this.halfHeight = Math.floor(e / 2), i && n && n.getCenter) { var r = n.displayWidth / 2,
									s = n.displayHeight / 2;
								this.position.x -= this.offset.x, this.position.y -= this.offset.y, this.offset.set(r - this.halfWidth, s - this.halfHeight), this.position.x += this.offset.x, this.position.y += this.offset.y } return this.updateCenter(), this.isCircle = !1, this.radius = 0, this.world.staticTree.insert(this), this }, setCircle: function(t, e, i) { return void 0 === e && (e = this.offset.x), void 0 === i && (i = this.offset.y), t > 0 ? (this.world.staticTree.remove(this), this.isCircle = !0, this.radius = t, this.width = 2 * t, this.height = 2 * t, this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.offset.set(e, i), this.updateCenter(), this.world.staticTree.insert(this)) : this.isCircle = !1, this }, updateCenter: function() { this.center.set(this.position.x + this.halfWidth, this.position.y + this.halfHeight) }, reset: function(t, e) { var i = this.gameObject;
							void 0 === t && (t = i.x), void 0 === e && (e = i.y), this.world.staticTree.remove(this), i.setPosition(t, e), i.getTopLeft(this.position), this.position.x += this.offset.x, this.position.y += this.offset.y, this.updateCenter(), this.world.staticTree.insert(this) }, stop: function() { return this }, getBounds: function(t) { return t.x = this.x, t.y = this.y, t.right = this.right, t.bottom = this.bottom, t }, hitTest: function(t, e) { return this.isCircle ? n(this, t, e) : a(this, t, e) }, postUpdate: function() {}, deltaAbsX: function() { return 0 }, deltaAbsY: function() { return 0 }, deltaX: function() { return 0 }, deltaY: function() { return 0 }, deltaZ: function() { return 0 }, destroy: function() { this.enable = !1, this.world.pendingDestroy.set(this) }, drawDebug: function(t) { var e = this.position,
								i = e.x + this.halfWidth,
								n = e.y + this.halfHeight;
							this.debugShowBody && (t.lineStyle(t.defaultStrokeWidth, this.debugBodyColor, 1), this.isCircle ? t.strokeCircle(i, n, this.width / 2) : t.strokeRect(e.x, e.y, this.width, this.height)) }, willDrawDebug: function() { return this.debugShowBody }, setMass: function(t) { return t <= 0 && (t = .1), this.mass = t, this }, x: { get: function() { return this.position.x }, set: function(t) { this.world.staticTree.remove(this), this.position.x = t, this.world.staticTree.insert(this) } }, y: { get: function() { return this.position.y }, set: function(t) { this.world.staticTree.remove(this), this.position.y = t, this.world.staticTree.insert(this) } }, left: { get: function() { return this.position.x } }, right: { get: function() { return this.position.x + this.width } }, top: { get: function() { return this.position.y } }, bottom: { get: function() { return this.position.y + this.height } } });
				t.exports = u }, 71464: (t, e, i) => { var n = i(13759),
					r = i(83419),
					s = i(78389),
					o = i(37747),
					a = i(95540),
					l = i(26479),
					h = i(41212),
					u = new r({ Extends: l, Mixins: [s], initialize: function(t, e, i, r) { i || r ? h(i) ? (r = i, i = null, r.internalCreateCallback = this.createCallbackHandler, r.internalRemoveCallback = this.removeCallbackHandler, r.createMultipleCallback = this.createMultipleCallbackHandler, r.classType = a(r, "classType", n)) : Array.isArray(i) && h(i[0]) ? (r = i, i = null, r.forEach((function(t) { t.internalCreateCallback = this.createCallbackHandler, t.internalRemoveCallback = this.removeCallbackHandler, t.createMultipleCallback = this.createMultipleCallbackHandler, t.classType = a(t, "classType", n) }))) : r = { internalCreateCallback: this.createCallbackHandler, internalRemoveCallback: this.removeCallbackHandler } : r = { internalCreateCallback: this.createCallbackHandler, internalRemoveCallback: this.removeCallbackHandler, createMultipleCallback: this.createMultipleCallbackHandler, classType: n }, this.world = t, this.physicsType = o.STATIC_BODY, this.collisionCategory = 1, this.collisionMask = 1, l.call(this, e, i, r), this.type = "StaticPhysicsGroup" }, createCallbackHandler: function(t) { t.body || this.world.enableBody(t, o.STATIC_BODY) }, removeCallbackHandler: function(t) { t.body && this.world.disableBody(t) }, createMultipleCallbackHandler: function() { this.refresh() }, refresh: function() { for (var t = this.children.entries, e = 0; e < t.length; e++) t[e].body.reset(); return this } });
				t.exports = u }, 82248: (t, e, i) => { var n = i(55495),
					r = i(37742),
					s = i(45319),
					o = i(83419),
					a = i(79342),
					l = i(37747),
					h = i(20339),
					u = i(52816),
					c = i(50792),
					d = i(63012),
					f = i(43855),
					p = i(5470),
					g = i(94977),
					m = i(64897),
					v = i(45170),
					y = i(96523),
					x = i(35154),
					b = i(36383),
					w = i(25774),
					T = i(96602),
					S = i(87841),
					_ = i(59542),
					E = i(40012),
					A = i(14087),
					C = i(89936),
					k = i(35072),
					P = i(72624),
					O = i(2483),
					R = i(61340),
					M = i(26099),
					L = i(15994),
					D = new o({ Extends: c, initialize: function(t, e) { c.call(this), this.scene = t, this.bodies = new k, this.staticBodies = new k, this.pendingDestroy = new k, this.colliders = new w, this.gravity = new M(x(e, "gravity.x", 0), x(e, "gravity.y", 0)), this.bounds = new S(x(e, "x", 0), x(e, "y", 0), x(e, "width", t.sys.scale.width), x(e, "height", t.sys.scale.height)), this.checkCollision = { up: x(e, "checkCollision.up", !0), down: x(e, "checkCollision.down", !0), left: x(e, "checkCollision.left", !0), right: x(e, "checkCollision.right", !0) }, this.fps = x(e, "fps", 60), this.fixedStep = x(e, "fixedStep", !0), this._elapsed = 0, this._frameTime = 1 / this.fps, this._frameTimeMS = 1e3 * this._frameTime, this.stepsLastFrame = 0, this.timeScale = x(e, "timeScale", 1), this.OVERLAP_BIAS = x(e, "overlapBias", 4), this.TILE_BIAS = x(e, "tileBias", 16), this.forceX = x(e, "forceX", !1), this.isPaused = x(e, "isPaused", !1), this._total = 0, this.drawDebug = x(e, "debug", !1), this.debugGraphic, this.defaults = { debugShowBody: x(e, "debugShowBody", !0), debugShowStaticBody: x(e, "debugShowStaticBody", !0), debugShowVelocity: x(e, "debugShowVelocity", !0), bodyDebugColor: x(e, "debugBodyColor", 16711935), staticBodyDebugColor: x(e, "debugStaticBodyColor", 255), velocityDebugColor: x(e, "debugVelocityColor", 65280) }, this.maxEntries = x(e, "maxEntries", 16), this.useTree = x(e, "useTree", !0), this.tree = new _(this.maxEntries), this.staticTree = new _(this.maxEntries), this.treeMinMax = { minX: 0, minY: 0, maxX: 0, maxY: 0 }, this._tempMatrix = new R, this._tempMatrix2 = new R, this.tileFilterOptions = { isColliding: !0, isNotEmpty: !0, hasInterestingFace: !0 }, this.drawDebug && this.createDebugGraphic() }, enable: function(t, e) { void 0 === e && (e = l.DYNAMIC_BODY), Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var n = t[i]; if (n.isParent)
									for (var r = n.getChildren(), s = 0; s < r.length; s++) { var o = r[s];
										o.isParent ? this.enable(o, e) : this.enableBody(o, e) } else this.enableBody(n, e) } }, enableBody: function(t, e) { return void 0 === e && (e = l.DYNAMIC_BODY), t.hasTransformComponent && (t.body || (e === l.DYNAMIC_BODY ? t.body = new r(this, t) : e === l.STATIC_BODY && (t.body = new P(this, t))), this.add(t.body)), t }, add: function(t) { return t.physicsType === l.DYNAMIC_BODY ? this.bodies.set(t) : t.physicsType === l.STATIC_BODY && (this.staticBodies.set(t), this.staticTree.insert(t)), t.enable = !0, t }, disable: function(t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i = t[e]; if (i.isParent)
									for (var n = i.getChildren(), r = 0; r < n.length; r++) { var s = n[r];
										s.isParent ? this.disable(s) : this.disableBody(s.body) } else this.disableBody(i.body) } }, disableBody: function(t) { this.remove(t), t.enable = !1 }, remove: function(t) { t.physicsType === l.DYNAMIC_BODY ? (this.tree.remove(t), this.bodies.delete(t)) : t.physicsType === l.STATIC_BODY && (this.staticBodies.delete(t), this.staticTree.remove(t)) }, createDebugGraphic: function() { var t = this.scene.sys.add.graphics({ x: 0, y: 0 }); return t.setDepth(Number.MAX_VALUE), this.debugGraphic = t, this.drawDebug = !0, t }, setBounds: function(t, e, i, n, r, s, o, a) { return this.bounds.setTo(t, e, i, n), void 0 !== r && this.setBoundsCollision(r, s, o, a), this }, setBoundsCollision: function(t, e, i, n) { return void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === i && (i = !0), void 0 === n && (n = !0), this.checkCollision.left = t, this.checkCollision.right = e, this.checkCollision.up = i, this.checkCollision.down = n, this }, pause: function() { return this.isPaused = !0, this.emit(d.PAUSE), this }, resume: function() { return this.isPaused = !1, this.emit(d.RESUME), this }, addCollider: function(t, e, i, n, r) { void 0 === i && (i = null), void 0 === n && (n = null), void 0 === r && (r = i); var s = new a(this, !1, t, e, i, n, r); return this.colliders.add(s), s }, addOverlap: function(t, e, i, n, r) { void 0 === i && (i = null), void 0 === n && (n = null), void 0 === r && (r = i); var s = new a(this, !0, t, e, i, n, r); return this.colliders.add(s), s }, removeCollider: function(t) { return this.colliders.remove(t), this }, setFPS: function(t) { return this.fps = t, this._frameTime = 1 / this.fps, this._frameTimeMS = 1e3 * this._frameTime, this }, update: function(t, e) { if (!this.isPaused && 0 !== this.bodies.size) { var i, n, r = this._frameTime,
									s = this._frameTimeMS * this.timeScale;
								this._elapsed += e; var o = this.bodies.entries,
									a = this._elapsed >= s; for (this.fixedStep || (r = .001 * e, a = !0, this._elapsed = 0), i = 0; i < o.length; i++)(n = o[i]).enable && n.preUpdate(a, r); if (a) { this._elapsed -= s, this.stepsLastFrame = 1, this.useTree && (this.tree.clear(), this.tree.load(o)); var l = this.colliders.update(); for (i = 0; i < l.length; i++) { var h = l[i];
										h.active && h.update() } this.emit(d.WORLD_STEP, r) } for (; this._elapsed >= s;) this._elapsed -= s, this.step(r) } }, step: function(t) { var e, i, n = this.bodies.entries,
								r = n.length; for (e = 0; e < r; e++)(i = n[e]).enable && i.update(t);
							this.useTree && (this.tree.clear(), this.tree.load(n)); var s = this.colliders.update(); for (e = 0; e < s.length; e++) { var o = s[e];
								o.active && o.update() } this.emit(d.WORLD_STEP, t), this.stepsLastFrame++ }, singleStep: function() { this.update(0, this._frameTimeMS), this.postUpdate() }, postUpdate: function() { var t, e, i = this.bodies.entries,
								n = i.length,
								r = this.bodies,
								s = this.staticBodies; if (this.stepsLastFrame)
								for (this.stepsLastFrame = 0, t = 0; t < n; t++)(e = i[t]).enable && e.postUpdate(); if (this.drawDebug) { var o = this.debugGraphic; for (o.clear(), t = 0; t < n; t++)(e = i[t]).willDrawDebug() && e.drawDebug(o); for (n = (i = s.entries).length, t = 0; t < n; t++)(e = i[t]).willDrawDebug() && e.drawDebug(o) } var a = this.pendingDestroy; if (a.size > 0) { var h = this.tree,
									u = this.staticTree; for (n = (i = a.entries).length, t = 0; t < n; t++)(e = i[t]).physicsType === l.DYNAMIC_BODY ? (h.remove(e), r.delete(e)) : e.physicsType === l.STATIC_BODY && (u.remove(e), s.delete(e)), e.world = void 0, e.gameObject = void 0;
								a.clear() } }, updateMotion: function(t, e) { t.allowRotation && this.computeAngularVelocity(t, e), this.computeVelocity(t, e) }, computeAngularVelocity: function(t, e) { var i = t.angularVelocity,
								n = t.angularAcceleration,
								r = t.angularDrag,
								o = t.maxAngular;
							n ? i += n * e : t.allowDrag && r && (p(i - (r *= e), 0, .1) ? i -= r : g(i + r, 0, .1) ? i += r : i = 0); var a = (i = s(i, -o, o)) - t.angularVelocity;
							t.angularVelocity += a, t.rotation += t.angularVelocity * e }, computeVelocity: function(t, e) { var i = t.velocity.x,
								n = t.acceleration.x,
								r = t.drag.x,
								o = t.maxVelocity.x,
								a = t.velocity.y,
								l = t.acceleration.y,
								h = t.drag.y,
								u = t.maxVelocity.y,
								c = t.speed,
								d = t.maxSpeed,
								m = t.allowDrag,
								v = t.useDamping;
							t.allowGravity && (i += (this.gravity.x + t.gravity.x) * e, a += (this.gravity.y + t.gravity.y) * e), n ? i += n * e : m && r && (v ? (i *= r = Math.pow(r, e), c = Math.sqrt(i * i + a * a), f(c, 0, .001) && (i = 0)) : p(i - (r *= e), 0, .01) ? i -= r : g(i + r, 0, .01) ? i += r : i = 0), l ? a += l * e : m && h && (v ? (a *= h = Math.pow(h, e), c = Math.sqrt(i * i + a * a), f(c, 0, .001) && (a = 0)) : p(a - (h *= e), 0, .01) ? a -= h : g(a + h, 0, .01) ? a += h : a = 0), i = s(i, -o, o), a = s(a, -u, u), t.velocity.set(i, a), d > -1 && t.velocity.length() > d && (t.velocity.normalize().scale(d), c = d), t.speed = c }, separate: function(t, e, i, n, r) { var s, o, a = !1,
								l = !0; if (!t.enable || !e.enable || t.checkCollision.none || e.checkCollision.none || !this.intersects(t, e)) return a; if (i && !1 === i.call(n, t.gameObject || t, e.gameObject || e)) return a; if (t.isCircle || e.isCircle) { var h = this.separateCircle(t, e, r);
								h.result ? (a = !0, l = !1) : (s = h.x, o = h.y, l = !0) } if (l) { var u = !1,
									c = !1,
									f = this.OVERLAP_BIAS;
								r ? (u = A(t, e, r, f, s), c = C(t, e, r, f, o)) : this.forceX || Math.abs(this.gravity.y + t.gravity.y) < Math.abs(this.gravity.x + t.gravity.x) ? (u = A(t, e, r, f, s), this.intersects(t, e) && (c = C(t, e, r, f, o))) : (c = C(t, e, r, f, o), this.intersects(t, e) && (u = A(t, e, r, f, s))), a = u || c } return a && (r ? (t.onOverlap || e.onOverlap) && this.emit(d.OVERLAP, t.gameObject, e.gameObject, t, e) : (t.onCollide || e.onCollide) && this.emit(d.COLLIDE, t.gameObject, e.gameObject, t, e)), a }, separateCircle: function(t, e, i) { m(t, e, !1, 0), v(t, e, !1, 0); var r = t.isCircle,
								s = e.isCircle,
								o = t.center,
								a = e.center,
								l = t.immovable,
								c = e.immovable,
								d = t.velocity,
								f = e.velocity,
								p = 0,
								g = !0; if (r !== s) { g = !1; var y = o.x,
									x = o.y,
									w = t.halfWidth,
									T = e.position.x,
									S = e.position.y,
									_ = e.right,
									E = e.bottom;
								s && (y = a.x, x = a.y, w = e.halfWidth, T = t.position.x, S = t.position.y, _ = t.right, E = t.bottom), x < S ? y < T ? p = h(y, x, T, S) - w : y > _ && (p = h(y, x, _, S) - w) : x > E && (y < T ? p = h(y, x, T, E) - w : y > _ && (p = h(y, x, _, E) - w)), p *= -1 } else p = t.halfWidth + e.halfWidth - u(o, a);
							t.overlapR = p, e.overlapR = p; var A = n(o, a),
								C = (p + b.EPSILON) * Math.cos(A),
								k = (p + b.EPSILON) * Math.sin(A),
								P = { overlap: p, result: !1, x: C, y: k }; if (i && (!g || g && 0 !== p)) return P.result = !0, P; if (!g && 0 === p || l && c || t.customSeparateX || e.customSeparateX) return P.x = void 0, P.y = void 0, P; var O = !t.pushable && !e.pushable; if (g) { var R = o.x - a.x,
									M = o.y - a.y,
									L = Math.sqrt(Math.pow(R, 2) + Math.pow(M, 2)),
									D = (a.x - o.x) / L || 0,
									F = (a.y - o.y) / L || 0,
									I = 2 * (d.x * D + d.y * F - f.x * D - f.y * F) / (t.mass + e.mass);!l && !c && t.pushable && e.pushable || (I *= 2), !l && t.pushable && (d.x = d.x - I / t.mass * D, d.y = d.y - I / t.mass * F, d.multiply(t.bounce)), !c && e.pushable && (f.x = f.x + I / e.mass * D, f.y = f.y + I / e.mass * F, f.multiply(e.bounce)), l || c || (C *= .5, k *= .5), !l || t.pushable || O ? (t.x -= C, t.y -= k, t.updateCenter()) : (!c || e.pushable || O) && (e.x += C, e.y += k, e.updateCenter()), P.result = !0 } else !l || t.pushable || O ? (t.x -= C, t.y -= k, t.updateCenter()) : (!c || e.pushable || O) && (e.x += C, e.y += k, e.updateCenter()), P.x = void 0, P.y = void 0; return P }, intersects: function(t, e) { return t !== e && (t.isCircle || e.isCircle ? t.isCircle ? e.isCircle ? u(t.center, e.center) <= t.halfWidth + e.halfWidth : this.circleBodyIntersects(t, e) : this.circleBodyIntersects(e, t) : !(t.right <= e.left || t.bottom <= e.top || t.left >= e.right || t.top >= e.bottom)) }, circleBodyIntersects: function(t, e) { var i = s(t.center.x, e.left, e.right),
								n = s(t.center.y, e.top, e.bottom); return (t.center.x - i) * (t.center.x - i) + (t.center.y - n) * (t.center.y - n) <= t.halfWidth * t.halfWidth }, overlap: function(t, e, i, n, r) { return void 0 === i && (i = null), void 0 === n && (n = null), void 0 === r && (r = i), this.collideObjects(t, e, i, n, r, !0) }, collide: function(t, e, i, n, r) { return void 0 === i && (i = null), void 0 === n && (n = null), void 0 === r && (r = i), this.collideObjects(t, e, i, n, r, !1) }, collideObjects: function(t, e, i, n, r, s) { var o, a;!t.isParent || void 0 !== t.physicsType && void 0 !== e && t !== e || (t = t.children.entries), e && e.isParent && void 0 === e.physicsType && (e = e.children.entries); var l = Array.isArray(t),
								h = Array.isArray(e); if (this._total = 0, l || h)
								if (!l && h)
									for (o = 0; o < e.length; o++) this.collideHandler(t, e[o], i, n, r, s);
								else if (l && !h)
								if (e)
									for (o = 0; o < t.length; o++) this.collideHandler(t[o], e, i, n, r, s);
								else
									for (o = 0; o < t.length; o++) { var u = t[o]; for (a = o + 1; a < t.length; a++) o !== a && this.collideHandler(u, t[a], i, n, r, s) } else
										for (o = 0; o < t.length; o++)
											for (a = 0; a < e.length; a++) this.collideHandler(t[o], e[a], i, n, r, s);
							else this.collideHandler(t, e, i, n, r, s); return this._total > 0 }, collideHandler: function(t, e, i, n, r, s) { if (void 0 === e && t.isParent) return this.collideGroupVsGroup(t, t, i, n, r, s); if (!t || !e) return !1; if (t.body || t.isBody) { if (e.body || e.isBody) return this.collideSpriteVsSprite(t, e, i, n, r, s); if (e.isParent) return this.collideSpriteVsGroup(t, e, i, n, r, s); if (e.isTilemap) return this.collideSpriteVsTilemapLayer(t, e, i, n, r, s) } else if (t.isParent) { if (e.body || e.isBody) return this.collideSpriteVsGroup(e, t, i, n, r, s); if (e.isParent) return this.collideGroupVsGroup(t, e, i, n, r, s); if (e.isTilemap) return this.collideGroupVsTilemapLayer(t, e, i, n, r, s) } else if (t.isTilemap) { if (e.body || e.isBody) return this.collideSpriteVsTilemapLayer(e, t, i, n, r, s); if (e.isParent) return this.collideGroupVsTilemapLayer(e, t, i, n, r, s) } }, canCollide: function(t, e) { return t && e && !!(t.collisionMask & e.collisionCategory) && !!(e.collisionMask & t.collisionCategory) }, collideSpriteVsSprite: function(t, e, i, n, r, s) { var o = t.isBody ? t : t.body,
								a = e.isBody ? e : e.body; return !!this.canCollide(o, a) && (this.separate(o, a, n, r, s) && (i && i.call(r, t, e), this._total++), !0) }, collideSpriteVsGroup: function(t, e, i, n, r, s) { var o, a, h, u = t.isBody ? t : t.body; if (0 !== e.getLength() && u && u.enable && !u.checkCollision.none && this.canCollide(u, e))
								if (this.useTree || e.physicsType === l.STATIC_BODY) { var c = this.treeMinMax;
									c.minX = u.left, c.minY = u.top, c.maxX = u.right, c.maxY = u.bottom; var d = e.physicsType === l.DYNAMIC_BODY ? this.tree.search(c) : this.staticTree.search(c); for (a = d.length, o = 0; o < a; o++) u !== (h = d[o]) && h.enable && !h.checkCollision.none && e.contains(h.gameObject) && this.separate(u, h, n, r, s) && (i && i.call(r, u.gameObject, h.gameObject), this._total++) } else { var f = e.getChildren(),
										p = e.children.entries.indexOf(t); for (a = f.length, o = 0; o < a; o++)(h = f[o].body) && o !== p && h.enable && this.separate(u, h, n, r, s) && (i && i.call(r, u.gameObject, h.gameObject), this._total++) } }, collideGroupVsTilemapLayer: function(t, e, i, n, r, s) { if (!this.canCollide(t, e)) return !1; var o = t.getChildren(); if (0 === o.length) return !1; for (var a = !1, l = 0; l < o.length; l++)(o[l].body || o[l].isBody) && this.collideSpriteVsTilemapLayer(o[l], e, i, n, r, s) && (a = !0); return a }, collideTiles: function(t, e, i, n, r) { return !(0 === e.length || t.body && !t.body.enable || t.isBody && !t.enable) && this.collideSpriteVsTilesHandler(t, e, i, n, r, !1, !1) }, overlapTiles: function(t, e, i, n, r) { return !(0 === e.length || t.body && !t.body.enable || t.isBody && !t.enable) && this.collideSpriteVsTilesHandler(t, e, i, n, r, !0, !1) }, collideSpriteVsTilemapLayer: function(t, e, i, n, r, s) { var o = t.isBody ? t : t.body; if (!o.enable || o.checkCollision.none || !this.canCollide(o, e)) return !1; var a = e.layer,
								l = o.x - a.tileWidth * e.scaleX,
								h = o.y - a.tileHeight * e.scaleY,
								u = o.width + a.tileWidth * e.scaleX,
								c = o.height + a.tileHeight * e.scaleY,
								d = s ? null : this.tileFilterOptions,
								f = y(l, h, u, c, d, e.scene.cameras.main, e.layer); return 0 !== f.length && this.collideSpriteVsTilesHandler(t, f, i, n, r, s, !0) }, collideSpriteVsTilesHandler: function(t, e, i, n, r, s, o) { for (var a, l, h = t.isBody ? t : t.body, u = { left: 0, right: 0, top: 0, bottom: 0 }, c = !1, f = 0; f < e.length; f++) { var p = (l = (a = e[f]).tilemapLayer).tileToWorldXY(a.x, a.y);
								u.left = p.x, u.top = p.y, u.right = u.left + a.width * l.scaleX, u.bottom = u.top + a.height * l.scaleY, O(u, h) && (!n || n.call(r, t, a)) && T(a, t) && (s || E(f, h, a, u, l, this.TILE_BIAS, o)) && (this._total++, c = !0, i && i.call(r, t, a), s && h.onOverlap ? this.emit(d.TILE_OVERLAP, t, a, h) : h.onCollide && this.emit(d.TILE_COLLIDE, t, a, h)) } return c }, collideGroupVsGroup: function(t, e, i, n, r, s) { if (0 !== t.getLength() && 0 !== e.getLength() && this.canCollide(t, e))
								for (var o = t.getChildren(), a = 0; a < o.length; a++) this.collideSpriteVsGroup(o[a], e, i, n, r, s) }, wrap: function(t, e) { t.body ? this.wrapObject(t, e) : t.getChildren ? this.wrapArray(t.getChildren(), e) : Array.isArray(t) ? this.wrapArray(t, e) : this.wrapObject(t, e) }, wrapArray: function(t, e) { for (var i = 0; i < t.length; i++) this.wrapObject(t[i], e) }, wrapObject: function(t, e) { void 0 === e && (e = 0), t.x = L(t.x, this.bounds.left - e, this.bounds.right + e), t.y = L(t.y, this.bounds.top - e, this.bounds.bottom + e) }, shutdown: function() { this.tree.clear(), this.staticTree.clear(), this.bodies.clear(), this.staticBodies.clear(), this.colliders.destroy(), this.removeAllListeners() }, destroy: function() { this.shutdown(), this.scene = null, this.debugGraphic && (this.debugGraphic.destroy(), this.debugGraphic = null) } });
				t.exports = D }, 1093: t => { t.exports = { setAcceleration: function(t, e) { return this.body.acceleration.set(t, e), this }, setAccelerationX: function(t) { return this.body.acceleration.x = t, this }, setAccelerationY: function(t) { return this.body.acceleration.y = t, this } } }, 59023: t => { t.exports = { setAngularVelocity: function(t) { return this.body.angularVelocity = t, this }, setAngularAcceleration: function(t) { return this.body.angularAcceleration = t, this }, setAngularDrag: function(t) { return this.body.angularDrag = t, this } } }, 62069: t => { t.exports = { setBounce: function(t, e) { return this.body.bounce.set(t, e), this }, setBounceX: function(t) { return this.body.bounce.x = t, this }, setBounceY: function(t) { return this.body.bounce.y = t, this }, setCollideWorldBounds: function(t, e, i, n) { return this.body.setCollideWorldBounds(t, e, i, n), this } } }, 78389: (t, e, i) => { var n = i(79599),
					r = { setCollisionCategory: function(t) { return (this.body ? this.body : this).collisionCategory = t, this }, willCollideWith: function(t) { return !!((this.body ? this.body : this).collisionMask & t) }, addCollidesWith: function(t) { var e = this.body ? this.body : this; return e.collisionMask = e.collisionMask | t, this }, removeCollidesWith: function(t) { var e = this.body ? this.body : this; return e.collisionMask = e.collisionMask & ~t, this }, setCollidesWith: function(t) { return (this.body ? this.body : this).collisionMask = n(t), this }, resetCollisionCategory: function() { var t = this.body ? this.body : this; return t.collisionCategory = 1, t.collisionMask = 2147483647, this } };
				t.exports = r }, 87118: t => { t.exports = { setDebug: function(t, e, i) { return this.debugShowBody = t, this.debugShowVelocity = e, this.debugBodyColor = i, this }, setDebugBodyColor: function(t) { return this.body.debugBodyColor = t, this }, debugShowBody: { get: function() { return this.body.debugShowBody }, set: function(t) { this.body.debugShowBody = t } }, debugShowVelocity: { get: function() { return this.body.debugShowVelocity }, set: function(t) { this.body.debugShowVelocity = t } }, debugBodyColor: { get: function() { return this.body.debugBodyColor }, set: function(t) { this.body.debugBodyColor = t } } } }, 52819: t => { t.exports = { setDrag: function(t, e) { return this.body.drag.set(t, e), this }, setDragX: function(t) { return this.body.drag.x = t, this }, setDragY: function(t) { return this.body.drag.y = t, this }, setDamping: function(t) { return this.body.useDamping = t, this } } }, 4074: t => { t.exports = { setDirectControl: function(t) { return this.body.setDirectControl(t), this }, enableBody: function(t, e, i, n, r) { return t && this.body.reset(e, i), n && (this.body.gameObject.active = !0), r && (this.body.gameObject.visible = !0), this.body.enable = !0, this }, disableBody: function(t, e) { return void 0 === t && (t = !1), void 0 === e && (e = !1), this.body.stop(), this.body.enable = !1, t && (this.body.gameObject.active = !1), e && (this.body.gameObject.visible = !1), this }, refreshBody: function() { return this.body.updateFromGameObject(), this } } }, 40831: t => { t.exports = { setFriction: function(t, e) { return this.body.friction.set(t, e), this }, setFrictionX: function(t) { return this.body.friction.x = t, this }, setFrictionY: function(t) { return this.body.friction.y = t, this } } }, 26775: t => { t.exports = { setGravity: function(t, e) { return this.body.gravity.set(t, e), this }, setGravityX: function(t) { return this.body.gravity.x = t, this }, setGravityY: function(t) { return this.body.gravity.y = t, this } } }, 9437: t => { t.exports = { setImmovable: function(t) { return void 0 === t && (t = !0), this.body.immovable = t, this } } }, 30621: t => { t.exports = { setMass: function(t) { return this.body.mass = t, this } } }, 72441: (t, e, i) => { var n = i(47956),
					r = i(96503),
					s = i(2044),
					o = i(81491);
				t.exports = function(t, e, i, a, l, h) { var u = n(t, e - a, i - a, 2 * a, 2 * a, l, h); if (0 === u.length) return u; for (var c = new r(e, i, a), d = new r, f = [], p = 0; p < u.length; p++) { var g = u[p];
						g.isCircle ? (d.setTo(g.center.x, g.center.y, g.halfWidth), s(c, d) && f.push(g)) : o(c, g) && f.push(g) } return f } }, 47956: t => { t.exports = function(t, e, i, n, r, s, o) { void 0 === s && (s = !0), void 0 === o && (o = !1); var a = [],
						l = [],
						h = t.treeMinMax; if (h.minX = e, h.minY = i, h.maxX = e + n, h.maxY = i + r, o && (l = t.staticTree.search(h)), s && t.useTree) a = t.tree.search(h);
					else if (s) { var u = t.bodies,
							c = { position: { x: e, y: i }, left: e, top: i, right: e + n, bottom: i + r, isCircle: !1 },
							d = t.intersects;
						u.iterate((function(t) { d(t, c) && a.push(t) })) } return l.concat(a) } }, 62121: t => { t.exports = { setPushable: function(t) { return void 0 === t && (t = !0), this.body.pushable = t, this } } }, 29384: t => { t.exports = { setOffset: function(t, e) { return this.body.setOffset(t, e), this }, setSize: function(t, e, i) { return this.body.setSize(t, e, i), this }, setBodySize: function(t, e, i) { return this.body.setSize(t, e, i), this }, setCircle: function(t, e, i) { return this.body.setCircle(t, e, i), this } } }, 15098: t => { t.exports = { setVelocity: function(t, e) { return this.body.setVelocity(t, e), this }, setVelocityX: function(t) { return this.body.setVelocityX(t), this }, setVelocityY: function(t) { return this.body.setVelocityY(t), this }, setMaxVelocity: function(t, e) { return this.body.maxVelocity.set(t, e), this } } }, 92209: (t, e, i) => { t.exports = { Acceleration: i(1093), Angular: i(59023), Bounce: i(62069), Collision: i(78389), Debug: i(87118), Drag: i(52819), Enable: i(4074), Friction: i(40831), Gravity: i(26775), Immovable: i(9437), Mass: i(30621), OverlapCirc: i(72441), OverlapRect: i(47956), Pushable: i(62121), Size: i(29384), Velocity: i(15098) } }, 37747: t => { t.exports = { DYNAMIC_BODY: 0, STATIC_BODY: 1, GROUP: 2, TILEMAPLAYER: 3, FACING_NONE: 10, FACING_UP: 11, FACING_DOWN: 12, FACING_LEFT: 13, FACING_RIGHT: 14 } }, 20009: t => { t.exports = "collide" }, 36768: t => { t.exports = "overlap" }, 60473: t => { t.exports = "pause" }, 89954: t => { t.exports = "resume" }, 61804: t => { t.exports = "tilecollide" }, 7161: t => { t.exports = "tileoverlap" }, 34689: t => { t.exports = "worldbounds" }, 16006: t => { t.exports = "worldstep" }, 63012: (t, e, i) => { t.exports = { COLLIDE: i(20009), OVERLAP: i(36768), PAUSE: i(60473), RESUME: i(89954), TILE_COLLIDE: i(61804), TILE_OVERLAP: i(7161), WORLD_BOUNDS: i(34689), WORLD_STEP: i(16006) } }, 27064: (t, e, i) => { var n = i(37747),
					r = i(79291),
					s = { ArcadePhysics: i(86689), Body: i(37742), Collider: i(79342), Components: i(92209), Events: i(63012), Factory: i(66022), GetCollidesWith: i(79599), GetOverlapX: i(64897), GetOverlapY: i(45170), SeparateX: i(14087), SeparateY: i(89936), Group: i(60758), Image: i(71289), Sprite: i(13759), StaticBody: i(72624), StaticGroup: i(71464), Tilemap: i(55173), World: i(82248) };
				s = r(!1, s, n), t.exports = s }, 96602: t => { t.exports = function(t, e) { return t.collisionCallback ? !t.collisionCallback.call(t.collisionCallbackContext, e, t) : !t.layer.callbacks[t.index] || !t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext, e, t) } }, 36294: t => { t.exports = function(t, e) { e < 0 ? (t.blocked.none = !1, t.blocked.left = !0) : e > 0 && (t.blocked.none = !1, t.blocked.right = !0), t.position.x -= e, t.updateCenter(), 0 === t.bounce.x ? t.velocity.x = 0 : t.velocity.x = -t.velocity.x * t.bounce.x } }, 67013: t => { t.exports = function(t, e) { e < 0 ? (t.blocked.none = !1, t.blocked.up = !0) : e > 0 && (t.blocked.none = !1, t.blocked.down = !0), t.position.y -= e, t.updateCenter(), 0 === t.bounce.y ? t.velocity.y = 0 : t.velocity.y = -t.velocity.y * t.bounce.y } }, 40012: (t, e, i) => { var n = i(21329),
					r = i(53442),
					s = i(2483);
				t.exports = function(t, e, i, o, a, l, h) { var u = o.left,
						c = o.top,
						d = o.right,
						f = o.bottom,
						p = i.faceLeft || i.faceRight,
						g = i.faceTop || i.faceBottom; if (h || (p = !0, g = !0), !p && !g) return !1; var m = 0,
						v = 0,
						y = 0,
						x = 1; if (e.deltaAbsX() > e.deltaAbsY() ? y = -1 : e.deltaAbsX() < e.deltaAbsY() && (x = -1), 0 !== e.deltaX() && 0 !== e.deltaY() && p && g && (y = Math.min(Math.abs(e.position.x - d), Math.abs(e.right - u)), x = Math.min(Math.abs(e.position.y - f), Math.abs(e.bottom - c))), y < x) { if (p && 0 !== (m = n(e, i, u, d, l, h)) && !s(o, e)) return !0;
						g && (v = r(e, i, c, f, l, h)) } else { if (g && 0 !== (v = r(e, i, c, f, l, h)) && !s(o, e)) return !0;
						p && (m = n(e, i, u, d, l, h)) } return 0 !== m || 0 !== v } }, 21329: (t, e, i) => { var n = i(36294);
				t.exports = function(t, e, i, r, s, o) { var a = 0,
						l = e.faceLeft,
						h = e.faceRight,
						u = e.collideLeft,
						c = e.collideRight; return o || (l = !0, h = !0, u = !0, c = !0), t.deltaX() < 0 && c && t.checkCollision.left ? h && t.x < r && (a = t.x - r) < -s && (a = 0) : t.deltaX() > 0 && u && t.checkCollision.right && l && t.right > i && (a = t.right - i) > s && (a = 0), 0 !== a && (t.customSeparateX ? t.overlapX = a : n(t, a)), a } }, 53442: (t, e, i) => { var n = i(67013);
				t.exports = function(t, e, i, r, s, o) { var a = 0,
						l = e.faceTop,
						h = e.faceBottom,
						u = e.collideUp,
						c = e.collideDown; return o || (l = !0, h = !0, u = !0, c = !0), t.deltaY() < 0 && c && t.checkCollision.up ? h && t.y < r && (a = t.y - r) < -s && (a = 0) : t.deltaY() > 0 && u && t.checkCollision.down && l && t.bottom > i && (a = t.bottom - i) > s && (a = 0), 0 !== a && (t.customSeparateY ? t.overlapY = a : n(t, a)), a } }, 2483: t => { t.exports = function(t, e) { return !(e.right <= t.left || e.bottom <= t.top || e.position.x >= t.right || e.position.y >= t.bottom) } }, 55173: (t, e, i) => { var n = { ProcessTileCallbacks: i(96602), ProcessTileSeparationX: i(36294), ProcessTileSeparationY: i(67013), SeparateTile: i(40012), TileCheckX: i(21329), TileCheckY: i(53442), TileIntersectsBody: i(2483) };
				t.exports = n }, 44563: (t, e, i) => { t.exports = { Arcade: i(27064), Matter: i(3875) } }, 68174: (t, e, i) => { var n = i(83419),
					r = i(26099),
					s = new n({ initialize: function() { this.boundsCenter = new r, this.centerDiff = new r }, parseBody: function(t) { if (!(t = t.hasOwnProperty("body") ? t.body : t).hasOwnProperty("bounds") || !t.hasOwnProperty("centerOfMass")) return !1; var e = this.boundsCenter,
								i = this.centerDiff,
								n = t.bounds.max.x - t.bounds.min.x,
								r = t.bounds.max.y - t.bounds.min.y,
								s = n * t.centerOfMass.x,
								o = r * t.centerOfMass.y; return e.set(n / 2, r / 2), i.set(s - e.x, o - e.y), !0 }, getTopLeft: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e + n.x + s.x, i + n.y + s.y) } return !1 }, getTopCenter: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e + s.x, i + n.y + s.y) } return !1 }, getTopRight: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e - (n.x - s.x), i + n.y + s.y) } return !1 }, getLeftCenter: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e + n.x + s.x, i + s.y) } return !1 }, getCenter: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.centerDiff; return new r(e + n.x, i + n.y) } return !1 }, getRightCenter: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e - (n.x - s.x), i + s.y) } return !1 }, getBottomLeft: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e + n.x + s.x, i - (n.y - s.y)) } return !1 }, getBottomCenter: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e + s.x, i - (n.y - s.y)) } return !1 }, getBottomRight: function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter,
									s = this.centerDiff; return new r(e - (n.x - s.x), i - (n.y - s.y)) } return !1 } });
				t.exports = s }, 19933: (t, e, i) => { var n = i(6790);
				n.Body = i(22562), n.Composite = i(69351), n.World = i(4372), n.Collision = i(52284), n.Detector = i(81388), n.Pairs = i(99561), n.Pair = i(4506), n.Query = i(73296), n.Resolver = i(66272), n.Constraint = i(48140), n.Common = i(53402), n.Engine = i(48413), n.Events = i(35810), n.Sleeping = i(53614), n.Plugin = i(73832), n.Bodies = i(66280), n.Composites = i(74116), n.Axes = i(66615), n.Bounds = i(15647), n.Svg = i(74058), n.Vector = i(31725), n.Vertices = i(41598), n.World.add = n.Composite.add, n.World.remove = n.Composite.remove, n.World.addComposite = n.Composite.addComposite, n.World.addBody = n.Composite.addBody, n.World.addConstraint = n.Composite.addConstraint, n.World.clear = n.Composite.clear, t.exports = n }, 28137: (t, e, i) => { var n = i(66280),
					r = i(83419),
					s = i(74116),
					o = i(48140),
					a = i(74058),
					l = i(75803),
					h = i(23181),
					u = i(34803),
					c = i(73834),
					d = i(19496),
					f = i(85791),
					p = i(98713),
					g = i(41598),
					m = new r({ initialize: function(t) { this.world = t, this.scene = t.scene, this.sys = t.scene.sys }, rectangle: function(t, e, i, r, s) { var o = n.rectangle(t, e, i, r, s); return this.world.add(o), o }, trapezoid: function(t, e, i, r, s, o) { var a = n.trapezoid(t, e, i, r, s, o); return this.world.add(a), a }, circle: function(t, e, i, r, s) { var o = n.circle(t, e, i, r, s); return this.world.add(o), o }, polygon: function(t, e, i, r, s) { var o = n.polygon(t, e, i, r, s); return this.world.add(o), o }, fromVertices: function(t, e, i, r, s, o, a) { "string" == typeof i && (i = g.fromPath(i)); var l = n.fromVertices(t, e, i, r, s, o, a); return this.world.add(l), l }, fromPhysicsEditor: function(t, e, i, n, r) { void 0 === r && (r = !0); var s = d.parseBody(t, e, i, n); return r && !this.world.has(s) && this.world.add(s), s }, fromSVG: function(t, e, i, r, s, o) { void 0 === r && (r = 1), void 0 === s && (s = {}), void 0 === o && (o = !0); for (var l = i.getElementsByTagName("path"), h = [], u = 0; u < l.length; u++) { var c = a.pathToVertices(l[u], 30);
								1 !== r && g.scale(c, r, r), h.push(c) } var d = n.fromVertices(t, e, h, s); return o && this.world.add(d), d }, fromJSON: function(t, e, i, n, r) { void 0 === n && (n = {}), void 0 === r && (r = !0); var s = f.parseBody(t, e, i, n); return s && r && this.world.add(s), s }, imageStack: function(t, e, i, n, r, o, a, l, u) { void 0 === a && (a = 0), void 0 === l && (l = 0), void 0 === u && (u = {}); var c = this.world,
								d = this.sys.displayList;
							u.addToWorld = !1; var f = s.stack(i, n, r, o, a, l, (function(i, n) { var r = new h(c, i, n, t, e, u); return d.add(r), r.body })); return c.add(f), f }, stack: function(t, e, i, n, r, o, a) { var l = s.stack(t, e, i, n, r, o, a); return this.world.add(l), l }, pyramid: function(t, e, i, n, r, o, a) { var l = s.pyramid(t, e, i, n, r, o, a); return this.world.add(l), l }, chain: function(t, e, i, n, r, o) { return s.chain(t, e, i, n, r, o) }, mesh: function(t, e, i, n, r) { return s.mesh(t, e, i, n, r) }, newtonsCradle: function(t, e, i, n, r) { var o = s.newtonsCradle(t, e, i, n, r); return this.world.add(o), o }, car: function(t, e, i, n, r) { var o = s.car(t, e, i, n, r); return this.world.add(o), o }, softBody: function(t, e, i, n, r, o, a, l, h, u) { var c = s.softBody(t, e, i, n, r, o, a, l, h, u); return this.world.add(c), c }, joint: function(t, e, i, n, r) { return this.constraint(t, e, i, n, r) }, spring: function(t, e, i, n, r) { return this.constraint(t, e, i, n, r) }, constraint: function(t, e, i, n, r) { void 0 === n && (n = 1), void 0 === r && (r = {}), r.bodyA = "body" === t.type ? t : t.body, r.bodyB = "body" === e.type ? e : e.body, isNaN(i) || (r.length = i), r.stiffness = n; var s = o.create(r); return this.world.add(s), s }, worldConstraint: function(t, e, i, n) { void 0 === i && (i = 1), void 0 === n && (n = {}), n.bodyB = "body" === t.type ? t : t.body, isNaN(e) || (n.length = e), n.stiffness = i; var r = o.create(n); return this.world.add(r), r }, mouseSpring: function(t) { return this.pointerConstraint(t) }, pointerConstraint: function(t) { void 0 === t && (t = {}), t.hasOwnProperty("render") || (t.render = { visible: !1 }); var e = new p(this.scene, this.world, t); return this.world.add(e.constraint), e }, image: function(t, e, i, n, r) { var s = new h(this.world, t, e, i, n, r); return this.sys.displayList.add(s), s }, tileBody: function(t, e) { return new c(this.world, t, e) }, sprite: function(t, e, i, n, r) { var s = new u(this.world, t, e, i, n, r); return this.sys.displayList.add(s), this.sys.updateList.add(s), s }, gameObject: function(t, e, i) { return l(this.world, t, e, i) }, destroy: function() { this.world = null, this.scene = null, this.sys = null } });
				t.exports = m }, 75803: (t, e, i) => { var n = i(31884),
					r = i(95540),
					s = i(26099);
				t.exports = function(t, e, i, o) { void 0 === i && (i = {}), void 0 === o && (o = !0); var a = e.x,
						l = e.y; if (e.body = { temp: !0, position: { x: a, y: l } }, [n.Bounce, n.Collision, n.Force, n.Friction, n.Gravity, n.Mass, n.Sensor, n.SetBody, n.Sleep, n.Static, n.Transform, n.Velocity].forEach((function(t) { for (var i in t)(n = t[i]).get && "function" == typeof n.get || n.set && "function" == typeof n.set ? Object.defineProperty(e, i, { get: t[i].get, set: t[i].set }) : Object.defineProperty(e, i, { value: t[i] }); var n })), e.world = t, e._tempVec2 = new s(a, l), i.hasOwnProperty("type") && "body" === i.type) e.setExistingBody(i, o);
					else { var h = r(i, "shape", null);
						h || (h = "rectangle"), i.addToWorld = o, e.setBody(h, i) } return e } }, 23181: (t, e, i) => { var n = i(83419),
					r = i(31884),
					s = i(95643),
					o = i(95540),
					a = i(88571),
					l = i(72699),
					h = i(26099),
					u = new n({ Extends: a, Mixins: [r.Bounce, r.Collision, r.Force, r.Friction, r.Gravity, r.Mass, r.Sensor, r.SetBody, r.Sleep, r.Static, r.Transform, r.Velocity, l], initialize: function(t, e, i, n, r, a) { s.call(this, t.scene, "Image"), this._crop = this.resetCropObject(), this.setTexture(n, r), this.setSizeToFrame(), this.setOrigin(), this.world = t, this._tempVec2 = new h(e, i); var l = o(a, "shape", null);
							l ? this.setBody(l, a) : this.setRectangle(this.width, this.height, a), this.setPosition(e, i), this.initPipeline(), this.initPostPipeline(!0) } });
				t.exports = u }, 42045: (t, e, i) => { var n = i(60461),
					r = i(66615),
					s = i(66280),
					o = i(22562),
					a = i(68174),
					l = i(15647),
					h = i(83419),
					u = i(52284),
					c = i(53402),
					d = i(69351),
					f = i(74116),
					p = i(48140),
					g = i(81388),
					m = i(20339),
					v = i(28137),
					y = i(95540),
					x = i(35154),
					b = i(46975),
					w = i(4506),
					T = i(99561),
					S = i(37277),
					_ = i(73296),
					E = i(66272),
					A = i(44594),
					C = i(74058),
					k = i(31725),
					P = i(41598),
					O = i(68243);
				c.setDecomp(i(55973)); var R = new h({ initialize: function(t) { this.scene = t, this.systems = t.sys, this.config = this.getConfig(), this.world, this.add, this.bodyBounds, this.body = o, this.composite = d, this.collision = u, this.detector = g, this.pair = w, this.pairs = T, this.query = _, this.resolver = E, this.constraint = p, this.bodies = s, this.composites = f, this.axes = r, this.bounds = l, this.svg = C, this.vector = k, this.vertices = P, this.verts = P, this._tempVec2 = k.create(), E._restingThresh = x(this.config, "restingThresh", 4), E._restingThreshTangent = x(this.config, "restingThreshTangent", 6), E._positionDampen = x(this.config, "positionDampen", .9), E._positionWarming = x(this.config, "positionWarming", .8), E._frictionNormalMultiplier = x(this.config, "frictionNormalMultiplier", 5), t.sys.events.once(A.BOOT, this.boot, this), t.sys.events.on(A.START, this.start, this) }, boot: function() { this.world = new O(this.scene, this.config), this.add = new v(this.world), this.bodyBounds = new a, this.systems.events.once(A.DESTROY, this.destroy, this) }, start: function() { this.world || (this.world = new O(this.scene, this.config), this.add = new v(this.world)); var t = this.systems.events;
						t.on(A.UPDATE, this.world.update, this.world), t.on(A.POST_UPDATE, this.world.postUpdate, this.world), t.once(A.SHUTDOWN, this.shutdown, this) }, getConfig: function() { var t = this.systems.game.config.physics,
							e = this.systems.settings.physics; return b(y(e, "matter", {}), y(t, "matter", {})) }, pause: function() { return this.world.pause() }, resume: function() { return this.world.resume() }, set60Hz: function() { return this.world.getDelta = this.world.update60Hz, this.world.autoUpdate = !0, this }, set30Hz: function() { return this.world.getDelta = this.world.update30Hz, this.world.autoUpdate = !0, this }, step: function(t, e) { this.world.step(t, e) }, containsPoint: function(t, e, i) { t = this.getMatterBodies(t); var n = k.create(e, i); return _.point(t, n).length > 0 }, intersectPoint: function(t, e, i) { i = this.getMatterBodies(i); var n = k.create(t, e),
							r = []; return _.point(i, n).forEach((function(t) {-1 === r.indexOf(t) && r.push(t) })), r }, intersectRect: function(t, e, i, n, r, s) { void 0 === r && (r = !1), s = this.getMatterBodies(s); var o = { min: { x: t, y: e }, max: { x: t + i, y: e + n } },
							a = []; return _.region(s, o, r).forEach((function(t) {-1 === a.indexOf(t) && a.push(t) })), a }, intersectRay: function(t, e, i, n, r, s) { void 0 === r && (r = 1), s = this.getMatterBodies(s); for (var o = [], a = _.ray(s, k.create(t, e), k.create(i, n), r), l = 0; l < a.length; l++) o.push(a[l].body); return o }, intersectBody: function(t, e) { e = this.getMatterBodies(e); for (var i = [], n = _.collides(t, e), r = 0; r < n.length; r++) { var s = n[r];
							s.bodyA === t ? i.push(s.bodyB) : i.push(s.bodyA) } return i }, overlap: function(t, e, i, n, r) { void 0 === i && (i = null), void 0 === n && (n = null), void 0 === r && (r = i), Array.isArray(t) || (t = [t]), t = this.getMatterBodies(t), e = this.getMatterBodies(e); for (var s = !1, o = 0; o < t.length; o++)
							for (var a = t[o], l = _.collides(a, e), h = 0; h < l.length; h++) { var u = l[h],
									c = u.bodyA.id === a.id ? u.bodyB : u.bodyA; if (!n || n.call(r, a, c, u))
									if (s = !0, i) i.call(r, a, c, u);
									else if (!n) return !0 }
						return s }, setCollisionCategory: function(t, e) { return (t = this.getMatterBodies(t)).forEach((function(t) { t.collisionFilter.category = e })), this }, setCollisionGroup: function(t, e) { return (t = this.getMatterBodies(t)).forEach((function(t) { t.collisionFilter.group = e })), this }, setCollidesWith: function(t, e) { t = this.getMatterBodies(t); var i = 0; if (Array.isArray(e))
							for (var n = 0; n < e.length; n++) i |= e[n];
						else i = e; return t.forEach((function(t) { t.collisionFilter.mask = i })), this }, getMatterBodies: function(t) { if (!t) return this.world.getAllBodies();
						Array.isArray(t) || (t = [t]); for (var e = [], i = 0; i < t.length; i++) { var n = t[i].hasOwnProperty("body") ? t[i].body : t[i];
							e.push(n) } return e }, setVelocity: function(t, e, i) { t = this.getMatterBodies(t); var n = this._tempVec2; return n.x = e, n.y = i, t.forEach((function(t) { o.setVelocity(t, n) })), this }, setVelocityX: function(t, e) { t = this.getMatterBodies(t); var i = this._tempVec2; return i.x = e, t.forEach((function(t) { i.y = t.velocity.y, o.setVelocity(t, i) })), this }, setVelocityY: function(t, e) { t = this.getMatterBodies(t); var i = this._tempVec2; return i.y = e, t.forEach((function(t) { i.x = t.velocity.x, o.setVelocity(t, i) })), this }, setAngularVelocity: function(t, e) { return (t = this.getMatterBodies(t)).forEach((function(t) { o.setAngularVelocity(t, e) })), this }, applyForce: function(t, e) { t = this.getMatterBodies(t); var i = this._tempVec2; return t.forEach((function(t) { i.x = t.position.x, i.y = t.position.y, o.applyForce(t, i, e) })), this }, applyForceFromPosition: function(t, e, i, n) { t = this.getMatterBodies(t); var r = this._tempVec2; return t.forEach((function(t) { void 0 === n && (n = t.angle), r.x = i * Math.cos(n), r.y = i * Math.sin(n), o.applyForce(t, e, r) })), this }, applyForceFromAngle: function(t, e, i) { t = this.getMatterBodies(t); var n = this._tempVec2; return t.forEach((function(t) { void 0 === i && (i = t.angle), n.x = e * Math.cos(i), n.y = e * Math.sin(i), o.applyForce(t, { x: t.position.x, y: t.position.y }, n) })), this }, getConstraintLength: function(t) { var e = t.pointA.x,
							i = t.pointA.y,
							n = t.pointB.x,
							r = t.pointB.y; return t.bodyA && (e += t.bodyA.position.x, i += t.bodyA.position.y), t.bodyB && (n += t.bodyB.position.x, r += t.bodyB.position.y), m(e, i, n, r) }, alignBody: function(t, e, i, r) { var s; switch (t = t.hasOwnProperty("body") ? t.body : t, r) {
							case n.TOP_LEFT:
							case n.LEFT_TOP:
								s = this.bodyBounds.getTopLeft(t, e, i); break;
							case n.TOP_CENTER:
								s = this.bodyBounds.getTopCenter(t, e, i); break;
							case n.TOP_RIGHT:
							case n.RIGHT_TOP:
								s = this.bodyBounds.getTopRight(t, e, i); break;
							case n.LEFT_CENTER:
								s = this.bodyBounds.getLeftCenter(t, e, i); break;
							case n.CENTER:
								s = this.bodyBounds.getCenter(t, e, i); break;
							case n.RIGHT_CENTER:
								s = this.bodyBounds.getRightCenter(t, e, i); break;
							case n.LEFT_BOTTOM:
							case n.BOTTOM_LEFT:
								s = this.bodyBounds.getBottomLeft(t, e, i); break;
							case n.BOTTOM_CENTER:
								s = this.bodyBounds.getBottomCenter(t, e, i); break;
							case n.BOTTOM_RIGHT:
							case n.RIGHT_BOTTOM:
								s = this.bodyBounds.getBottomRight(t, e, i) } return s && o.setPosition(t, s), this }, shutdown: function() { var t = this.systems.events;
						this.world && (t.off(A.UPDATE, this.world.update, this.world), t.off(A.POST_UPDATE, this.world.postUpdate, this.world)), t.off(A.SHUTDOWN, this.shutdown, this), this.add && this.add.destroy(), this.world && this.world.destroy(), this.add = null, this.world = null }, destroy: function() { this.shutdown(), this.scene.sys.events.off(A.START, this.start, this), this.scene = null, this.systems = null } });
				S.register("MatterPhysics", R, "matterPhysics"), t.exports = R }, 34803: (t, e, i) => { var n = i(9674),
					r = i(83419),
					s = i(31884),
					o = i(95643),
					a = i(95540),
					l = i(72699),
					h = i(68287),
					u = i(26099),
					c = new r({ Extends: h, Mixins: [s.Bounce, s.Collision, s.Force, s.Friction, s.Gravity, s.Mass, s.Sensor, s.SetBody, s.Sleep, s.Static, s.Transform, s.Velocity, l], initialize: function(t, e, i, r, s, l) { o.call(this, t.scene, "Sprite"), this._crop = this.resetCropObject(), this.anims = new n(this), this.setTexture(r, s), this.setSizeToFrame(), this.setOrigin(), this.world = t, this._tempVec2 = new u(e, i); var h = a(l, "shape", null);
							h ? this.setBody(h, l) : this.setRectangle(this.width, this.height, l), this.setPosition(e, i), this.initPipeline(), this.initPostPipeline(!0) } });
				t.exports = c }, 73834: (t, e, i) => { var n = i(66280),
					r = i(22562),
					s = i(83419),
					o = i(31884),
					a = i(62644),
					l = i(50792),
					h = i(95540),
					u = i(97022),
					c = i(41598),
					d = new s({ Extends: l, Mixins: [o.Bounce, o.Collision, o.Friction, o.Gravity, o.Mass, o.Sensor, o.Sleep, o.Static], initialize: function(t, e, i) { l.call(this), this.tile = e, this.world = t, e.physics.matterBody && e.physics.matterBody.destroy(), e.physics.matterBody = this; var n = h(i, "body", null),
								s = h(i, "addToWorld", !0); if (n) this.setBody(n, s);
							else { var o = e.getCollisionGroup();
								h(o, "objects", []).length > 0 ? this.setFromTileCollision(i) : this.setFromTileRectangle(i) } if (e.flipX || e.flipY) { var a = { x: e.getCenterX(), y: e.getCenterY() },
									u = e.flipX ? -1 : 1,
									c = e.flipY ? -1 : 1;
								r.scale(n, u, c, a) } }, setFromTileRectangle: function(t) { void 0 === t && (t = {}), u(t, "isStatic") || (t.isStatic = !0), u(t, "addToWorld") || (t.addToWorld = !0); var e = this.tile.getBounds(),
								i = e.x + e.width / 2,
								r = e.y + e.height / 2,
								s = n.rectangle(i, r, e.width, e.height, t); return this.setBody(s, t.addToWorld), this }, setFromTileCollision: function(t) { void 0 === t && (t = {}), u(t, "isStatic") || (t.isStatic = !0), u(t, "addToWorld") || (t.addToWorld = !0); for (var e = this.tile.tilemapLayer.scaleX, i = this.tile.tilemapLayer.scaleY, s = this.tile.getLeft(), o = this.tile.getTop(), l = this.tile.getCollisionGroup(), d = h(l, "objects", []), f = [], p = 0; p < d.length; p++) { var g = d[p],
									m = s + g.x * e,
									v = o + g.y * i,
									y = g.width * e,
									x = g.height * i,
									b = null; if (g.rectangle) b = n.rectangle(m + y / 2, v + x / 2, y, x, t);
								else if (g.ellipse) b = n.circle(m + y / 2, v + x / 2, y / 2, t);
								else if (g.polygon || g.polyline) { var w = (g.polygon ? g.polygon : g.polyline).map((function(t) { return { x: t.x * e, y: t.y * i } })),
										T = c.create(w),
										S = c.centre(T);
									m += S.x, v += S.y, b = n.fromVertices(m, v, T, t) } b && f.push(b) } if (1 === f.length) this.setBody(f[0], t.addToWorld);
							else if (f.length > 1) { var _ = a(t);
								_.parts = f, this.setBody(r.create(_), _.addToWorld) } return this }, setBody: function(t, e) { return void 0 === e && (e = !0), this.body && this.removeBody(), this.body = t, this.body.gameObject = this, e && this.world.add(this.body), this }, removeBody: function() { return this.body && (this.world.remove(this.body), this.body.gameObject = void 0, this.body = void 0), this }, destroy: function() { this.removeBody(), this.tile.physics.matterBody = void 0, this.removeAllListeners() } });
				t.exports = d }, 19496: (t, e, i) => { var n = i(66280),
					r = i(22562),
					s = i(53402),
					o = i(95540),
					a = i(41598),
					l = { parseBody: function(t, e, i, n) { void 0 === n && (n = {}); for (var a = o(i, "fixtures", []), l = [], h = 0; h < a.length; h++)
								for (var u = this.parseFixture(a[h]), c = 0; c < u.length; c++) l.push(u[c]); var d = s.clone(i, !0);
							s.extend(d, n, !0), delete d.fixtures, delete d.type; var f = r.create(d); return r.setParts(f, l), r.setPosition(f, { x: t, y: e }), f }, parseFixture: function(t) { var e, i = s.extend({}, !1, t); if (delete i.circle, delete i.vertices, t.circle) { var r = o(t.circle, "x"),
									a = o(t.circle, "y"),
									l = o(t.circle, "radius");
								e = [n.circle(r, a, l, i)] } else t.vertices && (e = this.parseVertices(t.vertices, i)); return e }, parseVertices: function(t, e) { void 0 === e && (e = {}); for (var i = [], o = 0; o < t.length; o++) a.clockwiseSort(t[o]), i.push(r.create(s.extend({ position: a.centre(t[o]), vertices: t[o] }, e))); return n.flagCoincidentParts(i) } };
				t.exports = l }, 85791: (t, e, i) => { var n = i(66280),
					r = i(22562),
					s = { parseBody: function(t, e, i, s) { var o;
							void 0 === s && (s = {}); var a = i.vertices; if (1 === a.length) s.vertices = a[0], o = r.create(s), n.flagCoincidentParts(o.parts);
							else { for (var l = [], h = 0; h < a.length; h++) { var u = r.create({ vertices: a[h] });
									l.push(u) } n.flagCoincidentParts(l), s.parts = l, o = r.create(s) } return o.label = i.label, r.setPosition(o, { x: t, y: e }), o } };
				t.exports = s }, 98713: (t, e, i) => { var n = i(15647),
					r = i(83419),
					s = i(69351),
					o = i(48140),
					a = i(81388),
					l = i(1121),
					h = i(8214),
					u = i(46975),
					c = i(53614),
					d = i(26099),
					f = i(41598),
					p = new r({ initialize: function(t, e, i) { void 0 === i && (i = {}), this.scene = t, this.world = e, this.camera = null, this.pointer = null, this.active = !0, this.position = new d, this.body = null, this.part = null, this.constraint = o.create(u(i, { label: "Pointer Constraint", pointA: { x: 0, y: 0 }, pointB: { x: 0, y: 0 }, length: .01, stiffness: .1, angularStiffness: 1, collisionFilter: { category: 1, mask: 4294967295, group: 0 } })), this.world.on(l.BEFORE_UPDATE, this.update, this), t.sys.input.on(h.POINTER_DOWN, this.onDown, this), t.sys.input.on(h.POINTER_UP, this.onUp, this) }, onDown: function(t) { this.pointer || (this.pointer = t, this.camera = t.camera) }, onUp: function(t) { t === this.pointer && (this.pointer = null) }, getBody: function(t) { var e = this.position,
								i = this.constraint;
							this.camera.getWorldPoint(t.x, t.y, e); for (var r = s.allBodies(this.world.localWorld), o = 0; o < r.length; o++) { var h = r[o]; if (!h.ignorePointer && n.contains(h.bounds, e) && a.canCollide(h.collisionFilter, i.collisionFilter) && this.hitTestBody(h, e)) return this.world.emit(l.DRAG_START, h, this.part, this), !0 } return !1 }, hitTestBody: function(t, e) { for (var i = this.constraint, n = t.parts.length, r = n > 1 ? 1 : 0; r < n; r++) { var s = t.parts[r]; if (f.contains(s.vertices, e)) return i.pointA = e, i.pointB = { x: e.x - t.position.x, y: e.y - t.position.y }, i.bodyB = t, i.angleB = t.angle, c.set(t, !1), this.part = s, this.body = t, !0 } return !1 }, update: function() { var t = this.pointer,
								e = this.body; if (this.active && t)
								if (t.isDown || !e) { if (t.isDown) { if (!this.camera || !e && !this.getBody(t)) return;
										e = this.body; var i = this.position,
											n = this.constraint;
										this.camera.getWorldPoint(t.x, t.y, i), n.pointA.x = i.x, n.pointA.y = i.y, c.set(e, !1), this.world.emit(l.DRAG, e, this) } } else this.stopDrag();
							else e && this.stopDrag() }, stopDrag: function() { var t = this.body,
								e = this.constraint;
							e.bodyB = null, e.pointB = null, this.pointer = null, this.body = null, this.part = null, t && this.world.emit(l.DRAG_END, t, this) }, destroy: function() { this.world.removeConstraint(this.constraint), this.pointer = null, this.constraint = null, this.body = null, this.part = null, this.world.off(l.BEFORE_UPDATE, this.update), this.scene.sys.input.off(h.POINTER_DOWN, this.onDown, this), this.scene.sys.input.off(h.POINTER_UP, this.onUp, this) } });
				t.exports = p }, 68243: (t, e, i) => { var n = i(66280),
					r = i(22562),
					s = i(83419),
					o = i(53402),
					a = i(69351),
					l = i(48413),
					h = i(50792),
					u = i(1121),
					c = i(95540),
					d = i(35154),
					f = i(22562),
					p = i(35810),
					g = i(73834),
					m = i(4372),
					v = i(13037),
					y = i(31725),
					x = new s({ Extends: h, initialize: function(t, e) { h.call(this), this.scene = t, this.engine = l.create(e), this.localWorld = this.engine.world; var i = d(e, "gravity", null);
							i ? this.setGravity(i.x, i.y, i.scale) : !1 === i && this.setGravity(0, 0, 0), this.walls = { left: null, right: null, top: null, bottom: null }, this.enabled = d(e, "enabled", !0), this.getDelta = d(e, "getDelta", this.update60Hz); var n = c(e, "runner", {}),
								r = c(n, "fps", !1),
								s = c(n, "fps", 60),
								o = c(n, "delta", 1e3 / s),
								a = c(n, "deltaMin", 1e3 / s),
								u = c(n, "deltaMax", 1e3 / (.5 * s));
							r || (s = 1e3 / o), this.runner = { fps: s, deltaSampleSize: c(n, "deltaSampleSize", 60), counterTimestamp: 0, frameCounter: 0, deltaHistory: [], timePrev: null, timeScalePrev: 1, frameRequestId: null, timeBuffer: 0, isFixed: c(n, "isFixed", !1), delta: o, deltaMin: a, deltaMax: u }, this.autoUpdate = d(e, "autoUpdate", !0); var f = d(e, "debug", !1); if (this.drawDebug = "object" == typeof f || f, this.debugGraphic, this.debugConfig = { showAxes: c(f, "showAxes", !1), showAngleIndicator: c(f, "showAngleIndicator", !1), angleColor: c(f, "angleColor", 15208787), showBroadphase: c(f, "showBroadphase", !1), broadphaseColor: c(f, "broadphaseColor", 16757760), showBounds: c(f, "showBounds", !1), boundsColor: c(f, "boundsColor", 16777215), showVelocity: c(f, "showVelocity", !1), velocityColor: c(f, "velocityColor", 44783), showCollisions: c(f, "showCollisions", !1), collisionColor: c(f, "collisionColor", 16094476), showSeparations: c(f, "showSeparations", !1), separationColor: c(f, "separationColor", 16753920), showBody: c(f, "showBody", !0), showStaticBody: c(f, "showStaticBody", !0), showInternalEdges: c(f, "showInternalEdges", !1), renderFill: c(f, "renderFill", !1), renderLine: c(f, "renderLine", !0), fillColor: c(f, "fillColor", 1075465), fillOpacity: c(f, "fillOpacity", 1), lineColor: c(f, "lineColor", 2678297), lineOpacity: c(f, "lineOpacity", 1), lineThickness: c(f, "lineThickness", 1), staticFillColor: c(f, "staticFillColor", 857979), staticLineColor: c(f, "staticLineColor", 1255396), showSleeping: c(f, "showSleeping", !1), staticBodySleepOpacity: c(f, "staticBodySleepOpacity", .7), sleepFillColor: c(f, "sleepFillColor", 4605510), sleepLineColor: c(f, "sleepLineColor", 10066585), showSensors: c(f, "showSensors", !0), sensorFillColor: c(f, "sensorFillColor", 857979), sensorLineColor: c(f, "sensorLineColor", 1255396), showPositions: c(f, "showPositions", !0), positionSize: c(f, "positionSize", 4), positionColor: c(f, "positionColor", 14697178), showJoint: c(f, "showJoint", !0), jointColor: c(f, "jointColor", 14737474), jointLineOpacity: c(f, "jointLineOpacity", 1), jointLineThickness: c(f, "jointLineThickness", 2), pinSize: c(f, "pinSize", 4), pinColor: c(f, "pinColor", 4382944), springColor: c(f, "springColor", 14697184), anchorColor: c(f, "anchorColor", 15724527), anchorSize: c(f, "anchorSize", 4), showConvexHulls: c(f, "showConvexHulls", !1), hullColor: c(f, "hullColor", 14091216) }, this.drawDebug && this.createDebugGraphic(), this.setEventsProxy(), c(e, "setBounds", !1)) { var p = e.setBounds; if ("boolean" == typeof p) this.setBounds();
								else { var g = c(p, "x", 0),
										m = c(p, "y", 0),
										v = c(p, "width", t.sys.scale.width),
										y = c(p, "height", t.sys.scale.height),
										x = c(p, "thickness", 64),
										b = c(p, "left", !0),
										w = c(p, "right", !0),
										T = c(p, "top", !0),
										S = c(p, "bottom", !0);
									this.setBounds(g, m, v, y, x, b, w, T, S) } } }, setCompositeRenderStyle: function(t) { var e, i, n, r = t.bodies,
								s = t.constraints,
								o = t.composites; for (e = 0; e < r.length; e++) n = (i = r[e]).render, this.setBodyRenderStyle(i, n.lineColor, n.lineOpacity, n.lineThickness, n.fillColor, n.fillOpacity); for (e = 0; e < s.length; e++) n = (i = s[e]).render, this.setConstraintRenderStyle(i, n.lineColor, n.lineOpacity, n.lineThickness, n.pinSize, n.anchorColor, n.anchorSize); for (e = 0; e < o.length; e++) i = o[e], this.setCompositeRenderStyle(i); return this }, setBodyRenderStyle: function(t, e, i, n, r, s) { var o = t.render,
								a = this.debugConfig; return o ? (null == e && (e = t.isStatic ? a.staticLineColor : a.lineColor), null == i && (i = a.lineOpacity), null == n && (n = a.lineThickness), null == r && (r = t.isStatic ? a.staticFillColor : a.fillColor), null == s && (s = a.fillOpacity), !1 !== e && (o.lineColor = e), !1 !== i && (o.lineOpacity = i), !1 !== n && (o.lineThickness = n), !1 !== r && (o.fillColor = r), !1 !== s && (o.fillOpacity = s), this) : this }, setConstraintRenderStyle: function(t, e, i, n, r, s, o) { var a = t.render,
								l = this.debugConfig; if (!a) return this; if (null == e) { var h = a.type; "line" === h ? e = l.jointColor : "pin" === h ? e = l.pinColor : "spring" === h && (e = l.springColor) } return null == i && (i = l.jointLineOpacity), null == n && (n = l.jointLineThickness), null == r && (r = l.pinSize), null == s && (s = l.anchorColor), null == o && (o = l.anchorSize), !1 !== e && (a.lineColor = e), !1 !== i && (a.lineOpacity = i), !1 !== n && (a.lineThickness = n), !1 !== r && (a.pinSize = r), !1 !== s && (a.anchorColor = s), !1 !== o && (a.anchorSize = o), this }, setEventsProxy: function() { var t = this,
								e = this.engine,
								i = this.localWorld;
							this.drawDebug && (p.on(i, "compositeModified", (function(e) { t.setCompositeRenderStyle(e) })), p.on(i, "beforeAdd", (function(e) { for (var i = [].concat(e.object), n = 0; n < i.length; n++) { var r = i[n],
										s = r.render; "body" === r.type ? t.setBodyRenderStyle(r, s.lineColor, s.lineOpacity, s.lineThickness, s.fillColor, s.fillOpacity) : "composite" === r.type ? t.setCompositeRenderStyle(r) : "constraint" === r.type && t.setConstraintRenderStyle(r, s.lineColor, s.lineOpacity, s.lineThickness, s.pinSize, s.anchorColor, s.anchorSize) } }))), p.on(i, "beforeAdd", (function(e) { t.emit(u.BEFORE_ADD, e) })), p.on(i, "afterAdd", (function(e) { t.emit(u.AFTER_ADD, e) })), p.on(i, "beforeRemove", (function(e) { t.emit(u.BEFORE_REMOVE, e) })), p.on(i, "afterRemove", (function(e) { t.emit(u.AFTER_REMOVE, e) })), p.on(e, "beforeUpdate", (function(e) { t.emit(u.BEFORE_UPDATE, e) })), p.on(e, "afterUpdate", (function(e) { t.emit(u.AFTER_UPDATE, e) })), p.on(e, "collisionStart", (function(e) { var i, n, r = e.pairs;
								r.length > 0 && r.map((function(t) { i = t.bodyA, n = t.bodyB, i.gameObject && i.gameObject.emit("collide", i, n, t), n.gameObject && n.gameObject.emit("collide", n, i, t), p.trigger(i, "onCollide", { pair: t }), p.trigger(n, "onCollide", { pair: t }), i.onCollideCallback && i.onCollideCallback(t), n.onCollideCallback && n.onCollideCallback(t), i.onCollideWith[n.id] && i.onCollideWith[n.id](n, t), n.onCollideWith[i.id] && n.onCollideWith[i.id](i, t) })), t.emit(u.COLLISION_START, e, i, n) })), p.on(e, "collisionActive", (function(e) { var i, n, r = e.pairs;
								r.length > 0 && r.map((function(t) { i = t.bodyA, n = t.bodyB, i.gameObject && i.gameObject.emit("collideActive", i, n, t), n.gameObject && n.gameObject.emit("collideActive", n, i, t), p.trigger(i, "onCollideActive", { pair: t }), p.trigger(n, "onCollideActive", { pair: t }), i.onCollideActiveCallback && i.onCollideActiveCallback(t), n.onCollideActiveCallback && n.onCollideActiveCallback(t) })), t.emit(u.COLLISION_ACTIVE, e, i, n) })), p.on(e, "collisionEnd", (function(e) { var i, n, r = e.pairs;
								r.length > 0 && r.map((function(t) { i = t.bodyA, n = t.bodyB, i.gameObject && i.gameObject.emit("collideEnd", i, n, t), n.gameObject && n.gameObject.emit("collideEnd", n, i, t), p.trigger(i, "onCollideEnd", { pair: t }), p.trigger(n, "onCollideEnd", { pair: t }), i.onCollideEndCallback && i.onCollideEndCallback(t), n.onCollideEndCallback && n.onCollideEndCallback(t) })), t.emit(u.COLLISION_END, e, i, n) })) }, setBounds: function(t, e, i, n, r, s, o, a, l) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.scale.width), void 0 === n && (n = this.scene.sys.scale.height), void 0 === r && (r = 64), void 0 === s && (s = !0), void 0 === o && (o = !0), void 0 === a && (a = !0), void 0 === l && (l = !0), this.updateWall(s, "left", t - r, e - r, r, n + 2 * r), this.updateWall(o, "right", t + i, e - r, r, n + 2 * r), this.updateWall(a, "top", t, e - r, i, r), this.updateWall(l, "bottom", t, e + n, i, r), this }, updateWall: function(t, e, i, n, r, s) { var o = this.walls[e];
							t ? (o && m.remove(this.localWorld, o), i += r / 2, n += s / 2, this.walls[e] = this.create(i, n, r, s, { isStatic: !0, friction: 0, frictionStatic: 0 })) : (o && m.remove(this.localWorld, o), this.walls[e] = null) }, createDebugGraphic: function() { var t = this.scene.sys.add.graphics({ x: 0, y: 0 }); return t.setDepth(Number.MAX_VALUE), this.debugGraphic = t, this.drawDebug = !0, t }, disableGravity: function() { return this.localWorld.gravity.x = 0, this.localWorld.gravity.y = 0, this.localWorld.gravity.scale = 0, this }, setGravity: function(t, e, i) { return void 0 === t && (t = 0), void 0 === e && (e = 1), void 0 === i && (i = .001), this.localWorld.gravity.x = t, this.localWorld.gravity.y = e, this.localWorld.gravity.scale = i, this }, create: function(t, e, i, r, s) { var o = n.rectangle(t, e, i, r, s); return m.add(this.localWorld, o), o }, add: function(t) { return m.add(this.localWorld, t), this }, remove: function(t, e) { Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var n = t[i],
									r = n.body ? n.body : n;
								a.remove(this.localWorld, r, e) } return this }, removeConstraint: function(t, e) { return a.remove(this.localWorld, t, e), this }, convertTilemapLayer: function(t, e) { var i = t.layer,
								n = t.getTilesWithin(0, 0, i.width, i.height, { isColliding: !0 }); return this.convertTiles(n, e), this }, convertTiles: function(t, e) { if (0 === t.length) return this; for (var i = 0; i < t.length; i++) new g(this, t[i], e); return this }, nextGroup: function(t) { return f.nextGroup(t) }, nextCategory: function() { return f.nextCategory() }, pause: function() { return this.enabled = !1, this.emit(u.PAUSE), this }, resume: function() { return this.enabled = !0, this.runner.timeLastTick = o.now(), this.emit(u.RESUME), this }, update: function(t) { if (this.enabled && this.autoUpdate) { var e = this.engine,
									i = this.runner,
									n = o.now(),
									r = i.delta,
									s = 0,
									a = t - i.timeLastTick; if ((!a || !i.timeLastTick || a > Math.max(v._maxFrameDelta, i.maxFrameTime)) && (a = i.frameDelta || v._frameDeltaFallback), i.frameDeltaSmoothing) { i.frameDeltaHistory.push(a), i.frameDeltaHistory = i.frameDeltaHistory.slice(-i.frameDeltaHistorySize); var h = i.frameDeltaHistory.slice(0).sort(),
										u = i.frameDeltaHistory.slice(h.length * v._smoothingLowerBound, h.length * v._smoothingUpperBound);
									a = v._mean(u) || a } i.frameDeltaSnapping && (a = 1e3 / Math.round(1e3 / a)), i.frameDelta = a, i.timeLastTick = t, i.timeBuffer += i.frameDelta, i.timeBuffer = o.clamp(i.timeBuffer, 0, i.frameDelta + r * v._timeBufferMargin), i.lastUpdatesDeferred = 0; for (var c = i.maxUpdates || Math.ceil(i.maxFrameTime / r), d = o.now(); r > 0 && i.timeBuffer >= r * v._timeBufferMargin;) { l.update(e, r), i.timeBuffer -= r, s += 1; var f = o.now() - n,
										p = o.now() - d,
										g = f + v._elapsedNextEstimate * p / s; if (s >= c || g > i.maxFrameTime) { i.lastUpdatesDeferred = Math.round(Math.max(0, i.timeBuffer / r - v._timeBufferMargin)); break } } } }, step: function(t) { l.update(this.engine, t) }, update60Hz: function() { return 1e3 / 60 }, update30Hz: function() { return 1e3 / 30 }, has: function(t) { var e = t.hasOwnProperty("body") ? t.body : t; return null !== a.get(this.localWorld, e.id, e.type) }, getAllBodies: function() { return a.allBodies(this.localWorld) }, getAllConstraints: function() { return a.allConstraints(this.localWorld) }, getAllComposites: function() { return a.allComposites(this.localWorld) }, postUpdate: function() { if (this.drawDebug) { var t = this.debugConfig,
									e = this.engine,
									i = this.debugGraphic,
									n = a.allBodies(this.localWorld);
								this.debugGraphic.clear(), t.showBroadphase && e.broadphase.controller && this.renderGrid(e.broadphase, i, t.broadphaseColor, .5), t.showBounds && this.renderBodyBounds(n, i, t.boundsColor, .5), (t.showBody || t.showStaticBody) && this.renderBodies(n), t.showJoint && this.renderJoints(), (t.showAxes || t.showAngleIndicator) && this.renderBodyAxes(n, i, t.showAxes, t.angleColor, .5), t.showVelocity && this.renderBodyVelocity(n, i, t.velocityColor, 1, 2), t.showSeparations && this.renderSeparations(e.pairs.list, i, t.separationColor), t.showCollisions && this.renderCollisions(e.pairs.list, i, t.collisionColor) } }, renderGrid: function(t, e, i, n) { e.lineStyle(1, i, n); for (var r = o.keys(t.buckets), s = 0; s < r.length; s++) { var a = r[s]; if (!(t.buckets[a].length < 2)) { var l = a.split(/C|R/);
									e.strokeRect(parseInt(l[1], 10) * t.bucketWidth, parseInt(l[2], 10) * t.bucketHeight, t.bucketWidth, t.bucketHeight) } } return this }, renderSeparations: function(t, e, i) { e.lineStyle(1, i, 1); for (var n = 0; n < t.length; n++) { var r = t[n]; if (r.isActive) { var s = r.collision,
										o = s.bodyA,
										a = s.bodyB,
										l = o.position,
										h = a.position,
										u = s.penetration,
										c = o.isStatic || a.isStatic ? 1 : 4;
									a.isStatic && (c = 0), e.lineBetween(h.x, h.y, h.x - u.x * c, h.y - u.y * c), c = o.isStatic || a.isStatic ? 1 : 4, o.isStatic && (c = 0), e.lineBetween(l.x, l.y, l.x - u.x * c, l.y - u.y * c) } } return this }, renderCollisions: function(t, e, i) { var n, r; for (e.lineStyle(1, i, .5), e.fillStyle(i, 1), n = 0; n < t.length; n++)
								if ((r = t[n]).isActive)
									for (var s = 0; s < r.contactCount; s++) { var o = r.contacts[s].vertex;
										o && e.fillRect(o.x - 2, o.y - 2, 5, 5) }
							for (n = 0; n < t.length; n++)
								if ((r = t[n]).isActive) { var a = r.collision,
										l = r.contacts; if (r.contactCount > 0) { var h = l[0].vertex.x,
											u = l[0].vertex.y;
										2 === r.contactCount && (h = (l[0].vertex.x + l[1].vertex.x) / 2, u = (l[0].vertex.y + l[1].vertex.y) / 2), a.bodyB === a.supports[0].body || a.bodyA.isStatic ? e.lineBetween(h - 8 * a.normal.x, u - 8 * a.normal.y, h, u) : e.lineBetween(h + 8 * a.normal.x, u + 8 * a.normal.y, h, u) } } return this }, renderBodyBounds: function(t, e, i, n) { e.lineStyle(1, i, n); for (var r = 0; r < t.length; r++) { var s = t[r]; if (s.render.visible) { var o = s.bounds; if (o) e.strokeRect(o.min.x, o.min.y, o.max.x - o.min.x, o.max.y - o.min.y);
									else
										for (var a = s.parts, l = a.length > 1 ? 1 : 0; l < a.length; l++) { var h = a[l];
											e.strokeRect(h.bounds.min.x, h.bounds.min.y, h.bounds.max.x - h.bounds.min.x, h.bounds.max.y - h.bounds.min.y) } } } return this }, renderBodyAxes: function(t, e, i, n, r) { e.lineStyle(1, n, r); for (var s = 0; s < t.length; s++) { var o, a, l, h = t[s],
									u = h.parts; if (h.render.visible)
									if (i)
										for (a = u.length > 1 ? 1 : 0; a < u.length; a++)
											for (o = u[a], l = 0; l < o.axes.length; l++) { var c = o.axes[l];
												e.lineBetween(o.position.x, o.position.y, o.position.x + 20 * c.x, o.position.y + 20 * c.y) } else
												for (a = u.length > 1 ? 1 : 0; a < u.length; a++)
													for (o = u[a], l = 0; l < o.axes.length; l++) e.lineBetween(o.position.x, o.position.y, (o.vertices[0].x + o.vertices[o.vertices.length - 1].x) / 2, (o.vertices[0].y + o.vertices[o.vertices.length - 1].y) / 2) } return this }, renderBodyVelocity: function(t, e, i, n, r) { e.lineStyle(r, i, n); for (var s = 0; s < t.length; s++) { var o = t[s];
								o.render.visible && e.lineBetween(o.position.x, o.position.y, o.position.x + 2 * (o.position.x - o.positionPrev.x), o.position.y + 2 * (o.position.y - o.positionPrev.y)) } return this }, renderBodies: function(t) { for (var e = this.debugGraphic, i = this.debugConfig, n = i.showBody, r = i.showStaticBody, s = i.showSleeping, o = i.showInternalEdges, a = i.showConvexHulls, l = i.renderFill, h = i.renderLine, u = i.staticBodySleepOpacity, c = i.sleepFillColor, d = i.sleepLineColor, f = i.hullColor, p = 0; p < t.length; p++) { var g = t[p]; if (g.render.visible && (r || !g.isStatic) && (n || g.isStatic)) { var m = g.render.lineColor,
										v = g.render.lineOpacity,
										y = g.render.lineThickness,
										x = g.render.fillColor,
										b = g.render.fillOpacity;
									s && g.isSleeping && (g.isStatic ? (v *= u, b *= u) : (m = d, x = c)), l || (x = null), h || (m = null), this.renderBody(g, e, o, m, v, y, x, b); var w = g.parts.length;
									a && w > 1 && this.renderConvexHull(g, e, f, y) } } }, renderBody: function(t, e, i, n, r, s, o, a) { void 0 === n && (n = null), void 0 === r && (r = null), void 0 === s && (s = 1), void 0 === o && (o = null), void 0 === a && (a = null); for (var l = this.debugConfig, h = l.sensorFillColor, u = l.sensorLineColor, c = t.parts, d = c.length, f = d > 1 ? 1 : 0; f < d; f++) { var p = c[f],
									g = p.render,
									m = g.opacity; if (g.visible && 0 !== m && (!p.isSensor || l.showSensors)) { var v = p.circleRadius; if (e.beginPath(), p.isSensor ? (null !== o && e.fillStyle(h, a * m), null !== n && e.lineStyle(s, u, r * m)) : (null !== o && e.fillStyle(o, a * m), null !== n && e.lineStyle(s, n, r * m)), v) e.arc(p.position.x, p.position.y, v, 0, 2 * Math.PI);
									else { var y = p.vertices,
											x = y.length;
										e.moveTo(y[0].x, y[0].y); for (var b = 1; b < x; b++) { var w = y[b]; if (!y[b - 1].isInternal || i ? e.lineTo(w.x, w.y) : e.moveTo(w.x, w.y), b < x && w.isInternal && !i) { var T = (b + 1) % x;
												e.moveTo(y[T].x, y[T].y) } } e.closePath() } null !== o && e.fillPath(), null !== n && e.strokePath() } } if (l.showPositions && !t.isStatic) { var S = t.position.x,
									_ = t.position.y,
									E = Math.ceil(l.positionSize / 2);
								e.fillStyle(l.positionColor, 1), e.fillRect(S - E, _ - E, l.positionSize, l.positionSize) } return this }, renderConvexHull: function(t, e, i, n) { if (void 0 === n && (n = 1), t.parts.length > 1) { var r = t.vertices;
								e.lineStyle(n, i), e.beginPath(), e.moveTo(r[0].x, r[0].y); for (var s = 1; s < r.length; s++) e.lineTo(r[s].x, r[s].y);
								e.lineTo(r[0].x, r[0].y), e.strokePath() } return this }, renderJoints: function() { for (var t = this.debugGraphic, e = a.allConstraints(this.localWorld), i = 0; i < e.length; i++) { var n = e[i].render,
									r = n.lineColor,
									s = n.lineOpacity,
									o = n.lineThickness,
									l = n.pinSize,
									h = n.anchorColor,
									u = n.anchorSize;
								this.renderConstraint(e[i], t, r, s, o, l, h, u) } }, renderConstraint: function(t, e, i, n, r, s, a, l) { var h = t.render; if (!h.visible || !t.pointA || !t.pointB) return this;
							e.lineStyle(r, i, n); var u, c, d = t.bodyA,
								f = t.bodyB; if (u = d ? y.add(d.position, t.pointA) : t.pointA, "pin" === h.type) e.strokeCircle(u.x, u.y, s);
							else { if (c = f ? y.add(f.position, t.pointB) : t.pointB, e.beginPath(), e.moveTo(u.x, u.y), "spring" === h.type)
									for (var p, g = y.sub(c, u), m = y.perp(y.normalise(g)), v = Math.ceil(o.clamp(t.length / 5, 12, 20)), x = 1; x < v; x += 1) p = x % 2 == 0 ? 1 : -1, e.lineTo(u.x + g.x * (x / v) + m.x * p * 4, u.y + g.y * (x / v) + m.y * p * 4);
								e.lineTo(c.x, c.y) } return e.strokePath(), h.anchors && l > 0 && (e.fillStyle(a), e.fillCircle(u.x, u.y, l), e.fillCircle(c.x, c.y, l)), this }, resetCollisionIDs: function() { return r._nextCollidingGroupId = 1, r._nextNonCollidingGroupId = -1, r._nextCategory = 1, this }, shutdown: function() { p.off(this.engine), this.removeAllListeners(), m.clear(this.localWorld, !1), l.clear(this.engine), this.drawDebug && this.debugGraphic.destroy() }, destroy: function() { this.shutdown() } });
				t.exports = x }, 70410: t => { t.exports = { setBounce: function(t) { return this.body.restitution = t, this } } }, 66968: t => { var e = { setCollisionCategory: function(t) { return this.body.collisionFilter.category = t, this }, setCollisionGroup: function(t) { return this.body.collisionFilter.group = t, this }, setCollidesWith: function(t) { var e = 0; if (Array.isArray(t))
							for (var i = 0; i < t.length; i++) e |= t[i];
						else e = t; return this.body.collisionFilter.mask = e, this }, setOnCollide: function(t) { return this.body.onCollideCallback = t, this }, setOnCollideEnd: function(t) { return this.body.onCollideEndCallback = t, this }, setOnCollideActive: function(t) { return this.body.onCollideActiveCallback = t, this }, setOnCollideWith: function(t, e) { Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var n = t[i].hasOwnProperty("body") ? t[i].body : t[i];
							this.body.setOnCollideWith(n, e) } return this } };
				t.exports = e }, 51607: (t, e, i) => { var n = i(22562),
					r = { applyForce: function(t) { return this._tempVec2.set(this.body.position.x, this.body.position.y), n.applyForce(this.body, this._tempVec2, t), this }, applyForceFrom: function(t, e) { return n.applyForce(this.body, t, e), this }, thrust: function(t) { var e = this.body.angle; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), n.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this }, thrustLeft: function(t) { var e = this.body.angle - Math.PI / 2; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), n.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this }, thrustRight: function(t) { var e = this.body.angle + Math.PI / 2; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), n.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this }, thrustBack: function(t) { var e = this.body.angle - Math.PI; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), n.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this } };
				t.exports = r }, 5436: t => { t.exports = { setFriction: function(t, e, i) { return this.body.friction = t, void 0 !== e && (this.body.frictionAir = e), void 0 !== i && (this.body.frictionStatic = i), this }, setFrictionAir: function(t) { return this.body.frictionAir = t, this }, setFrictionStatic: function(t) { return this.body.frictionStatic = t, this } } }, 39858: t => { t.exports = { setIgnoreGravity: function(t) { return this.body.ignoreGravity = t, this } } }, 37302: (t, e, i) => { var n = i(22562),
					r = i(26099),
					s = { setMass: function(t) { return n.setMass(this.body, t), this }, setDensity: function(t) { return n.setDensity(this.body, t), this }, centerOfMass: { get: function() { return new r(this.body.centerOfMass.x, this.body.centerOfMass.y) } } };
				t.exports = s }, 39132: t => { t.exports = { setSensor: function(t) { return this.body.isSensor = t, this }, isSensor: function() { return this.body.isSensor } } }, 57772: (t, e, i) => { var n = i(66280),
					r = i(22562),
					s = i(43855),
					o = i(95540),
					a = i(19496),
					l = i(85791),
					h = i(41598),
					u = { setRectangle: function(t, e, i) { return this.setBody({ type: "rectangle", width: t, height: e }, i) }, setCircle: function(t, e) { return this.setBody({ type: "circle", radius: t }, e) }, setPolygon: function(t, e, i) { return this.setBody({ type: "polygon", sides: e, radius: t }, i) }, setTrapezoid: function(t, e, i, n) { return this.setBody({ type: "trapezoid", width: t, height: e, slope: i }, n) }, setExistingBody: function(t, e) { void 0 === e && (e = !0), this.body && this.world.remove(this.body, !0), this.body = t; for (var i = 0; i < t.parts.length; i++) t.parts[i].gameObject = this; var n = this; if (t.destroy = function() { n.world.remove(n.body, !0), n.body.gameObject = null }, e && (this.world.has(t) && this.world.remove(t, !0), this.world.add(t)), this._originComponent) { var r = t.render.sprite.xOffset,
									o = t.render.sprite.yOffset,
									a = t.centerOfMass.x,
									l = t.centerOfMass.y; if (s(a, .5) && s(l, .5)) this.setOrigin(r + .5, o + .5);
								else { var h = t.centerOffset.x,
										u = t.centerOffset.y;
									this.setOrigin(r + h / this.displayWidth, o + u / this.displayHeight) } } return this }, setBody: function(t, e) { if (!t) return this; var i; "string" == typeof t && (t = { type: t }); var s = o(t, "type", "rectangle"),
								u = o(t, "x", this._tempVec2.x),
								c = o(t, "y", this._tempVec2.y),
								d = o(t, "width", this.width),
								f = o(t, "height", this.height); switch (s) {
								case "rectangle":
									i = n.rectangle(u, c, d, f, e); break;
								case "circle":
									var p = o(t, "radius", Math.max(d, f) / 2),
										g = o(t, "maxSides", 25);
									i = n.circle(u, c, p, e, g); break;
								case "trapezoid":
									var m = o(t, "slope", .5);
									i = n.trapezoid(u, c, d, f, m, e); break;
								case "polygon":
									var v = o(t, "sides", 5),
										y = o(t, "radius", Math.max(d, f) / 2);
									i = n.polygon(u, c, v, y, e); break;
								case "fromVertices":
								case "fromVerts":
									var x = o(t, "verts", null); if (x)
										if ("string" == typeof x && (x = h.fromPath(x)), this.body && !this.body.hasOwnProperty("temp")) r.setVertices(this.body, x), i = this.body;
										else { var b = o(t, "flagInternal", !1),
												w = o(t, "removeCollinear", .01),
												T = o(t, "minimumArea", 10);
											i = n.fromVertices(u, c, x, e, b, w, T) } break;
								case "fromPhysicsEditor":
									i = a.parseBody(u, c, t, e); break;
								case "fromPhysicsTracer":
									i = l.parseBody(u, c, t, e) } return i && this.setExistingBody(i, t.addToWorld), this } };
				t.exports = u }, 38083: (t, e, i) => { var n = i(1121),
					r = i(53614),
					s = i(35810),
					o = { setToSleep: function() { return r.set(this.body, !0), this }, setAwake: function() { return r.set(this.body, !1), this }, setSleepThreshold: function(t) { return void 0 === t && (t = 60), this.body.sleepThreshold = t, this }, setSleepEvents: function(t, e) { return this.setSleepStartEvent(t), this.setSleepEndEvent(e), this }, setSleepStartEvent: function(t) { if (t) { var e = this.world;
								s.on(this.body, "sleepStart", (function(t) { e.emit(n.SLEEP_START, t, this) })) } else s.off(this.body, "sleepStart"); return this }, setSleepEndEvent: function(t) { if (t) { var e = this.world;
								s.on(this.body, "sleepEnd", (function(t) { e.emit(n.SLEEP_END, t, this) })) } else s.off(this.body, "sleepEnd"); return this } };
				t.exports = o }, 90556: (t, e, i) => { var n = i(22562),
					r = { setStatic: function(t) { return n.setStatic(this.body, t), this }, isStatic: function() { return this.body.isStatic } };
				t.exports = r }, 85436: (t, e, i) => { var n = i(22562),
					r = i(36383),
					s = i(86554),
					o = i(30954),
					a = { x: { get: function() { return this.body.position.x }, set: function(t) { this._tempVec2.set(t, this.y), n.setPosition(this.body, this._tempVec2) } }, y: { get: function() { return this.body.position.y }, set: function(t) { this._tempVec2.set(this.x, t), n.setPosition(this.body, this._tempVec2) } }, scaleX: { get: function() { return this._scaleX }, set: function(t) { var e = 1 / this._scaleX,
									i = 1 / this._scaleY;
								this._scaleX = t, 0 === this._scaleX ? this.renderFlags &= -5 : this.renderFlags |= 4, n.scale(this.body, e, i), n.scale(this.body, t, this._scaleY) } }, scaleY: { get: function() { return this._scaleY }, set: function(t) { var e = 1 / this._scaleX,
									i = 1 / this._scaleY;
								this._scaleY = t, 0 === this._scaleY ? this.renderFlags &= -5 : this.renderFlags |= 4, n.scale(this.body, e, i), n.scale(this.body, this._scaleX, t) } }, angle: { get: function() { return o(this.body.angle * r.RAD_TO_DEG) }, set: function(t) { this.rotation = o(t) * r.DEG_TO_RAD } }, rotation: { get: function() { return this.body.angle }, set: function(t) { this._rotation = s(t), n.setAngle(this.body, this._rotation) } }, setPosition: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this._tempVec2.set(t, e), n.setPosition(this.body, this._tempVec2), this }, setRotation: function(t) { return void 0 === t && (t = 0), this._rotation = s(t), n.setAngle(this.body, t), this }, setFixedRotation: function() { return n.setInertia(this.body, 1 / 0), this }, setAngle: function(t) { return void 0 === t && (t = 0), this.angle = t, n.setAngle(this.body, this.rotation), this }, setScale: function(t, e, i) { void 0 === t && (t = 1), void 0 === e && (e = t); var r = 1 / this._scaleX,
								s = 1 / this._scaleY; return this._scaleX = t, this._scaleY = e, n.scale(this.body, r, s, i), n.scale(this.body, t, e, i), this } };
				t.exports = a }, 42081: (t, e, i) => { var n = i(22562),
					r = { setVelocityX: function(t) { return this._tempVec2.set(t, this.body.velocity.y), n.setVelocity(this.body, this._tempVec2), this }, setVelocityY: function(t) { return this._tempVec2.set(this.body.velocity.x, t), n.setVelocity(this.body, this._tempVec2), this }, setVelocity: function(t, e) { return this._tempVec2.set(t, e), n.setVelocity(this.body, this._tempVec2), this }, getVelocity: function() { return n.getVelocity(this.body) }, setAngularVelocity: function(t) { return n.setAngularVelocity(this.body, t), this }, getAngularVelocity: function() { return n.getAngularVelocity(this.body) }, setAngularSpeed: function(t) { return n.setAngularSpeed(this.body, t), this }, getAngularSpeed: function() { return n.getAngularSpeed(this.body) } };
				t.exports = r }, 31884: (t, e, i) => { t.exports = { Bounce: i(70410), Collision: i(66968), Force: i(51607), Friction: i(5436), Gravity: i(39858), Mass: i(37302), Sensor: i(39132), SetBody: i(57772), Sleep: i(38083), Static: i(90556), Transform: i(85436), Velocity: i(42081) } }, 85608: t => { t.exports = "afteradd" }, 1213: t => { t.exports = "afterremove" }, 25968: t => { t.exports = "afterupdate" }, 67205: t => { t.exports = "beforeadd" }, 39438: t => { t.exports = "beforeremove" }, 44823: t => { t.exports = "beforeupdate" }, 92593: t => { t.exports = "collisionactive" }, 60128: t => { t.exports = "collisionend" }, 76861: t => { t.exports = "collisionstart" }, 92362: t => { t.exports = "dragend" }, 76408: t => { t.exports = "drag" }, 93971: t => { t.exports = "dragstart" }, 5656: t => { t.exports = "pause" }, 47861: t => { t.exports = "resume" }, 79099: t => { t.exports = "sleepend" }, 35906: t => { t.exports = "sleepstart" }, 1121: (t, e, i) => { t.exports = { AFTER_ADD: i(85608), AFTER_REMOVE: i(1213), AFTER_UPDATE: i(25968), BEFORE_ADD: i(67205), BEFORE_REMOVE: i(39438), BEFORE_UPDATE: i(44823), COLLISION_ACTIVE: i(92593), COLLISION_END: i(60128), COLLISION_START: i(76861), DRAG_END: i(92362), DRAG: i(76408), DRAG_START: i(93971), PAUSE: i(5656), RESUME: i(47861), SLEEP_END: i(79099), SLEEP_START: i(35906) } }, 3875: (t, e, i) => { t.exports = { BodyBounds: i(68174), Components: i(31884), Events: i(1121), Factory: i(28137), MatterGameObject: i(75803), Image: i(23181), Matter: i(19933), MatterPhysics: i(42045), PolyDecomp: i(55973), Sprite: i(34803), TileBody: i(73834), PhysicsEditorParser: i(19496), PhysicsJSONParser: i(85791), PointerConstraint: i(98713), World: i(68243) } }, 22562: (t, e, i) => { var n = {};
				t.exports = n; var r = i(41598),
					s = i(31725),
					o = i(53614),
					a = i(53402),
					l = i(15647),
					h = i(66615);! function() { n._timeCorrection = !0, n._inertiaScale = 4, n._nextCollidingGroupId = 1, n._nextNonCollidingGroupId = -1, n._nextCategory = 1, n._baseDelta = 1e3 / 60, n.create = function(e) { var i = { id: a.nextId(), type: "body", label: "Body", parts: [], plugin: {}, attractors: e.attractors || [], wrapBounds: null, angle: 0, vertices: null, position: { x: 0, y: 0 }, force: { x: 0, y: 0 }, torque: 0, positionImpulse: { x: 0, y: 0 }, constraintImpulse: { x: 0, y: 0, angle: 0 }, totalContacts: 0, speed: 0, angularSpeed: 0, velocity: { x: 0, y: 0 }, angularVelocity: 0, isSensor: !1, isStatic: !1, isSleeping: !1, motion: 0, sleepThreshold: 60, density: .001, restitution: 0, friction: .1, frictionStatic: .5, frictionAir: .01, collisionFilter: { category: 1, mask: 4294967295, group: 0 }, slop: .05, timeScale: 1, events: null, bounds: null, chamfer: null, circleRadius: 0, positionPrev: null, anglePrev: 0, parent: null, axes: null, area: 0, mass: 0, inverseMass: 0, inertia: 0, deltaTime: 1e3 / 60, inverseInertia: 0, _original: null, render: { visible: !0, opacity: 1, sprite: { xOffset: 0, yOffset: 0 }, fillColor: null, fillOpacity: null, lineColor: null, lineOpacity: null, lineThickness: null }, gameObject: null, scale: { x: 1, y: 1 }, centerOfMass: { x: 0, y: 0 }, centerOffset: { x: 0, y: 0 }, gravityScale: { x: 1, y: 1 }, ignoreGravity: !1, ignorePointer: !1, onCollideCallback: null, onCollideEndCallback: null, onCollideActiveCallback: null, onCollideWith: {} };!e.hasOwnProperty("position") && e.hasOwnProperty("vertices") ? e.position = r.centre(e.vertices) : e.hasOwnProperty("vertices") || (i.vertices = r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40")); var n = a.extend(i, e); return t(n, e), n.setOnCollideWith = function(t, e) { return e ? this.onCollideWith[t.id] = e : delete this.onCollideWith[t.id], this }, n }, n.nextGroup = function(t) { return t ? n._nextNonCollidingGroupId-- : n._nextCollidingGroupId++ }, n.nextCategory = function() { return n._nextCategory = n._nextCategory << 1, n._nextCategory }; var t = function(t, e) { if (e = e || {}, n.set(t, { bounds: t.bounds || l.create(t.vertices), positionPrev: t.positionPrev || s.clone(t.position), anglePrev: t.anglePrev || t.angle, vertices: t.vertices, parts: t.parts || [t], isStatic: t.isStatic, isSleeping: t.isSleeping, parent: t.parent || t }), r.rotate(t.vertices, t.angle, t.position), h.rotate(t.axes, t.angle), l.update(t.bounds, t.vertices, t.velocity), n.set(t, { axes: e.axes || t.axes, area: e.area || t.area, mass: e.mass || t.mass, inertia: e.inertia || t.inertia }), 1 === t.parts.length) { var i = t.bounds,
								o = t.centerOfMass,
								a = t.centerOffset,
								u = i.max.x - i.min.x,
								c = i.max.y - i.min.y;
							o.x = -(i.min.x - t.position.x) / u, o.y = -(i.min.y - t.position.y) / c, a.x = u * o.x, a.y = c * o.y } };
					n.set = function(t, e, i) { var r; for (r in "string" == typeof e && (r = e, (e = {})[r] = i), e)
							if (Object.prototype.hasOwnProperty.call(e, r)) switch (i = e[r], r) {
								case "isStatic":
									n.setStatic(t, i); break;
								case "isSleeping":
									o.set(t, i); break;
								case "mass":
									n.setMass(t, i); break;
								case "density":
									n.setDensity(t, i); break;
								case "inertia":
									n.setInertia(t, i); break;
								case "vertices":
									n.setVertices(t, i); break;
								case "position":
									n.setPosition(t, i); break;
								case "angle":
									n.setAngle(t, i); break;
								case "velocity":
									n.setVelocity(t, i); break;
								case "angularVelocity":
									n.setAngularVelocity(t, i); break;
								case "speed":
									n.setSpeed(t, i); break;
								case "angularSpeed":
									n.setAngularSpeed(t, i); break;
								case "parts":
									n.setParts(t, i); break;
								case "centre":
									n.setCentre(t, i); break;
								default:
									t[r] = i } }, n.setStatic = function(t, e) { for (var i = 0; i < t.parts.length; i++) { var n = t.parts[i];
							e ? (n.isStatic || (n._original = { restitution: n.restitution, friction: n.friction, mass: n.mass, inertia: n.inertia, density: n.density, inverseMass: n.inverseMass, inverseInertia: n.inverseInertia }), n.restitution = 0, n.friction = 1, n.mass = n.inertia = n.density = 1 / 0, n.inverseMass = n.inverseInertia = 0, n.positionPrev.x = n.position.x, n.positionPrev.y = n.position.y, n.anglePrev = n.angle, n.angularVelocity = 0, n.speed = 0, n.angularSpeed = 0, n.motion = 0) : n._original && (n.restitution = n._original.restitution, n.friction = n._original.friction, n.mass = n._original.mass, n.inertia = n._original.inertia, n.density = n._original.density, n.inverseMass = n._original.inverseMass, n.inverseInertia = n._original.inverseInertia, n._original = null), n.isStatic = e } }, n.setMass = function(t, e) { var i = t.inertia / (t.mass / 6);
						t.inertia = i * (e / 6), t.inverseInertia = 1 / t.inertia, t.mass = e, t.inverseMass = 1 / t.mass, t.density = t.mass / t.area }, n.setDensity = function(t, e) { n.setMass(t, e * t.area), t.density = e }, n.setInertia = function(t, e) { t.inertia = e, t.inverseInertia = 1 / t.inertia }, n.setVertices = function(t, e) { e[0].body === t ? t.vertices = e : t.vertices = r.create(e, t), t.axes = h.fromVertices(t.vertices), t.area = r.area(t.vertices), n.setMass(t, t.density * t.area); var i = r.centre(t.vertices);
						r.translate(t.vertices, i, -1), n.setInertia(t, n._inertiaScale * r.inertia(t.vertices, t.mass)), r.translate(t.vertices, t.position), l.update(t.bounds, t.vertices, t.velocity) }, n.setParts = function(t, e, i) { var s; for (e = e.slice(0), t.parts.length = 0, t.parts.push(t), t.parent = t, s = 0; s < e.length; s++) { var o = e[s];
							o !== t && (o.parent = t, t.parts.push(o)) } if (1 !== t.parts.length) { if (i = void 0 === i || i) { var a = []; for (s = 0; s < e.length; s++) a = a.concat(e[s].vertices);
								r.clockwiseSort(a); var h = r.hull(a),
									u = r.centre(h);
								n.setVertices(t, h), r.translate(t.vertices, u) } var c = n._totalProperties(t),
								d = c.centre.x,
								f = c.centre.y,
								p = t.bounds,
								g = t.centerOfMass,
								m = t.centerOffset;
							l.update(p, t.vertices, t.velocity), g.x = -(p.min.x - d) / (p.max.x - p.min.x), g.y = -(p.min.y - f) / (p.max.y - p.min.y), m.x = d, m.y = f, t.area = c.area, t.parent = t, t.position.x = d, t.position.y = f, t.positionPrev.x = d, t.positionPrev.y = f, n.setMass(t, c.mass), n.setInertia(t, c.inertia), n.setPosition(t, c.centre) } }, n.setCentre = function(t, e, i) { i ? (t.positionPrev.x += e.x, t.positionPrev.y += e.y, t.position.x += e.x, t.position.y += e.y) : (t.positionPrev.x = e.x - (t.position.x - t.positionPrev.x), t.positionPrev.y = e.y - (t.position.y - t.positionPrev.y), t.position.x = e.x, t.position.y = e.y) }, n.setPosition = function(t, e, i) { var n = s.sub(e, t.position);
						i ? (t.positionPrev.x = t.position.x, t.positionPrev.y = t.position.y, t.velocity.x = n.x, t.velocity.y = n.y, t.speed = s.magnitude(n)) : (t.positionPrev.x += n.x, t.positionPrev.y += n.y); for (var o = 0; o < t.parts.length; o++) { var a = t.parts[o];
							a.position.x += n.x, a.position.y += n.y, r.translate(a.vertices, n), l.update(a.bounds, a.vertices, t.velocity) } }, n.setAngle = function(t, e, i) { var n = e - t.angle;
						i ? (t.anglePrev = t.angle, t.angularVelocity = n, t.angularSpeed = Math.abs(n)) : t.anglePrev += n; for (var o = 0; o < t.parts.length; o++) { var a = t.parts[o];
							a.angle += n, r.rotate(a.vertices, n, t.position), h.rotate(a.axes, n), l.update(a.bounds, a.vertices, t.velocity), o > 0 && s.rotateAbout(a.position, n, t.position, a.position) } }, n.setVelocity = function(t, e) { var i = t.deltaTime / n._baseDelta;
						t.positionPrev.x = t.position.x - e.x * i, t.positionPrev.y = t.position.y - e.y * i, t.velocity.x = (t.position.x - t.positionPrev.x) / i, t.velocity.y = (t.position.y - t.positionPrev.y) / i, t.speed = s.magnitude(t.velocity) }, n.getVelocity = function(t) { var e = n._baseDelta / t.deltaTime; return { x: (t.position.x - t.positionPrev.x) * e, y: (t.position.y - t.positionPrev.y) * e } }, n.getSpeed = function(t) { return s.magnitude(n.getVelocity(t)) }, n.setSpeed = function(t, e) { n.setVelocity(t, s.mult(s.normalise(n.getVelocity(t)), e)) }, n.setAngularVelocity = function(t, e) { var i = t.deltaTime / n._baseDelta;
						t.anglePrev = t.angle - e * i, t.angularVelocity = (t.angle - t.anglePrev) / i, t.angularSpeed = Math.abs(t.angularVelocity) }, n.getAngularVelocity = function(t) { return (t.angle - t.anglePrev) * n._baseDelta / t.deltaTime }, n.getAngularSpeed = function(t) { return Math.abs(n.getAngularVelocity(t)) }, n.setAngularSpeed = function(t, e) { n.setAngularVelocity(t, a.sign(n.getAngularVelocity(t)) * e) }, n.translate = function(t, e, i) { n.setPosition(t, s.add(t.position, e), i) }, n.rotate = function(t, e, i, r) { if (i) { var s = Math.cos(e),
								o = Math.sin(e),
								a = t.position.x - i.x,
								l = t.position.y - i.y;
							n.setPosition(t, { x: i.x + (a * s - l * o), y: i.y + (a * o + l * s) }, r), n.setAngle(t, t.angle + e, r) } else n.setAngle(t, t.angle + e, r) }, n.scale = function(t, e, i, s) { var o = 0,
							a = 0;
						s = s || t.position; for (var u = t.inertia === 1 / 0, c = 0; c < t.parts.length; c++) { var d = t.parts[c];
							d.scale.x = e, d.scale.y = i, r.scale(d.vertices, e, i, s), d.axes = h.fromVertices(d.vertices), d.area = r.area(d.vertices), n.setMass(d, t.density * d.area), r.translate(d.vertices, { x: -d.position.x, y: -d.position.y }), n.setInertia(d, n._inertiaScale * r.inertia(d.vertices, d.mass)), r.translate(d.vertices, { x: d.position.x, y: d.position.y }), c > 0 && (o += d.area, a += d.inertia), d.position.x = s.x + (d.position.x - s.x) * e, d.position.y = s.y + (d.position.y - s.y) * i, l.update(d.bounds, d.vertices, t.velocity) } t.parts.length > 1 && (t.area = o, t.isStatic || (n.setMass(t, t.density * o), n.setInertia(t, a))), t.circleRadius && (e === i ? t.circleRadius *= e : t.circleRadius = null), u && n.setInertia(t, 1 / 0) }, n.update = function(t, e) { var i = (e = (void 0 !== e ? e : 1e3 / 60) * t.timeScale) * e,
							o = n._timeCorrection ? e / (t.deltaTime || e) : 1,
							u = 1 - t.frictionAir * (e / a._baseDelta),
							c = (t.position.x - t.positionPrev.x) * o,
							d = (t.position.y - t.positionPrev.y) * o;
						t.velocity.x = c * u + t.force.x / t.mass * i, t.velocity.y = d * u + t.force.y / t.mass * i, t.positionPrev.x = t.position.x, t.positionPrev.y = t.position.y, t.position.x += t.velocity.x, t.position.y += t.velocity.y, t.deltaTime = e, t.angularVelocity = (t.angle - t.anglePrev) * u * o + t.torque / t.inertia * i, t.anglePrev = t.angle, t.angle += t.angularVelocity, t.speed = s.magnitude(t.velocity), t.angularSpeed = Math.abs(t.angularVelocity); for (var f = 0; f < t.parts.length; f++) { var p = t.parts[f];
							r.translate(p.vertices, t.velocity), f > 0 && (p.position.x += t.velocity.x, p.position.y += t.velocity.y), 0 !== t.angularVelocity && (r.rotate(p.vertices, t.angularVelocity, t.position), h.rotate(p.axes, t.angularVelocity), f > 0 && s.rotateAbout(p.position, t.angularVelocity, t.position, p.position)), l.update(p.bounds, p.vertices, t.velocity) } }, n.updateVelocities = function(t) { var e = n._baseDelta / t.deltaTime,
							i = t.velocity;
						i.x = (t.position.x - t.positionPrev.x) * e, i.y = (t.position.y - t.positionPrev.y) * e, t.speed = Math.sqrt(i.x * i.x + i.y * i.y), t.angularVelocity = (t.angle - t.anglePrev) * e, t.angularSpeed = Math.abs(t.angularVelocity) }, n.applyForce = function(t, e, i) { var n = e.x - t.position.x,
							r = e.y - t.position.y;
						t.force.x += i.x, t.force.y += i.y, t.torque += n * i.y - r * i.x }, n._totalProperties = function(t) { for (var e = { mass: 0, area: 0, inertia: 0, centre: { x: 0, y: 0 } }, i = 1 === t.parts.length ? 0 : 1; i < t.parts.length; i++) { var n = t.parts[i],
								r = n.mass !== 1 / 0 ? n.mass : 1;
							e.mass += r, e.area += n.area, e.inertia += n.inertia, e.centre = s.add(e.centre, s.mult(n.position, r)) } return e.centre = s.div(e.centre, e.mass), e }, n.wrap = function(t, e) { var i = l.wrap(t.bounds, e); return i && n.translate(t, i), i } }() }, 69351: (t, e, i) => { var n = {};
				t.exports = n; var r = i(35810),
					s = i(53402),
					o = i(15647),
					a = i(22562);
				n.create = function(t) { return s.extend({ id: s.nextId(), type: "composite", parent: null, isModified: !1, bodies: [], constraints: [], composites: [], label: "Composite", plugin: {}, wrapBounds: null, cache: { allBodies: null, allConstraints: null, allComposites: null } }, t) }, n.setModified = function(t, e, i, s) { if (r.trigger(t, "compositeModified", t), t.isModified = e, e && t.cache && (t.cache.allBodies = null, t.cache.allConstraints = null, t.cache.allComposites = null), i && t.parent && n.setModified(t.parent, e, i, s), s)
						for (var o = 0; o < t.composites.length; o++) { var a = t.composites[o];
							n.setModified(a, e, i, s) } }, n.add = function(t, e) { var i = [].concat(e);
					r.trigger(t, "beforeAdd", { object: e }); for (var o = 0; o < i.length; o++) { var a = i[o]; switch (a.type) {
							case "body":
								if (a.parent !== a) { s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)"); break } n.addBody(t, a); break;
							case "constraint":
								n.addConstraint(t, a); break;
							case "composite":
								n.addComposite(t, a); break;
							case "mouseConstraint":
								n.addConstraint(t, a.constraint) } } return r.trigger(t, "afterAdd", { object: e }), t }, n.remove = function(t, e, i) { var s = [].concat(e);
					r.trigger(t, "beforeRemove", { object: e }); for (var o = 0; o < s.length; o++) { var a = s[o]; switch (a.type) {
							case "body":
								n.removeBody(t, a, i); break;
							case "constraint":
								n.removeConstraint(t, a, i); break;
							case "composite":
								n.removeComposite(t, a, i); break;
							case "mouseConstraint":
								n.removeConstraint(t, a.constraint) } } return r.trigger(t, "afterRemove", { object: e }), t }, n.addComposite = function(t, e) { return t.composites.push(e), e.parent = t, n.setModified(t, !0, !0, !1), t }, n.removeComposite = function(t, e, i) { var r = s.indexOf(t.composites, e); if (-1 !== r) { var o = n.allBodies(e);
						n.removeCompositeAt(t, r); for (var a = 0; a < o.length; a++) o[a].sleepCounter = 0 } if (i)
						for (a = 0; a < t.composites.length; a++) n.removeComposite(t.composites[a], e, !0); return t }, n.removeCompositeAt = function(t, e) { return t.composites.splice(e, 1), n.setModified(t, !0, !0, !1), t }, n.addBody = function(t, e) { return t.bodies.push(e), n.setModified(t, !0, !0, !1), t }, n.removeBody = function(t, e, i) { var r = s.indexOf(t.bodies, e); if (-1 !== r && (n.removeBodyAt(t, r), e.sleepCounter = 0), i)
						for (var o = 0; o < t.composites.length; o++) n.removeBody(t.composites[o], e, !0); return t }, n.removeBodyAt = function(t, e) { return t.bodies.splice(e, 1), n.setModified(t, !0, !0, !1), t }, n.addConstraint = function(t, e) { return t.constraints.push(e), n.setModified(t, !0, !0, !1), t }, n.removeConstraint = function(t, e, i) { var r = s.indexOf(t.constraints, e); if (-1 !== r && n.removeConstraintAt(t, r), i)
						for (var o = 0; o < t.composites.length; o++) n.removeConstraint(t.composites[o], e, !0); return t }, n.removeConstraintAt = function(t, e) { return t.constraints.splice(e, 1), n.setModified(t, !0, !0, !1), t }, n.clear = function(t, e, i) { if (i)
						for (var r = 0; r < t.composites.length; r++) n.clear(t.composites[r], e, !0); return e ? t.bodies = t.bodies.filter((function(t) { return t.isStatic })) : t.bodies.length = 0, t.constraints.length = 0, t.composites.length = 0, n.setModified(t, !0, !0, !1), t }, n.allBodies = function(t) { if (t.cache && t.cache.allBodies) return t.cache.allBodies; for (var e = [].concat(t.bodies), i = 0; i < t.composites.length; i++) e = e.concat(n.allBodies(t.composites[i])); return t.cache && (t.cache.allBodies = e), e }, n.allConstraints = function(t) { if (t.cache && t.cache.allConstraints) return t.cache.allConstraints; for (var e = [].concat(t.constraints), i = 0; i < t.composites.length; i++) e = e.concat(n.allConstraints(t.composites[i])); return t.cache && (t.cache.allConstraints = e), e }, n.allComposites = function(t) { if (t.cache && t.cache.allComposites) return t.cache.allComposites; for (var e = [].concat(t.composites), i = 0; i < t.composites.length; i++) e = e.concat(n.allComposites(t.composites[i])); return t.cache && (t.cache.allComposites = e), e }, n.get = function(t, e, i) { var r, s; switch (i) {
						case "body":
							r = n.allBodies(t); break;
						case "constraint":
							r = n.allConstraints(t); break;
						case "composite":
							r = n.allComposites(t).concat(t) } return r ? 0 === (s = r.filter((function(t) { return t.id.toString() === e.toString() }))).length ? null : s[0] : null }, n.move = function(t, e, i) { return n.remove(t, e), n.add(i, e), t }, n.rebase = function(t) { for (var e = n.allBodies(t).concat(n.allConstraints(t)).concat(n.allComposites(t)), i = 0; i < e.length; i++) e[i].id = s.nextId(); return t }, n.translate = function(t, e, i) { for (var r = i ? n.allBodies(t) : t.bodies, s = 0; s < r.length; s++) a.translate(r[s], e); return t }, n.rotate = function(t, e, i, r) { for (var s = Math.cos(e), o = Math.sin(e), l = r ? n.allBodies(t) : t.bodies, h = 0; h < l.length; h++) { var u = l[h],
							c = u.position.x - i.x,
							d = u.position.y - i.y;
						a.setPosition(u, { x: i.x + (c * s - d * o), y: i.y + (c * o + d * s) }), a.rotate(u, e) } return t }, n.scale = function(t, e, i, r, s) { for (var o = s ? n.allBodies(t) : t.bodies, l = 0; l < o.length; l++) { var h = o[l],
							u = h.position.x - r.x,
							c = h.position.y - r.y;
						a.setPosition(h, { x: r.x + u * e, y: r.y + c * i }), a.scale(h, e, i) } return t }, n.bounds = function(t) { for (var e = n.allBodies(t), i = [], r = 0; r < e.length; r += 1) { var s = e[r];
						i.push(s.bounds.min, s.bounds.max) } return o.create(i) }, n.wrap = function(t, e) { var i = o.wrap(n.bounds(t), e); return i && n.translate(t, i), i } }, 4372: (t, e, i) => { var n = {};
				t.exports = n; var r = i(69351);
				n.create = r.create, n.add = r.add, n.remove = r.remove, n.clear = r.clear, n.addComposite = r.addComposite, n.addBody = r.addBody, n.addConstraint = r.addConstraint }, 52284: (t, e, i) => { var n = {};
				t.exports = n; var r, s, o, a = i(41598),
					l = i(4506);
				r = [], s = { overlap: 0, axis: null }, o = { overlap: 0, axis: null }, n.create = function(t, e) { return { pair: null, collided: !1, bodyA: t, bodyB: e, parentA: t.parent, parentB: e.parent, depth: 0, normal: { x: 0, y: 0 }, tangent: { x: 0, y: 0 }, penetration: { x: 0, y: 0 }, supports: [null, null], supportCount: 0 } }, n.collides = function(t, e, i) { if (n._overlapAxes(s, t.vertices, e.vertices, t.axes), s.overlap <= 0) return null; if (n._overlapAxes(o, e.vertices, t.vertices, e.axes), o.overlap <= 0) return null; var r, h, u = i && i.table[l.id(t, e)];
					u ? r = u.collision : ((r = n.create(t, e)).collided = !0, r.bodyA = t.id < e.id ? t : e, r.bodyB = t.id < e.id ? e : t, r.parentA = r.bodyA.parent, r.parentB = r.bodyB.parent), t = r.bodyA, e = r.bodyB, h = s.overlap < o.overlap ? s : o; var c = r.normal,
						d = r.tangent,
						f = r.penetration,
						p = r.supports,
						g = h.overlap,
						m = h.axis,
						v = m.x,
						y = m.y;
					v * (e.position.x - t.position.x) + y * (e.position.y - t.position.y) >= 0 && (v = -v, y = -y), c.x = v, c.y = y, d.x = -y, d.y = v, f.x = v * g, f.y = y * g, r.depth = g; var x = n._findSupports(t, e, c, 1),
						b = 0; if (a.contains(t.vertices, x[0]) && (p[b++] = x[0]), a.contains(t.vertices, x[1]) && (p[b++] = x[1]), b < 2) { var w = n._findSupports(e, t, c, -1);
						a.contains(e.vertices, w[0]) && (p[b++] = w[0]), b < 2 && a.contains(e.vertices, w[1]) && (p[b++] = w[1]) } return 0 === b && (p[b++] = x[0]), r.supportCount = b, r }, n._overlapAxes = function(t, e, i, n) { var r, s, o, a, l, h, u = e.length,
						c = i.length,
						d = e[0].x,
						f = e[0].y,
						p = i[0].x,
						g = i[0].y,
						m = n.length,
						v = Number.MAX_VALUE,
						y = 0; for (l = 0; l < m; l++) { var x = n[l],
							b = x.x,
							w = x.y,
							T = d * b + f * w,
							S = p * b + g * w,
							_ = T,
							E = S; for (h = 1; h < u; h += 1)(a = e[h].x * b + e[h].y * w) > _ ? _ = a : a < T && (T = a); for (h = 1; h < c; h += 1)(a = i[h].x * b + i[h].y * w) > E ? E = a : a < S && (S = a); if ((r = (s = _ - S) < (o = E - T) ? s : o) < v && (v = r, y = l, r <= 0)) break } t.axis = n[y], t.overlap = v }, n._findSupports = function(t, e, i, n) { var s, o, a, l = e.vertices,
						h = l.length,
						u = t.position.x,
						c = t.position.y,
						d = i.x * n,
						f = i.y * n,
						p = l[0],
						g = p,
						m = d * (u - g.x) + f * (c - g.y); for (a = 1; a < h; a += 1)(o = d * (u - (g = l[a]).x) + f * (c - g.y)) < m && (m = o, p = g); return m = d * (u - (s = l[(h + p.index - 1) % h]).x) + f * (c - s.y), d * (u - (g = l[(p.index + 1) % h]).x) + f * (c - g.y) < m ? (r[0] = p, r[1] = g, r) : (r[0] = p, r[1] = s, r) } }, 43424: t => { var e = {};
				t.exports = e, e.create = function(t) { return { vertex: t, normalImpulse: 0, tangentImpulse: 0 } } }, 81388: (t, e, i) => { var n = {};
				t.exports = n; var r = i(53402),
					s = i(52284);
				n.create = function(t) { return r.extend({ bodies: [], collisions: [], pairs: null }, t) }, n.setBodies = function(t, e) { t.bodies = e.slice(0) }, n.clear = function(t) { t.bodies = [], t.collisions = [] }, n.collisions = function(t) { var e, i, r = t.pairs,
						o = t.bodies,
						a = o.length,
						l = n.canCollide,
						h = s.collides,
						u = t.collisions,
						c = 0; for (o.sort(n._compareBoundsX), e = 0; e < a; e++) { var d = o[e],
							f = d.bounds,
							p = d.bounds.max.x,
							g = d.bounds.max.y,
							m = d.bounds.min.y,
							v = d.isStatic || d.isSleeping,
							y = d.parts.length,
							x = 1 === y; for (i = e + 1; i < a; i++) { var b = o[i]; if ((k = b.bounds).min.x > p) break; if (!(g < k.min.y || m > k.max.y) && (!v || !b.isStatic && !b.isSleeping) && l(d.collisionFilter, b.collisionFilter)) { var w = b.parts.length; if (x && 1 === w)(A = h(d, b, r)) && (u[c++] = A);
								else
									for (var T = w > 1 ? 1 : 0, S = y > 1 ? 1 : 0; S < y; S++)
										for (var _ = d.parts[S], E = (f = _.bounds, T); E < w; E++) { var A, C = b.parts[E],
												k = C.bounds;
											f.min.x > k.max.x || f.max.x < k.min.x || f.max.y < k.min.y || f.min.y > k.max.y || (A = h(_, C, r)) && (u[c++] = A) } } } } return u.length !== c && (u.length = c), u }, n.canCollide = function(t, e) { return t.group === e.group && 0 !== t.group ? t.group > 0 : !!(t.mask & e.category) && !!(e.mask & t.category) }, n._compareBoundsX = function(t, e) { return t.bounds.min.x - e.bounds.min.x } }, 4506: (t, e, i) => { var n = {};
				t.exports = n; var r = i(43424);
				n.create = function(t, e) { var i = t.bodyA,
						s = t.bodyB,
						o = { id: n.id(i, s), bodyA: i, bodyB: s, collision: t, contacts: [r.create(), r.create()], contactCount: 0, separation: 0, isActive: !0, isSensor: i.isSensor || s.isSensor, timeCreated: e, timeUpdated: e, inverseMass: 0, friction: 0, frictionStatic: 0, restitution: 0, slop: 0 }; return n.update(o, t, e), o }, n.update = function(t, e, i) { var n = e.supports,
						r = e.supportCount,
						s = t.contacts,
						o = e.parentA,
						a = e.parentB;
					t.isActive = !0, t.timeUpdated = i, t.collision = e, t.separation = e.depth, t.inverseMass = o.inverseMass + a.inverseMass, t.friction = o.friction < a.friction ? o.friction : a.friction, t.frictionStatic = o.frictionStatic > a.frictionStatic ? o.frictionStatic : a.frictionStatic, t.restitution = o.restitution > a.restitution ? o.restitution : a.restitution, t.slop = o.slop > a.slop ? o.slop : a.slop, t.contactCount = r, e.pair = t; var l = n[0],
						h = s[0],
						u = n[1],
						c = s[1];
					c.vertex !== l && h.vertex !== u || (s[1] = h, s[0] = h = c, c = s[1]), h.vertex = l, c.vertex = u }, n.setActive = function(t, e, i) { e ? (t.isActive = !0, t.timeUpdated = i) : (t.isActive = !1, t.contactCount = 0) }, n.id = function(t, e) { return t.id < e.id ? t.id.toString(36) + ":" + e.id.toString(36) : e.id.toString(36) + ":" + t.id.toString(36) } }, 99561: (t, e, i) => { var n = {};
				t.exports = n; var r = i(4506),
					s = i(53402);
				n.create = function(t) { return s.extend({ table: {}, list: [], collisionStart: [], collisionActive: [], collisionEnd: [] }, t) }, n.update = function(t, e, i) { var n, s, o, a = r.update,
						l = r.create,
						h = r.setActive,
						u = t.table,
						c = t.list,
						d = c.length,
						f = d,
						p = t.collisionStart,
						g = t.collisionEnd,
						m = t.collisionActive,
						v = e.length,
						y = 0,
						x = 0,
						b = 0; for (o = 0; o < v; o++)(s = (n = e[o]).pair) ? (s.isActive && (m[b++] = s), a(s, n, i)) : (u[(s = l(n, i)).id] = s, p[y++] = s, c[f++] = s); for (f = 0, d = c.length, o = 0; o < d; o++)(s = c[o]).timeUpdated >= i ? c[f++] = s : (h(s, !1, i), s.collision.bodyA.sleepCounter > 0 && s.collision.bodyB.sleepCounter > 0 ? c[f++] = s : (g[x++] = s, delete u[s.id]));
					c.length !== f && (c.length = f), p.length !== y && (p.length = y), g.length !== x && (g.length = x), m.length !== b && (m.length = b) }, n.clear = function(t) { return t.table = {}, t.list.length = 0, t.collisionStart.length = 0, t.collisionActive.length = 0, t.collisionEnd.length = 0, t } }, 73296: (t, e, i) => { var n = {};
				t.exports = n; var r = i(31725),
					s = i(52284),
					o = i(15647),
					a = i(66280),
					l = i(41598);
				n.collides = function(t, e) { for (var i = [], n = e.length, r = t.bounds, a = s.collides, l = o.overlaps, h = 0; h < n; h++) { var u = e[h],
							c = u.parts.length,
							d = 1 === c ? 0 : 1; if (t !== u && l(u.bounds, r))
							for (var f = d; f < c; f++) { var p = u.parts[f]; if (l(p.bounds, r)) { var g = a(p, t); if (g) { i.push(g); break } } } } return i }, n.ray = function(t, e, i, s) { s = s || 1e-100; for (var o = r.angle(e, i), l = r.magnitude(r.sub(e, i)), h = .5 * (i.x + e.x), u = .5 * (i.y + e.y), c = a.rectangle(h, u, l, s, { angle: o }), d = n.collides(c, t), f = 0; f < d.length; f += 1) { var p = d[f];
						p.body = p.bodyB = p.bodyA } return d }, n.region = function(t, e, i) { for (var n = [], r = 0; r < t.length; r++) { var s = t[r],
							a = o.overlaps(s.bounds, e);
						(a && !i || !a && i) && n.push(s) } return n }, n.point = function(t, e) { for (var i = [], n = 0; n < t.length; n++) { var r = t[n]; if (o.contains(r.bounds, e))
							for (var s = 1 === r.parts.length ? 0 : 1; s < r.parts.length; s++) { var a = r.parts[s]; if (o.contains(a.bounds, e) && l.contains(a.vertices, e)) { i.push(r); break } } } return i } }, 66272: (t, e, i) => { var n = {};
				t.exports = n; var r = i(41598),
					s = i(53402),
					o = i(15647);
				n._restingThresh = 2, n._restingThreshTangent = Math.sqrt(6), n._positionDampen = .9, n._positionWarming = .8, n._frictionNormalMultiplier = 5, n._frictionMaxStatic = Number.MAX_VALUE, n.preSolvePosition = function(t) { var e, i, n, r = t.length; for (e = 0; e < r; e++)(i = t[e]).isActive && (n = i.contactCount, i.collision.parentA.totalContacts += n, i.collision.parentB.totalContacts += n) }, n.solvePosition = function(t, e, i) { var r, o, a, l, h, u, c, d, f = n._positionDampen * (i || 1),
						p = s.clamp(e / s._baseDelta, 0, 1),
						g = t.length; for (r = 0; r < g; r++)(o = t[r]).isActive && !o.isSensor && (l = (a = o.collision).parentA, h = a.parentB, u = a.normal, o.separation = a.depth + u.x * (h.positionImpulse.x - l.positionImpulse.x) + u.y * (h.positionImpulse.y - l.positionImpulse.y)); for (r = 0; r < g; r++)(o = t[r]).isActive && !o.isSensor && (l = (a = o.collision).parentA, h = a.parentB, u = a.normal, d = o.separation - o.slop * p, (l.isStatic || h.isStatic) && (d *= 2), l.isStatic || l.isSleeping || (c = f / l.totalContacts, l.positionImpulse.x += u.x * d * c, l.positionImpulse.y += u.y * d * c), h.isStatic || h.isSleeping || (c = f / h.totalContacts, h.positionImpulse.x -= u.x * d * c, h.positionImpulse.y -= u.y * d * c)) }, n.postSolvePosition = function(t) { for (var e = n._positionWarming, i = t.length, s = r.translate, a = o.update, l = 0; l < i; l++) { var h = t[l],
							u = h.positionImpulse,
							c = u.x,
							d = u.y,
							f = h.velocity; if (h.totalContacts = 0, 0 !== c || 0 !== d) { for (var p = 0; p < h.parts.length; p++) { var g = h.parts[p];
								s(g.vertices, u), a(g.bounds, g.vertices, f), g.position.x += c, g.position.y += d } h.positionPrev.x += c, h.positionPrev.y += d, c * f.x + d * f.y < 0 ? (u.x = 0, u.y = 0) : (u.x *= e, u.y *= e) } } }, n.preSolveVelocity = function(t) { var e, i, n = t.length; for (e = 0; e < n; e++) { var r = t[e]; if (r.isActive && !r.isSensor) { var s = r.contacts,
								o = r.contactCount,
								a = r.collision,
								l = a.parentA,
								h = a.parentB,
								u = a.normal,
								c = a.tangent; for (i = 0; i < o; i++) { var d = s[i],
									f = d.vertex,
									p = d.normalImpulse,
									g = d.tangentImpulse; if (0 !== p || 0 !== g) { var m = u.x * p + c.x * g,
										v = u.y * p + c.y * g;
									l.isStatic || l.isSleeping || (l.positionPrev.x += m * l.inverseMass, l.positionPrev.y += v * l.inverseMass, l.anglePrev += l.inverseInertia * ((f.x - l.position.x) * v - (f.y - l.position.y) * m)), h.isStatic || h.isSleeping || (h.positionPrev.x -= m * h.inverseMass, h.positionPrev.y -= v * h.inverseMass, h.anglePrev -= h.inverseInertia * ((f.x - h.position.x) * v - (f.y - h.position.y) * m)) } } } } }, n.solveVelocity = function(t, e) { var i, r, o, a, l = e / s._baseDelta,
						h = l * l * l,
						u = -n._restingThresh * l,
						c = n._restingThreshTangent,
						d = n._frictionNormalMultiplier * l,
						f = n._frictionMaxStatic,
						p = t.length; for (o = 0; o < p; o++) { var g = t[o]; if (g.isActive && !g.isSensor) { var m = g.collision,
								v = m.parentA,
								y = m.parentB,
								x = m.normal.x,
								b = m.normal.y,
								w = m.tangent.x,
								T = m.tangent.y,
								S = g.inverseMass,
								_ = g.friction * g.frictionStatic * d,
								E = g.contacts,
								A = g.contactCount,
								C = 1 / A,
								k = v.position.x - v.positionPrev.x,
								P = v.position.y - v.positionPrev.y,
								O = v.angle - v.anglePrev,
								R = y.position.x - y.positionPrev.x,
								M = y.position.y - y.positionPrev.y,
								L = y.angle - y.anglePrev; for (a = 0; a < A; a++) { var D = E[a],
									F = D.vertex,
									I = F.x - v.position.x,
									B = F.y - v.position.y,
									N = F.x - y.position.x,
									z = F.y - y.position.y,
									U = k - B * O - (R - z * L),
									Y = P + I * O - (M + N * L),
									X = x * U + b * Y,
									G = w * U + T * Y,
									H = g.separation + X,
									W = Math.min(H, 1),
									V = (W = H < 0 ? 0 : W) * _;
								G < -V || G > V ? (r = G > 0 ? G : -G, (i = g.friction * (G > 0 ? 1 : -1) * h) < -r ? i = -r : i > r && (i = r)) : (i = G, r = f); var j = I * b - B * x,
									$ = N * b - z * x,
									q = C / (S + v.inverseInertia * j * j + y.inverseInertia * $ * $),
									K = (1 + g.restitution) * X * q; if (i *= q, X < u) D.normalImpulse = 0;
								else { var Z = D.normalImpulse;
									D.normalImpulse += K, D.normalImpulse > 0 && (D.normalImpulse = 0), K = D.normalImpulse - Z } if (G < -c || G > c) D.tangentImpulse = 0;
								else { var J = D.tangentImpulse;
									D.tangentImpulse += i, D.tangentImpulse < -r && (D.tangentImpulse = -r), D.tangentImpulse > r && (D.tangentImpulse = r), i = D.tangentImpulse - J } var Q = x * K + w * i,
									tt = b * K + T * i;
								v.isStatic || v.isSleeping || (v.positionPrev.x += Q * v.inverseMass, v.positionPrev.y += tt * v.inverseMass, v.anglePrev += (I * tt - B * Q) * v.inverseInertia), y.isStatic || y.isSleeping || (y.positionPrev.x -= Q * y.inverseMass, y.positionPrev.y -= tt * y.inverseMass, y.anglePrev -= (N * tt - z * Q) * y.inverseInertia) } } } } }, 48140: (t, e, i) => { var n = {};
				t.exports = n; var r = i(41598),
					s = i(31725),
					o = i(53614),
					a = i(15647),
					l = i(66615),
					h = i(53402);
				n._warming = .4, n._torqueDampen = 1, n._minLength = 1e-6, n.create = function(t) { var e = t;
					e.bodyA && !e.pointA && (e.pointA = { x: 0, y: 0 }), e.bodyB && !e.pointB && (e.pointB = { x: 0, y: 0 }); var i = e.bodyA ? s.add(e.bodyA.position, e.pointA) : e.pointA,
						n = e.bodyB ? s.add(e.bodyB.position, e.pointB) : e.pointB,
						r = s.magnitude(s.sub(i, n));
					e.length = void 0 !== e.length ? e.length : r, e.id = e.id || h.nextId(), e.label = e.label || "Constraint", e.type = "constraint", e.stiffness = e.stiffness || (e.length > 0 ? 1 : .7), e.damping = e.damping || 0, e.angularStiffness = e.angularStiffness || 0, e.angleA = e.bodyA ? e.bodyA.angle : e.angleA, e.angleB = e.bodyB ? e.bodyB.angle : e.angleB, e.plugin = {}; var o = { visible: !0, type: "line", anchors: !0, lineColor: null, lineOpacity: null, lineThickness: null, pinSize: null, anchorColor: null, anchorSize: null }; return 0 === e.length && e.stiffness > .1 ? (o.type = "pin", o.anchors = !1) : e.stiffness < .9 && (o.type = "spring"), e.render = h.extend(o, e.render), e }, n.preSolveAll = function(t) { for (var e = 0; e < t.length; e += 1) { var i = t[e],
							n = i.constraintImpulse;
						i.isStatic || 0 === n.x && 0 === n.y && 0 === n.angle || (i.position.x += n.x, i.position.y += n.y, i.angle += n.angle) } }, n.solveAll = function(t, e) { for (var i = h.clamp(e / h._baseDelta, 0, 1), r = 0; r < t.length; r += 1) { var s = t[r],
							o = !s.bodyA || s.bodyA && s.bodyA.isStatic,
							a = !s.bodyB || s.bodyB && s.bodyB.isStatic;
						(o || a) && n.solve(t[r], i) } for (r = 0; r < t.length; r += 1) o = !(s = t[r]).bodyA || s.bodyA && s.bodyA.isStatic, a = !s.bodyB || s.bodyB && s.bodyB.isStatic, o || a || n.solve(t[r], i) }, n.solve = function(t, e) { var i = t.bodyA,
						r = t.bodyB,
						o = t.pointA,
						a = t.pointB; if (i || r) { i && !i.isStatic && (s.rotate(o, i.angle - t.angleA, o), t.angleA = i.angle), r && !r.isStatic && (s.rotate(a, r.angle - t.angleB, a), t.angleB = r.angle); var l = o,
							h = a; if (i && (l = s.add(i.position, o)), r && (h = s.add(r.position, a)), l && h) { var u = s.sub(l, h),
								c = s.magnitude(u);
							c < n._minLength && (c = n._minLength); var d, f, p, g, m, v = (c - t.length) / c,
								y = t.stiffness >= 1 || 0 === t.length ? t.stiffness * e : t.stiffness * e * e,
								x = t.damping * e,
								b = s.mult(u, v * y),
								w = (i ? i.inverseMass : 0) + (r ? r.inverseMass : 0),
								T = w + ((i ? i.inverseInertia : 0) + (r ? r.inverseInertia : 0)); if (x > 0) { var S = s.create();
								p = s.div(u, c), m = s.sub(r && s.sub(r.position, r.positionPrev) || S, i && s.sub(i.position, i.positionPrev) || S), g = s.dot(p, m) } i && !i.isStatic && (f = i.inverseMass / w, i.constraintImpulse.x -= b.x * f, i.constraintImpulse.y -= b.y * f, i.position.x -= b.x * f, i.position.y -= b.y * f, x > 0 && (i.positionPrev.x -= x * p.x * g * f, i.positionPrev.y -= x * p.y * g * f), d = s.cross(o, b) / T * n._torqueDampen * i.inverseInertia * (1 - t.angularStiffness), i.constraintImpulse.angle -= d, i.angle -= d), r && !r.isStatic && (f = r.inverseMass / w, r.constraintImpulse.x += b.x * f, r.constraintImpulse.y += b.y * f, r.position.x += b.x * f, r.position.y += b.y * f, x > 0 && (r.positionPrev.x += x * p.x * g * f, r.positionPrev.y += x * p.y * g * f), d = s.cross(a, b) / T * n._torqueDampen * r.inverseInertia * (1 - t.angularStiffness), r.constraintImpulse.angle += d, r.angle += d) } } }, n.postSolveAll = function(t) { for (var e = 0; e < t.length; e++) { var i = t[e],
							h = i.constraintImpulse; if (!(i.isStatic || 0 === h.x && 0 === h.y && 0 === h.angle)) { o.set(i, !1); for (var u = 0; u < i.parts.length; u++) { var c = i.parts[u];
								r.translate(c.vertices, h), u > 0 && (c.position.x += h.x, c.position.y += h.y), 0 !== h.angle && (r.rotate(c.vertices, h.angle, i.position), l.rotate(c.axes, h.angle), u > 0 && s.rotateAbout(c.position, h.angle, i.position, c.position)), a.update(c.bounds, c.vertices, i.velocity) } h.angle *= n._warming, h.x *= n._warming, h.y *= n._warming } } }, n.pointAWorld = function(t) { return { x: (t.bodyA ? t.bodyA.position.x : 0) + (t.pointA ? t.pointA.x : 0), y: (t.bodyA ? t.bodyA.position.y : 0) + (t.pointA ? t.pointA.y : 0) } }, n.pointBWorld = function(t) { return { x: (t.bodyB ? t.bodyB.position.x : 0) + (t.pointB ? t.pointB.x : 0), y: (t.bodyB ? t.bodyB.position.y : 0) + (t.pointB ? t.pointB.y : 0) } }, n.currentLength = function(t) { var e = (t.bodyA ? t.bodyA.position.x : 0) + (t.pointA ? t.pointA.x : 0),
						i = (t.bodyA ? t.bodyA.position.y : 0) + (t.pointA ? t.pointA.y : 0),
						n = e - ((t.bodyB ? t.bodyB.position.x : 0) + (t.pointB ? t.pointB.x : 0)),
						r = i - ((t.bodyB ? t.bodyB.position.y : 0) + (t.pointB ? t.pointB.y : 0)); return Math.sqrt(n * n + r * r) } }, 53402: (t, e, i) => { var n = {};
				t.exports = n,
					function() { n._baseDelta = 1e3 / 60, n._nextId = 0, n._seed = 0, n._nowStartTime = +new Date, n._warnedOnce = {}, n._decomp = null, n.extend = function(t, e) { var i, r; "boolean" == typeof e ? (i = 2, r = e) : (i = 1, r = !0); for (var s = i; s < arguments.length; s++) { var o = arguments[s]; if (o)
									for (var a in o) r && o[a] && o[a].constructor === Object ? t[a] && t[a].constructor !== Object ? t[a] = o[a] : (t[a] = t[a] || {}, n.extend(t[a], r, o[a])) : t[a] = o[a] } return t }, n.clone = function(t, e) { return n.extend({}, e, t) }, n.keys = function(t) { if (Object.keys) return Object.keys(t); var e = []; for (var i in t) e.push(i); return e }, n.values = function(t) { var e = []; if (Object.keys) { for (var i = Object.keys(t), n = 0; n < i.length; n++) e.push(t[i[n]]); return e } for (var r in t) e.push(t[r]); return e }, n.get = function(t, e, i, n) { e = e.split(".").slice(i, n); for (var r = 0; r < e.length; r += 1) t = t[e[r]]; return t }, n.set = function(t, e, i, r, s) { var o = e.split(".").slice(r, s); return n.get(t, e, 0, -1)[o[o.length - 1]] = i, i }, n.shuffle = function(t) { for (var e = t.length - 1; e > 0; e--) { var i = Math.floor(n.random() * (e + 1)),
									r = t[e];
								t[e] = t[i], t[i] = r } return t }, n.choose = function(t) { return t[Math.floor(n.random() * t.length)] }, n.isElement = function(t) { return "undefined" != typeof HTMLElement ? t instanceof HTMLElement : !!(t && t.nodeType && t.nodeName) }, n.isArray = function(t) { return "[object Array]" === Object.prototype.toString.call(t) }, n.isFunction = function(t) { return "function" == typeof t }, n.isPlainObject = function(t) { return "object" == typeof t && t.constructor === Object }, n.isString = function(t) { return "[object String]" === toString.call(t) }, n.clamp = function(t, e, i) { return t < e ? e : t > i ? i : t }, n.sign = function(t) { return t < 0 ? -1 : 1 }, n.now = function() { if ("undefined" != typeof window && window.performance) { if (window.performance.now) return window.performance.now(); if (window.performance.webkitNow) return window.performance.webkitNow() } return Date.now ? Date.now() : new Date - n._nowStartTime }, n.random = function(e, i) { return i = void 0 !== i ? i : 1, (e = void 0 !== e ? e : 0) + t() * (i - e) }; var t = function() { return n._seed = (9301 * n._seed + 49297) % 233280, n._seed / 233280 };
						n.colorToNumber = function(t) { return 3 == (t = t.replace("#", "")).length && (t = t.charAt(0) + t.charAt(0) + t.charAt(1) + t.charAt(1) + t.charAt(2) + t.charAt(2)), parseInt(t, 16) }, n.logLevel = 1, n.log = function() { console && n.logLevel > 0 && n.logLevel <= 3 && console.log.apply(console, ["matter-js:"].concat(Array.prototype.slice.call(arguments))) }, n.info = function() { console && n.logLevel > 0 && n.logLevel <= 2 && console.info.apply(console, ["matter-js:"].concat(Array.prototype.slice.call(arguments))) }, n.warn = function() { console && n.logLevel > 0 && n.logLevel <= 3 && console.warn.apply(console, ["matter-js:"].concat(Array.prototype.slice.call(arguments))) }, n.warnOnce = function() { var t = Array.prototype.slice.call(arguments).join(" ");
							n._warnedOnce[t] || (n.warn(t), n._warnedOnce[t] = !0) }, n.deprecated = function(t, e, i) { t[e] = n.chain((function() { n.warnOnce("🔅 deprecated 🔅", i) }), t[e]) }, n.nextId = function() { return n._nextId++ }, n.indexOf = function(t, e) { if (t.indexOf) return t.indexOf(e); for (var i = 0; i < t.length; i++)
								if (t[i] === e) return i; return -1 }, n.map = function(t, e) { if (t.map) return t.map(e); for (var i = [], n = 0; n < t.length; n += 1) i.push(e(t[n])); return i }, n.topologicalSort = function(t) { var e = [],
								i = [],
								r = []; for (var s in t) i[s] || r[s] || n._topologicalSort(s, i, r, t, e); return e }, n._topologicalSort = function(t, e, i, r, s) { var o = r[t] || [];
							i[t] = !0; for (var a = 0; a < o.length; a += 1) { var l = o[a];
								i[l] || e[l] || n._topologicalSort(l, e, i, r, s) } i[t] = !1, e[t] = !0, s.push(t) }, n.chain = function() { for (var t = [], e = 0; e < arguments.length; e += 1) { var i = arguments[e];
								i._chained ? t.push.apply(t, i._chained) : t.push(i) } var n = function() { for (var e, i = new Array(arguments.length), n = 0, r = arguments.length; n < r; n++) i[n] = arguments[n]; for (n = 0; n < t.length; n += 1) { var s = t[n].apply(e, i);
									void 0 !== s && (e = s) } return e }; return n._chained = t, n }, n.chainPathBefore = function(t, e, i) { return n.set(t, e, n.chain(i, n.get(t, e))) }, n.chainPathAfter = function(t, e, i) { return n.set(t, e, n.chain(n.get(t, e), i)) }, n.setDecomp = function(t) { n._decomp = t }, n.getDecomp = function() { var t = n._decomp; try { t || "undefined" == typeof window || (t = window.decomp), t || void 0 === i.g || (t = i.g.decomp) } catch (e) { t = null } return t } }() }, 48413: (t, e, i) => { var n = {};
				t.exports = n; var r = i(53614),
					s = i(66272),
					o = i(81388),
					a = i(99561),
					l = i(35810),
					h = i(69351),
					u = i(48140),
					c = i(53402),
					d = i(22562);
				n._deltaMax = 1e3 / 60, n.create = function(t) { t = t || {}; var e = c.extend({ positionIterations: 6, velocityIterations: 4, constraintIterations: 2, enableSleeping: !1, events: [], plugin: {}, gravity: { x: 0, y: 1, scale: .001 }, timing: { timestamp: 0, timeScale: 1, lastDelta: 0, lastElapsed: 0, lastUpdatesPerFrame: 0 } }, t); return e.world = t.world || h.create({ label: "World" }), e.pairs = t.pairs || a.create(), e.detector = t.detector || o.create(), e.detector.pairs = e.pairs, e.grid = { buckets: [] }, e.world.gravity = e.gravity, e.broadphase = e.grid, e.metrics = {}, e }, n.update = function(t, e) { var i, d = c.now(),
						f = t.world,
						p = t.detector,
						g = t.pairs,
						m = t.timing,
						v = m.timestamp;
					e > n._deltaMax && c.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to", n._deltaMax.toFixed(3), "ms."), e = void 0 !== e ? e : c._baseDelta, e *= m.timeScale, m.timestamp += e, m.lastDelta = e; var y = { timestamp: m.timestamp, delta: e };
					l.trigger(t, "beforeUpdate", y); var x = h.allBodies(f),
						b = h.allConstraints(f),
						w = h.allComposites(f); for (f.isModified && (o.setBodies(p, x), h.setModified(f, !1, !1, !0)), t.enableSleeping && r.update(x, e), n._bodiesApplyGravity(x, t.gravity), n.wrap(x, w), n.attractors(x), e > 0 && n._bodiesUpdate(x, e), l.trigger(t, "beforeSolve", y), u.preSolveAll(x), i = 0; i < t.constraintIterations; i++) u.solveAll(b, e);
					u.postSolveAll(x); var T = o.collisions(p);
					a.update(g, T, v), t.enableSleeping && r.afterCollisions(g.list), g.collisionStart.length > 0 && l.trigger(t, "collisionStart", { pairs: g.collisionStart, timestamp: m.timestamp, delta: e }); var S = c.clamp(20 / t.positionIterations, 0, 1); for (s.preSolvePosition(g.list), i = 0; i < t.positionIterations; i++) s.solvePosition(g.list, e, S); for (s.postSolvePosition(x), u.preSolveAll(x), i = 0; i < t.constraintIterations; i++) u.solveAll(b, e); for (u.postSolveAll(x), s.preSolveVelocity(g.list), i = 0; i < t.velocityIterations; i++) s.solveVelocity(g.list, e); return n._bodiesUpdateVelocities(x), g.collisionActive.length > 0 && l.trigger(t, "collisionActive", { pairs: g.collisionActive, timestamp: m.timestamp, delta: e }), g.collisionEnd.length > 0 && l.trigger(t, "collisionEnd", { pairs: g.collisionEnd, timestamp: m.timestamp, delta: e }), n._bodiesClearForces(x), l.trigger(t, "afterUpdate", y), t.timing.lastElapsed = c.now() - d, t }, n.merge = function(t, e) { if (c.extend(t, e), e.world) { t.world = e.world, n.clear(t); for (var i = h.allBodies(t.world), s = 0; s < i.length; s++) { var o = i[s];
							r.set(o, !1), o.id = c.nextId() } } }, n.clear = function(t) { a.clear(t.pairs), o.clear(t.detector) }, n._bodiesClearForces = function(t) { for (var e = t.length, i = 0; i < e; i++) { var n = t[i];
						n.force.x = 0, n.force.y = 0, n.torque = 0 } }, n._bodiesApplyGravity = function(t, e) { var i = void 0 !== e.scale ? e.scale : .001,
						n = t.length; if ((0 !== e.x || 0 !== e.y) && 0 !== i)
						for (var r = 0; r < n; r++) { var s = t[r];
							s.ignoreGravity || s.isStatic || s.isSleeping || (s.force.y += s.mass * e.y * i, s.force.x += s.mass * e.x * i) } }, n._bodiesUpdate = function(t, e) { for (var i = t.length, n = 0; n < i; n++) { var r = t[n];
						r.isStatic || r.isSleeping || d.update(r, e) } }, n._bodiesUpdateVelocities = function(t) { for (var e = t.length, i = 0; i < e; i++) d.updateVelocities(t[i]) }, n.wrap = function(t, e) { for (var i = 0; i < t.length; i += 1) { var n = t[i];
						null !== n.wrapBounds && d.wrap(n, n.wrapBounds) } for (i = 0; i < e.length; i += 1) { var r = e[i];
						null !== r.wrapBounds && h.wrap(r, r.wrapBounds) } }, n.attractors = function(t) { for (var e = 0; e < t.length; e++) { var i = t[e],
							n = i.attractors; if (n && n.length > 0)
							for (var r = 0; r < t.length; r++) { var s = t[r]; if (e !== r)
									for (var o = 0; o < n.length; o++) { var a = n[o],
											l = a;
										c.isFunction(a) && (l = a(i, s)), l && d.applyForce(s, s.position, l) } } } } }, 35810: (t, e, i) => { var n = {};
				t.exports = n; var r = i(53402);
				n.on = function(t, e, i) { for (var n, r = e.split(" "), s = 0; s < r.length; s++) n = r[s], t.events = t.events || {}, t.events[n] = t.events[n] || [], t.events[n].push(i); return i }, n.off = function(t, e, i) { if (e) { "function" == typeof e && (i = e, e = r.keys(t.events).join(" ")); for (var n = e.split(" "), s = 0; s < n.length; s++) { var o = t.events[n[s]],
								a = []; if (i && o)
								for (var l = 0; l < o.length; l++) o[l] !== i && a.push(o[l]);
							t.events[n[s]] = a } } else t.events = {} }, n.trigger = function(t, e, i) { var n, s, o, a, l = t.events; if (l && r.keys(l).length > 0) { i || (i = {}), n = e.split(" "); for (var h = 0; h < n.length; h++)
							if (o = l[s = n[h]]) {
								(a = r.clone(i, !1)).name = s, a.source = t; for (var u = 0; u < o.length; u++) o[u].apply(t, [a]) } } } }, 6790: (t, e, i) => { var n = {};
				t.exports = n; var r = i(73832),
					s = i(53402);
				n.name = "matter-js", n.version = "0.20.0", n.uses = [], n.used = [], n.use = function() { r.use(n, Array.prototype.slice.call(arguments)) }, n.before = function(t, e) { return t = t.replace(/^Matter./, ""), s.chainPathBefore(n, t, e) }, n.after = function(t, e) { return t = t.replace(/^Matter./, ""), s.chainPathAfter(n, t, e) } }, 73832: (t, e, i) => { var n = {};
				t.exports = n; var r = i(53402);
				n._registry = {}, n.register = function(t) { if (n.isPlugin(t) || r.warn("Plugin.register:", n.toString(t), "does not implement all required fields."), t.name in n._registry) { var e = n._registry[t.name],
							i = n.versionParse(t.version).number,
							s = n.versionParse(e.version).number;
						i > s ? (r.warn("Plugin.register:", n.toString(e), "was upgraded to", n.toString(t)), n._registry[t.name] = t) : i < s ? r.warn("Plugin.register:", n.toString(e), "can not be downgraded to", n.toString(t)) : t !== e && r.warn("Plugin.register:", n.toString(t), "is already registered to different plugin object") } else n._registry[t.name] = t; return t }, n.resolve = function(t) { return n._registry[n.dependencyParse(t).name] }, n.toString = function(t) { return "string" == typeof t ? t : (t.name || "anonymous") + "@" + (t.version || t.range || "0.0.0") }, n.isPlugin = function(t) { return t && t.name && t.version && t.install }, n.isUsed = function(t, e) { return t.used.indexOf(e) > -1 }, n.isFor = function(t, e) { var i = t.for && n.dependencyParse(t.for); return !t.for || e.name === i.name && n.versionSatisfies(e.version, i.range) }, n.use = function(t, e) { if (t.uses = (t.uses || []).concat(e || []), 0 !== t.uses.length) { for (var i = n.dependencies(t), s = r.topologicalSort(i), o = [], a = 0; a < s.length; a += 1)
							if (s[a] !== t.name) { var l = n.resolve(s[a]);
								l ? n.isUsed(t, l.name) || (n.isFor(l, t) || (r.warn("Plugin.use:", n.toString(l), "is for", l.for, "but installed on", n.toString(t) + "."), l._warned = !0), l.install ? l.install(t) : (r.warn("Plugin.use:", n.toString(l), "does not specify an install function."), l._warned = !0), l._warned ? (o.push("🔶 " + n.toString(l)), delete l._warned) : o.push("✅ " + n.toString(l)), t.used.push(l.name)) : o.push("❌ " + s[a]) } o.length > 0 && !l.silent && r.info(o.join("  ")) } else r.warn("Plugin.use:", n.toString(t), "does not specify any dependencies to install.") }, n.dependencies = function(t, e) { var i = n.dependencyParse(t),
						s = i.name; if (!(s in (e = e || {}))) { t = n.resolve(t) || t, e[s] = r.map(t.uses || [], (function(e) { n.isPlugin(e) && n.register(e); var s = n.dependencyParse(e),
								o = n.resolve(e); return o && !n.versionSatisfies(o.version, s.range) ? (r.warn("Plugin.dependencies:", n.toString(o), "does not satisfy", n.toString(s), "used by", n.toString(i) + "."), o._warned = !0, t._warned = !0) : o || (r.warn("Plugin.dependencies:", n.toString(e), "used by", n.toString(i), "could not be resolved."), t._warned = !0), s.name })); for (var o = 0; o < e[s].length; o += 1) n.dependencies(e[s][o], e); return e } }, n.dependencyParse = function(t) { return r.isString(t) ? (/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t) || r.warn("Plugin.dependencyParse:", t, "is not a valid dependency string."), { name: t.split("@")[0], range: t.split("@")[1] || "*" }) : { name: t.name, range: t.range || t.version } }, n.versionParse = function(t) { var e = /^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;
					e.test(t) || r.warn("Plugin.versionParse:", t, "is not a valid version or range."); var i = e.exec(t),
						n = Number(i[4]),
						s = Number(i[5]),
						o = Number(i[6]); return { isRange: Boolean(i[1] || i[2]), version: i[3], range: t, operator: i[1] || i[2] || "", major: n, minor: s, patch: o, parts: [n, s, o], prerelease: i[7], number: 1e8 * n + 1e4 * s + o } }, n.versionSatisfies = function(t, e) { e = e || "*"; var i = n.versionParse(e),
						r = n.versionParse(t); if (i.isRange) { if ("*" === i.operator || "*" === t) return !0; if (">" === i.operator) return r.number > i.number; if (">=" === i.operator) return r.number >= i.number; if ("~" === i.operator) return r.major === i.major && r.minor === i.minor && r.patch >= i.patch; if ("^" === i.operator) return i.major > 0 ? r.major === i.major && r.number >= i.number : i.minor > 0 ? r.minor === i.minor && r.patch >= i.patch : r.patch === i.patch } return t === e || "*" === t } }, 13037: (t, e, i) => { var n = {};
				t.exports = n; var r = i(35810),
					s = i(48413),
					o = i(53402);! function() { n._maxFrameDelta = 1e3 / 15, n._frameDeltaFallback = 1e3 / 60, n._timeBufferMargin = 1.5, n._elapsedNextEstimate = 1, n._smoothingLowerBound = .1, n._smoothingUpperBound = .9, n.create = function(t) { var e = o.extend({ delta: 1e3 / 60, frameDelta: null, frameDeltaSmoothing: !0, frameDeltaSnapping: !0, frameDeltaHistory: [], frameDeltaHistorySize: 100, frameRequestId: null, timeBuffer: 0, timeLastTick: null, maxUpdates: null, maxFrameTime: 1e3 / 30, lastUpdatesDeferred: 0, enabled: !0 }, t); return e.fps = 0, e }, n.run = function(t, e) { return t.timeBuffer = n._frameDeltaFallback,
							function i(r) { t.frameRequestId = n._onNextFrame(t, i), r && t.enabled && n.tick(t, e, r) }(), t }, n.tick = function(e, i, a) { var l = o.now(),
							h = e.delta,
							u = 0,
							c = a - e.timeLastTick; if ((!c || !e.timeLastTick || c > Math.max(n._maxFrameDelta, e.maxFrameTime)) && (c = e.frameDelta || n._frameDeltaFallback), e.frameDeltaSmoothing) { e.frameDeltaHistory.push(c), e.frameDeltaHistory = e.frameDeltaHistory.slice(-e.frameDeltaHistorySize); var d = e.frameDeltaHistory.slice(0).sort(),
								f = e.frameDeltaHistory.slice(d.length * n._smoothingLowerBound, d.length * n._smoothingUpperBound);
							c = t(f) || c } e.frameDeltaSnapping && (c = 1e3 / Math.round(1e3 / c)), e.frameDelta = c, e.timeLastTick = a, e.timeBuffer += e.frameDelta, e.timeBuffer = o.clamp(e.timeBuffer, 0, e.frameDelta + h * n._timeBufferMargin), e.lastUpdatesDeferred = 0; var p = e.maxUpdates || Math.ceil(e.maxFrameTime / h),
							g = { timestamp: i.timing.timestamp };
						r.trigger(e, "beforeTick", g), r.trigger(e, "tick", g); for (var m = o.now(); h > 0 && e.timeBuffer >= h * n._timeBufferMargin;) { r.trigger(e, "beforeUpdate", g), s.update(i, h), r.trigger(e, "afterUpdate", g), e.timeBuffer -= h, u += 1; var v = o.now() - l,
								y = o.now() - m,
								x = v + n._elapsedNextEstimate * y / u; if (u >= p || x > e.maxFrameTime) { e.lastUpdatesDeferred = Math.round(Math.max(0, e.timeBuffer / h - n._timeBufferMargin)); break } } i.timing.lastUpdatesPerFrame = u, r.trigger(e, "afterTick", g), e.frameDeltaHistory.length >= 100 && (e.lastUpdatesDeferred && Math.round(e.frameDelta / h) > p ? o.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs.") : e.lastUpdatesDeferred && o.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."), void 0 !== e.isFixed && o.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."), (e.deltaMin || e.deltaMax) && o.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."), 0 !== e.fps && o.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs.")) }, n.stop = function(t) { n._cancelNextFrame(t) }, n._onNextFrame = function(t, e) { if ("undefined" == typeof window || !window.requestAnimationFrame) throw new Error("Matter.Runner: missing required global window.requestAnimationFrame."); return t.frameRequestId = window.requestAnimationFrame(e), t.frameRequestId }, n._cancelNextFrame = function(t) { if ("undefined" == typeof window || !window.cancelAnimationFrame) throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");
						window.cancelAnimationFrame(t.frameRequestId) }; var t = function(t) { for (var e = 0, i = t.length, n = 0; n < i; n += 1) e += t[n]; return e / i || 0 } }() }, 53614: (t, e, i) => { var n = {};
				t.exports = n; var r = i(22562),
					s = i(35810),
					o = i(53402);
				n._motionWakeThreshold = .18, n._motionSleepThreshold = .08, n._minBias = .9, n.update = function(t, e) { for (var i = e / o._baseDelta, s = n._motionSleepThreshold, a = 0; a < t.length; a++) { var l = t[a],
							h = r.getSpeed(l),
							u = r.getAngularSpeed(l),
							c = h * h + u * u; if (0 === l.force.x && 0 === l.force.y) { var d = Math.min(l.motion, c),
								f = Math.max(l.motion, c);
							l.motion = n._minBias * d + (1 - n._minBias) * f, l.sleepThreshold > 0 && l.motion < s ? (l.sleepCounter += 1, l.sleepCounter >= l.sleepThreshold / i && n.set(l, !0)) : l.sleepCounter > 0 && (l.sleepCounter -= 1) } else n.set(l, !1) } }, n.afterCollisions = function(t) { for (var e = n._motionSleepThreshold, i = 0; i < t.length; i++) { var r = t[i]; if (r.isActive) { var s = r.collision,
								o = s.bodyA.parent,
								a = s.bodyB.parent; if (!(o.isSleeping && a.isSleeping || o.isStatic || a.isStatic) && (o.isSleeping || a.isSleeping)) { var l = o.isSleeping && !o.isStatic ? o : a,
									h = l === o ? a : o;!l.isStatic && h.motion > e && n.set(l, !1) } } } }, n.set = function(t, e) { var i = t.isSleeping;
					e ? (t.isSleeping = !0, t.sleepCounter = t.sleepThreshold, t.positionImpulse.x = 0, t.positionImpulse.y = 0, t.positionPrev.x = t.position.x, t.positionPrev.y = t.position.y, t.anglePrev = t.angle, t.speed = 0, t.angularSpeed = 0, t.motion = 0, i || s.trigger(t, "sleepStart")) : (t.isSleeping = !1, t.sleepCounter = 0, i && s.trigger(t, "sleepEnd")) } }, 66280: (t, e, i) => { var n = {};
				t.exports = n; var r = i(41598),
					s = i(53402),
					o = i(22562),
					a = i(15647),
					l = i(31725);
				n.rectangle = function(t, e, i, n, a) { a = a || {}; var l = { label: "Rectangle Body", position: { x: t, y: e }, vertices: r.fromPath("L 0 0 L " + i + " 0 L " + i + " " + n + " L 0 " + n) }; if (a.chamfer) { var h = a.chamfer;
						l.vertices = r.chamfer(l.vertices, h.radius, h.quality, h.qualityMin, h.qualityMax), delete a.chamfer } return o.create(s.extend({}, l, a)) }, n.trapezoid = function(t, e, i, n, a, l) { l = l || {}, a >= 1 && s.warn("Bodies.trapezoid: slope parameter must be < 1."); var h, u = i * (a *= .5),
						c = u + (1 - 2 * a) * i,
						d = c + u;
					h = a < .5 ? "L 0 0 L " + u + " " + -n + " L " + c + " " + -n + " L " + d + " 0" : "L 0 0 L " + c + " " + -n + " L " + d + " 0"; var f = { label: "Trapezoid Body", position: { x: t, y: e }, vertices: r.fromPath(h) }; if (l.chamfer) { var p = l.chamfer;
						f.vertices = r.chamfer(f.vertices, p.radius, p.quality, p.qualityMin, p.qualityMax), delete l.chamfer } return o.create(s.extend({}, f, l)) }, n.circle = function(t, e, i, r, o) { r = r || {}; var a = { label: "Circle Body", circleRadius: i };
					o = o || 25; var l = Math.ceil(Math.max(10, Math.min(o, i))); return l % 2 == 1 && (l += 1), n.polygon(t, e, l, i, s.extend({}, a, r)) }, n.polygon = function(t, e, i, a, l) { if (l = l || {}, i < 3) return n.circle(t, e, a, l); for (var h = 2 * Math.PI / i, u = "", c = .5 * h, d = 0; d < i; d += 1) { var f = c + d * h,
							p = Math.cos(f) * a,
							g = Math.sin(f) * a;
						u += "L " + p.toFixed(3) + " " + g.toFixed(3) + " " } var m = { label: "Polygon Body", position: { x: t, y: e }, vertices: r.fromPath(u) }; if (l.chamfer) { var v = l.chamfer;
						m.vertices = r.chamfer(m.vertices, v.radius, v.quality, v.qualityMin, v.qualityMax), delete l.chamfer } return o.create(s.extend({}, m, l)) }, n.fromVertices = function(t, e, i, n, h, u, c, d) { var f, p, g, m, v, y, x, b, w, T, S = s.getDecomp(); for (f = Boolean(S && S.quickDecomp), n = n || {}, g = [], h = void 0 !== h && h, u = void 0 !== u ? u : .01, c = void 0 !== c ? c : 10, d = void 0 !== d ? d : .01, s.isArray(i[0]) || (i = [i]), w = 0; w < i.length; w += 1)
						if (v = i[w], !(m = r.isConvex(v)) && !f && s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."), m || !f) v = m ? r.clockwiseSort(v) : r.hull(v), g.push({ position: { x: t, y: e }, vertices: v });
						else { var _ = v.map((function(t) { return [t.x, t.y] }));
							S.makeCCW(_), !1 !== u && S.removeCollinearPoints(_, u), !1 !== d && S.removeDuplicatePoints && S.removeDuplicatePoints(_, d); var E = S.quickDecomp(_); for (y = 0; y < E.length; y++) { var A = E[y].map((function(t) { return { x: t[0], y: t[1] } }));
								c > 0 && r.area(A) < c || g.push({ position: r.centre(A), vertices: A }) } } for (y = 0; y < g.length; y++) g[y] = o.create(s.extend(g[y], n)); if (h)
						for (y = 0; y < g.length; y++) { var C = g[y]; for (x = y + 1; x < g.length; x++) { var k = g[x]; if (a.overlaps(C.bounds, k.bounds)) { var P = C.vertices,
										O = k.vertices; for (b = 0; b < C.vertices.length; b++)
										for (T = 0; T < k.vertices.length; T++) { var R = l.magnitudeSquared(l.sub(P[(b + 1) % P.length], O[T])),
												M = l.magnitudeSquared(l.sub(P[b], O[(T + 1) % O.length]));
											R < 5 && M < 5 && (P[b].isInternal = !0, O[T].isInternal = !0) } } } }
					return g.length > 1 ? (p = o.create(s.extend({ parts: g.slice(0) }, n)), o.setPosition(p, { x: t, y: e }), p) : g[0] }, n.flagCoincidentParts = function(t, e) { void 0 === e && (e = 5); for (var i = 0; i < t.length; i++)
						for (var n = t[i], r = i + 1; r < t.length; r++) { var s = t[r]; if (a.overlaps(n.bounds, s.bounds))
								for (var o = n.vertices, h = s.vertices, u = 0; u < n.vertices.length; u++)
									for (var c = 0; c < s.vertices.length; c++) { var d = l.magnitudeSquared(l.sub(o[(u + 1) % o.length], h[c])),
											f = l.magnitudeSquared(l.sub(o[u], h[(c + 1) % h.length]));
										d < e && f < e && (o[u].isInternal = !0, h[c].isInternal = !0) } }
					return t } }, 74116: (t, e, i) => { var n = {};
				t.exports = n; var r = i(69351),
					s = i(48140),
					o = i(53402),
					a = i(22562),
					l = i(66280);
				n.stack = function(t, e, i, n, s, o, l) { for (var h, u = r.create({ label: "Stack" }), c = t, d = e, f = 0, p = 0; p < n; p++) { for (var g = 0, m = 0; m < i; m++) { var v = l(c, d, m, p, h, f); if (v) { var y = v.bounds.max.y - v.bounds.min.y,
									x = v.bounds.max.x - v.bounds.min.x;
								y > g && (g = y), a.translate(v, { x: .5 * x, y: .5 * y }), c = v.bounds.max.x + s, r.addBody(u, v), h = v, f += 1 } else c += s } d += g + o, c = t } return u }, n.chain = function(t, e, i, n, a, l) { for (var h = t.bodies, u = 1; u < h.length; u++) { var c = h[u - 1],
							d = h[u],
							f = c.bounds.max.y - c.bounds.min.y,
							p = c.bounds.max.x - c.bounds.min.x,
							g = d.bounds.max.y - d.bounds.min.y,
							m = { bodyA: c, pointA: { x: p * e, y: f * i }, bodyB: d, pointB: { x: (d.bounds.max.x - d.bounds.min.x) * n, y: g * a } },
							v = o.extend(m, l);
						r.addConstraint(t, s.create(v)) } return t.label += " Chain", t }, n.mesh = function(t, e, i, n, a) { var l, h, u, c, d, f = t.bodies; for (l = 0; l < i; l++) { for (h = 1; h < e; h++) u = f[h - 1 + l * e], c = f[h + l * e], r.addConstraint(t, s.create(o.extend({ bodyA: u, bodyB: c }, a))); if (l > 0)
							for (h = 0; h < e; h++) u = f[h + (l - 1) * e], c = f[h + l * e], r.addConstraint(t, s.create(o.extend({ bodyA: u, bodyB: c }, a))), n && h > 0 && (d = f[h - 1 + (l - 1) * e], r.addConstraint(t, s.create(o.extend({ bodyA: d, bodyB: c }, a)))), n && h < e - 1 && (d = f[h + 1 + (l - 1) * e], r.addConstraint(t, s.create(o.extend({ bodyA: d, bodyB: c }, a)))) } return t.label += " Mesh", t }, n.pyramid = function(t, e, i, r, s, o, l) { return n.stack(t, e, i, r, s, o, (function(e, n, o, h, u, c) { var d = Math.min(r, Math.ceil(i / 2)),
							f = u ? u.bounds.max.x - u.bounds.min.x : 0; if (!(h > d || o < (h = d - h) || o > i - 1 - h)) return 1 === c && a.translate(u, { x: (o + (i % 2 == 1 ? 1 : -1)) * f, y: 0 }), l(t + (u ? o * f : 0) + o * s, n, o, h, u, c) })) }, n.newtonsCradle = function(t, e, i, n, o) { for (var a = r.create({ label: "Newtons Cradle" }), h = 0; h < i; h++) { var u = l.circle(t + h * (1.9 * n), e + o, n, { inertia: 1 / 0, restitution: 1, friction: 0, frictionAir: 1e-4, slop: 1 }),
							c = s.create({ pointA: { x: t + h * (1.9 * n), y: e }, bodyB: u });
						r.addBody(a, u), r.addConstraint(a, c) } return a }, n.car = function(t, e, i, n, o) { var h = a.nextGroup(!0),
						u = .5 * -i + 20,
						c = .5 * i - 20,
						d = r.create({ label: "Car" }),
						f = l.rectangle(t, e, i, n, { collisionFilter: { group: h }, chamfer: { radius: .5 * n }, density: 2e-4 }),
						p = l.circle(t + u, e + 0, o, { collisionFilter: { group: h }, friction: .8 }),
						g = l.circle(t + c, e + 0, o, { collisionFilter: { group: h }, friction: .8 }),
						m = s.create({ bodyB: f, pointB: { x: u, y: 0 }, bodyA: p, stiffness: 1, length: 0 }),
						v = s.create({ bodyB: f, pointB: { x: c, y: 0 }, bodyA: g, stiffness: 1, length: 0 }); return r.addBody(d, f), r.addBody(d, p), r.addBody(d, g), r.addConstraint(d, m), r.addConstraint(d, v), d }, n.softBody = function(t, e, i, r, s, a, h, u, c, d) { c = o.extend({ inertia: 1 / 0 }, c), d = o.extend({ stiffness: .2, render: { type: "line", anchors: !1 } }, d); var f = n.stack(t, e, i, r, s, a, (function(t, e) { return l.circle(t, e, u, c) })); return n.mesh(f, i, r, h, d), f.label = "Soft Body", f } }, 66615: (t, e, i) => { var n = {};
				t.exports = n; var r = i(31725),
					s = i(53402);
				n.fromVertices = function(t) { for (var e = {}, i = 0; i < t.length; i++) { var n = (i + 1) % t.length,
							o = r.normalise({ x: t[n].y - t[i].y, y: t[i].x - t[n].x }),
							a = 0 === o.y ? 1 / 0 : o.x / o.y;
						e[a = a.toFixed(3).toString()] = o } return s.values(e) }, n.rotate = function(t, e) { if (0 !== e)
						for (var i = Math.cos(e), n = Math.sin(e), r = 0; r < t.length; r++) { var s, o = t[r];
							s = o.x * i - o.y * n, o.y = o.x * n + o.y * i, o.x = s } } }, 15647: t => { var e = {};
				t.exports = e, e.create = function(t) { var i = { min: { x: 0, y: 0 }, max: { x: 0, y: 0 } }; return t && e.update(i, t), i }, e.update = function(t, e, i) { t.min.x = 1 / 0, t.max.x = -1 / 0, t.min.y = 1 / 0, t.max.y = -1 / 0; for (var n = 0; n < e.length; n++) { var r = e[n];
						r.x > t.max.x && (t.max.x = r.x), r.x < t.min.x && (t.min.x = r.x), r.y > t.max.y && (t.max.y = r.y), r.y < t.min.y && (t.min.y = r.y) } i && (i.x > 0 ? t.max.x += i.x : t.min.x += i.x, i.y > 0 ? t.max.y += i.y : t.min.y += i.y) }, e.contains = function(t, e) { return e.x >= t.min.x && e.x <= t.max.x && e.y >= t.min.y && e.y <= t.max.y }, e.overlaps = function(t, e) { return t.min.x <= e.max.x && t.max.x >= e.min.x && t.max.y >= e.min.y && t.min.y <= e.max.y }, e.translate = function(t, e) { t.min.x += e.x, t.max.x += e.x, t.min.y += e.y, t.max.y += e.y }, e.shift = function(t, e) { var i = t.max.x - t.min.x,
						n = t.max.y - t.min.y;
					t.min.x = e.x, t.max.x = e.x + i, t.min.y = e.y, t.max.y = e.y + n }, e.wrap = function(t, e, i) { var n = null,
						r = null; if (void 0 !== e.min.x && void 0 !== e.max.x && (t.min.x > e.max.x ? n = e.min.x - t.max.x : t.max.x < e.min.x && (n = e.max.x - t.min.x)), void 0 !== e.min.y && void 0 !== e.max.y && (t.min.y > e.max.y ? r = e.min.y - t.max.y : t.max.y < e.min.y && (r = e.max.y - t.min.y)), null !== n || null !== r) return { x: n || 0, y: r || 0 } } }, 74058: (t, e, i) => { var n = {};
				t.exports = n, i(15647); var r = i(53402);
				n.pathToVertices = function(t, e) { "undefined" == typeof window || "SVGPathSeg" in window || r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required."); var i, s, o, a, l, h, u, c, d, f, p, g = [],
						m = 0,
						v = 0,
						y = 0;
					e = e || 15; var x = function(t, e, i) { var n = i % 2 == 1 && i > 1; if (!d || t != d.x || e != d.y) { d && n ? (f = d.x, p = d.y) : (f = 0, p = 0); var r = { x: f + t, y: p + e };!n && d || (d = r), g.push(r), v = f + t, y = p + e } },
						b = function(t) { var e = t.pathSegTypeAsLetter.toUpperCase(); if ("Z" !== e) { switch (e) {
									case "M":
									case "L":
									case "T":
									case "C":
									case "S":
									case "Q":
										v = t.x, y = t.y; break;
									case "H":
										v = t.x; break;
									case "V":
										y = t.y } x(v, y, t.pathSegType) } }; for (n._svgPathToAbsolute(t), o = t.getTotalLength(), h = [], i = 0; i < t.pathSegList.numberOfItems; i += 1) h.push(t.pathSegList.getItem(i)); for (u = h.concat(); m < o;) { if ((l = h[t.getPathSegAtLength(m)]) != c) { for (; u.length && u[0] != l;) b(u.shift());
							c = l } switch (l.pathSegTypeAsLetter.toUpperCase()) {
							case "C":
							case "T":
							case "S":
							case "Q":
							case "A":
								a = t.getPointAtLength(m), x(a.x, a.y, 0) } m += e } for (i = 0, s = u.length; i < s; ++i) b(u[i]); return g }, n._svgPathToAbsolute = function(t) { for (var e, i, n, r, s, o, a = t.pathSegList, l = 0, h = 0, u = a.numberOfItems, c = 0; c < u; ++c) { var d = a.getItem(c),
							f = d.pathSegTypeAsLetter; if (/[MLHVCSQTA]/.test(f)) "x" in d && (l = d.x), "y" in d && (h = d.y);
						else switch ("x1" in d && (n = l + d.x1), "x2" in d && (s = l + d.x2), "y1" in d && (r = h + d.y1), "y2" in d && (o = h + d.y2), "x" in d && (l += d.x), "y" in d && (h += d.y), f) {
							case "m":
								a.replaceItem(t.createSVGPathSegMovetoAbs(l, h), c); break;
							case "l":
								a.replaceItem(t.createSVGPathSegLinetoAbs(l, h), c); break;
							case "h":
								a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l), c); break;
							case "v":
								a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(h), c); break;
							case "c":
								a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l, h, n, r, s, o), c); break;
							case "s":
								a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l, h, s, o), c); break;
							case "q":
								a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l, h, n, r), c); break;
							case "t":
								a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l, h), c); break;
							case "a":
								a.replaceItem(t.createSVGPathSegArcAbs(l, h, d.r1, d.r2, d.angle, d.largeArcFlag, d.sweepFlag), c); break;
							case "z":
							case "Z":
								l = e, h = i }
						"M" != f && "m" != f || (e = l, i = h) } } }, 31725: t => { var e = {};
				t.exports = e, e.create = function(t, e) { return { x: t || 0, y: e || 0 } }, e.clone = function(t) { return { x: t.x, y: t.y } }, e.magnitude = function(t) { return Math.sqrt(t.x * t.x + t.y * t.y) }, e.magnitudeSquared = function(t) { return t.x * t.x + t.y * t.y }, e.rotate = function(t, e, i) { var n = Math.cos(e),
						r = Math.sin(e);
					i || (i = {}); var s = t.x * n - t.y * r; return i.y = t.x * r + t.y * n, i.x = s, i }, e.rotateAbout = function(t, e, i, n) { var r = Math.cos(e),
						s = Math.sin(e);
					n || (n = {}); var o = i.x + ((t.x - i.x) * r - (t.y - i.y) * s); return n.y = i.y + ((t.x - i.x) * s + (t.y - i.y) * r), n.x = o, n }, e.normalise = function(t) { var i = e.magnitude(t); return 0 === i ? { x: 0, y: 0 } : { x: t.x / i, y: t.y / i } }, e.dot = function(t, e) { return t.x * e.x + t.y * e.y }, e.cross = function(t, e) { return t.x * e.y - t.y * e.x }, e.cross3 = function(t, e, i) { return (e.x - t.x) * (i.y - t.y) - (e.y - t.y) * (i.x - t.x) }, e.add = function(t, e, i) { return i || (i = {}), i.x = t.x + e.x, i.y = t.y + e.y, i }, e.sub = function(t, e, i) { return i || (i = {}), i.x = t.x - e.x, i.y = t.y - e.y, i }, e.mult = function(t, e) { return { x: t.x * e, y: t.y * e } }, e.div = function(t, e) { return { x: t.x / e, y: t.y / e } }, e.perp = function(t, e) { return { x: (e = !0 === e ? -1 : 1) * -t.y, y: e * t.x } }, e.neg = function(t) { return { x: -t.x, y: -t.y } }, e.angle = function(t, e) { return Math.atan2(e.y - t.y, e.x - t.x) }, e._temp = [e.create(), e.create(), e.create(), e.create(), e.create(), e.create()] }, 41598: (t, e, i) => { var n = {};
				t.exports = n; var r = i(31725),
					s = i(53402);
				n.create = function(t, e) { for (var i = [], n = 0; n < t.length; n++) { var r = t[n],
							s = { x: r.x, y: r.y, index: n, body: e, isInternal: !1 };
						i.push(s) } return i }, n.fromPath = function(t, e) { var i = []; return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi, (function(t, e, n) { i.push({ x: parseFloat(e), y: parseFloat(n) }) })), n.create(i, e) }, n.centre = function(t) { for (var e, i, s, o = n.area(t, !0), a = { x: 0, y: 0 }, l = 0; l < t.length; l++) s = (l + 1) % t.length, e = r.cross(t[l], t[s]), i = r.mult(r.add(t[l], t[s]), e), a = r.add(a, i); return r.div(a, 6 * o) }, n.mean = function(t) { for (var e = { x: 0, y: 0 }, i = 0; i < t.length; i++) e.x += t[i].x, e.y += t[i].y; return r.div(e, t.length) }, n.area = function(t, e) { for (var i = 0, n = t.length - 1, r = 0; r < t.length; r++) i += (t[n].x - t[r].x) * (t[n].y + t[r].y), n = r; return e ? i / 2 : Math.abs(i) / 2 }, n.inertia = function(t, e) { for (var i, n, s = 0, o = 0, a = t, l = 0; l < a.length; l++) n = (l + 1) % a.length, s += (i = Math.abs(r.cross(a[n], a[l]))) * (r.dot(a[n], a[n]) + r.dot(a[n], a[l]) + r.dot(a[l], a[l])), o += i; return e / 6 * (s / o) }, n.translate = function(t, e, i) { i = void 0 !== i ? i : 1; var n, r = t.length,
						s = e.x * i,
						o = e.y * i; for (n = 0; n < r; n++) t[n].x += s, t[n].y += o; return t }, n.rotate = function(t, e, i) { if (0 !== e) { var n, r, s, o, a = Math.cos(e),
							l = Math.sin(e),
							h = i.x,
							u = i.y,
							c = t.length; for (o = 0; o < c; o++) r = (n = t[o]).x - h, s = n.y - u, n.x = h + (r * a - s * l), n.y = u + (r * l + s * a); return t } }, n.contains = function(t, e) { for (var i, n = e.x, r = e.y, s = t.length, o = t[s - 1], a = 0; a < s; a++) { if (i = t[a], (n - o.x) * (i.y - o.y) + (r - o.y) * (o.x - i.x) > 0) return !1;
						o = i } return !0 }, n.scale = function(t, e, i, s) { if (1 === e && 1 === i) return t; var o, a;
					s = s || n.centre(t); for (var l = 0; l < t.length; l++) o = t[l], a = r.sub(o, s), t[l].x = s.x + a.x * e, t[l].y = s.y + a.y * i; return t }, n.chamfer = function(t, e, i, n, o) { e = "number" == typeof e ? [e] : e || [8], i = void 0 !== i ? i : -1, n = n || 2, o = o || 14; for (var a = [], l = 0; l < t.length; l++) { var h = t[l - 1 >= 0 ? l - 1 : t.length - 1],
							u = t[l],
							c = t[(l + 1) % t.length],
							d = e[l < e.length ? l : e.length - 1]; if (0 !== d) { var f = r.normalise({ x: u.y - h.y, y: h.x - u.x }),
								p = r.normalise({ x: c.y - u.y, y: u.x - c.x }),
								g = Math.sqrt(2 * Math.pow(d, 2)),
								m = r.mult(s.clone(f), d),
								v = r.normalise(r.mult(r.add(f, p), .5)),
								y = r.sub(u, r.mult(v, g)),
								x = i; - 1 === i && (x = 1.75 * Math.pow(d, .32)), (x = s.clamp(x, n, o)) % 2 == 1 && (x += 1); for (var b = Math.acos(r.dot(f, p)) / x, w = 0; w < x; w++) a.push(r.add(r.rotate(m, b * w), y)) } else a.push(u) } return a }, n.clockwiseSort = function(t) { var e = n.mean(t); return t.sort((function(t, i) { return r.angle(e, t) - r.angle(e, i) })), t }, n.isConvex = function(t) { var e, i, n, r, s = 0,
						o = t.length; if (o < 3) return null; for (e = 0; e < o; e++)
						if (n = (e + 2) % o, r = (t[i = (e + 1) % o].x - t[e].x) * (t[n].y - t[i].y), (r -= (t[i].y - t[e].y) * (t[n].x - t[i].x)) < 0 ? s |= 1 : r > 0 && (s |= 2), 3 === s) return !1; return 0 !== s || null }, n.hull = function(t) { var e, i, n = [],
						s = []; for ((t = t.slice(0)).sort((function(t, e) { var i = t.x - e.x; return 0 !== i ? i : t.y - e.y })), i = 0; i < t.length; i += 1) { for (e = t[i]; s.length >= 2 && r.cross3(s[s.length - 2], s[s.length - 1], e) <= 0;) s.pop();
						s.push(e) } for (i = t.length - 1; i >= 0; i -= 1) { for (e = t[i]; n.length >= 2 && r.cross3(n[n.length - 2], n[n.length - 1], e) <= 0;) n.pop();
						n.push(e) } return n.pop(), s.pop(), n.concat(s) } }, 55973: t => {
				function e(t, e, i) { i = i || 0; var n, r, s, o, a, l, h, u = [0, 0]; return n = t[1][1] - t[0][1], r = t[0][0] - t[1][0], s = n * t[0][0] + r * t[0][1], o = e[1][1] - e[0][1], a = e[0][0] - e[1][0], l = o * e[0][0] + a * e[0][1], S(h = n * a - o * r, 0, i) || (u[0] = (a * s - r * l) / h, u[1] = (n * l - o * s) / h), u }

				function i(t, e, i, n) { var r = e[0] - t[0],
						s = e[1] - t[1],
						o = n[0] - i[0],
						a = n[1] - i[1]; if (o * s - a * r == 0) return !1; var l = (r * (i[1] - t[1]) + s * (t[0] - i[0])) / (o * s - a * r),
						h = (o * (t[1] - i[1]) + a * (i[0] - t[0])) / (a * r - o * s); return l >= 0 && l <= 1 && h >= 0 && h <= 1 }

				function n(t, e, i) { return (e[0] - t[0]) * (i[1] - t[1]) - (i[0] - t[0]) * (e[1] - t[1]) }

				function r(t, e, i) { return n(t, e, i) > 0 }

				function s(t, e, i) { return n(t, e, i) >= 0 }

				function o(t, e, i) { return n(t, e, i) < 0 }

				function a(t, e, i) { return n(t, e, i) <= 0 } t.exports = { decomp: function(t) { var e = b(t); return e.length > 0 ? w(t, e) : [t] }, quickDecomp: function t(e, i, n, l, h, u, g) { u = u || 100, g = g || 0, h = h || 25, i = void 0 !== i ? i : [], n = n || [], l = l || []; var m = [0, 0],
							v = [0, 0],
							x = [0, 0],
							b = 0,
							w = 0,
							S = 0,
							_ = 0,
							E = 0,
							A = 0,
							C = 0,
							k = [],
							P = [],
							O = e,
							R = e; if (R.length < 3) return i; if (++g > u) return console.warn("quickDecomp: max level (" + u + ") reached."), i; for (var M = 0; M < e.length; ++M)
							if (p(O, M)) { n.push(O[M]), b = w = Number.MAX_VALUE; for (var L = 0; L < e.length; ++L) r(d(O, M - 1), d(O, M), d(O, L)) && a(d(O, M - 1), d(O, M), d(O, L - 1)) && (x = T(d(O, M - 1), d(O, M), d(O, L), d(O, L - 1)), o(d(O, M + 1), d(O, M), x) && (S = c(O[M], x)) < w && (w = S, v = x, A = L)), r(d(O, M + 1), d(O, M), d(O, L + 1)) && a(d(O, M + 1), d(O, M), d(O, L)) && (x = T(d(O, M + 1), d(O, M), d(O, L), d(O, L + 1)), r(d(O, M - 1), d(O, M), x) && (S = c(O[M], x)) < b && (b = S, m = x, E = L)); if (A === (E + 1) % e.length) x[0] = (v[0] + m[0]) / 2, x[1] = (v[1] + m[1]) / 2, l.push(x), M < E ? (f(k, O, M, E + 1), k.push(x), P.push(x), 0 !== A && f(P, O, A, O.length), f(P, O, 0, M + 1)) : (0 !== M && f(k, O, M, O.length), f(k, O, 0, E + 1), k.push(x), P.push(x), f(P, O, A, M + 1));
								else { if (A > E && (E += e.length), _ = Number.MAX_VALUE, E < A) return i; for (L = A; L <= E; ++L) s(d(O, M - 1), d(O, M), d(O, L)) && a(d(O, M + 1), d(O, M), d(O, L)) && (S = c(d(O, M), d(O, L))) < _ && y(O, M, L) && (_ = S, C = L % e.length);
									M < C ? (f(k, O, M, C + 1), 0 !== C && f(P, O, C, R.length), f(P, O, 0, M + 1)) : (0 !== M && f(k, O, M, R.length), f(k, O, 0, C + 1), f(P, O, C, M + 1)) } return k.length < P.length ? (t(k, i, n, l, h, u, g), t(P, i, n, l, h, u, g)) : (t(P, i, n, l, h, u, g), t(k, i, n, l, h, u, g)), i } return i.push(e), i }, isSimple: function(t) { var e, n = t; for (e = 0; e < n.length - 1; e++)
							for (var r = 0; r < e - 1; r++)
								if (i(n[e], n[e + 1], n[r], n[r + 1])) return !1; for (e = 1; e < n.length - 2; e++)
							if (i(n[0], n[n.length - 1], n[e], n[e + 1])) return !1; return !0 }, removeCollinearPoints: function(t, e) { for (var i = 0, n = t.length - 1; t.length > 3 && n >= 0; --n) u(d(t, n - 1), d(t, n), d(t, n + 1), e) && (t.splice(n % t.length, 1), i++); return i }, removeDuplicatePoints: function(t, e) { for (var i = t.length - 1; i >= 1; --i)
							for (var n = t[i], r = i - 1; r >= 0; --r) _(n, t[r], e) && t.splice(i, 1) }, makeCCW: function(t) { for (var e = 0, i = t, n = 1; n < t.length; ++n)(i[n][1] < i[e][1] || i[n][1] === i[e][1] && i[n][0] > i[e][0]) && (e = n); return !r(d(t, e - 1), d(t, e), d(t, e + 1)) && (function(t) { for (var e = [], i = t.length, n = 0; n !== i; n++) e.push(t.pop()); for (n = 0; n !== i; n++) t[n] = e[n] }(t), !0) } }; var l = [],
					h = [];

				function u(t, e, i, r) { if (r) { var s = l,
							o = h;
						s[0] = e[0] - t[0], s[1] = e[1] - t[1], o[0] = i[0] - e[0], o[1] = i[1] - e[1]; var a = s[0] * o[0] + s[1] * o[1],
							u = Math.sqrt(s[0] * s[0] + s[1] * s[1]),
							c = Math.sqrt(o[0] * o[0] + o[1] * o[1]); return Math.acos(a / (u * c)) < r } return 0 === n(t, e, i) }

				function c(t, e) { var i = e[0] - t[0],
						n = e[1] - t[1]; return i * i + n * n }

				function d(t, e) { var i = t.length; return t[e < 0 ? e % i + i : e % i] }

				function f(t, e, i, n) { for (var r = i; r < n; r++) t.push(e[r]) }

				function p(t, e) { return o(d(t, e - 1), d(t, e), d(t, e + 1)) } var g = [],
					m = [];

				function v(t, i, n) { var r, o, l = g,
						h = m; if (s(d(t, i + 1), d(t, i), d(t, n)) && a(d(t, i - 1), d(t, i), d(t, n))) return !1;
					o = c(d(t, i), d(t, n)); for (var u = 0; u !== t.length; ++u)
						if ((u + 1) % t.length !== i && u !== i && s(d(t, i), d(t, n), d(t, u + 1)) && a(d(t, i), d(t, n), d(t, u)) && (l[0] = d(t, i), l[1] = d(t, n), h[0] = d(t, u), h[1] = d(t, u + 1), r = e(l, h), c(d(t, i), r) < o)) return !1; return !0 }

				function y(t, e, n) { for (var r = 0; r !== t.length; ++r)
						if (r !== e && r !== n && (r + 1) % t.length !== e && (r + 1) % t.length !== n && i(d(t, e), d(t, n), d(t, r), d(t, r + 1))) return !1; return !0 }

				function x(t, e, i, n) { var r = n || []; if (function(t) { t.length = 0 }(r), e < i)
						for (var s = e; s <= i; s++) r.push(t[s]);
					else { for (s = 0; s <= i; s++) r.push(t[s]); for (s = e; s < t.length; s++) r.push(t[s]) } return r }

				function b(t) { for (var e = [], i = [], n = [], r = [], s = Number.MAX_VALUE, o = 0; o < t.length; ++o)
						if (p(t, o))
							for (var a = 0; a < t.length; ++a)
								if (v(t, o, a)) { i = b(x(t, o, a, r)), n = b(x(t, a, o, r)); for (var l = 0; l < n.length; l++) i.push(n[l]);
									i.length < s && (e = i, s = i.length, e.push([d(t, o), d(t, a)])) } return e }

				function w(t, e) { if (0 === e.length) return [t]; if (e instanceof Array && e.length && e[0] instanceof Array && 2 === e[0].length && e[0][0] instanceof Array) { for (var i = [t], n = 0; n < e.length; n++)
							for (var r = e[n], s = 0; s < i.length; s++) { var o = w(i[s], r); if (o) { i.splice(s, 1), i.push(o[0], o[1]); break } }
						return i } return r = e, n = t.indexOf(r[0]), s = t.indexOf(r[1]), -1 !== n && -1 !== s && [x(t, n, s), x(t, s, n)] }

				function T(t, e, i, n, r) { r = r || 0; var s = e[1] - t[1],
						o = t[0] - e[0],
						a = s * t[0] + o * t[1],
						l = n[1] - i[1],
						h = i[0] - n[0],
						u = l * i[0] + h * i[1],
						c = s * h - l * o; return S(c, 0, r) ? [0, 0] : [(h * a - o * u) / c, (s * u - l * a) / c] }

				function S(t, e, i) { return i = i || 0, Math.abs(t - e) <= i }

				function _(t, e, i) { return S(t[0], e[0], i) && S(t[1], e[1], i) } }, 52018: (t, e, i) => { var n = new(i(83419))({ initialize: function(t) { this.pluginManager = t, this.game = t.game }, init: function() {}, start: function() {}, stop: function() {}, destroy: function() { this.pluginManager = null, this.game = null, this.scene = null, this.systems = null } });
				t.exports = n }, 42363: t => { t.exports = { Global: ["game", "anims", "cache", "plugins", "registry", "scale", "sound", "textures", "renderer"], CoreScene: ["EventEmitter", "CameraManager", "GameObjectCreator", "GameObjectFactory", "ScenePlugin", "DisplayList", "UpdateList"], DefaultScene: ["Clock", "DataManagerPlugin", "InputPlugin", "Loader", "TweenManager", "LightsPlugin"] } }, 37277: t => { var e = {},
					i = {},
					n = { register: function(t, i, n, r) { void 0 === r && (r = !1), e[t] = { plugin: i, mapping: n, custom: r } }, registerCustom: function(t, e, n, r) { i[t] = { plugin: e, mapping: n, data: r } }, hasCore: function(t) { return e.hasOwnProperty(t) }, hasCustom: function(t) { return i.hasOwnProperty(t) }, getCore: function(t) { return e[t] }, getCustom: function(t) { return i[t] }, getCustomClass: function(t) { return i.hasOwnProperty(t) ? i[t].plugin : null }, remove: function(t) { e.hasOwnProperty(t) && delete e[t] }, removeCustom: function(t) { i.hasOwnProperty(t) && delete i[t] }, destroyCorePlugins: function() { for (var t in e) e.hasOwnProperty(t) && delete e[t] }, destroyCustomPlugins: function() { for (var t in i) i.hasOwnProperty(t) && delete i[t] } };
				t.exports = n }, 77332: (t, e, i) => { var n = i(83419),
					r = i(8443),
					s = i(50792),
					o = i(74099),
					a = i(44603),
					l = i(39429),
					h = i(95540),
					u = i(37277),
					c = i(72905),
					d = new n({ Extends: s, initialize: function(t) { s.call(this), this.game = t, this.plugins = [], this.scenePlugins = [], this._pendingGlobal = [], this._pendingScene = [], t.isBooted ? this.boot() : t.events.once(r.BOOT, this.boot, this) }, boot: function() { var t, e, i, n, s, o, a, l = this.game.config,
								u = l.installGlobalPlugins; for (u = u.concat(this._pendingGlobal), t = 0; t < u.length; t++) e = u[t], i = h(e, "key", null), n = h(e, "plugin", null), s = h(e, "start", !1), o = h(e, "mapping", null), a = h(e, "data", null), i && (n ? this.install(i, n, s, o, a) : console.warn("Missing `plugin` for key: " + i)); for (u = (u = l.installScenePlugins).concat(this._pendingScene), t = 0; t < u.length; t++) e = u[t], i = h(e, "key", null), n = h(e, "plugin", null), o = h(e, "mapping", null), i && (n ? this.installScenePlugin(i, n, o) : console.warn("Missing `plugin` for key: " + i));
							this._pendingGlobal = [], this._pendingScene = [], this.game.events.once(r.DESTROY, this.destroy, this) }, addToScene: function(t, e, i) { var n, r, s, o = this.game,
								a = t.scene,
								l = t.settings.map,
								h = t.settings.isBooted; for (n = 0; n < e.length; n++) o[r = e[n]] ? (t[r] = o[r], l.hasOwnProperty(r) && (a[l[r]] = t[r])) : "game" === r && l.hasOwnProperty(r) && (a[l[r]] = o); for (var c = 0; c < i.length; c++)
								for (s = i[c], n = 0; n < s.length; n++)
									if (r = s[n], u.hasCore(r)) { var d = u.getCore(r),
											f = d.mapping,
											p = new d.plugin(a, this, f);
										t[f] = p, d.custom ? a[f] = p : l.hasOwnProperty(f) && (a[l[f]] = p), h && p.boot() } for (s = this.plugins, n = 0; n < s.length; n++) { var g = s[n];
								g.mapping && (a[g.mapping] = g.plugin) } }, getDefaultScenePlugins: function() { var t = this.game.config.defaultPlugins; return t.concat(this.scenePlugins) }, installScenePlugin: function(t, e, i, n, r) { if (void 0 === r && (r = !1), "function" == typeof e) { if (u.hasCore(t) || u.register(t, e, i, !0), -1 === this.scenePlugins.indexOf(t)) this.scenePlugins.push(t);
								else if (!r && u.hasCore(t)) return void console.warn("Scene Plugin key in use: " + t); if (n) { var s = new e(n, this, t);
									n.sys[t] = s, i && "" !== i && (n[i] = s), s.boot() } } else console.warn("Invalid Scene Plugin: " + t) }, install: function(t, e, i, n, r) { if (void 0 === i && (i = !1), void 0 === n && (n = null), void 0 === r && (r = null), "function" != typeof e) return console.warn("Invalid Plugin: " + t), null; if (u.hasCustom(t)) return console.warn("Plugin key in use: " + t), null; if (null !== n && (i = !0), this.game.isBooted) { if (u.registerCustom(t, e, n, r), i) return this.start(t) } else this._pendingGlobal.push({ key: t, plugin: e, start: i, mapping: n, data: r }); return null }, getIndex: function(t) { for (var e = this.plugins, i = 0; i < e.length; i++)
								if (e[i].key === t) return i; return -1 }, getEntry: function(t) { var e = this.getIndex(t); if (-1 !== e) return this.plugins[e] }, isActive: function(t) { var e = this.getEntry(t); return e && e.active }, start: function(t, e) { void 0 === e && (e = t); var i = this.getEntry(e); return i && !i.active ? (i.active = !0, i.plugin.start()) : i || (i = this.createEntry(t, e)), i ? i.plugin : null }, createEntry: function(t, e) { var i = u.getCustom(t); if (i) { var n = new i.plugin(this);
								i = { key: e, plugin: n, active: !0, mapping: i.mapping, data: i.data }, this.plugins.push(i), n.init(i.data), n.start() } return i }, stop: function(t) { var e = this.getEntry(t); return e && e.active && (e.active = !1, e.plugin.stop()), this }, get: function(t, e) { void 0 === e && (e = !0); var i = this.getEntry(t); if (i) return i.plugin; var n = this.getClass(t); return n && e ? (i = this.createEntry(t, t)) ? i.plugin : null : n || null }, getClass: function(t) { return u.getCustomClass(t) }, removeGlobalPlugin: function(t) { var e = this.getEntry(t);
							e && c(this.plugins, e), u.removeCustom(t) }, removeScenePlugin: function(t) { c(this.scenePlugins, t), u.remove(t) }, registerGameObject: function(t, e, i) { return e && l.register(t, e), i && a.register(t, i), this }, removeGameObject: function(t, e, i) { return void 0 === e && (e = !0), void 0 === i && (i = !0), e && l.remove(t), i && a.remove(t), this }, registerFileType: function(t, e, i) { o.register(t, e), i && i.sys.load && (i.sys.load[t] = e) }, destroy: function() { for (var t = 0; t < this.plugins.length; t++) this.plugins[t].plugin.destroy();
							u.destroyCustomPlugins(), this.game.noReturn && u.destroyCorePlugins(), this.game = null, this.plugins = [], this.scenePlugins = [] } });
				t.exports = d }, 45145: (t, e, i) => { var n = i(52018),
					r = i(83419),
					s = i(44594),
					o = new r({ Extends: n, initialize: function(t, e, i) { n.call(this, e), this.scene = t, this.systems = t.sys, this.pluginKey = i, t.sys.events.once(s.BOOT, this.boot, this) }, boot: function() {}, destroy: function() { this.pluginManager = null, this.game = null, this.scene = null, this.systems = null } });
				t.exports = o }, 18922: (t, e, i) => { t.exports = { BasePlugin: i(52018), DefaultPlugins: i(42363), PluginCache: i(37277), PluginManager: i(77332), ScenePlugin: i(45145) } }, 63595: () => { "undefined" != typeof HTMLVideoElement && !("requestVideoFrameCallback" in HTMLVideoElement.prototype) && "getVideoPlaybackQuality" in HTMLVideoElement.prototype && (HTMLVideoElement.prototype._rvfcpolyfillmap = {}, HTMLVideoElement.prototype.requestVideoFrameCallback = function(t) { const e = performance.now(),
						i = this.getVideoPlaybackQuality(),
						n = this.mozPresentedFrames || this.mozPaintedFrames || i.totalVideoFrames - i.droppedVideoFrames,
						r = (s, o) => { const a = this.getVideoPlaybackQuality(),
								l = this.mozPresentedFrames || this.mozPaintedFrames || a.totalVideoFrames - a.droppedVideoFrames; if (l > n) { const n = this.mozFrameDelay || a.totalFrameDelay - i.totalFrameDelay || 0,
									r = o - s;
								t(o, { presentationTime: o + 1e3 * n, expectedDisplayTime: o + r, width: this.videoWidth, height: this.videoHeight, mediaTime: Math.max(0, this.currentTime || 0) + r / 1e3, presentedFrames: l, processingDuration: n }), delete this._rvfcpolyfillmap[e] } else this._rvfcpolyfillmap[e] = requestAnimationFrame((t => r(o, t))) }; return this._rvfcpolyfillmap[e] = requestAnimationFrame((t => r(e, t))), e }, HTMLVideoElement.prototype.cancelVideoFrameCallback = function(t) { cancelAnimationFrame(this._rvfcpolyfillmap[t]), delete this._rvfcpolyfillmap[t] }) }, 10312: t => { t.exports = { SKIP_CHECK: -1, NORMAL: 0, ADD: 1, MULTIPLY: 2, SCREEN: 3, OVERLAY: 4, DARKEN: 5, LIGHTEN: 6, COLOR_DODGE: 7, COLOR_BURN: 8, HARD_LIGHT: 9, SOFT_LIGHT: 10, DIFFERENCE: 11, EXCLUSION: 12, HUE: 13, SATURATION: 14, COLOR: 15, LUMINOSITY: 16, ERASE: 17, SOURCE_IN: 18, SOURCE_OUT: 19, SOURCE_ATOP: 20, DESTINATION_OVER: 21, DESTINATION_IN: 22, DESTINATION_OUT: 23, DESTINATION_ATOP: 24, LIGHTER: 25, COPY: 26, XOR: 27 } }, 29795: t => { t.exports = { DEFAULT: 0, LINEAR: 0, NEAREST: 1 } }, 68627: (t, e, i) => { var n = i(19715),
					r = i(32880),
					s = i(83419),
					o = i(8054),
					a = i(50792),
					l = i(92503),
					h = i(56373),
					u = i(97480),
					c = i(69442),
					d = i(61340),
					f = new s({ Extends: a, initialize: function(t) { a.call(this); var e = t.config;
							this.config = { clearBeforeRender: e.clearBeforeRender, backgroundColor: e.backgroundColor, antialias: e.antialias, roundPixels: e.roundPixels }, this.game = t, this.type = o.CANVAS, this.drawCount = 0, this.width = 0, this.height = 0, this.gameCanvas = t.canvas; var i = { alpha: t.config.transparent, desynchronized: t.config.desynchronized, willReadFrequently: !1 };
							this.gameContext = e.context ? e.context : this.gameCanvas.getContext("2d", i), this.currentContext = this.gameContext, this.antialias = t.config.antialias, this.blendModes = h(), this.snapshotState = { x: 0, y: 0, width: 1, height: 1, getPixel: !1, callback: null, type: "image/png", encoder: .92 }, this._tempMatrix1 = new d, this._tempMatrix2 = new d, this._tempMatrix3 = new d, this.isBooted = !1, this.init() }, init: function() { this.game.textures.once(c.READY, this.boot, this) }, boot: function() { var t = this.game,
								e = t.scale.baseSize;
							this.width = e.width, this.height = e.height, this.isBooted = !0, t.scale.on(u.RESIZE, this.onResize, this), this.resize(e.width, e.height) }, onResize: function(t, e) { e.width === this.width && e.height === this.height || this.resize(e.width, e.height) }, resize: function(t, e) { this.width = t, this.height = e, this.emit(l.RESIZE, t, e) }, resetTransform: function() { this.currentContext.setTransform(1, 0, 0, 1, 0, 0) }, setBlendMode: function(t) { return this.currentContext.globalCompositeOperation = t, this }, setContext: function(t) { return this.currentContext = t || this.gameContext, this }, setAlpha: function(t) { return this.currentContext.globalAlpha = t, this }, preRender: function() { var t = this.gameContext,
								e = this.config,
								i = this.width,
								n = this.height;
							t.globalAlpha = 1, t.globalCompositeOperation = "source-over", t.setTransform(1, 0, 0, 1, 0, 0), this.emit(l.PRE_RENDER_CLEAR), e.clearBeforeRender && (t.clearRect(0, 0, i, n), e.transparent || (t.fillStyle = e.backgroundColor.rgba, t.fillRect(0, 0, i, n))), t.save(), this.drawCount = 0, this.emit(l.PRE_RENDER) }, render: function(t, e, i) { var r = e.length;
							this.emit(l.RENDER, t, i); var s = i.x,
								o = i.y,
								a = i.width,
								h = i.height,
								u = i.renderToTexture ? i.context : t.sys.context;
							u.save(), this.game.scene.customViewports && (u.beginPath(), u.rect(s, o, a, h), u.clip()), i.emit(n.PRE_RENDER, i), this.currentContext = u; var c = i.mask;
							c && c.preRenderCanvas(this, null, i._maskCamera), i.transparent || (u.fillStyle = i.backgroundColor.rgba, u.fillRect(s, o, a, h)), u.globalAlpha = i.alpha, u.globalCompositeOperation = "source-over", this.drawCount += r, i.renderToTexture && i.emit(n.PRE_RENDER, i), i.matrix.copyToContext(u); for (var d = 0; d < r; d++) { var f = e[d];
								f.mask && f.mask.preRenderCanvas(this, f, i), f.renderCanvas(this, f, i), f.mask && f.mask.postRenderCanvas(this, f, i) } u.setTransform(1, 0, 0, 1, 0, 0), u.globalCompositeOperation = "source-over", u.globalAlpha = 1, i.flashEffect.postRenderCanvas(u), i.fadeEffect.postRenderCanvas(u), i.dirty = !1, c && c.postRenderCanvas(this), u.restore(), i.renderToTexture && (i.emit(n.POST_RENDER, i), i.renderToGame && t.sys.context.drawImage(i.canvas, s, o)), i.emit(n.POST_RENDER, i) }, postRender: function() { this.gameContext.restore(), this.emit(l.POST_RENDER); var t = this.snapshotState;
							t.callback && (r(this.gameCanvas, t), t.callback = null) }, snapshotCanvas: function(t, e, i, n, s, o, a, l, h) { void 0 === i && (i = !1), this.snapshotArea(n, s, o, a, e, l, h); var u = this.snapshotState; return u.getPixel = i, r(t, u), u.callback = null, this }, snapshot: function(t, e, i) { return this.snapshotArea(0, 0, this.gameCanvas.width, this.gameCanvas.height, t, e, i) }, snapshotArea: function(t, e, i, n, r, s, o) { var a = this.snapshotState; return a.callback = r, a.type = s, a.encoder = o, a.getPixel = !1, a.x = t, a.y = e, a.width = Math.min(i, this.gameCanvas.width), a.height = Math.min(n, this.gameCanvas.height), this }, snapshotPixel: function(t, e, i) { return this.snapshotArea(t, e, 1, 1, i), this.snapshotState.getPixel = !0, this }, batchSprite: function(t, e, i, n) { var r = i.alpha * t.alpha; if (0 !== r) { var s = this.currentContext,
									o = this._tempMatrix1,
									a = this._tempMatrix2,
									l = e.canvasData,
									h = l.x,
									u = l.y,
									c = e.cutWidth,
									d = e.cutHeight,
									f = e.customPivot,
									p = e.source.resolution,
									g = t.displayOriginX,
									m = t.displayOriginY,
									v = -g + e.x,
									y = -m + e.y; if (t.isCropped) { var x = t._crop;
									x.flipX === t.flipX && x.flipY === t.flipY || e.updateCropUVs(x, t.flipX, t.flipY), c = x.cw, d = x.ch, h = x.cx, u = x.cy, v = -g + x.x, y = -m + x.y, t.flipX && (v >= 0 ? v = -(v + c) : v < 0 && (v = Math.abs(v) - c)), t.flipY && (y >= 0 ? y = -(y + d) : y < 0 && (y = Math.abs(y) - d)) } var b = 1,
									w = 1;
								t.flipX && (f || (v += -e.realWidth + 2 * g), b = -1), t.flipY && (f || (y += -e.realHeight + 2 * m), w = -1); var T = t.x,
									S = t.y; if (i.roundPixels && (T = Math.floor(T), S = Math.floor(S)), a.applyITRS(T, S, t.rotation, t.scaleX * b, t.scaleY * w), o.copyFrom(i.matrix), n ? (o.multiplyWithOffset(n, -i.scrollX * t.scrollFactorX, -i.scrollY * t.scrollFactorY), a.e = T, a.f = S) : (a.e -= i.scrollX * t.scrollFactorX, a.f -= i.scrollY * t.scrollFactorY), o.multiply(a), i.renderRoundPixels && (o.e = Math.floor(o.e + .5), o.f = Math.floor(o.f + .5)), s.save(), o.setToContext(s), s.globalCompositeOperation = this.blendModes[t.blendMode], s.globalAlpha = r, s.imageSmoothingEnabled = !e.source.scaleMode, t.mask && t.mask.preRenderCanvas(this, t, i), c > 0 && d > 0) { var _ = c / p,
										E = d / p;
									i.roundPixels && (v = Math.floor(v + .5), y = Math.floor(y + .5), _ += .5, E += .5), s.drawImage(e.source.image, h, u, c, d, v, y, _, E) } t.mask && t.mask.postRenderCanvas(this, t, i), s.restore() } }, destroy: function() { this.removeAllListeners(), this.game = null, this.gameCanvas = null, this.gameContext = null } });
				t.exports = f }, 55830: (t, e, i) => { t.exports = { CanvasRenderer: i(68627), GetBlendModes: i(56373), SetTransform: i(20926) } }, 56373: (t, e, i) => { var n = i(10312),
					r = i(89289);
				t.exports = function() { var t = [],
						e = r.supportNewBlendModes,
						i = "source-over"; return t[n.NORMAL] = i, t[n.ADD] = "lighter", t[n.MULTIPLY] = e ? "multiply" : i, t[n.SCREEN] = e ? "screen" : i, t[n.OVERLAY] = e ? "overlay" : i, t[n.DARKEN] = e ? "darken" : i, t[n.LIGHTEN] = e ? "lighten" : i, t[n.COLOR_DODGE] = e ? "color-dodge" : i, t[n.COLOR_BURN] = e ? "color-burn" : i, t[n.HARD_LIGHT] = e ? "hard-light" : i, t[n.SOFT_LIGHT] = e ? "soft-light" : i, t[n.DIFFERENCE] = e ? "difference" : i, t[n.EXCLUSION] = e ? "exclusion" : i, t[n.HUE] = e ? "hue" : i, t[n.SATURATION] = e ? "saturation" : i, t[n.COLOR] = e ? "color" : i, t[n.LUMINOSITY] = e ? "luminosity" : i, t[n.ERASE] = "destination-out", t[n.SOURCE_IN] = "source-in", t[n.SOURCE_OUT] = "source-out", t[n.SOURCE_ATOP] = "source-atop", t[n.DESTINATION_OVER] = "destination-over", t[n.DESTINATION_IN] = "destination-in", t[n.DESTINATION_OUT] = "destination-out", t[n.DESTINATION_ATOP] = "destination-atop", t[n.LIGHTER] = "lighter", t[n.COPY] = "copy", t[n.XOR] = "xor", t } }, 20926: (t, e, i) => { var n = i(91296);
				t.exports = function(t, e, i, r, s) { var o = r.alpha * i.alpha; if (o <= 0) return !1; var a = n(i, r, s).calc; return e.globalCompositeOperation = t.blendModes[i.blendMode], e.globalAlpha = o, e.save(), a.setToContext(e), e.imageSmoothingEnabled = i.frame ? !i.frame.source.scaleMode : t.antialias, !0 } }, 63899: t => { t.exports = "losewebgl" }, 6119: t => { t.exports = "postrender" }, 48070: t => { t.exports = "prerender" }, 15640: t => { t.exports = "render" }, 8912: t => { t.exports = "resize" }, 87124: t => { t.exports = "restorewebgl" }, 92503: (t, e, i) => { t.exports = { LOSE_WEBGL: i(63899), POST_RENDER: i(6119), PRE_RENDER: i(48070), RENDER: i(15640), RESIZE: i(8912), RESTORE_WEBGL: i(87124) } }, 36909: (t, e, i) => { t.exports = { Events: i(92503), Snapshot: i(89966) }, t.exports.Canvas = i(55830), t.exports.WebGL = i(4159) }, 32880: (t, e, i) => { var n = i(27919),
					r = i(40987),
					s = i(95540);
				t.exports = function(t, e) { var i = s(e, "callback"),
						o = s(e, "type", "image/png"),
						a = s(e, "encoder", .92),
						l = Math.abs(Math.round(s(e, "x", 0))),
						h = Math.abs(Math.round(s(e, "y", 0))),
						u = Math.floor(s(e, "width", t.width)),
						c = Math.floor(s(e, "height", t.height)); if (s(e, "getPixel", !1)) { var d = t.getContext("2d", { willReadFrequently: !1 }).getImageData(l, h, 1, 1).data;
						i.call(null, new r(d[0], d[1], d[2], d[3])) } else if (0 !== l || 0 !== h || u !== t.width || c !== t.height) { var f = n.createWebGL(this, u, c),
							p = f.getContext("2d", { willReadFrequently: !0 });
						u > 0 && c > 0 && p.drawImage(t, l, h, u, c, 0, 0, u, c); var g = new Image;
						g.onerror = function() { i.call(null), n.remove(f) }, g.onload = function() { i.call(null, g), n.remove(f) }, g.src = f.toDataURL(o, a) } else { var m = new Image;
						m.onerror = function() { i.call(null) }, m.onload = function() { i.call(null, m) }, m.src = t.toDataURL(o, a) } } }, 88815: (t, e, i) => { var n = i(27919),
					r = i(40987),
					s = i(95540);
				t.exports = function(t, e) { var i = t,
						o = s(e, "callback"),
						a = s(e, "type", "image/png"),
						l = s(e, "encoder", .92),
						h = Math.abs(Math.round(s(e, "x", 0))),
						u = Math.abs(Math.round(s(e, "y", 0))),
						c = s(e, "getPixel", !1),
						d = s(e, "isFramebuffer", !1),
						f = d ? s(e, "bufferWidth", 1) : i.drawingBufferWidth,
						p = d ? s(e, "bufferHeight", 1) : i.drawingBufferHeight; if (c) { var g = new Uint8Array(4),
							m = d ? u : p - u;
						i.readPixels(h, m, 1, 1, i.RGBA, i.UNSIGNED_BYTE, g), o.call(null, new r(g[0], g[1], g[2], g[3])) } else { var v = Math.floor(s(e, "width", f)),
							y = Math.floor(s(e, "height", p)),
							x = v * y * 4,
							b = new Uint8Array(x);
						i.readPixels(h, p - u - y, v, y, i.RGBA, i.UNSIGNED_BYTE, b); for (var w = n.createWebGL(this, v, y), T = w.getContext("2d", { willReadFrequently: !0 }), S = T.getImageData(0, 0, v, y), _ = S.data, E = 0; E < y; E++)
							for (var A = 0; A < v; A++) { var C = 4 * ((y - E - 1) * v + A),
									k = d ? x - 4 * (E * v + (v - A)) : 4 * (E * v + A);
								_[k + 0] = b[C + 0], _[k + 1] = b[C + 1], _[k + 2] = b[C + 2], _[k + 3] = b[C + 3] } T.putImageData(S, 0, 0); var P = new Image;
						P.onerror = function() { o.call(null), n.remove(w) }, P.onload = function() { o.call(null, P), n.remove(w) }, P.src = w.toDataURL(a, l) } } }, 89966: (t, e, i) => { t.exports = { Canvas: i(32880), WebGL: i(88815) } }, 7530: (t, e, i) => { var n = i(83419),
					r = i(36060),
					s = i(90330),
					o = i(82264),
					a = i(95540),
					l = i(32302),
					h = i(63448),
					u = i(31302),
					c = i(58918),
					d = i(14811),
					f = i(92651),
					p = i(96569),
					g = i(56527),
					m = i(57516),
					v = i(43439),
					y = i(81041),
					x = i(12385),
					b = i(7589),
					w = i(95428),
					T = i(72905),
					S = new n({ initialize: function(t) { this.game = t.game, this.renderer = t, this.classes = new s([
								[r.UTILITY_PIPELINE, b],
								[r.MULTI_PIPELINE, m],
								[r.BITMAPMASK_PIPELINE, u],
								[r.SINGLE_PIPELINE, x],
								[r.ROPE_PIPELINE, y],
								[r.LIGHT_PIPELINE, p],
								[r.POINTLIGHT_PIPELINE, v],
								[r.MOBILE_PIPELINE, g]
							]), this.postPipelineClasses = new s, this.pipelines = new s, this.postPipelineInstances = [], this.default = null, this.current = null, this.previous = null, this.MULTI_PIPELINE = null, this.BITMAPMASK_PIPELINE = null, this.UTILITY_PIPELINE = null, this.MOBILE_PIPELINE = null, this.FX_PIPELINE = null, this.fullFrame1, this.fullFrame2, this.halfFrame1, this.halfFrame2, this.renderTargets = [], this.maxDimension = 0, this.frameInc = 32, this.targetIndex = 0 }, boot: function(t, e, i) { var n = this.renderer,
								s = this.renderTargets;
							this.frameInc = Math.floor(a(t, "frameInc", 32)); var h, u, p = n.width,
								g = n.height,
								m = this.game.config.disablePreFX; if (this.game.config.disablePostFX || this.postPipelineClasses.setAll([
									[String(d.BARREL), c.Barrel],
									[String(d.BLOOM), c.Bloom],
									[String(d.BLUR), c.Blur],
									[String(d.BOKEH), c.Bokeh],
									[String(d.CIRCLE), c.Circle],
									[String(d.COLOR_MATRIX), c.ColorMatrix],
									[String(d.DISPLACEMENT), c.Displacement],
									[String(d.GLOW), c.Glow],
									[String(d.GRADIENT), c.Gradient],
									[String(d.PIXELATE), c.Pixelate],
									[String(d.SHADOW), c.Shadow],
									[String(d.SHINE), c.Shine],
									[String(d.VIGNETTE), c.Vignette],
									[String(d.WIPE), c.Wipe]
								]), !m) { this.classes.set(r.FX_PIPELINE, f); for (var v = Math.min(p, g), y = Math.ceil(v / this.frameInc), x = 1; x < y; x++) { var b = x * this.frameInc;
									s.push(new l(n, b, b)), s.push(new l(n, b, b)), s.push(new l(n, b, b)), this.maxDimension = b } s.push(new l(n, p, g, 1, 0, !0, !0)), s.push(new l(n, p, g, 1, 0, !0, !0)), s.push(new l(n, p, g, 1, 0, !0, !0)) } var w = this,
								T = this.game; if (this.classes.each((function(t, e) { h = w.add(t, new e({ game: T })), t === r.UTILITY_PIPELINE && (w.UTILITY_PIPELINE = h, w.fullFrame1 = h.fullFrame1, w.fullFrame2 = h.fullFrame2, w.halfFrame1 = h.halfFrame1, w.halfFrame2 = h.halfFrame2) })), this.MULTI_PIPELINE = this.get(r.MULTI_PIPELINE), this.BITMAPMASK_PIPELINE = this.get(r.BITMAPMASK_PIPELINE), this.MOBILE_PIPELINE = this.get(r.MOBILE_PIPELINE), m || (this.FX_PIPELINE = this.get(r.FX_PIPELINE)), t)
								for (u in t) { var S = t[u];
									(h = new S(T)).name = u, h.isPostFX ? this.postPipelineClasses.set(u, S) : this.has(u) || (this.classes.set(u, S), this.add(u, h)) } this.default = this.get(e), i && !o.os.desktop && (this.default = this.MOBILE_PIPELINE) }, setDefaultPipeline: function(t) { var e = this.get(t); return e && (this.default = e), e }, add: function(t, e) { if (!e.isPostFX) { var i = this.pipelines,
									n = this.renderer; return i.has(t) ? console.warn("Pipeline exists: " + t) : (e.name = t, e.manager = this, i.set(t, e)), e.hasBooted || e.boot(), 0 === n.width || 0 === n.height || e.isPreFX || e.resize(n.width, n.height), e } console.warn(t + " is a Post Pipeline. Use `addPostPipeline` instead") }, addPostPipeline: function(t, e) { this.postPipelineClasses.has(t) || this.postPipelineClasses.set(t, e) }, flush: function() { this.current && this.current.flush() }, has: function(t) { var e = this.pipelines; return "string" == typeof t ? e.has(t) : !!e.contains(t) }, get: function(t) { var e = this.pipelines; return "string" == typeof t ? e.get(t) : e.contains(t) ? t : void 0 }, getPostPipeline: function(t, e, i) { var n, r = this.postPipelineClasses,
								s = "",
								o = typeof t; if ("string" === o || "number" === o ? (n = r.get(t), s = t) : "function" === o ? (r.contains(t) && (n = t), s = t.name) : "object" === o && (n = r.get(t.name), s = t.name), n) { var a = new n(this.game, i); return a.name = s, e && (a.gameObject = e), this.postPipelineInstances.push(a), a } }, removePostPipeline: function(t) { T(this.postPipelineInstances, t) }, remove: function(t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = !0), this.pipelines.delete(t), e && this.classes.delete(t), i && this.postPipelineClasses.delete(t) }, set: function(t, e, i) { if (!t.isPostFX) return this.isCurrent(t, i) || (this.flush(), this.current && this.current.unbind(), this.current = t, t.bind(i)), t.updateProjectionMatrix(), t.onBind(e), t }, preBatch: function(t) { if (t.hasPostPipeline) { this.flush(); for (var e = t.postPipelines, i = e.length - 1; i >= 0; i--) { var n = e[i];
									n.active && n.preBatch(t) } } }, postBatch: function(t) { if (t.hasPostPipeline) { this.flush(); for (var e = t.postPipelines, i = 0; i < e.length; i++) { var n = e[i];
									n.active && n.postBatch(t) } } }, preBatchCamera: function(t) { if (t.hasPostPipeline) { this.flush(); for (var e = t.postPipelines, i = e.length - 1; i >= 0; i--) { var n = e[i];
									n.active && n.preBatch(t) } } }, postBatchCamera: function(t) { if (t.hasPostPipeline) { this.flush(); for (var e = t.postPipelines, i = 0; i < e.length; i++) { var n = e[i];
									n.active && n.postBatch(t) } } }, isCurrent: function(t, e) { var i = this.renderer,
								n = this.current; return n && !e && (e = n.currentShader), !(n !== t || e.program !== i.currentProgram) }, copyFrame: function(t, e, i, n, r) { return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(t, e, i, n, r), this }, copyToGame: function(t) { return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(t), this }, drawFrame: function(t, e, i, n) { return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(t, e, i, n), this }, blendFrames: function(t, e, i, n, r) { return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(t, e, i, n, r), this }, blendFramesAdditive: function(t, e, i, n, r) { return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(t, e, i, n, r), this }, clearFrame: function(t, e) { return this.UTILITY_PIPELINE.clearFrame(t, e), this }, blitFrame: function(t, e, i, n, r, s) { return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(t, e, i, n, r, s), this }, copyFrameRect: function(t, e, i, n, r, s, o, a) { return this.UTILITY_PIPELINE.copyFrameRect(t, e, i, n, r, s, o, a), this }, forceZero: function() { return this.current && this.current.forceZero }, setMulti: function() { return this.set(this.MULTI_PIPELINE) }, setUtility: function(t) { return this.UTILITY_PIPELINE.bind(t) }, setFX: function() { return this.set(this.FX_PIPELINE) }, restoreContext: function() { this.rebind(), this.pipelines.each((function(t, e) { e.restoreContext() })), w(this.postPipelineInstances, (function(t) { t.restoreContext() })) }, rebind: function(t) { void 0 === t && this.previous && (t = this.previous); var e = this.renderer,
								i = e.gl;
							i.disable(i.DEPTH_TEST), i.disable(i.CULL_FACE), e.hasActiveStencilMask() ? i.clear(i.DEPTH_BUFFER_BIT) : (i.disable(i.STENCIL_TEST), i.clear(i.DEPTH_BUFFER_BIT | i.STENCIL_BUFFER_BIT)), i.viewport(0, 0, e.width, e.height), e.currentProgram = null, e.setBlendMode(0, !0); var n = e.vaoExtension;
							n && n.bindVertexArrayOES(null); var r = this.pipelines.entries; for (var s in r) r[s].glReset = !0;
							t && (this.current = t, t.rebind()) }, clear: function() { var t = this.renderer;
							this.flush(), this.current ? (this.current.unbind(), this.previous = this.current, this.current = null) : this.previous = null, t.currentProgram = null, t.setBlendMode(0, !0); var e = t.vaoExtension;
							e && e.bindVertexArrayOES(null) }, getRenderTarget: function(t) { var e = this.renderTargets; if (t > this.maxDimension) return this.targetIndex = e.length - 3, e[this.targetIndex]; var i = 3 * (h(t, this.frameInc, 0, !0) - 1); return this.targetIndex = i, e[i] }, getSwapRenderTarget: function() { return this.renderTargets[this.targetIndex + 1] }, getAltSwapRenderTarget: function() { return this.renderTargets[this.targetIndex + 2] }, destroy: function() { this.flush(), this.classes.clear(), this.postPipelineClasses.clear(), this.pipelines.clear(), this.renderer = null, this.game = null, this.classes = null, this.postPipelineClasses = null, this.pipelines = null, this.default = null, this.current = null, this.previous = null } });
				t.exports = S }, 32302: (t, e, i) => { var n = i(83419),
					r = i(92503),
					s = new n({ initialize: function(t, e, i, n, s, o, a, l, h) { void 0 === n && (n = 1), void 0 === s && (s = 0), void 0 === o && (o = !0), void 0 === a && (a = !1), void 0 === l && (l = !0), void 0 === h && (h = !0), this.renderer = t, this.framebuffer = null, this.texture = null, this.width = 0, this.height = 0, this.scale = n, this.minFilter = s, this.autoClear = o, this.autoResize = !0, this.hasDepthBuffer = l, this.forceClamp = h, this.init(e, i), a ? this.renderer.on(r.RESIZE, this.resize, this) : this.autoResize = !1 }, init: function(t, e) { var i = this.renderer;
							this.texture = i.createTextureFromSource(null, t, e, this.minFilter, this.forceClamp), this.framebuffer = i.createFramebuffer(t, e, this.texture, this.hasDepthBuffer), this.width = t, this.height = e }, setAutoResize: function(t) { return t && !this.autoResize ? (this.renderer.on(r.RESIZE, this.resize, this), this.autoResize = !0) : !t && this.autoResize && (this.renderer.off(r.RESIZE, this.resize, this), this.autoResize = !1), this }, resize: function(t, e) { if (this.autoResize && this.willResize(t, e)) { var i = this.renderer;
								i.deleteFramebuffer(this.framebuffer), i.deleteTexture(this.texture), this.texture = i.createTextureFromSource(null, t, e, this.minFilter, this.forceClamp), this.framebuffer = i.createFramebuffer(t, e, this.texture, this.hasDepthBuffer), this.width = t, this.height = e } return this }, willResize: function(t, e) { return "number" == typeof t && "number" == typeof e && (t = Math.round(t * this.scale), e = Math.round(e * this.scale), t = Math.max(t, 1), e = Math.max(e, 1), t !== this.width || e !== this.height) }, bind: function(t, e, i) { void 0 === t && (t = !1); var n = this.renderer; if (t && n.flush(), e && i && this.resize(e, i), n.pushFramebuffer(this.framebuffer, !1, !1), t && this.adjustViewport(), this.autoClear) { var r = this.renderer.gl;
								r.clearColor(0, 0, 0, 0), r.clear(r.COLOR_BUFFER_BIT) } n.clearStencilMask() }, adjustViewport: function() { var t = this.renderer.gl;
							t.viewport(0, 0, this.width, this.height), t.disable(t.SCISSOR_TEST) }, clear: function(t, e, i, n) { var r = this.renderer,
								s = r.gl;
							r.pushFramebuffer(this.framebuffer), void 0 !== t && void 0 !== e && void 0 !== i && void 0 !== n ? (s.enable(s.SCISSOR_TEST), s.scissor(t, e, i, n)) : s.disable(s.SCISSOR_TEST), s.clearColor(0, 0, 0, 0), s.clear(s.COLOR_BUFFER_BIT), r.popFramebuffer(), r.resetScissor() }, unbind: function(t) { void 0 === t && (t = !1); var e = this.renderer; return t && e.flush(), e.popFramebuffer() }, destroy: function() { var t = this.renderer;
							t.off(r.RESIZE, this.resize, this), t.deleteFramebuffer(this.framebuffer), t.deleteTexture(this.texture), this.renderer = null, this.framebuffer = null, this.texture = null } });
				t.exports = s }, 70554: t => { t.exports = { getTintFromFloats: function(t, e, i, n) { return ((255 * n & 255) << 24 | (255 * t & 255) << 16 | (255 * e & 255) << 8 | 255 * i & 255) >>> 0 }, getTintAppendFloatAlpha: function(t, e) { return ((255 * e & 255) << 24 | t) >>> 0 }, getTintAppendFloatAlphaAndSwap: function(t, e) { return ((255 * e & 255) << 24 | (255 & t) << 16 | (t >> 8 & 255) << 8 | t >> 16 & 255) >>> 0 }, getFloatsFromUintRGB: function(t) { return [(t >> 16 & 255) / 255, (t >> 8 & 255) / 255, (255 & t) / 255] }, checkShaderMax: function(t, e) { var i = Math.min(16, t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)); return e && -1 !== e ? Math.min(i, e) : i }, parseFragmentShaderMaxTextures: function(t, e) { if (!t) return ""; for (var i = "", n = 0; n < e; n++) n > 0 && (i += "\n\telse "), n < e - 1 && (i += "if (outTexId < " + n + ".5)"), i += "\n\t{", i += "\n\t\ttexture = texture2D(uMainSampler[" + n + "], outTexCoord);", i += "\n\t}"; return (t = t.replace(/%count%/gi, e.toString())).replace(/%forloop%/gi, i) }, setGlowQuality: function(t, e, i, n) { return void 0 === i && (i = e.config.glowFXQuality), void 0 === n && (n = e.config.glowFXDistance), (t = t.replace(/__SIZE__/gi, (1 / i / n).toFixed(7))).replace(/__DIST__/gi, n.toFixed(0) + ".0") } } }, 29100: (t, e, i) => { var n = i(83419),
					r = i(62644),
					s = i(50792),
					o = i(77085),
					a = i(95540),
					l = i(37867),
					h = i(92503),
					u = i(32302),
					c = i(70554),
					d = i(38683),
					f = new n({ Extends: s, initialize: function(t) { s.call(this); var e = t.game,
								i = e.renderer,
								n = i.gl;
							this.name = a(t, "name", "WebGLPipeline"), this.game = e, this.renderer = i, this.manager, this.gl = n, this.view = e.canvas, this.width = 0, this.height = 0, this.vertexCount = 0, this.vertexCapacity = 0, this.vertexData, this.vertexBuffer, this.activeBuffer, this.topology = a(t, "topology", n.TRIANGLES), this.bytes, this.vertexViewF32, this.vertexViewU32, this.active = !0, this.forceZero = a(t, "forceZero", !1), this.hasBooted = !1, this.isPostFX = !1, this.isPreFX = !1, this.renderTargets = [], this.currentRenderTarget, this.shaders = [], this.currentShader, this.projectionMatrix, this.projectionWidth = 0, this.projectionHeight = 0, this.config = t, this.glReset = !1, this.batch = [], this.currentBatch = null, this.currentTexture = null, this.currentUnit = 0, this.activeTextures = [], this.resizeUniform = a(t, "resizeUniform", "") }, boot: function() { var t, e = this.gl,
								i = this.config,
								n = this.renderer;
							this.isPostFX || (this.projectionMatrix = (new l).identity()); var r = this.renderTargets,
								s = a(i, "renderTarget", !1); "boolean" == typeof s && s && (s = 1); var c = n.width,
								d = n.height; if ("number" == typeof s)
								for (t = 0; t < s; t++) r.push(new u(n, c, d, 1, 0, !0));
							else if (Array.isArray(s))
								for (t = 0; t < s.length; t++) { var f = a(s[t], "scale", 1),
										p = a(s[t], "minFilter", 0),
										g = a(s[t], "autoClear", 1),
										m = a(s[t], "autoResize", !1),
										v = a(s[t], "width", null),
										y = a(s[t], "height", v);
									v ? r.push(new u(n, v, y, 1, p, g, m)) : r.push(new u(n, c, d, f, p, g, m)) } r.length && (this.currentRenderTarget = r[0]), this.setShadersFromConfig(i); var x = this.shaders,
								b = 0; for (t = 0; t < x.length; t++) x[t].vertexSize > b && (b = x[t].vertexSize); var w = a(i, "batchSize", n.config.batchSize);
							this.vertexCapacity = 6 * w; var T = new ArrayBuffer(this.vertexCapacity * b);
							this.vertexData = T, this.bytes = new Uint8Array(T), this.vertexViewF32 = new Float32Array(T), this.vertexViewU32 = new Uint32Array(T); var S = a(i, "vertices", null); for (S ? (this.vertexViewF32.set(S), this.vertexBuffer = n.createVertexBuffer(T, e.STATIC_DRAW)) : this.vertexBuffer = n.createVertexBuffer(T.byteLength, e.DYNAMIC_DRAW), this.setVertexBuffer(), t = x.length - 1; t >= 0; t--) x[t].rebind();
							this.hasBooted = !0, n.on(h.RESIZE, this.resize, this), n.on(h.PRE_RENDER, this.onPreRender, this), n.on(h.RENDER, this.onRender, this), n.on(h.POST_RENDER, this.onPostRender, this), this.emit(o.BOOT, this), this.onBoot() }, onBoot: function() {}, onResize: function() {}, setShader: function(t, e, i) { var n = this.renderer; return t === this.currentShader && n.currentProgram === this.currentShader.program || (this.flush(), this.setVertexBuffer(i) && !e && (e = !0), t.bind(e, !1), this.currentShader = t), this }, getShaderByName: function(t) { for (var e = this.shaders, i = 0; i < e.length; i++)
								if (e[i].name === t) return e[i] }, setShadersFromConfig: function(t) { var e, i = this.shaders,
								n = this.renderer; for (e = 0; e < i.length; e++) i[e].destroy(); var s = "vertShader",
								o = "fragShader",
								l = "attributes",
								h = a(t, s, null),
								u = c.parseFragmentShaderMaxTextures(a(t, o, null), n.maxTextures),
								f = a(t, l, null),
								p = a(t, "shaders", []),
								g = p.length; if (0 === g) h && u && (this.shaders = [new d(this, "default", h, u, r(f))]);
							else { var m = []; for (e = 0; e < g; e++) { var v, y, x, b, w = p[e]; if ("string" == typeof w ? (v = "default", y = h, x = c.parseFragmentShaderMaxTextures(w, n.maxTextures), b = f) : (v = a(w, "name", "default"), y = a(w, s, h), x = c.parseFragmentShaderMaxTextures(a(w, o, u), n.maxTextures), b = a(w, l, f)), "default" === v) { var T = x.split("\n")[0].trim();
										T.indexOf("#define SHADER_NAME") > -1 && (v = T.substring(20)) } y && x && m.push(new d(this, v, y, x, r(b))) } this.shaders = m } return 0 === this.shaders.length ? console.warn("Pipeline: " + this.name + " - Invalid shader config") : this.currentShader = this.shaders[0], this }, createBatch: function(t) { return this.currentBatch = { start: this.vertexCount, count: 0, texture: [t], unit: 0, maxUnit: 0 }, this.currentUnit = 0, this.currentTexture = t, this.batch.push(this.currentBatch), 0 }, addTextureToBatch: function(t) { var e = this.currentBatch;
							e && (e.texture.push(t), e.unit++, e.maxUnit++) }, pushBatch: function(t) { if (!this.currentBatch || this.forceZero && t !== this.currentTexture) return this.createBatch(t); if (t === this.currentTexture) return this.currentUnit; var e = this.currentBatch,
								i = e.texture.indexOf(t); return -1 === i ? e.texture.length === this.renderer.maxTextures ? this.createBatch(t) : (e.unit++, e.maxUnit++, e.texture.push(t), this.currentUnit = e.unit, this.currentTexture = t, e.unit) : (this.currentUnit = i, this.currentTexture = t, i) }, setGameObject: function(t, e) { return void 0 === e && (e = t.frame), this.pushBatch(e.source.glTexture) }, shouldFlush: function(t) { return void 0 === t && (t = 0), this.vertexCount + t > this.vertexCapacity }, vertexAvailable: function() { return this.vertexCapacity - this.vertexCount }, resize: function(t, e) { t === this.width && e === this.height || this.flush(), this.width = t, this.height = e; for (var i = this.renderTargets, n = 0; n < i.length; n++) i[n].resize(t, e); return this.setProjectionMatrix(t, e), this.resizeUniform && this.set2f(this.resizeUniform, t, e), this.emit(o.RESIZE, t, e, this), this.onResize(t, e), this }, setProjectionMatrix: function(t, e) { var i = this.projectionMatrix; if (!i) return this;
							this.projectionWidth = t, this.projectionHeight = e, i.ortho(0, t, e, 0, -1e3, 1e3); for (var n = this.shaders, r = "uProjectionMatrix", s = 0; s < n.length; s++) { var o = n[s];
								o.hasUniform(r) && (o.resetUniform(r), o.setMatrix4fv(r, !1, i.val, o)) } return this }, flipProjectionMatrix: function(t) { void 0 === t && (t = !0); var e = this.projectionMatrix; if (!e) return this; var i = this.projectionWidth,
								n = this.projectionHeight;
							t ? e.ortho(0, i, 0, n, -1e3, 1e3) : e.ortho(0, i, n, 0, -1e3, 1e3), this.setMatrix4fv("uProjectionMatrix", !1, e.val) }, updateProjectionMatrix: function() { if (this.projectionMatrix) { var t = this.renderer.projectionWidth,
									e = this.renderer.projectionHeight;
								this.projectionWidth === t && this.projectionHeight === e || this.setProjectionMatrix(t, e) } }, bind: function(t) { if (void 0 === t && (t = this.currentShader), this.glReset) return this.rebind(t); var e = !1,
								i = this.gl; return i.getParameter(i.ARRAY_BUFFER_BINDING) !== this.vertexBuffer && (i.bindBuffer(i.ARRAY_BUFFER, this.vertexBuffer.webGLBuffer), this.activeBuffer = this.vertexBuffer, e = !0), t.bind(e), this.currentShader = t, this.activeTextures.length = 0, this.emit(o.BIND, this, t), this.onActive(t), this }, rebind: function(t) { this.activeBuffer = null, this.setVertexBuffer(); for (var e = this.shaders, i = e.length - 1; i >= 0; i--) { var n = e[i].rebind();
								t && n !== t || (this.currentShader = n) } return this.activeTextures.length = 0, this.emit(o.REBIND, this.currentShader), this.onActive(this.currentShader), this.onRebind(), this.glReset = !1, this }, restoreContext: function() { var t = this.shaders,
								e = !!this.vertexBuffer;
							this.activeBuffer = null, this.activeTextures.length = 0, this.batch.length = 0, this.currentBatch = null, this.currentTexture = null, this.currentUnit = 0, e && this.setVertexBuffer(); for (var i = 0; i < t.length; i++) { var n = t[i];
								n.syncUniforms(), e && n.rebind() } }, setVertexBuffer: function(t) { if (void 0 === t && (t = this.vertexBuffer), t !== this.activeBuffer) { var e = this.gl; return this.gl.bindBuffer(e.ARRAY_BUFFER, t.webGLBuffer), this.activeBuffer = t, !0 } return !1 }, preBatch: function(t) { return this.currentRenderTarget && this.currentRenderTarget.bind(), this.onPreBatch(t), this }, postBatch: function(t) { return this.onDraw(this.currentRenderTarget), this.onPostBatch(t), this }, onDraw: function() {}, unbind: function() { this.currentRenderTarget && this.currentRenderTarget.unbind() }, flush: function(t) { if (void 0 === t && (t = !1), this.vertexCount > 0) { this.emit(o.BEFORE_FLUSH, this, t), this.onBeforeFlush(t); var e = this.gl,
									i = this.vertexCount,
									n = this.currentShader.vertexSize,
									r = this.topology; if (this.active) { var s, a, l;
									this.setVertexBuffer(), i === this.vertexCapacity ? e.bufferData(e.ARRAY_BUFFER, this.vertexData, e.DYNAMIC_DRAW) : e.bufferSubData(e.ARRAY_BUFFER, 0, this.bytes.subarray(0, i * n)); var h = this.batch,
										u = this.activeTextures; if (this.forceZero)
										for (u[0] || e.activeTexture(e.TEXTURE0), s = 0; s < h.length; s++) l = (a = h[s]).texture[0], u[0] !== l && (e.bindTexture(e.TEXTURE_2D, l.webGLTexture), u[0] = l), e.drawArrays(r, a.start, a.count);
									else
										for (s = 0; s < h.length; s++) { a = h[s]; for (var c = 0; c <= a.maxUnit; c++) l = a.texture[c], u[c] !== l && (e.activeTexture(e.TEXTURE0 + c), e.bindTexture(e.TEXTURE_2D, l.webGLTexture), u[c] = l);
											e.drawArrays(r, a.start, a.count) } } this.vertexCount = 0, this.batch.length = 0, this.currentBatch = null, this.currentTexture = null, this.currentUnit = 0, this.emit(o.AFTER_FLUSH, this, t), this.onAfterFlush(t) } return this }, onActive: function() {}, onBind: function() {}, onRebind: function() {}, onBatch: function() {}, onPreBatch: function() {}, onPostBatch: function() {}, onPreRender: function() {}, onRender: function() {}, onPostRender: function() {}, onBeforeFlush: function() {}, onAfterFlush: function() {}, batchVert: function(t, e, i, n, r, s, o) { var a = this.vertexViewF32,
								l = this.vertexViewU32,
								h = this.vertexCount * this.currentShader.vertexComponentCount - 1;
							a[++h] = t, a[++h] = e, a[++h] = i, a[++h] = n, a[++h] = r, a[++h] = s, l[++h] = o, this.vertexCount++, this.currentBatch.count = this.vertexCount - this.currentBatch.start }, batchQuad: function(t, e, i, n, r, s, o, a, l, h, u, c, d, f, p, g, m, v, y, x) { void 0 === x && (x = this.currentUnit); var b = !1;
							this.shouldFlush(6) && (this.flush(), b = !0), this.currentBatch || (x = this.setTexture2D(y)); var w = this.vertexViewF32,
								T = this.vertexViewU32,
								S = this.vertexCount * this.currentShader.vertexComponentCount - 1; return w[++S] = e, w[++S] = i, w[++S] = h, w[++S] = u, w[++S] = x, w[++S] = v, T[++S] = f, w[++S] = n, w[++S] = r, w[++S] = h, w[++S] = d, w[++S] = x, w[++S] = v, T[++S] = g, w[++S] = s, w[++S] = o, w[++S] = c, w[++S] = d, w[++S] = x, w[++S] = v, T[++S] = m, w[++S] = e, w[++S] = i, w[++S] = h, w[++S] = u, w[++S] = x, w[++S] = v, T[++S] = f, w[++S] = s, w[++S] = o, w[++S] = c, w[++S] = d, w[++S] = x, w[++S] = v, T[++S] = m, w[++S] = a, w[++S] = l, w[++S] = c, w[++S] = u, w[++S] = x, w[++S] = v, T[++S] = p, this.vertexCount += 6, this.currentBatch.count = this.vertexCount - this.currentBatch.start, this.onBatch(t), b }, batchTri: function(t, e, i, n, r, s, o, a, l, h, u, c, d, f, p, g, m) { void 0 === m && (m = this.currentUnit); var v = !1;
							this.shouldFlush(3) && (this.flush(), v = !0), this.currentBatch || (m = this.setTexture2D(g)); var y = this.vertexViewF32,
								x = this.vertexViewU32,
								b = this.vertexCount * this.currentShader.vertexComponentCount - 1; return y[++b] = e, y[++b] = i, y[++b] = a, y[++b] = l, y[++b] = m, y[++b] = p, x[++b] = c, y[++b] = n, y[++b] = r, y[++b] = a, y[++b] = u, y[++b] = m, y[++b] = p, x[++b] = d, y[++b] = s, y[++b] = o, y[++b] = h, y[++b] = u, y[++b] = m, y[++b] = p, x[++b] = f, this.vertexCount += 3, this.currentBatch.count = this.vertexCount - this.currentBatch.start, this.onBatch(t), v }, drawFillRect: function(t, e, i, n, r, s, o, a) { void 0 === o && (o = this.renderer.whiteTexture), void 0 === a && (a = !0), t = Math.floor(t), e = Math.floor(e); var l = Math.floor(t + i),
								h = Math.floor(e + n),
								u = this.setTexture2D(o),
								d = c.getTintAppendFloatAlphaAndSwap(r, s),
								f = 0,
								p = 1;
							a && (f = 1, p = 0), this.batchQuad(null, t, e, t, h, l, h, l, e, 0, f, 1, p, d, d, d, d, 0, o, u) }, setTexture2D: function(t) { return void 0 === t && (t = this.renderer.whiteTexture), this.pushBatch(t) }, bindTexture: function(t, e) { void 0 === e && (e = 0); var i = this.gl; return i.activeTexture(i.TEXTURE0 + e), i.bindTexture(i.TEXTURE_2D, t.webGLTexture), this }, bindRenderTarget: function(t, e) { return this.bindTexture(t.texture, e) }, setTime: function(t, e) { return this.set1f(t, this.game.loop.getDuration(), e), this }, setBoolean: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.setBoolean(t, e), this }, set1f: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set1f(t, e), this }, set2f: function(t, e, i, n) { return void 0 === n && (n = this.currentShader), n.set2f(t, e, i), this }, set3f: function(t, e, i, n, r) { return void 0 === r && (r = this.currentShader), r.set3f(t, e, i, n), this }, set4f: function(t, e, i, n, r, s) { return void 0 === s && (s = this.currentShader), s.set4f(t, e, i, n, r), this }, set1fv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set1fv(t, e), this }, set2fv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set2fv(t, e), this }, set3fv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set3fv(t, e), this }, set4fv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set4fv(t, e), this }, set1iv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set1iv(t, e), this }, set2iv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set2iv(t, e), this }, set3iv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set3iv(t, e), this }, set4iv: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set4iv(t, e), this }, set1i: function(t, e, i) { return void 0 === i && (i = this.currentShader), i.set1i(t, e), this }, set2i: function(t, e, i, n) { return void 0 === n && (n = this.currentShader), n.set2i(t, e, i), this }, set3i: function(t, e, i, n, r) { return void 0 === r && (r = this.currentShader), r.set3i(t, e, i, n), this }, set4i: function(t, e, i, n, r, s) { return void 0 === s && (s = this.currentShader), s.set4i(t, e, i, n, r), this }, setMatrix2fv: function(t, e, i, n) { return void 0 === n && (n = this.currentShader), n.setMatrix2fv(t, e, i), this }, setMatrix3fv: function(t, e, i, n) { return void 0 === n && (n = this.currentShader), n.setMatrix3fv(t, e, i), this }, setMatrix4fv: function(t, e, i, n) { return void 0 === n && (n = this.currentShader), n.setMatrix4fv(t, e, i), this }, destroy: function() { var t;
							this.emit(o.DESTROY, this); var e = this.shaders; for (t = 0; t < e.length; t++) e[t].destroy(); var i = this.renderTargets; for (t = 0; t < i.length; t++) i[t].destroy(); var n = this.renderer; return n.deleteBuffer(this.vertexBuffer), n.off(h.RESIZE, this.resize, this), n.off(h.PRE_RENDER, this.onPreRender, this), n.off(h.RENDER, this.onRender, this), n.off(h.POST_RENDER, this.onPostRender, this), this.removeAllListeners(), this.game = null, this.renderer = null, this.manager = null, this.gl = null, this.view = null, this.shaders = null, this.renderTargets = null, this.bytes = null, this.vertexViewF32 = null, this.vertexViewU32 = null, this.vertexData = null, this.vertexBuffer = null, this.currentShader = null, this.currentRenderTarget = null, this.activeTextures = null, this } });
				t.exports = f }, 74797: (t, e, i) => { var n = i(95428),
					r = i(72905),
					s = i(19715),
					o = i(83419),
					a = i(8054),
					l = i(50792),
					h = i(92503),
					u = i(50030),
					c = i(37867),
					d = i(29747),
					f = i(7530),
					p = i(32302),
					g = i(97480),
					m = i(69442),
					v = i(70554),
					y = i(88815),
					x = i(26128),
					b = i(1482),
					w = i(82751),
					T = i(84387),
					S = i(93567),
					_ = i(57183),
					E = new o({ Extends: l, initialize: function(t) { l.call(this); var e = t.config,
								i = { alpha: e.transparent, desynchronized: e.desynchronized, depth: !0, antialias: e.antialiasGL, premultipliedAlpha: e.premultipliedAlpha, stencil: !0, failIfMajorPerformanceCaveat: e.failIfMajorPerformanceCaveat, powerPreference: e.powerPreference, preserveDrawingBuffer: e.preserveDrawingBuffer, willReadFrequently: !1 };
							this.config = { clearBeforeRender: e.clearBeforeRender, antialias: e.antialias, backgroundColor: e.backgroundColor, contextCreation: i, roundPixels: e.roundPixels, maxTextures: e.maxTextures, maxTextureSize: e.maxTextureSize, batchSize: e.batchSize, maxLights: e.maxLights, mipmapFilter: e.mipmapFilter }, this.game = t, this.type = a.WEBGL, this.pipelines = null, this.width = 0, this.height = 0, this.canvas = t.canvas, this.blendModes = [], this.contextLost = !1, this.snapshotState = { x: 0, y: 0, width: 1, height: 1, getPixel: !1, callback: null, type: "image/png", encoder: .92, isFramebuffer: !1, bufferWidth: 0, bufferHeight: 0 }, this.maxTextures = 0, this.textureIndexes, this.glBufferWrappers = [], this.glProgramWrappers = [], this.glTextureWrappers = [], this.glFramebufferWrappers = [], this.glAttribLocationWrappers = [], this.glUniformLocationWrappers = [], this.currentFramebuffer = null, this.fboStack = [], this.currentProgram = null, this.currentBlendMode = 1 / 0, this.currentScissorEnabled = !1, this.currentScissor = null, this.scissorStack = [], this.contextLostHandler = d, this.contextRestoredHandler = d, this.previousContextLostHandler = d, this.previousContextRestoredHandler = d, this.gl = null, this.supportedExtensions = null, this.instancedArraysExtension = null, this.vaoExtension = null, this.extensions = {}, this.glFormats, this.compression, this.drawingBufferHeight = 0, this.blankTexture = null, this.normalTexture = null, this.whiteTexture = null, this.maskCount = 0, this.maskStack = [], this.currentMask = { mask: null, camera: null }, this.currentCameraMask = { mask: null, camera: null }, this.glFuncMap = null, this.currentType = "", this.newType = !1, this.nextTypeMatch = !1, this.finalType = !1, this.mipmapFilter = null, this.defaultScissor = [0, 0, 0, 0], this.isBooted = !1, this.renderTarget = null, this.projectionMatrix, this.projectionWidth = 0, this.projectionHeight = 0, this.maskSource = null, this.maskTarget = null, this.spector = null, this._debugCapture = !1, this.init(this.config) }, init: function(t) { var e, i = this.game,
								n = this.canvas,
								r = t.backgroundColor; if (!(e = i.config.context ? i.config.context : n.getContext("webgl", t.contextCreation) || n.getContext("experimental-webgl", t.contextCreation)) || e.isContextLost()) throw this.contextLost = !0, new Error("WebGL unsupported");
							this.gl = e, this.setExtensions(), this.setContextHandlers(), i.context = e; for (var s = 0; s <= 27; s++) this.blendModes.push({ func: [e.ONE, e.ONE_MINUS_SRC_ALPHA], equation: e.FUNC_ADD }); return this.blendModes[1].func = [e.ONE, e.DST_ALPHA], this.blendModes[2].func = [e.DST_COLOR, e.ONE_MINUS_SRC_ALPHA], this.blendModes[3].func = [e.ONE, e.ONE_MINUS_SRC_COLOR], this.blendModes[17] = { func: [e.ZERO, e.ONE_MINUS_SRC_ALPHA], equation: e.FUNC_REVERSE_SUBTRACT }, this.glFormats = [e.BYTE, e.SHORT, e.UNSIGNED_BYTE, e.UNSIGNED_SHORT, e.FLOAT], this.glFuncMap = { mat2: { func: e.uniformMatrix2fv, length: 1, matrix: !0 }, mat3: { func: e.uniformMatrix3fv, length: 1, matrix: !0 }, mat4: { func: e.uniformMatrix4fv, length: 1, matrix: !0 }, "1f": { func: e.uniform1f, length: 1 }, "1fv": { func: e.uniform1fv, length: 1 }, "1i": { func: e.uniform1i, length: 1 }, "1iv": { func: e.uniform1iv, length: 1 }, "2f": { func: e.uniform2f, length: 2 }, "2fv": { func: e.uniform2fv, length: 1 }, "2i": { func: e.uniform2i, length: 2 }, "2iv": { func: e.uniform2iv, length: 1 }, "3f": { func: e.uniform3f, length: 3 }, "3fv": { func: e.uniform3fv, length: 1 }, "3i": { func: e.uniform3i, length: 3 }, "3iv": { func: e.uniform3iv, length: 1 }, "4f": { func: e.uniform4f, length: 4 }, "4fv": { func: e.uniform4fv, length: 1 }, "4i": { func: e.uniform4i, length: 4 }, "4iv": { func: e.uniform4iv, length: 1 } }, t.maxTextures && -1 !== t.maxTextures || (t.maxTextures = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)), t.maxTextureSize || (t.maxTextureSize = e.getParameter(e.MAX_TEXTURE_SIZE)), this.compression = this.getCompressedTextures(), e.disable(e.DEPTH_TEST), e.disable(e.CULL_FACE), e.enable(e.BLEND), e.clearColor(r.redGL, r.greenGL, r.blueGL, r.alphaGL), -1 !== ["NEAREST", "LINEAR", "NEAREST_MIPMAP_NEAREST", "LINEAR_MIPMAP_NEAREST", "NEAREST_MIPMAP_LINEAR", "LINEAR_MIPMAP_LINEAR"].indexOf(t.mipmapFilter) && (this.mipmapFilter = e[t.mipmapFilter]), this.maxTextures = v.checkShaderMax(e, t.maxTextures), this.textureIndexes = [], this.createTemporaryTextures(), this.pipelines = new f(this), this.setBlendMode(a.BlendModes.NORMAL), this.projectionMatrix = (new c).identity(), i.textures.once(m.READY, this.boot, this), this }, boot: function() { var t = this.game,
								e = this.pipelines,
								i = t.scale.baseSize,
								n = i.width,
								r = i.height;
							this.width = n, this.height = r, this.isBooted = !0, this.renderTarget = new p(this, n, r, 1, 0, !0, !0), this.maskTarget = new p(this, n, r, 1, 0, !0, !0), this.maskSource = new p(this, n, r, 1, 0, !0, !0); var s = t.config;
							e.boot(s.pipeline, s.defaultPipeline, s.autoMobilePipeline), this.blankTexture = t.textures.getFrame("__DEFAULT").glTexture, this.normalTexture = t.textures.getFrame("__NORMAL").glTexture, this.whiteTexture = t.textures.getFrame("__WHITE").glTexture; var o = this.gl;
							o.bindFramebuffer(o.FRAMEBUFFER, null), o.enable(o.SCISSOR_TEST), t.scale.on(g.RESIZE, this.onResize, this), this.resize(n, r) }, setExtensions: function() { var t = this.gl,
								e = t.getSupportedExtensions();
							this.supportedExtensions = e; var i = "ANGLE_instanced_arrays";
							this.instancedArraysExtension = e.indexOf(i) > -1 ? t.getExtension(i) : null; var n = "OES_vertex_array_object";
							this.vaoExtension = e.indexOf(n) > -1 ? t.getExtension(n) : null }, setContextHandlers: function(t, e) { this.previousContextLostHandler && this.canvas.removeEventListener("webglcontextlost", this.previousContextLostHandler, !1), this.previousContextRestoredHandler && this.canvas.removeEventListener("webglcontextlost", this.previousContextRestoredHandler, !1), this.contextLostHandler = "function" == typeof t ? t.bind(this) : this.dispatchContextLost.bind(this), this.contextRestoredHandler = "function" == typeof e ? e.bind(this) : this.dispatchContextRestored.bind(this), this.canvas.addEventListener("webglcontextlost", this.contextLostHandler, !1), this.canvas.addEventListener("webglcontextrestored", this.contextRestoredHandler, !1), this.previousContextLostHandler = this.contextLostHandler, this.previousContextRestoredHandler = this.contextRestoredHandler }, dispatchContextLost: function(t) { this.contextLost = !0, console && console.warn("WebGL Context lost. Renderer disabled"), this.emit(h.LOSE_WEBGL, this), t.preventDefault() }, dispatchContextRestored: function(t) { var e = this.gl; if (e.isContextLost()) console && console.log("WebGL Context restored, but context is still lost");
							else { this.currentProgram = null, this.currentFramebuffer = null, this.setBlendMode(a.BlendModes.NORMAL), e.disable(e.BLEND), e.disable(e.DEPTH_TEST), e.enable(e.CULL_FACE), this.compression = this.getCompressedTextures(); var i = function(t) { t.createResource() };
								n(this.glTextureWrappers, i), n(this.glBufferWrappers, i), n(this.glFramebufferWrappers, i), n(this.glProgramWrappers, i), n(this.glAttribLocationWrappers, i), n(this.glUniformLocationWrappers, i), this.createTemporaryTextures(), this.pipelines.restoreContext(), this.resize(this.game.scale.baseSize.width, this.game.scale.baseSize.height), this.setExtensions(), this.contextLost = !1, console && console.warn("WebGL Context restored. Renderer running again."), this.emit(h.RESTORE_WEBGL, this), t.preventDefault() } }, createTemporaryTextures: function() { for (var t = this.gl, e = 0; e < this.maxTextures; e++) { var i = t.createTexture();
								t.activeTexture(t.TEXTURE0 + e), t.bindTexture(t.TEXTURE_2D, i), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, new Uint8Array([0, 0, 255, 255])), this.textureIndexes.push(e) } }, captureFrame: function(t, e) {}, captureNextFrame: function() {}, getFps: function() {}, log: function() {}, startCapture: function(t, e, i) {}, stopCapture: function() {}, onCapture: function(t) {}, onResize: function(t, e) { e.width === this.width && e.height === this.height || this.resize(e.width, e.height) }, beginCapture: function(t, e) { void 0 === t && (t = this.width), void 0 === e && (e = this.height), this.renderTarget.bind(!0, t, e), this.setProjectionMatrix(t, e) }, endCapture: function() { return this.renderTarget.unbind(!0), this.resetProjectionMatrix(), this.renderTarget }, resize: function(t, e) { var i = this.gl; return this.width = t, this.height = e, this.setProjectionMatrix(t, e), i.viewport(0, 0, t, e), this.drawingBufferHeight = i.drawingBufferHeight, i.scissor(0, i.drawingBufferHeight - e, t, e), this.defaultScissor[2] = t, this.defaultScissor[3] = e, this.emit(h.RESIZE, t, e), this }, getCompressedTextures: function() { var t = "WEBGL_compressed_texture_",
								e = "WEBKIT_" + t,
								i = function(i, n) { var r = i.getExtension(t + n) || i.getExtension(e + n) || i.getExtension("EXT_texture_compression_" + n); if (r) { var s = {}; for (var o in r) s[r[o]] = o; return s } },
								n = this.gl; return { ETC: i(n, "etc"), ETC1: i(n, "etc1"), ATC: i(n, "atc"), ASTC: i(n, "astc"), BPTC: i(n, "bptc"), RGTC: i(n, "rgtc"), PVRTC: i(n, "pvrtc"), S3TC: i(n, "s3tc"), S3TCSRGB: i(n, "s3tc_srgb"), IMG: !0 } }, getCompressedTextureName: function(t, e) { var i = this.compression[t.toUpperCase()]; if (e in i) return i[e] }, supportsCompressedTexture: function(t, e) { var i = this.compression[t.toUpperCase()]; return !!i && (!e || e in i) }, getAspectRatio: function() { return this.width / this.height }, setProjectionMatrix: function(t, e) { return t === this.projectionWidth && e === this.projectionHeight || (this.projectionWidth = t, this.projectionHeight = e, this.projectionMatrix.ortho(0, t, e, 0, -1e3, 1e3)), this }, resetProjectionMatrix: function() { return this.setProjectionMatrix(this.width, this.height) }, hasExtension: function(t) { return !!this.supportedExtensions && this.supportedExtensions.indexOf(t) }, getExtension: function(t) { return this.hasExtension(t) ? (t in this.extensions || (this.extensions[t] = this.gl.getExtension(t)), this.extensions[t]) : null }, flush: function() { this.pipelines.flush() }, pushScissor: function(t, e, i, n, r) { void 0 === r && (r = this.drawingBufferHeight); var s = [t, e, i, n]; return this.scissorStack.push(s), this.setScissor(t, e, i, n, r), this.currentScissor = s, s }, setScissor: function(t, e, i, n, r) { void 0 === r && (r = this.drawingBufferHeight); var s = this.gl,
								o = this.currentScissor,
								a = i > 0 && n > 0; if (o && a) { var l = o[0],
									h = o[1],
									u = o[2],
									c = o[3];
								a = l !== t || h !== e || u !== i || c !== n } a && (this.flush(), s.scissor(t, r - e - n, i, n)) }, resetScissor: function() { var t = this.gl;
							t.enable(t.SCISSOR_TEST); var e = this.currentScissor; if (e) { var i = e[0],
									n = e[1],
									r = e[2],
									s = e[3];
								r > 0 && s > 0 && t.scissor(i, this.drawingBufferHeight - n - s, r, s) } }, popScissor: function() { var t = this.scissorStack;
							t.pop(); var e = t[t.length - 1];
							e && this.setScissor(e[0], e[1], e[2], e[3]), this.currentScissor = e }, hasActiveStencilMask: function() { var t = this.currentMask.mask,
								e = this.currentCameraMask.mask; return t && t.isStencil || e && e.isStencil }, resetViewport: function() { var t = this.gl;
							t.viewport(0, 0, this.width, this.height), this.drawingBufferHeight = t.drawingBufferHeight }, setBlendMode: function(t, e) { void 0 === e && (e = !1); var i = this.gl,
								n = this.blendModes[t]; return !!(e || t !== a.BlendModes.SKIP_CHECK && this.currentBlendMode !== t) && (this.flush(), i.enable(i.BLEND), i.blendEquation(n.equation), n.func.length > 2 ? i.blendFuncSeparate(n.func[0], n.func[1], n.func[2], n.func[3]) : i.blendFunc(n.func[0], n.func[1]), this.currentBlendMode = t, !0) }, addBlendMode: function(t, e) { return this.blendModes.push({ func: t, equation: e }) - 1 }, updateBlendMode: function(t, e, i) { return this.blendModes[t] && (this.blendModes[t].func = e, i && (this.blendModes[t].equation = i)), this }, removeBlendMode: function(t) { return t > 17 && this.blendModes[t] && this.blendModes.splice(t, 1), this }, pushFramebuffer: function(t, e, i, n, r) { return t === this.currentFramebuffer ? this : (this.fboStack.push(t), this.setFramebuffer(t, e, i, n, r)) }, setFramebuffer: function(t, e, i, n, r) { if (void 0 === e && (e = !1), void 0 === i && (i = !0), void 0 === n && (n = null), void 0 === r && (r = !1), t === this.currentFramebuffer) return this; var s = this.gl,
								o = this.width,
								a = this.height; return t && t.renderTexture && i ? (o = t.renderTexture.width, a = t.renderTexture.height) : this.flush(), t ? s.bindFramebuffer(s.FRAMEBUFFER, t.webGLFramebuffer) : s.bindFramebuffer(s.FRAMEBUFFER, null), i && s.viewport(0, 0, o, a), n && s.framebufferTexture2D(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0, s.TEXTURE_2D, n.webGLTexture, 0), r && (s.clearColor(0, 0, 0, 0), s.clear(s.COLOR_BUFFER_BIT)), e && (t ? (this.drawingBufferHeight = a, this.pushScissor(0, 0, o, a)) : (this.drawingBufferHeight = this.height, this.popScissor())), this.currentFramebuffer = t, this }, popFramebuffer: function(t, e) { void 0 === t && (t = !1), void 0 === e && (e = !0); var i = this.fboStack;
							i.pop(); var n = i[i.length - 1]; return n || (n = null), this.setFramebuffer(n, t, e), n }, restoreFramebuffer: function(t, e) { void 0 === t && (t = !1), void 0 === e && (e = !0); var i = this.fboStack,
								n = i[i.length - 1];
							n || (n = null), this.currentFramebuffer = null, this.setFramebuffer(n, t, e) }, setProgram: function(t) { return t !== this.currentProgram && (this.flush(), this.gl.useProgram(t.webGLProgram), this.currentProgram = t, !0) }, resetProgram: function() { return this.gl.useProgram(this.currentProgram.webGLProgramWrapper), this }, createTextureFromSource: function(t, e, i, n, r) { void 0 === r && (r = !1); var s = this.gl,
								o = s.NEAREST,
								l = s.NEAREST,
								h = s.CLAMP_TO_EDGE;
							e = t ? t.width : e, i = t ? t.height : i; var c = u(e, i); if (c && !r && (h = s.REPEAT), n === a.ScaleModes.LINEAR && this.config.antialias) { var d = t && t.compressed,
									f = !d && c || d && t.mipmaps.length > 1;
								o = this.mipmapFilter && f ? this.mipmapFilter : s.LINEAR, l = s.LINEAR } return t || "number" != typeof e || "number" != typeof i ? this.createTexture2D(0, o, l, h, h, s.RGBA, t) : this.createTexture2D(0, o, l, h, h, s.RGBA, null, e, i) }, createTexture2D: function(t, e, i, n, r, s, o, a, l, h, u, c) { "number" != typeof a && (a = o ? o.width : 1), "number" != typeof l && (l = o ? o.height : 1); var d = new w(this.gl, t, e, i, n, r, s, o, a, l, h, u, c); return this.glTextureWrappers.push(d), d }, createFramebuffer: function(t, e, i, n) { this.currentFramebuffer = null; var r = new T(this.gl, t, e, i, n); return this.glFramebufferWrappers.push(r), r }, beginBitmapMask: function(t, e) { this.gl && (this.flush(), this.maskTarget.bind(!0), this.currentCameraMask.mask !== t && (this.currentMask.mask = t, this.currentMask.camera = e)) }, drawBitmapMask: function(t, e, i) { this.flush(), this.maskSource.bind(), this.setBlendMode(0, !0), t.renderWebGL(this, t, e), this.maskSource.unbind(!0), this.maskTarget.unbind(); var n = this.gl,
								r = this.getCurrentStencilMask();
							r ? (n.enable(n.STENCIL_TEST), r.mask.applyStencil(this, r.camera, !0)) : this.currentMask.mask = null, this.pipelines.set(i), n.activeTexture(n.TEXTURE0), n.bindTexture(n.TEXTURE_2D, this.maskTarget.texture.webGLTexture), n.activeTexture(n.TEXTURE1), n.bindTexture(n.TEXTURE_2D, this.maskSource.texture.webGLTexture) }, createProgram: function(t, e) { var i = new b(this.gl, t, e); return this.glProgramWrappers.push(i), i }, createVertexBuffer: function(t, e) { var i = this.gl,
								n = new x(i, t, i.ARRAY_BUFFER, e); return this.glBufferWrappers.push(n), n }, createAttribLocation: function(t, e) { var i = new S(this.gl, t, e); return this.glAttribLocationWrappers.push(i), i }, createUniformLocation: function(t, e) { var i = new _(this.gl, t, e); return this.glUniformLocationWrappers.push(i), i }, createIndexBuffer: function(t, e) { var i = this.gl,
								n = new x(i, t, i.ELEMENT_ARRAY_BUFFER, e); return this.glBufferWrappers.push(n), n }, deleteTexture: function(t) { if (t) return r(this.glTextureWrappers, t), t.destroy(), this }, deleteFramebuffer: function(t) { return t ? (r(this.fboStack, t), r(this.glFramebufferWrappers, t), t.destroy(), this) : this }, deleteProgram: function(t) { return t && (r(this.glProgramWrappers, t), t.destroy()), this }, deleteAttribLocation: function(t) { return t && (r(this.glAttribLocationWrappers, t), t.destroy()), this }, deleteUniformLocation: function(t) { return t && (r(this.glUniformLocationWrappers, t), t.destroy()), this }, deleteBuffer: function(t) { return t ? (r(this.glBufferWrappers, t), t.destroy(), this) : this }, preRenderCamera: function(t) { var e = t.x,
								i = t.y,
								n = t.width,
								r = t.height,
								o = t.backgroundColor;
							t.emit(s.PRE_RENDER, t), this.pipelines.preBatchCamera(t), this.pushScissor(e, i, n, r), t.mask && (this.currentCameraMask.mask = t.mask, this.currentCameraMask.camera = t._maskCamera, t.mask.preRenderWebGL(this, t, t._maskCamera)), o.alphaGL > 0 && this.pipelines.setMulti().drawFillRect(e, i, n, r, v.getTintFromFloats(o.blueGL, o.greenGL, o.redGL, 1), o.alphaGL) }, getCurrentStencilMask: function() { var t = null,
								e = this.maskStack,
								i = this.currentCameraMask; return e.length > 0 ? t = e[e.length - 1] : i.mask && i.mask.isStencil && (t = i), t }, postRenderCamera: function(t) { var e = t.flashEffect,
								i = t.fadeEffect; if (e.isRunning || i.isRunning || i.isComplete) { var n = this.pipelines.setMulti();
								e.postRenderWebGL(n, v.getTintFromFloats), i.postRenderWebGL(n, v.getTintFromFloats) } t.dirty = !1, this.popScissor(), t.mask && (this.currentCameraMask.mask = null, t.mask.postRenderWebGL(this, t._maskCamera)), this.pipelines.postBatchCamera(t), t.emit(s.POST_RENDER, t) }, preRender: function() { if (!this.contextLost) { var t = this.gl; if (t.bindFramebuffer(t.FRAMEBUFFER, null), this.emit(h.PRE_RENDER_CLEAR), this.config.clearBeforeRender) { var e = this.config.backgroundColor;
									t.clearColor(e.redGL, e.greenGL, e.blueGL, e.alphaGL), t.clear(t.COLOR_BUFFER_BIT | t.DEPTH_BUFFER_BIT | t.STENCIL_BUFFER_BIT) } t.enable(t.SCISSOR_TEST), this.currentScissor = this.defaultScissor, this.scissorStack.length = 0, this.scissorStack.push(this.currentScissor), this.game.scene.customViewports && t.scissor(0, this.drawingBufferHeight - this.height, this.width, this.height), this.currentMask.mask = null, this.currentCameraMask.mask = null, this.maskStack.length = 0, this.emit(h.PRE_RENDER) } }, render: function(t, e, i) { if (!this.contextLost) { var n = e.length; if (this.emit(h.RENDER, t, i), this.preRenderCamera(i), 0 === n) return this.setBlendMode(a.BlendModes.NORMAL), void this.postRenderCamera(i);
								this.currentType = ""; for (var r = this.currentMask, s = 0; s < n; s++) { this.finalType = s === n - 1; var o = e[s],
										l = o.mask;
									(r = this.currentMask).mask && r.mask !== l && r.mask.postRenderWebGL(this, r.camera), l && r.mask !== l && l.preRenderWebGL(this, o, i), o.blendMode !== this.currentBlendMode && this.setBlendMode(o.blendMode); var u = o.type;
									u !== this.currentType && (this.newType = !0, this.currentType = u), this.finalType ? this.nextTypeMatch = !1 : this.nextTypeMatch = e[s + 1].type === this.currentType, o.renderWebGL(this, o, i), this.newType = !1 }(r = this.currentMask).mask && r.mask.postRenderWebGL(this, r.camera), this.setBlendMode(a.BlendModes.NORMAL), this.postRenderCamera(i) } }, postRender: function() { if (!this.contextLost) { this.flush(), this.emit(h.POST_RENDER); var t = this.snapshotState;
								t.callback && (y(this.gl, t), t.callback = null) } }, clearStencilMask: function() { this.gl.disable(this.gl.STENCIL_TEST) }, restoreStencilMask: function() { var t = this.gl,
								e = this.getCurrentStencilMask(); if (e) { var i = e.mask;
								t.enable(t.STENCIL_TEST), i.invertAlpha ? t.stencilFunc(t.NOTEQUAL, i.level, 255) : t.stencilFunc(t.EQUAL, i.level, 255) } }, snapshot: function(t, e, i) { return this.snapshotArea(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight, t, e, i) }, snapshotArea: function(t, e, i, n, r, s, o) { var a = this.snapshotState; return a.callback = r, a.type = s, a.encoder = o, a.getPixel = !1, a.x = t, a.y = e, a.width = i, a.height = n, this }, snapshotPixel: function(t, e, i) { return this.snapshotArea(t, e, 1, 1, i), this.snapshotState.getPixel = !0, this }, snapshotFramebuffer: function(t, e, i, n, r, s, o, a, l, h, u) { void 0 === r && (r = !1), void 0 === s && (s = 0), void 0 === o && (o = 0), void 0 === a && (a = e), void 0 === l && (l = i), "pixel" === h && (r = !0, h = "image/png"); var c = this.currentFramebuffer;
							this.snapshotArea(s, o, a, l, n, h, u); var d = this.snapshotState; return d.getPixel = r, d.isFramebuffer = !0, d.bufferWidth = e, d.bufferHeight = i, d.width = Math.min(d.width, e), d.height = Math.min(d.height, i), this.setFramebuffer(t), y(this.gl, d), this.setFramebuffer(c), d.callback = null, d.isFramebuffer = !1, this }, canvasToTexture: function(t, e, i, n) { void 0 === i && (i = !1), void 0 === n && (n = !1); var r = this.gl,
								s = r.NEAREST,
								o = r.NEAREST,
								a = t.width,
								l = t.height,
								h = r.CLAMP_TO_EDGE,
								c = u(a, l); return !i && c && (h = r.REPEAT), this.config.antialias && (s = c && this.mipmapFilter ? this.mipmapFilter : r.LINEAR, o = r.LINEAR), e ? (e.update(t, a, l, n, h, h, s, o, e.format), e) : this.createTexture2D(0, s, o, h, h, r.RGBA, t, a, l, !0, !1, n) }, createCanvasTexture: function(t, e, i) { return void 0 === e && (e = !1), void 0 === i && (i = !1), this.canvasToTexture(t, null, e, i) }, updateCanvasTexture: function(t, e, i, n) { return void 0 === i && (i = !1), void 0 === n && (n = !1), this.canvasToTexture(t, e, n, i) }, videoToTexture: function(t, e, i, n) { void 0 === i && (i = !1), void 0 === n && (n = !1); var r = this.gl,
								s = r.NEAREST,
								o = r.NEAREST,
								a = t.videoWidth,
								l = t.videoHeight,
								h = r.CLAMP_TO_EDGE,
								c = u(a, l); return !i && c && (h = r.REPEAT), this.config.antialias && (s = c && this.mipmapFilter ? this.mipmapFilter : r.LINEAR, o = r.LINEAR), e ? (e.update(t, a, l, n, h, h, s, o, e.format), e) : this.createTexture2D(0, s, o, h, h, r.RGBA, t, a, l, !0, !0, n) }, createVideoTexture: function(t, e, i) { return void 0 === e && (e = !1), void 0 === i && (i = !1), this.videoToTexture(t, null, e, i) }, updateVideoTexture: function(t, e, i, n) { return void 0 === i && (i = !1), void 0 === n && (n = !1), this.videoToTexture(t, e, n, i) }, createUint8ArrayTexture: function(t, e, i) { var n = this.gl,
								r = n.NEAREST,
								s = n.NEAREST,
								o = n.CLAMP_TO_EDGE; return u(e, i) && (o = n.REPEAT), this.createTexture2D(0, r, s, o, o, n.RGBA, t, e, i) }, setTextureFilter: function(t, e) { var i = this.gl,
								n = 0 === e ? i.LINEAR : i.NEAREST;
							i.activeTexture(i.TEXTURE0); var r = i.getParameter(i.TEXTURE_BINDING_2D); return i.bindTexture(i.TEXTURE_2D, t.webGLTexture), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, n), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, n), t.minFilter = n, t.magFilter = n, r && i.bindTexture(i.TEXTURE_2D, r), this }, getMaxTextureSize: function() { return this.config.maxTextureSize }, destroy: function() { this.canvas.removeEventListener("webglcontextlost", this.contextLostHandler, !1), this.canvas.removeEventListener("webglcontextrestored", this.contextRestoredHandler, !1); var t = function(t) { t.destroy() };
							n(this.glAttribLocationWrappers, t), n(this.glBufferWrappers, t), n(this.glFramebufferWrappers, t), n(this.glProgramWrappers, t), n(this.glTextureWrappers, t), n(this.glUniformLocationWrappers, t), this.maskTarget.destroy(), this.maskSource.destroy(), this.pipelines.destroy(), this.removeAllListeners(), this.fboStack = [], this.maskStack = [], this.extensions = {}, this.textureIndexes = [], this.gl = null, this.game = null, this.canvas = null, this.contextLost = !0, this.currentMask = null, this.currentCameraMask = null } });
				t.exports = E }, 38683: (t, e, i) => { var n = i(83419),
					r = i(95428),
					s = i(95540),
					o = i(14500),
					a = new n({ initialize: function(t, e, i, n, r) { this.pipeline = t, this.name = e, this.renderer = t.renderer, this.gl = this.renderer.gl, this.fragSrc = n, this.vertSrc = i, this.program = this.renderer.createProgram(i, n), this.attributes, this.vertexComponentCount = 0, this.vertexSize = 0, this.uniforms = {}, this.createAttributes(r), this.createUniforms() }, createAttributes: function(t) { var e = 0,
								i = 0,
								n = [];
							this.vertexComponentCount = 0; for (var r = 0; r < t.length; r++) { var a = t[r],
									l = a.name,
									h = s(a, "size", 1),
									u = s(a, "type", o.FLOAT),
									c = u.enum,
									d = u.size,
									f = !!a.normalized;
								n.push({ name: l, size: h, type: c, normalized: f, offset: i, enabled: !1, location: -1 }), 4 === d ? e += h : e++, i += h * d } this.vertexSize = i, this.vertexComponentCount = e, this.attributes = n }, bind: function(t, e) { return void 0 === t && (t = !1), void 0 === e && (e = !1), e && this.pipeline.flush(), this.renderer.setProgram(this.program), t && this.setAttribPointers(), this }, rebind: function() { return this.renderer.setProgram(this.program), this.setAttribPointers(!0), this }, setAttribPointers: function(t) { void 0 === t && (t = !1); for (var e = this.gl, i = this.renderer, n = this.vertexSize, r = this.attributes, s = this.program, o = 0; o < r.length; o++) { var a = r[o],
									l = a.size,
									h = a.type,
									u = a.offset,
									c = a.enabled,
									d = a.location,
									f = !!a.normalized; if (t) {-1 !== d && i.deleteAttribLocation(d); var p = this.renderer.createAttribLocation(s, a.name);
									p.webGLAttribLocation >= 0 ? (e.enableVertexAttribArray(p.webGLAttribLocation), e.vertexAttribPointer(p.webGLAttribLocation, l, h, f, n, u), a.enabled = !0, a.location = p) : -1 !== p.webGLAttribLocation && e.disableVertexAttribArray(p.webGLAttribLocation) } else c ? e.vertexAttribPointer(d.webGLAttribLocation, l, h, f, n, u) : !c && -1 !== d && d.webGLAttribLocation > -1 && (e.disableVertexAttribArray(d.webGLAttribLocation), a.location = -1) } return this }, createUniforms: function() { var t, e, i, n = this.gl,
								r = this.program,
								s = this.uniforms,
								o = n.getProgramParameter(r.webGLProgram, n.ACTIVE_UNIFORMS); for (t = 0; t < o; t++) { var a = n.getActiveUniform(r.webGLProgram, t); if (a) { e = a.name, null !== (i = this.renderer.createUniformLocation(r, e)) && (s[e] = { name: e, location: i, setter: null, value1: null, value2: null, value3: null, value4: null }); var l = e.indexOf("[");
									l > 0 && (e = e.substr(0, l), s.hasOwnProperty(e) || null !== (i = this.renderer.createUniformLocation(r, e)) && (s[e] = { name: e, location: i, setter: null, value1: null, value2: null, value3: null, value4: null })) } } return this }, syncUniforms: function() { var t = this.gl; for (var e in this.renderer.setProgram(this.program), this.uniforms) { var i = this.uniforms[e];
								i.setter && i.setter.call(t, i.location.webGLUniformLocation, i.value1, i.value2, i.value3, i.value4) } }, hasUniform: function(t) { return this.uniforms.hasOwnProperty(t) }, resetUniform: function(t) { var e = this.uniforms[t]; return e && (e.value1 = null, e.value2 = null, e.value3 = null, e.value4 = null), this }, setUniform1: function(t, e, i, n) { var r = this.uniforms[e]; return r ? ((n || r.value1 !== i) && (r.setter || (r.setter = t), r.value1 = i, this.renderer.setProgram(this.program), t.call(this.gl, r.location.webGLUniformLocation, i), this.pipeline.currentShader = this), this) : this }, setUniform2: function(t, e, i, n, r) { var s = this.uniforms[e]; return s ? ((r || s.value1 !== i || s.value2 !== n) && (s.setter || (s.setter = t), s.value1 = i, s.value2 = n, this.renderer.setProgram(this.program), t.call(this.gl, s.location.webGLUniformLocation, i, n), this.pipeline.currentShader = this), this) : this }, setUniform3: function(t, e, i, n, r, s) { var o = this.uniforms[e]; return o ? ((s || o.value1 !== i || o.value2 !== n || o.value3 !== r) && (o.setter || (o.setter = t), o.value1 = i, o.value2 = n, o.value3 = r, this.renderer.setProgram(this.program), t.call(this.gl, o.location.webGLUniformLocation, i, n, r), this.pipeline.currentShader = this), this) : this }, setUniform4: function(t, e, i, n, r, s, o) { var a = this.uniforms[e]; return a ? ((o || a.value1 !== i || a.value2 !== n || a.value3 !== r || a.value4 !== s) && (a.setter || (a.setter = t), a.value1 = i, a.value2 = n, a.value3 = r, a.value4 = s, this.renderer.setProgram(this.program), t.call(this.gl, a.location.webGLUniformLocation, i, n, r, s), this.pipeline.currentShader = this), this) : this }, setBoolean: function(t, e) { return this.setUniform1(this.gl.uniform1i, t, Number(e)) }, set1f: function(t, e) { return this.setUniform1(this.gl.uniform1f, t, e) }, set2f: function(t, e, i) { return this.setUniform2(this.gl.uniform2f, t, e, i) }, set3f: function(t, e, i, n) { return this.setUniform3(this.gl.uniform3f, t, e, i, n) }, set4f: function(t, e, i, n, r) { return this.setUniform4(this.gl.uniform4f, t, e, i, n, r) }, set1fv: function(t, e) { return this.setUniform1(this.gl.uniform1fv, t, e, !0) }, set2fv: function(t, e) { return this.setUniform1(this.gl.uniform2fv, t, e, !0) }, set3fv: function(t, e) { return this.setUniform1(this.gl.uniform3fv, t, e, !0) }, set4fv: function(t, e) { return this.setUniform1(this.gl.uniform4fv, t, e, !0) }, set1iv: function(t, e) { return this.setUniform1(this.gl.uniform1iv, t, e, !0) }, set2iv: function(t, e) { return this.setUniform1(this.gl.uniform2iv, t, e, !0) }, set3iv: function(t, e) { return this.setUniform1(this.gl.uniform3iv, t, e, !0) }, set4iv: function(t, e) { return this.setUniform1(this.gl.uniform4iv, t, e, !0) }, set1i: function(t, e) { return this.setUniform1(this.gl.uniform1i, t, e) }, set2i: function(t, e, i) { return this.setUniform2(this.gl.uniform2i, t, e, i) }, set3i: function(t, e, i, n) { return this.setUniform3(this.gl.uniform3i, t, e, i, n) }, set4i: function(t, e, i, n, r) { return this.setUniform4(this.gl.uniform4i, t, e, i, n, r) }, setMatrix2fv: function(t, e, i) { return this.setUniform2(this.gl.uniformMatrix2fv, t, e, i, !0) }, setMatrix3fv: function(t, e, i) { return this.setUniform2(this.gl.uniformMatrix3fv, t, e, i, !0) }, setMatrix4fv: function(t, e, i) { return this.setUniform2(this.gl.uniformMatrix4fv, t, e, i, !0) }, createProgram: function(t, e) { return void 0 === t && (t = this.vertSrc), void 0 === e && (e = this.fragSrc), this.program && this.renderer.deleteProgram(this.program), this.vertSrc = t, this.fragSrc = e, this.program = this.renderer.createProgram(t, e), this.createUniforms(), this.rebind() }, destroy: function() { var t = this.renderer;
							r(this.uniforms, (function(e) { t.deleteUniformLocation(e.location) })), this.uniforms = null, r(this.attributes, (function(e) { t.deleteAttribLocation(e.location) })), this.attributes = null, t.deleteProgram(this.program), this.pipeline = null, this.renderer = null, this.gl = null, this.program = null } });
				t.exports = a }, 14500: t => { t.exports = { BYTE: { enum: 5120, size: 1 }, UNSIGNED_BYTE: { enum: 5121, size: 1 }, SHORT: { enum: 5122, size: 2 }, UNSIGNED_SHORT: { enum: 5123, size: 2 }, INT: { enum: 5124, size: 4 }, UNSIGNED_INT: { enum: 5125, size: 4 }, FLOAT: { enum: 5126, size: 4 } } }, 4159: (t, e, i) => { var n = i(14500),
					r = i(79291),
					s = { PipelineManager: i(7530), Pipelines: i(96615), RenderTarget: i(32302), Utils: i(70554), WebGLPipeline: i(29100), WebGLRenderer: i(74797), WebGLShader: i(38683), Wrappers: i(9503) };
				s = r(!1, s, n), t.exports = s }, 31302: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(78908),
					o = i(85191),
					a = i(14500),
					l = i(29100),
					h = new n({ Extends: l, initialize: function(t) { t.fragShader = r(t, "fragShader", s), t.vertShader = r(t, "vertShader", o), t.batchSize = r(t, "batchSize", 1), t.vertices = r(t, "vertices", [-1, 1, -1, -7, 7, 1]), t.attributes = r(t, "attributes", [{ name: "inPosition", size: 2, type: a.FLOAT }]), l.call(this, t) }, boot: function() { l.prototype.boot.call(this), this.set1i("uMainSampler", 0), this.set1i("uMaskSampler", 1) }, resize: function(t, e) { l.prototype.resize.call(this, t, e), this.set2f("uResolution", t, e) }, beginMask: function(t, e, i) { this.renderer.beginBitmapMask(t, i) }, endMask: function(t, e, i) { var n = this.gl,
								r = this.renderer,
								s = t.bitmapMask;
							s && n && (r.drawBitmapMask(s, e, this), i && this.set2f("uResolution", i.width, i.height), this.set1i("uInvertMaskAlpha", t.invertAlpha), n.drawArrays(this.topology, 0, 3), i && this.set2f("uResolution", this.width, this.height), n.bindTexture(n.TEXTURE_2D, null)) } });
				t.exports = h }, 92651: (t, e, i) => { var n = i(83419),
					r = i(58918),
					s = i(14811),
					o = i(95540),
					a = i(43558),
					l = i(89350),
					h = i(70554),
					u = new n({ Extends: a, initialize: function(t) { t.shaders = [h.setGlowQuality(l.FXGlowFrag, t.game), l.FXShadowFrag, l.FXPixelateFrag, l.FXVignetteFrag, l.FXShineFrag, l.FXBlurLowFrag, l.FXBlurMedFrag, l.FXBlurHighFrag, l.FXGradientFrag, l.FXBloomFrag, l.ColorMatrixFrag, l.FXCircleFrag, l.FXBarrelFrag, l.FXDisplacementFrag, l.FXWipeFrag, l.FXBokehFrag], a.call(this, t); var e = this.game;
							this.glow = new r.Glow(e), this.shadow = new r.Shadow(e), this.pixelate = new r.Pixelate(e), this.vignette = new r.Vignette(e), this.shine = new r.Shine(e), this.gradient = new r.Gradient(e), this.circle = new r.Circle(e), this.barrel = new r.Barrel(e), this.wipe = new r.Wipe(e), this.bokeh = new r.Bokeh(e); var i = [];
							i[s.GLOW] = this.onGlow, i[s.SHADOW] = this.onShadow, i[s.PIXELATE] = this.onPixelate, i[s.VIGNETTE] = this.onVignette, i[s.SHINE] = this.onShine, i[s.BLUR] = this.onBlur, i[s.GRADIENT] = this.onGradient, i[s.BLOOM] = this.onBloom, i[s.COLOR_MATRIX] = this.onColorMatrix, i[s.CIRCLE] = this.onCircle, i[s.BARREL] = this.onBarrel, i[s.DISPLACEMENT] = this.onDisplacement, i[s.WIPE] = this.onWipe, i[s.BOKEH] = this.onBokeh, this.fxHandlers = i, this.source, this.target, this.swap }, onDraw: function(t, e, i) { this.source = t, this.target = e, this.swap = i; var n = t.width,
								r = t.height,
								s = this.tempSprite,
								o = this.fxHandlers; if (s && s.preFX)
								for (var a = s.preFX.list, l = 0; l < a.length; l++) { var h = a[l];
									h.active && o[h.type].call(this, h, n, r) } this.drawToGame(this.source) }, runDraw: function() { var t = this.source,
								e = this.target;
							this.copy(t, e), this.source = e, this.target = t }, onGlow: function(t, e, i) { var n = this.shaders[s.GLOW];
							this.setShader(n), this.glow.onPreRender(t, n, e, i), this.runDraw() }, onShadow: function(t) { var e = this.shaders[s.SHADOW];
							this.setShader(e), this.shadow.onPreRender(t, e), this.runDraw() }, onPixelate: function(t, e, i) { var n = this.shaders[s.PIXELATE];
							this.setShader(n), this.pixelate.onPreRender(t, n, e, i), this.runDraw() }, onVignette: function(t) { var e = this.shaders[s.VIGNETTE];
							this.setShader(e), this.vignette.onPreRender(t, e), this.runDraw() }, onShine: function(t, e, i) { var n = this.shaders[s.SHINE];
							this.setShader(n), this.shine.onPreRender(t, n, e, i), this.runDraw() }, onBlur: function(t, e, i) { var n = o(t, "quality"),
								r = this.shaders[s.BLUR + n];
							this.setShader(r), this.set1i("uMainSampler", 0), this.set2f("resolution", e, i), this.set1f("strength", o(t, "strength")), this.set3fv("color", o(t, "glcolor")); for (var a = o(t, "x"), l = o(t, "y"), h = o(t, "steps"), u = 0; u < h; u++) this.set2f("offset", a, 0), this.runDraw(), this.set2f("offset", 0, l), this.runDraw() }, onGradient: function(t) { var e = this.shaders[s.GRADIENT];
							this.setShader(e), this.gradient.onPreRender(t, e), this.runDraw() }, onBloom: function(t, e, i) { var n = this.shaders[s.BLOOM];
							this.copySprite(this.source, this.swap), this.setShader(n), this.set1i("uMainSampler", 0), this.set1f("strength", o(t, "blurStrength")), this.set3fv("color", o(t, "glcolor")); for (var r = 2 / e * o(t, "offsetX"), a = 2 / i * o(t, "offsetY"), l = o(t, "steps"), h = 0; h < l; h++) this.set2f("offset", r, 0), this.runDraw(), this.set2f("offset", 0, a), this.runDraw();
							this.blendFrames(this.swap, this.source, this.target, o(t, "strength")), this.copySprite(this.target, this.source) }, onColorMatrix: function(t) { this.setShader(this.colorMatrixShader), this.set1fv("uColorMatrix", t.getData()), this.set1f("uAlpha", t.alpha), this.runDraw() }, onCircle: function(t, e, i) { var n = this.shaders[s.CIRCLE];
							this.setShader(n), this.circle.onPreRender(t, n, e, i), this.runDraw() }, onBarrel: function(t) { var e = this.shaders[s.BARREL];
							this.setShader(e), this.barrel.onPreRender(t, e), this.runDraw() }, onDisplacement: function(t) { this.setShader(this.shaders[s.DISPLACEMENT]), this.set1i("uDisplacementSampler", 1), this.set2f("amount", t.x, t.y), this.bindTexture(t.glTexture, 1), this.runDraw() }, onWipe: function(t) { var e = this.shaders[s.WIPE];
							this.setShader(e), this.wipe.onPreRender(t, e), this.runDraw() }, onBokeh: function(t, e, i) { var n = this.shaders[s.BOKEH];
							this.setShader(n), this.bokeh.onPreRender(t, n, e, i), this.runDraw() }, destroy: function() { return this.glow.destroy(), this.shadow.destroy(), this.pixelate.destroy(), this.vignette.destroy(), this.shine.destroy(), this.gradient.destroy(), this.circle.destroy(), this.barrel.destroy(), this.wipe.destroy(), this.bokeh.destroy(), this.fxHandlers = null, this.source = null, this.target = null, this.swap = null, a.prototype.destroy.call(this), this } });
				t.exports = u }, 96569: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(31063),
					o = i(57516),
					a = i(61340),
					l = i(26099),
					h = i(29100),
					u = new n({ Extends: o, initialize: function(t) { var e = r(t, "fragShader", s);
							t.fragShader = e.replace("%LIGHT_COUNT%", t.game.renderer.config.maxLights), o.call(this, t), this.inverseRotationMatrix = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]), this.currentNormalMap, this.lightsActive = !0, this.tempVec2 = new l, this._tempMatrix = new a, this._tempMatrix2 = new a }, boot: function() { h.prototype.boot.call(this) }, onRender: function(t, e) { var i = t.sys.lights; if (this.lightsActive = !1, i && i.active) { var n, r = i.getLights(e),
									s = r.length;
								this.lightsActive = !0; var o = this.renderer.height,
									a = e.matrix,
									l = this.tempVec2; for (this.set1i("uMainSampler", 0), this.set1i("uNormSampler", 1), this.set2f("uResolution", this.width / 2, this.height / 2), this.set4f("uCamera", e.x, e.y, e.rotation, e.zoom), this.set3f("uAmbientLightColor", i.ambientColor.r, i.ambientColor.g, i.ambientColor.b), this.set1i("uLightCount", s), n = 0; n < s; n++) { var h = r[n].light,
										u = h.color,
										c = "uLights[" + n + "].";
									a.transformPoint(h.x, h.y, l), this.set2f(c + "position", l.x - e.scrollX * h.scrollFactorX * e.zoom, o - (l.y - e.scrollY * h.scrollFactorY * e.zoom)), this.set3f(c + "color", u.r, u.g, u.b), this.set1f(c + "intensity", h.intensity), this.set1f(c + "radius", h.radius) } this.currentNormalMapRotation = null } }, setNormalMapRotation: function(t) { if (t !== this.currentNormalMapRotation || 0 === this.vertexCount) { this.vertexCount > 0 && this.flush(); var e = this.inverseRotationMatrix; if (t) { var i = -t,
										n = Math.cos(i),
										r = Math.sin(i);
									e[1] = r, e[3] = -r, e[0] = e[4] = n } else e[0] = e[4] = 1, e[1] = e[3] = 0;
								this.setMatrix3fv("uInverseRotationMatrix", !1, e), this.currentNormalMapRotation = t } }, setTexture2D: function(t, e) { var i = this.renderer;
							void 0 === t && (t = i.whiteTexture); var n = this.getNormalMap(e);
							this.isNewNormalMap(t, n) && (this.flush(), this.createBatch(t), this.addTextureToBatch(n), this.currentNormalMap = n); var r = 0; return e && e.parentContainer ? r = e.getWorldTransformMatrix(this._tempMatrix, this._tempMatrix2).rotationNormalized : e && (r = e.rotation), null === this.currentBatch && (this.createBatch(t), this.addTextureToBatch(n)), this.setNormalMapRotation(r), 0 }, setGameObject: function(t, e) { void 0 === e && (e = t.frame); var i = e.glTexture,
								n = this.getNormalMap(t); if (this.isNewNormalMap(i, n) && (this.flush(), this.createBatch(i), this.addTextureToBatch(n), this.currentNormalMap = n), t.parentContainer) { var r = t.getWorldTransformMatrix(this._tempMatrix, this._tempMatrix2);
								this.setNormalMapRotation(r.rotationNormalized) } else this.setNormalMapRotation(t.rotation); return null === this.currentBatch && (this.createBatch(i), this.addTextureToBatch(n)), 0 }, isNewNormalMap: function(t, e) { return this.currentTexture !== t || this.currentNormalMap !== e }, getNormalMap: function(t) { var e; return t ? (t.displayTexture ? e = t.displayTexture.dataSource[t.displayFrame.sourceIndex] : t.texture ? e = t.texture.dataSource[t.frame.sourceIndex] : t.tileset && (e = Array.isArray(t.tileset) ? t.tileset[0].image.dataSource[0] : t.tileset.image.dataSource[0]), e ? e.glTexture : this.renderer.normalTexture) : this.renderer.normalTexture }, batchSprite: function(t, e, i) { this.lightsActive && o.prototype.batchSprite.call(this, t, e, i) }, batchTexture: function(t, e, i, n, r, s, a, l, h, u, c, d, f, p, g, m, v, y, x, b, w, T, S, _, E, A, C, k, P, O, R, M) { this.lightsActive && o.prototype.batchTexture.call(this, t, e, i, n, r, s, a, l, h, u, c, d, f, p, g, m, v, y, x, b, w, T, S, _, E, A, C, k, P, O, R, M) }, batchTextureFrame: function(t, e, i, n, r, s, a) { this.lightsActive && o.prototype.batchTextureFrame.call(this, t, e, i, n, r, s, a) } });
				t.exports = u }, 56527: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(57516),
					o = i(45561),
					a = i(60722),
					l = i(14500),
					h = i(29100),
					u = new n({ Extends: s, initialize: function(t) { t.fragShader = r(t, "fragShader", o), t.vertShader = r(t, "vertShader", a), t.attributes = r(t, "attributes", [{ name: "inPosition", size: 2 }, { name: "inTexCoord", size: 2 }, { name: "inTexId" }, { name: "inTintEffect" }, { name: "inTint", size: 4, type: l.UNSIGNED_BYTE, normalized: !0 }]), t.forceZero = !0, t.resizeUniform = "uResolution", s.call(this, t) }, boot: function() { h.prototype.boot.call(this); var t = this.renderer;
							this.set1i("uMainSampler", 0), this.set2f("uResolution", t.width, t.height) } });
				t.exports = u }, 57516: (t, e, i) => { var n = i(83419),
					r = i(94811),
					s = i(95540),
					o = i(98840),
					a = i(44667),
					l = i(61340),
					h = i(70554),
					u = i(14500),
					c = i(29100),
					d = new n({ Extends: c, initialize: function(t) { var e = t.game.renderer,
								i = s(t, "fragShader", o);
							t.fragShader = h.parseFragmentShaderMaxTextures(i, e.maxTextures), t.vertShader = s(t, "vertShader", a), t.attributes = s(t, "attributes", [{ name: "inPosition", size: 2 }, { name: "inTexCoord", size: 2 }, { name: "inTexId" }, { name: "inTintEffect" }, { name: "inTint", size: 4, type: u.UNSIGNED_BYTE, normalized: !0 }]), t.resizeUniform = "uResolution", c.call(this, t), this._tempMatrix1 = new l, this._tempMatrix2 = new l, this._tempMatrix3 = new l, this.calcMatrix = new l, this.tempTriangle = [{ x: 0, y: 0, width: 0 }, { x: 0, y: 0, width: 0 }, { x: 0, y: 0, width: 0 }, { x: 0, y: 0, width: 0 }], this.strokeTint = { TL: 0, TR: 0, BL: 0, BR: 0 }, this.fillTint = { TL: 0, TR: 0, BL: 0, BR: 0 }, this.currentFrame = { u0: 0, v0: 0, u1: 1, v1: 1 }, this.firstQuad = [0, 0, 0, 0, 0], this.prevQuad = [0, 0, 0, 0, 0], this.polygonCache = [] }, boot: function() { c.prototype.boot.call(this); var t = this.renderer;
							this.set1iv("uMainSampler", t.textureIndexes), this.set2f("uResolution", t.width, t.height) }, batchSprite: function(t, e, i) { this.manager.set(this, t); var n = this._tempMatrix1,
								r = this._tempMatrix2,
								s = this._tempMatrix3,
								o = t.frame,
								a = o.glTexture,
								l = o.u0,
								u = o.v0,
								c = o.u1,
								d = o.v1,
								f = o.x,
								p = o.y,
								g = o.cutWidth,
								m = o.cutHeight,
								v = o.customPivot,
								y = t.displayOriginX,
								x = t.displayOriginY,
								b = -y + f,
								w = -x + p; if (t.isCropped) { var T = t._crop;
								T.flipX === t.flipX && T.flipY === t.flipY || o.updateCropUVs(T, t.flipX, t.flipY), l = T.u0, u = T.v0, c = T.u1, d = T.v1, g = T.width, m = T.height, b = -y + (f = T.x), w = -x + (p = T.y) } var S = 1,
								_ = 1;
							t.flipX && (v || (b += -o.realWidth + 2 * y), S = -1), t.flipY && (v || (w += -o.realHeight + 2 * x), _ = -1); var E = t.x,
								A = t.y;
							e.roundPixels && (E = Math.floor(E), A = Math.floor(A)), r.applyITRS(E, A, t.rotation, t.scaleX * S, t.scaleY * _), n.copyFrom(e.matrix), i ? (n.multiplyWithOffset(i, -e.scrollX * t.scrollFactorX, -e.scrollY * t.scrollFactorY), r.e = E, r.f = A) : (r.e -= e.scrollX * t.scrollFactorX, r.f -= e.scrollY * t.scrollFactorY), n.multiply(r, s); var C = s.setQuad(b, w, b + g, w + m, e.renderRoundPixels),
								k = h.getTintAppendFloatAlpha,
								P = e.alpha,
								O = k(t.tintTopLeft, P * t._alphaTL),
								R = k(t.tintTopRight, P * t._alphaTR),
								M = k(t.tintBottomLeft, P * t._alphaBL),
								L = k(t.tintBottomRight, P * t._alphaBR);
							this.shouldFlush(6) && this.flush(); var D = this.setGameObject(t, o);
							this.manager.preBatch(t), this.batchQuad(t, C[0], C[1], C[2], C[3], C[4], C[5], C[6], C[7], l, u, c, d, O, R, M, L, t.tintFill, a, D), this.manager.postBatch(t) }, batchTexture: function(t, e, i, n, r, s, o, a, l, h, u, c, d, f, p, g, m, v, y, x, b, w, T, S, _, E, A, C, k, P, O, R, M) { void 0 === M && (M = !1), this.manager.set(this, t); var L = this._tempMatrix1,
								D = this._tempMatrix2,
								F = this._tempMatrix3,
								I = v / i + A,
								B = y / n + C,
								N = (v + x) / i + A,
								z = (y + b) / n + C,
								U = o,
								Y = a,
								X = -g,
								G = -m; if (t.isCropped) { var H = t._crop,
									W = H.width,
									V = H.height;
								U = W, Y = V, o = W, a = V; var j = v = H.x,
									$ = y = H.y;
								c && (j = x - H.x - W), d && ($ = b - H.y - V), I = j / i + A, B = $ / n + C, N = (j + W) / i + A, z = ($ + V) / n + C, X = -g + v, G = -m + y } c && (U *= -1, X += o), (d ^= !O && e.isRenderTexture ? 1 : 0) && (Y *= -1, G += a), k.roundPixels && (r = Math.floor(r), s = Math.floor(s)), D.applyITRS(r, s, u, l, h), L.copyFrom(k.matrix), P ? (L.multiplyWithOffset(P, -k.scrollX * f, -k.scrollY * p), D.e = r, D.f = s) : (D.e -= k.scrollX * f, D.f -= k.scrollY * p), L.multiply(D, F); var q = F.setQuad(X, G, X + U, G + Y, k.renderRoundPixels);
							null == R && (R = this.setTexture2D(e)), t && !M && this.manager.preBatch(t), this.batchQuad(t, q[0], q[1], q[2], q[3], q[4], q[5], q[6], q[7], I, B, N, z, w, T, S, _, E, e, R), t && !M && this.manager.postBatch(t) }, batchTextureFrame: function(t, e, i, n, r, s, o) { this.manager.set(this); var a = this._tempMatrix1.copyFrom(s),
								l = this._tempMatrix2;
							o ? a.multiply(o, l) : l = a; var u = l.setQuad(e, i, e + t.width, i + t.height),
								c = this.setTexture2D(t.source.glTexture);
							n = h.getTintAppendFloatAlpha(n, r), this.batchQuad(null, u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], t.u0, t.v0, t.u1, t.v1, n, n, n, n, 0, t.glTexture, c) }, batchFillRect: function(t, e, i, n, r, s) { this.renderer.pipelines.set(this); var o = this.calcMatrix;
							s && s.multiply(r, o); var a = o.setQuad(t, e, t + i, e + n),
								l = this.fillTint;
							this.batchQuad(null, a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], 0, 0, 1, 1, l.TL, l.TR, l.BL, l.BR, 2) }, batchFillTriangle: function(t, e, i, n, r, s, o, a) { this.renderer.pipelines.set(this); var l = this.calcMatrix;
							a && a.multiply(o, l); var h = l.getX(t, e),
								u = l.getY(t, e),
								c = l.getX(i, n),
								d = l.getY(i, n),
								f = l.getX(r, s),
								p = l.getY(r, s),
								g = this.fillTint;
							this.batchTri(null, h, u, c, d, f, p, 0, 0, 1, 1, g.TL, g.TR, g.BL, 2) }, batchStrokeTriangle: function(t, e, i, n, r, s, o, a, l) { var h = this.tempTriangle;
							h[0].x = t, h[0].y = e, h[0].width = o, h[1].x = i, h[1].y = n, h[1].width = o, h[2].x = r, h[2].y = s, h[2].width = o, h[3].x = t, h[3].y = e, h[3].width = o, this.batchStrokePath(h, o, !1, a, l) }, batchFillPath: function(t, e, i) { this.renderer.pipelines.set(this); var n = this.calcMatrix;
							i && i.multiply(e, n); for (var s, o, a = t.length, l = this.polygonCache, h = this.fillTint.TL, u = this.fillTint.TR, c = this.fillTint.BL, d = 0; d < a; ++d) o = t[d], l.push(o.x, o.y);
							a = (s = r(l)).length; for (var f = 0; f < a; f += 3) { var p = 2 * s[f + 0],
									g = 2 * s[f + 1],
									m = 2 * s[f + 2],
									v = l[p + 0],
									y = l[p + 1],
									x = l[g + 0],
									b = l[g + 1],
									w = l[m + 0],
									T = l[m + 1],
									S = n.getX(v, y),
									_ = n.getY(v, y),
									E = n.getX(x, b),
									A = n.getY(x, b),
									C = n.getX(w, T),
									k = n.getY(w, T);
								this.batchTri(null, S, _, E, A, C, k, 0, 0, 1, 1, h, u, c, 2) } l.length = 0 }, batchStrokePath: function(t, e, i, n, r) { this.renderer.pipelines.set(this), this.prevQuad[4] = 0, this.firstQuad[4] = 0; for (var s = t.length - 1, o = 0; o < s; o++) { var a = t[o],
									l = t[o + 1];
								this.batchLine(a.x, a.y, l.x, l.y, a.width / 2, l.width / 2, e, o, !i && o === s - 1, n, r) } }, batchLine: function(t, e, i, n, r, s, o, a, l, h, u) { this.renderer.pipelines.set(this); var c = this.calcMatrix;
							u && u.multiply(h, c); var d = i - t,
								f = n - e,
								p = Math.sqrt(d * d + f * f); if (0 !== p) { var g = r * (n - e) / p,
									m = r * (t - i) / p,
									v = s * (n - e) / p,
									y = s * (t - i) / p,
									x = i - v,
									b = n - y,
									w = t - g,
									T = e - m,
									S = i + v,
									_ = n + y,
									E = t + g,
									A = e + m,
									C = c.getX(x, b),
									k = c.getY(x, b),
									P = c.getX(w, T),
									O = c.getY(w, T),
									R = c.getX(S, _),
									M = c.getY(S, _),
									L = c.getX(E, A),
									D = c.getY(E, A),
									F = this.strokeTint,
									I = F.TL,
									B = F.TR,
									N = F.BL,
									z = F.BR; if (this.batchQuad(null, L, D, P, O, C, k, R, M, 0, 0, 1, 1, I, B, N, z, 2), !(o <= 2)) { var U = this.prevQuad,
										Y = this.firstQuad;
									a > 0 && U[4] ? this.batchQuad(null, L, D, P, O, U[0], U[1], U[2], U[3], 0, 0, 1, 1, I, B, N, z, 2) : (Y[0] = L, Y[1] = D, Y[2] = P, Y[3] = O, Y[4] = 1), l && Y[4] ? this.batchQuad(null, C, k, R, M, Y[0], Y[1], Y[2], Y[3], 0, 0, 1, 1, I, B, N, z, 2) : (U[0] = C, U[1] = k, U[2] = R, U[3] = M, U[4] = 1) } } }, destroy: function() { return this._tempMatrix1.destroy(), this._tempMatrix2.destroy(), this._tempMatrix3.destroy(), this._tempMatrix1 = null, this._tempMatrix1 = null, this._tempMatrix1 = null, c.prototype.destroy.call(this), this } });
				t.exports = d }, 43439: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(4127),
					o = i(89924),
					a = i(29100),
					l = new n({ Extends: a, initialize: function(t) { t.vertShader = r(t, "vertShader", o), t.fragShader = r(t, "fragShader", s), t.attributes = r(t, "attributes", [{ name: "inPosition", size: 2 }, { name: "inLightPosition", size: 2 }, { name: "inLightRadius" }, { name: "inLightAttenuation" }, { name: "inLightColor", size: 4 }]), a.call(this, t) }, onRender: function(t, e) { this.set2f("uResolution", this.width, this.height), this.set1f("uCameraZoom", e.zoom) }, batchPointLight: function(t, e, i, n, r, s, o, a, l, h, u, c) { var d = t.color,
								f = t.intensity,
								p = t.radius,
								g = t.attenuation,
								m = d.r * f,
								v = d.g * f,
								y = d.b * f,
								x = e.alpha * t.alpha;
							this.shouldFlush(6) && this.flush(), this.currentBatch || this.setTexture2D(), this.batchLightVert(i, n, u, c, p, g, m, v, y, x), this.batchLightVert(r, s, u, c, p, g, m, v, y, x), this.batchLightVert(o, a, u, c, p, g, m, v, y, x), this.batchLightVert(i, n, u, c, p, g, m, v, y, x), this.batchLightVert(o, a, u, c, p, g, m, v, y, x), this.batchLightVert(l, h, u, c, p, g, m, v, y, x), this.currentBatch.count = this.vertexCount - this.currentBatch.start }, batchLightVert: function(t, e, i, n, r, s, o, a, l, h) { var u = this.vertexViewF32,
								c = this.vertexCount * this.currentShader.vertexComponentCount - 1;
							u[++c] = t, u[++c] = e, u[++c] = i, u[++c] = n, u[++c] = r, u[++c] = s, u[++c] = o, u[++c] = a, u[++c] = l, u[++c] = h, this.vertexCount++ } });
				t.exports = l }, 84057: (t, e, i) => { var n = i(83419),
					r = i(89422),
					s = i(95540),
					o = i(27681),
					a = i(49627),
					l = i(29100),
					h = new n({ Extends: l, initialize: function(t) { t.renderTarget = s(t, "renderTarget", 1), t.fragShader = s(t, "fragShader", o), t.vertShader = s(t, "vertShader", a), t.attributes = s(t, "attributes", [{ name: "inPosition", size: 2 }, { name: "inTexCoord", size: 2 }]), t.batchSize = 1, t.vertices = [-1, -1, 0, 0, -1, 1, 0, 1, 1, 1, 1, 1, -1, -1, 0, 0, 1, 1, 1, 1, 1, -1, 1, 0], l.call(this, t), this.isPostFX = !0, this.gameObject, this.controller, this.colorMatrix = new r, this.fullFrame1, this.fullFrame2, this.halfFrame1, this.halfFrame2, this.renderer.isBooted && (this.manager = this.renderer.pipelines) }, bootFX: function() { l.prototype.boot.call(this); var t = this.manager.UTILITY_PIPELINE;
							this.fullFrame1 = t.fullFrame1, this.fullFrame2 = t.fullFrame2, this.halfFrame1 = t.halfFrame1, this.halfFrame2 = t.halfFrame2; var e = this.renderer;
							this.set1i("uMainSampler", 0), this.set2f("uResolution", e.width, e.height); for (var i = this.renderTargets, n = 0; n < i.length; n++) i[n].autoResize = !0 }, postBatch: function(t) { return this.hasBooted || (this.bootFX(), this.currentRenderTarget && this.currentRenderTarget.bind()), this.onDraw(this.currentRenderTarget), this.onPostBatch(t), this }, onDraw: function(t) { this.bindAndDraw(t) }, getController: function(t) { return void 0 !== t ? t : this.controller ? this.controller : this }, copySprite: function(t, e, i) { void 0 === i && (i = !1); var n = this.gl;
							n.activeTexture(n.TEXTURE0), n.bindTexture(n.TEXTURE_2D, t.texture.webGLTexture); var r = n.getParameter(n.FRAMEBUFFER_BINDING);
							n.bindFramebuffer(n.FRAMEBUFFER, e.framebuffer.webGLFramebuffer), n.framebufferTexture2D(n.FRAMEBUFFER, n.COLOR_ATTACHMENT0, n.TEXTURE_2D, e.texture.webGLTexture, 0), n.clearColor(0, 0, 0, 0), n.clear(n.COLOR_BUFFER_BIT), n.bufferData(n.ARRAY_BUFFER, this.vertexData, n.STATIC_DRAW), n.drawArrays(n.TRIANGLES, 0, 6), i && (n.bindTexture(n.TEXTURE_2D, null), n.bindFramebuffer(n.FRAMEBUFFER, r)) }, copyFrame: function(t, e, i, n, r) { this.manager.copyFrame(t, e, i, n, r) }, copyToGame: function(t) { this.manager.copyToGame(t) }, drawFrame: function(t, e, i) { this.manager.drawFrame(t, e, i, this.colorMatrix) }, blendFrames: function(t, e, i, n, r) { this.manager.blendFrames(t, e, i, n, r) }, blendFramesAdditive: function(t, e, i, n, r) { this.manager.blendFramesAdditive(t, e, i, n, r) }, clearFrame: function(t, e) { this.manager.clearFrame(t, e) }, blitFrame: function(t, e, i, n, r, s) { this.manager.blitFrame(t, e, i, n, r, s) }, copyFrameRect: function(t, e, i, n, r, s, o, a) { this.manager.copyFrameRect(t, e, i, n, r, s, o, a) }, bindAndDraw: function(t, e, i, n, r) { void 0 === i && (i = !0), void 0 === n && (n = !0); var s = this.gl,
								o = this.renderer;
							this.bind(r), this.set1i("uMainSampler", 0), e ? (s.viewport(0, 0, e.width, e.height), s.bindFramebuffer(s.FRAMEBUFFER, e.framebuffer.webGLFramebuffer), s.framebufferTexture2D(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0, s.TEXTURE_2D, e.texture.webGLTexture, 0), i && (n ? s.clearColor(0, 0, 0, 0) : s.clearColor(0, 0, 0, 1), s.clear(s.COLOR_BUFFER_BIT))) : (o.popFramebuffer(!1, !1), o.currentFramebuffer || s.viewport(0, 0, o.width, o.height)), o.restoreStencilMask(), s.activeTexture(s.TEXTURE0), s.bindTexture(s.TEXTURE_2D, t.texture.webGLTexture), s.bufferData(s.ARRAY_BUFFER, this.vertexData, s.STATIC_DRAW), s.drawArrays(s.TRIANGLES, 0, 6), e && (s.bindTexture(s.TEXTURE_2D, null), s.bindFramebuffer(s.FRAMEBUFFER, o.currentFramebuffer.webGLFramebuffer)) }, destroy: function() { return this.controller && this.controller.destroy(), this.gameObject = null, this.controller = null, this.colorMatrix = null, this.fullFrame1 = null, this.fullFrame2 = null, this.halfFrame1 = null, this.halfFrame2 = null, this.manager.removePostPipeline(this), l.prototype.destroy.call(this), this } });
				t.exports = h }, 43558: (t, e, i) => { var n = i(10312),
					r = i(67502),
					s = i(83419),
					o = i(96293),
					a = i(95540),
					l = i(57516),
					h = i(27681),
					u = i(87841),
					c = i(32302),
					d = i(45561),
					f = i(60722),
					p = i(29100),
					g = new s({ Extends: l, initialize: function(t) { var e = a(t, "fragShader", h),
								i = a(t, "vertShader", f),
								n = a(t, "drawShader", h),
								r = [{ name: "DrawSprite", fragShader: d, vertShader: f }, { name: "CopySprite", fragShader: e, vertShader: i }, { name: "DrawGame", fragShader: n, vertShader: f }, { name: "ColorMatrix", fragShader: o }],
								s = a(t, "shaders", []);
							t.shaders = r.concat(s), t.vertShader || (t.vertShader = i), t.batchSize = 1, l.call(this, t), this.isPreFX = !0, this.customMainSampler = null, this.drawSpriteShader, this.copyShader, this.gameShader, this.colorMatrixShader, this.quadVertexData, this.quadVertexBuffer, this.quadVertexViewF32, this.spriteBounds = new u, this.targetBounds = new u, this.fsTarget, this.tempSprite, this.renderer.isBooted && (this.manager = this.renderer.pipelines, this.boot()) }, boot: function() { p.prototype.boot.call(this); var t = this.shaders,
								e = this.renderer;
							this.drawSpriteShader = t[0], this.copyShader = t[1], this.gameShader = t[2], this.colorMatrixShader = t[3], this.fsTarget = new c(e, e.width, e.height, 1, 0, !0, !0), this.renderTargets = this.manager.renderTargets.concat(this.fsTarget); var i = new ArrayBuffer(168);
							this.quadVertexData = i, this.quadVertexViewF32 = new Float32Array(i), this.quadVertexBuffer = e.createVertexBuffer(i, this.gl.STATIC_DRAW), this.onResize(e.width, e.height), this.currentShader = this.copyShader, this.set2f("uResolution", e.width, e.height) }, onResize: function(t, e) { var i = this.quadVertexViewF32;
							i[1] = e, i[22] = e, i[14] = t, i[28] = t, i[35] = t, i[36] = e }, batchQuad: function(t, e, i, n, s, o, a, l, h, u, c, d, f, p, g, m, v, y, x) { var b = Math.min(e, n, o, l),
								w = Math.min(i, s, a, h),
								T = Math.max(e, n, o, l) - b,
								S = Math.max(i, s, a, h) - w,
								_ = this.spriteBounds.setTo(b, w, T, S),
								E = t ? t.preFX.padding : 0,
								A = T + 2 * E,
								C = S + 2 * E,
								k = Math.abs(Math.max(A, C)),
								P = this.manager.getRenderTarget(k),
								O = this.targetBounds.setTo(0, 0, P.width, P.height);
							r(O, Math.round(_.centerX), Math.round(_.centerY)), this.tempSprite = t; var R = this.gl,
								M = this.renderer;
							M.clearStencilMask(), this.setShader(this.drawSpriteShader), this.set1i("uMainSampler", 0), this.set2f("uResolution", M.width, M.height), this.flipProjectionMatrix(!0), t && (this.onDrawSprite(t, P), t.preFX.onFX(this)); var L = this.fsTarget; return this.flush(), R.viewport(0, 0, M.width, M.height), R.bindFramebuffer(R.FRAMEBUFFER, L.framebuffer.webGLFramebuffer), R.framebufferTexture2D(R.FRAMEBUFFER, R.COLOR_ATTACHMENT0, R.TEXTURE_2D, L.texture.webGLTexture, 0), R.clearColor(0, 0, 0, 0), R.clear(R.COLOR_BUFFER_BIT), this.setTexture2D(x), this.batchVert(e, i, u, c, 0, y, p), this.batchVert(n, s, u, f, 0, y, m), this.batchVert(o, a, d, f, 0, y, v), this.batchVert(e, i, u, c, 0, y, p), this.batchVert(o, a, d, f, 0, y, v), this.batchVert(l, h, d, c, 0, y, g), this.flush(), this.flipProjectionMatrix(!1), R.activeTexture(R.TEXTURE0), R.bindTexture(R.TEXTURE_2D, P.texture.webGLTexture), R.copyTexSubImage2D(R.TEXTURE_2D, 0, 0, 0, O.x, O.y, O.width, O.height), R.bindFramebuffer(R.FRAMEBUFFER, null), R.bindTexture(R.TEXTURE_2D, null), this.onBatch(t), this.currentShader = this.copyShader, this.onDraw(P, this.manager.getSwapRenderTarget(), this.manager.getAltSwapRenderTarget()), !0 }, onDrawSprite: function() {}, onCopySprite: function() {}, copySprite: function(t, e, i, r, s, o, a) { void 0 === i && (i = !0), void 0 === r && (r = !0), void 0 === s && (s = !1), void 0 === a && (a = this.copyShader); var l = this.gl,
								h = this.tempSprite;
							o && (a = this.colorMatrixShader), this.currentShader = a; var u = this.setVertexBuffer(this.quadVertexBuffer);
							a.bind(u, !1); var c = this.renderer; if (this.set1i("uMainSampler", 0), this.set2f("uResolution", c.width, c.height), h.preFX.onFXCopy(this), this.onCopySprite(t, e, h), o && (this.set1fv("uColorMatrix", o.getData()), this.set1f("uAlpha", o.alpha)), l.activeTexture(l.TEXTURE0), l.bindTexture(l.TEXTURE_2D, t.texture.webGLTexture), t.height > e.height) l.viewport(0, 0, t.width, t.height), this.setTargetUVs(t, e);
							else { var d = e.height - t.height;
								l.viewport(0, d, t.width, t.height), this.resetUVs() } if (l.bindFramebuffer(l.FRAMEBUFFER, e.framebuffer.webGLFramebuffer), l.framebufferTexture2D(l.FRAMEBUFFER, l.COLOR_ATTACHMENT0, l.TEXTURE_2D, e.texture.webGLTexture, 0), i && (l.clearColor(0, 0, 0, Number(!r)), l.clear(l.COLOR_BUFFER_BIT)), s) { var f = this.renderer.currentBlendMode;
								this.renderer.setBlendMode(n.ERASE) } l.bufferData(l.ARRAY_BUFFER, this.quadVertexData, l.STATIC_DRAW), l.drawArrays(l.TRIANGLES, 0, 6), s && this.renderer.setBlendMode(f), l.bindFramebuffer(l.FRAMEBUFFER, null) }, copy: function(t, e) { var i = this.gl;
							this.set1i("uMainSampler", 0), i.activeTexture(i.TEXTURE0), i.bindTexture(i.TEXTURE_2D, t.texture.webGLTexture), i.viewport(0, 0, t.width, t.height), this.setUVs(0, 0, 0, 1, 1, 1, 1, 0), i.bindFramebuffer(i.FRAMEBUFFER, e.framebuffer.webGLFramebuffer), i.framebufferTexture2D(i.FRAMEBUFFER, i.COLOR_ATTACHMENT0, i.TEXTURE_2D, e.texture.webGLTexture, 0), i.clearColor(0, 0, 0, 0), i.clear(i.COLOR_BUFFER_BIT), i.bufferData(i.ARRAY_BUFFER, this.quadVertexData, i.STATIC_DRAW), i.drawArrays(i.TRIANGLES, 0, 6), i.bindFramebuffer(i.FRAMEBUFFER, null) }, blendFrames: function(t, e, i, n, r) { this.manager.blendFrames(t, e, i, n, r) }, blendFramesAdditive: function(t, e, i, n, r) { this.manager.blendFramesAdditive(t, e, i, n, r) }, drawToGame: function(t) { this.currentShader = null, this.setShader(this.copyShader), this.bindAndDraw(t) }, copyToGame: function(t) { this.currentShader = null, this.setShader(this.gameShader), this.bindAndDraw(t) }, bindAndDraw: function(t) { var e = this.gl,
								i = this.renderer;
							this.set1i("uMainSampler", 0), this.customMainSampler ? this.setTexture2D(this.customMainSampler) : this.setTexture2D(t.texture); var n = this._tempMatrix1.loadIdentity(),
								r = this.targetBounds.x,
								s = this.targetBounds.y,
								o = r + t.width,
								a = s + t.height,
								l = n.getX(r, s),
								h = n.getX(r, a),
								u = n.getX(o, a),
								c = n.getX(o, s),
								d = n.getY(r, s),
								f = n.getY(r, a),
								p = n.getY(o, a),
								g = n.getY(o, s),
								m = 16777215;
							this.batchVert(l, d, 0, 0, 0, 0, m), this.batchVert(h, f, 0, 1, 0, 0, m), this.batchVert(u, p, 1, 1, 0, 0, m), this.batchVert(l, d, 0, 0, 0, 0, m), this.batchVert(u, p, 1, 1, 0, 0, m), this.batchVert(c, g, 1, 0, 0, 0, m), i.restoreFramebuffer(!1, !0), i.currentFramebuffer || e.viewport(0, 0, i.width, i.height), i.restoreStencilMask(), this.flush(), this.tempSprite = null }, onDraw: function(t) { this.drawToGame(t) }, setUVs: function(t, e, i, n, r, s, o, a) { var l = this.quadVertexViewF32;
							l[2] = t, l[3] = e, l[9] = i, l[10] = n, l[16] = r, l[17] = s, l[23] = t, l[24] = e, l[30] = r, l[31] = s, l[37] = o, l[38] = a }, setTargetUVs: function(t, e) { var i = e.height / t.height;
							i = i > .5 ? .5 - (i - .5) : .5 - i + .5, this.setUVs(0, i, 0, 1 + i, 1, 1 + i, 1, i) }, resetUVs: function() { this.setUVs(0, 0, 0, 1, 1, 1, 1, 0) }, destroy: function() { return this.renderer.deleteBuffer(this.quadVertexBuffer), this.drawSpriteShader = null, this.copyShader = null, this.gameShader = null, this.colorMatrixShader = null, this.quadVertexData = null, this.quadVertexBuffer = null, this.quadVertexViewF32 = null, this.fsTarget = null, this.tempSprite = null, l.prototype.destroy.call(this), this } });
				t.exports = g }, 81041: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(57516),
					o = new n({ Extends: s, initialize: function(t) { t.topology = 5, t.batchSize = r(t, "batchSize", 256), s.call(this, t) } });
				t.exports = o }, 12385: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(57516),
					o = i(45561),
					a = i(60722),
					l = i(29100),
					h = new n({ Extends: s, initialize: function(t) { t.fragShader = r(t, "fragShader", o), t.vertShader = r(t, "vertShader", a), t.forceZero = !0, s.call(this, t) }, boot: function() { l.prototype.boot.call(this); var t = this.renderer;
							this.set1i("uMainSampler", 0), this.set2f("uResolution", t.width, t.height) } });
				t.exports = h }, 7589: (t, e, i) => { var n = i(35407),
					r = i(10312),
					s = i(83419),
					o = i(89422),
					a = i(96293),
					l = i(36682),
					h = i(95540),
					u = i(48247),
					c = i(49627),
					d = i(29100),
					f = new s({ Extends: d, initialize: function(t) { t.renderTarget = h(t, "renderTarget", [{ scale: 1, autoResize: !0 }, { scale: 1, autoResize: !0 }, { scale: .5, autoResize: !0 }, { scale: .5, autoResize: !0 }]), t.vertShader = h(t, "vertShader", c), t.shaders = h(t, "shaders", [{ name: "Copy", fragShader: l }, { name: "AddBlend", fragShader: n }, { name: "LinearBlend", fragShader: u }, { name: "ColorMatrix", fragShader: a }]), t.attributes = h(t, "attributes", [{ name: "inPosition", size: 2 }, { name: "inTexCoord", size: 2 }]), t.vertices = [-1, -1, 0, 0, -1, 1, 0, 1, 1, 1, 1, 1, -1, -1, 0, 0, 1, 1, 1, 1, 1, -1, 1, 0], t.batchSize = 1, d.call(this, t), this.colorMatrix = new o, this.copyShader, this.addShader, this.linearShader, this.colorMatrixShader, this.fullFrame1, this.fullFrame2, this.halfFrame1, this.halfFrame2 }, boot: function() { d.prototype.boot.call(this); var t = this.shaders,
								e = this.renderTargets;
							this.copyShader = t[0], this.addShader = t[1], this.linearShader = t[2], this.colorMatrixShader = t[3], this.fullFrame1 = e[0], this.fullFrame2 = e[1], this.halfFrame1 = e[2], this.halfFrame2 = e[3] }, copyFrame: function(t, e, i, n, r) { void 0 === i && (i = 1), void 0 === n && (n = !0), void 0 === r && (r = !0); var s = this.gl;
							this.setShader(this.copyShader), this.set1i("uMainSampler", 0), this.set1f("uBrightness", i), s.activeTexture(s.TEXTURE0), s.bindTexture(s.TEXTURE_2D, t.texture.webGLTexture), e ? (s.viewport(0, 0, e.width, e.height), s.bindFramebuffer(s.FRAMEBUFFER, e.framebuffer.webGLFramebuffer), s.framebufferTexture2D(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0, s.TEXTURE_2D, e.texture.webGLTexture, 0)) : s.viewport(0, 0, t.width, t.height), n && (r ? s.clearColor(0, 0, 0, 0) : s.clearColor(0, 0, 0, 1), s.clear(s.COLOR_BUFFER_BIT)), s.bufferData(s.ARRAY_BUFFER, this.vertexData, s.STATIC_DRAW), s.drawArrays(s.TRIANGLES, 0, 6), s.bindFramebuffer(s.FRAMEBUFFER, null), s.bindTexture(s.TEXTURE_2D, null) }, blitFrame: function(t, e, i, n, s, o, a) { void 0 === i && (i = 1), void 0 === n && (n = !0), void 0 === s && (s = !0), void 0 === o && (o = !1), void 0 === a && (a = !1); var l = this.gl; if (this.setShader(this.copyShader), this.set1i("uMainSampler", 0), this.set1f("uBrightness", i), l.activeTexture(l.TEXTURE0), l.bindTexture(l.TEXTURE_2D, t.texture.webGLTexture), t.height > e.height) l.viewport(0, 0, t.width, t.height), this.setTargetUVs(t, e);
							else { var h = e.height - t.height;
								l.viewport(0, h, t.width, t.height) } if (l.bindFramebuffer(l.FRAMEBUFFER, e.framebuffer.webGLFramebuffer), l.framebufferTexture2D(l.FRAMEBUFFER, l.COLOR_ATTACHMENT0, l.TEXTURE_2D, e.texture.webGLTexture, 0), n && (s ? l.clearColor(0, 0, 0, 0) : l.clearColor(0, 0, 0, 1), l.clear(l.COLOR_BUFFER_BIT)), o) { var u = this.renderer.currentBlendMode;
								this.renderer.setBlendMode(r.ERASE) } a && this.flipY(), l.bufferData(l.ARRAY_BUFFER, this.vertexData, l.STATIC_DRAW), l.drawArrays(l.TRIANGLES, 0, 6), o && this.renderer.setBlendMode(u), l.bindFramebuffer(l.FRAMEBUFFER, null), l.bindTexture(l.TEXTURE_2D, null), this.resetUVs() }, copyFrameRect: function(t, e, i, n, r, s, o, a) { void 0 === o && (o = !0), void 0 === a && (a = !0); var l = this.gl;
							l.bindFramebuffer(l.FRAMEBUFFER, t.framebuffer.webGLFramebuffer), l.framebufferTexture2D(l.FRAMEBUFFER, l.COLOR_ATTACHMENT0, l.TEXTURE_2D, t.texture.webGLTexture, 0), o && (a ? l.clearColor(0, 0, 0, 0) : l.clearColor(0, 0, 0, 1), l.clear(l.COLOR_BUFFER_BIT)), l.activeTexture(l.TEXTURE0), l.bindTexture(l.TEXTURE_2D, e.texture.webGLTexture), l.copyTexSubImage2D(l.TEXTURE_2D, 0, 0, 0, i, n, r, s), l.bindFramebuffer(l.FRAMEBUFFER, null), l.bindTexture(l.TEXTURE_2D, null) }, copyToGame: function(t) { var e = this.gl;
							this.setShader(this.copyShader), this.set1i("uMainSampler", 0), this.set1f("uBrightness", 1), this.renderer.popFramebuffer(), e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_2D, t.texture.webGLTexture), e.bufferData(e.ARRAY_BUFFER, this.vertexData, e.STATIC_DRAW), e.drawArrays(e.TRIANGLES, 0, 6) }, drawFrame: function(t, e, i, n) { void 0 === i && (i = !0), void 0 === n && (n = this.colorMatrix); var r = this.gl;
							this.setShader(this.colorMatrixShader), this.set1i("uMainSampler", 0), this.set1fv("uColorMatrix", n.getData()), this.set1f("uAlpha", n.alpha), r.activeTexture(r.TEXTURE0), r.bindTexture(r.TEXTURE_2D, t.texture.webGLTexture), e ? (r.viewport(0, 0, e.width, e.height), r.bindFramebuffer(r.FRAMEBUFFER, e.framebuffer.webGLFramebuffer), r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.TEXTURE_2D, e.texture.webGLTexture, 0)) : r.viewport(0, 0, t.width, t.height), i ? r.clearColor(0, 0, 0, 0) : r.clearColor(0, 0, 0, 1), r.clear(r.COLOR_BUFFER_BIT), r.bufferData(r.ARRAY_BUFFER, this.vertexData, r.STATIC_DRAW), r.drawArrays(r.TRIANGLES, 0, 6), r.bindFramebuffer(r.FRAMEBUFFER, null), r.bindTexture(r.TEXTURE_2D, null) }, blendFrames: function(t, e, i, n, r, s) { void 0 === n && (n = 1), void 0 === r && (r = !0), void 0 === s && (s = this.linearShader); var o = this.gl;
							this.setShader(s), this.set1i("uMainSampler1", 0), this.set1i("uMainSampler2", 1), this.set1f("uStrength", n), o.activeTexture(o.TEXTURE0), o.bindTexture(o.TEXTURE_2D, t.texture.webGLTexture), o.activeTexture(o.TEXTURE1), o.bindTexture(o.TEXTURE_2D, e.texture.webGLTexture), i ? (o.bindFramebuffer(o.FRAMEBUFFER, i.framebuffer.webGLFramebuffer), o.framebufferTexture2D(o.FRAMEBUFFER, o.COLOR_ATTACHMENT0, o.TEXTURE_2D, i.texture.webGLTexture, 0), o.viewport(0, 0, i.width, i.height)) : o.viewport(0, 0, t.width, t.height), r ? o.clearColor(0, 0, 0, 0) : o.clearColor(0, 0, 0, 1), o.clear(o.COLOR_BUFFER_BIT), o.bufferData(o.ARRAY_BUFFER, this.vertexData, o.STATIC_DRAW), o.drawArrays(o.TRIANGLES, 0, 6), o.bindFramebuffer(o.FRAMEBUFFER, null), o.bindTexture(o.TEXTURE_2D, null) }, blendFramesAdditive: function(t, e, i, n, r) { this.blendFrames(t, e, i, n, r, this.addShader) }, clearFrame: function(t, e) { void 0 === e && (e = !0); var i = this.gl;
							i.viewport(0, 0, t.width, t.height), i.bindFramebuffer(i.FRAMEBUFFER, t.framebuffer.webGLFramebuffer), e ? i.clearColor(0, 0, 0, 0) : i.clearColor(0, 0, 0, 1), i.clear(i.COLOR_BUFFER_BIT); var n = this.renderer.currentFramebuffer;
							i.bindFramebuffer(i.FRAMEBUFFER, n.webGLFramebuffer) }, setUVs: function(t, e, i, n, r, s, o, a) { var l = this.vertexViewF32;
							l[2] = t, l[3] = e, l[6] = i, l[7] = n, l[10] = r, l[11] = s, l[14] = t, l[15] = e, l[18] = r, l[19] = s, l[22] = o, l[23] = a }, setTargetUVs: function(t, e) { var i = e.height / t.height;
							i = i > .5 ? .5 - (i - .5) : .5 - i + .5, this.setUVs(0, i, 0, 1 + i, 1, 1 + i, 1, i) }, flipX: function() { this.setUVs(1, 0, 1, 1, 0, 1, 0, 0) }, flipY: function() { this.setUVs(0, 1, 0, 0, 1, 0, 1, 1) }, resetUVs: function() { this.setUVs(0, 0, 0, 1, 1, 1, 1, 0) } });
				t.exports = f }, 36060: t => { t.exports = { BITMAPMASK_PIPELINE: "BitmapMaskPipeline", LIGHT_PIPELINE: "Light2D", POINTLIGHT_PIPELINE: "PointLightPipeline", SINGLE_PIPELINE: "SinglePipeline", MULTI_PIPELINE: "MultiPipeline", ROPE_PIPELINE: "RopePipeline", GRAPHICS_PIPELINE: "GraphicsPipeline", POSTFX_PIPELINE: "PostFXPipeline", UTILITY_PIPELINE: "UtilityPipeline", MOBILE_PIPELINE: "MobilePipeline", FX_PIPELINE: "FxPipeline" } }, 84817: t => { t.exports = "pipelineafterflush" }, 36712: t => { t.exports = "pipelinebeforeflush" }, 40285: t => { t.exports = "pipelinebind" }, 65918: t => { t.exports = "pipelineboot" }, 92852: t => { t.exports = "pipelinedestroy" }, 56072: t => { t.exports = "pipelinerebind" }, 57566: t => { t.exports = "pipelineresize" }, 77085: (t, e, i) => { t.exports = { AFTER_FLUSH: i(84817), BEFORE_FLUSH: i(36712), BIND: i(40285), BOOT: i(65918), DESTROY: i(92852), REBIND: i(56072), RESIZE: i(57566) } }, 54812: (t, e, i) => { var n = i(83419),
					r = i(99155),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.amount = 1 }, onPreRender: function(t, e) { t = this.getController(t), this.set1f("amount", t.amount, e) } });
				t.exports = o }, 67329: (t, e, i) => { var n = i(83419),
					r = i(24400),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.steps = 4, this.offsetX = 1, this.offsetY = 1, this.blurStrength = 1, this.strength = 1, this.glcolor = [1, 1, 1] }, onPreRender: function(t) { t = this.getController(t), this.set1f("strength", t.blurStrength), this.set3fv("color", t.glcolor) }, onDraw: function(t) { var e = this.getController(),
								i = this.fullFrame1,
								n = this.fullFrame2;
							this.copyFrame(t, n); for (var r = 2 / t.width * e.offsetX, s = 2 / t.height * e.offsetY, o = 0; o < e.steps; o++) this.set2f("offset", r, 0), this.copySprite(t, i), this.set2f("offset", 0, s), this.copySprite(i, t);
							this.blendFrames(n, t, i, e.strength), this.copyToGame(i) } });
				t.exports = o }, 8861: (t, e, i) => { var n = i(83419),
					r = i(41514),
					s = i(51078),
					o = i(94328),
					a = i(84057),
					l = new n({ Extends: a, initialize: function(t) { a.call(this, { game: t, shaders: [{ name: "Gaussian5", fragShader: r }, { name: "Gaussian9", fragShader: s }, { name: "Gaussian13", fragShader: o }] }), this.activeShader = this.shaders[0], this.x = 2, this.y = 2, this.steps = 4, this.strength = 1, this.glcolor = [1, 1, 1] }, setQualityLow: function() { return this.activeShader = this.shaders[0], this }, setQualityMedium: function() { return this.activeShader = this.shaders[1], this }, setQualityHigh: function() { return this.activeShader = this.shaders[2], this }, onDraw: function(t) { var e = this.getController(),
								i = this.gl,
								n = this.fullFrame1,
								r = i.getParameter(i.FRAMEBUFFER_BINDING);
							this.bind(this.shaders[e.quality]), i.activeTexture(i.TEXTURE0), i.viewport(0, 0, t.width, t.height), this.set1i("uMainSampler", 0), this.set2f("resolution", t.width, t.height), this.set1f("strength", e.strength), this.set3fv("color", e.glcolor); for (var s = 0; s < e.steps; s++) this.set2f("offset", e.x, 0), this.copySprite(t, n), this.set2f("offset", 0, e.y), this.copySprite(n, t);
							i.bindFramebuffer(i.FRAMEBUFFER, r), i.bindTexture(i.TEXTURE_2D, null), this.copyToGame(t) } });
				t.exports = l }, 51051: (t, e, i) => { var n = i(83419),
					r = i(90610),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.isTiltShift = !1, this.strength = 1, this.blurX = 1, this.blurY = 1, this.radius = .5, this.amount = 1, this.contrast = .2 }, onPreRender: function(t, e, i, n) { t = this.getController(t), this.set1f("radius", t.radius, e), this.set1f("amount", t.amount, e), this.set1f("contrast", t.contrast, e), this.set1f("strength", t.strength, e), this.set2f("blur", t.blurX, t.blurY, e), this.setBoolean("isTiltShift", t.isTiltShift, e), i && n && this.set2f("resolution", i, n, e) }, onDraw: function(t) { this.set2f("resolution", t.width, t.height), this.bindAndDraw(t) } });
				t.exports = o }, 89428: (t, e, i) => { var n = i(83419),
					r = i(91899),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.scale = 1, this.feather = .005, this.thickness = 8, this.glcolor = [1, .2, .7], this.glcolor2 = [1, 0, 0, .4] }, onPreRender: function(t, e, i, n) { t = this.getController(t), this.set1f("scale", t.scale, e), this.set1f("feather", t.feather, e), this.set1f("thickness", t.thickness, e), this.set3fv("color", t.glcolor, e), this.set4fv("backgroundColor", t.glcolor2, e), i && n && this.set2f("resolution", i, n, e) }, onDraw: function(t) { this.set2f("resolution", t.width, t.height), this.bindAndDraw(t) } });
				t.exports = o }, 88904: (t, e, i) => { var n = i(83419),
					r = i(84057),
					s = new n({ Extends: r, initialize: function(t) { r.call(this, { game: t }) }, onDraw: function(t) { var e = this.fullFrame1;
							this.controller ? this.manager.drawFrame(t, e, !0, this.controller) : this.drawFrame(t, e), this.copyToGame(e) } });
				t.exports = s }, 63563: (t, e, i) => { var n = i(83419),
					r = i(47838),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.x = .005, this.y = .005, this.glTexture }, onBoot: function() { this.setTexture("__WHITE") }, setTexture: function(t) { var e = this.game.textures.getFrame(t);
							e && (this.glTexture = e.glTexture) }, onDraw: function(t) { var e = this.getController(),
								i = this.fullFrame1;
							this.bind(), this.set1i("uMainSampler", 0), this.set1i("uDisplacementSampler", 1), this.set2f("amount", e.x, e.y), this.bindTexture(e.glTexture, 1), this.copySprite(t, i), this.copyToGame(i) } });
				t.exports = o }, 94045: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = i(98656),
					o = i(84057),
					a = i(70554),
					l = new n({ Extends: o, initialize: function(t, e) { var i = r(e, "quality", .1),
								n = r(e, "distance", 10);
							o.call(this, { game: t, fragShader: a.setGlowQuality(s, t, i, n) }), this.outerStrength = 4, this.innerStrength = 0, this.knockout = !1, this.glcolor = [1, 1, 1, 1] }, onPreRender: function(t, e, i, n) { t = this.getController(t), this.set1f("outerStrength", t.outerStrength, e), this.set1f("innerStrength", t.innerStrength, e), this.set4fv("glowColor", t.glcolor, e), this.setBoolean("knockout", t.knockout, e), i && n && this.set2f("resolution", i, n, e) }, onDraw: function(t) { this.set2f("resolution", t.width, t.height), this.bindAndDraw(t) } });
				t.exports = l }, 74088: (t, e, i) => { var n = i(83419),
					r = i(70463),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.alpha = .2, this.size = 0, this.fromX = 0, this.fromY = 0, this.toX = 0, this.toY = 1, this.glcolor1 = [255, 0, 0], this.glcolor2 = [0, 255, 0] }, onPreRender: function(t, e) { t = this.getController(t), this.set1f("alpha", t.alpha, e), this.set1i("size", t.size, e), this.set3fv("color1", t.glcolor1, e), this.set3fv("color2", t.glcolor2, e), this.set2f("positionFrom", t.fromX, t.fromY, e), this.set2f("positionTo", t.toX, t.toY, e) } });
				t.exports = o }, 99636: (t, e, i) => { var n = i(83419),
					r = i(50831),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.amount = 1 }, onPreRender: function(t, e, i, n) { t = this.getController(t), this.set1f("amount", t.amount, e), i && n && this.set2f("resolution", i, n, e) }, onDraw: function(t) { this.set2f("resolution", t.width, t.height), this.bindAndDraw(t) } });
				t.exports = o }, 34700: (t, e, i) => { var n = i(83419),
					r = i(92595),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.x = 0, this.y = 0, this.decay = .1, this.power = 1, this.glcolor = [0, 0, 0, 1], this.samples = 6, this.intensity = 1 }, onPreRender: function(t, e) { var i = (t = this.getController(t)).samples;
							this.set1i("samples", i, e), this.set1f("intensity", t.intensity, e), this.set1f("decay", t.decay, e), this.set1f("power", t.power / i, e), this.set2f("lightPosition", t.x, t.y, e), this.set4fv("color", t.glcolor, e) } });
				t.exports = o }, 91157: (t, e, i) => { var n = i(83419),
					r = i(72464),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.speed = .5, this.lineWidth = .5, this.gradient = 3, this.reveal = !1 }, onPreRender: function(t, e, i, n) { t = this.getController(t), this.setTime("time", e), this.set1f("speed", t.speed, e), this.set1f("lineWidth", t.lineWidth, e), this.set1f("gradient", t.gradient, e), this.setBoolean("reveal", t.reveal, e), i && n && this.set2f("resolution", i, n, e) }, onDraw: function(t) { this.set2f("resolution", t.width, t.height), this.bindAndDraw(t) } });
				t.exports = o }, 27797: (t, e, i) => { var n = i(83419),
					r = i(39249),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.x = .5, this.y = .5, this.radius = .5, this.strength = .5 }, onPreRender: function(t, e) { t = this.getController(t), this.set1f("radius", t.radius, e), this.set1f("strength", t.strength, e), this.set2f("position", t.x, t.y, e) } });
				t.exports = o }, 67603: (t, e, i) => { var n = i(83419),
					r = i(2878),
					s = i(84057),
					o = new n({ Extends: s, initialize: function(t) { s.call(this, { game: t, fragShader: r }), this.progress = 0, this.wipeWidth = .1, this.direction = 0, this.axis = 0, this.reveal = !1 }, onPreRender: function(t, e) { var i = (t = this.getController(t)).progress,
								n = t.wipeWidth,
								r = t.direction,
								s = t.axis;
							this.set4f("config", i, n, r, s, e), this.setBoolean("reveal", t.reveal, e) } });
				t.exports = o }, 58918: (t, e, i) => { var n = { Barrel: i(54812), Bloom: i(67329), Blur: i(8861), Bokeh: i(51051), Circle: i(89428), ColorMatrix: i(88904), Displacement: i(63563), Glow: i(94045), Gradient: i(74088), Pixelate: i(99636), Shadow: i(34700), Shine: i(91157), Vignette: i(27797), Wipe: i(67603) };
				t.exports = n }, 96615: (t, e, i) => { var n = i(36060),
					r = i(79291),
					s = { FX: i(58918), BitmapMaskPipeline: i(31302), Events: i(77085), FXPipeline: i(92651), LightPipeline: i(96569), MobilePipeline: i(56527), MultiPipeline: i(57516), PointLightPipeline: i(43439), PostFXPipeline: i(84057), PreFXPipeline: i(43558), RopePipeline: i(81041), SinglePipeline: i(12385), UtilityPipeline: i(7589) };
				s = r(!1, s, n), t.exports = s }, 35407: t => { t.exports = ["#define SHADER_NAME PHASER_ADD_BLEND_FS", "precision mediump float;", "uniform sampler2D uMainSampler1;", "uniform sampler2D uMainSampler2;", "uniform float uStrength;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);", "    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);", "    gl_FragColor = frame1 + frame2 * uStrength;", "}"].join("\n") }, 78908: t => { t.exports = ["#define SHADER_NAME PHASER_BITMAP_MASK_FS", "precision mediump float;", "uniform vec2 uResolution;", "uniform sampler2D uMainSampler;", "uniform sampler2D uMaskSampler;", "uniform bool uInvertMaskAlpha;", "void main ()", "{", "    vec2 uv = gl_FragCoord.xy / uResolution;", "    vec4 mainColor = texture2D(uMainSampler, uv);", "    vec4 maskColor = texture2D(uMaskSampler, uv);", "    if (!uInvertMaskAlpha)", "    {", "        mainColor *= maskColor.a;", "    }", "    else", "    {", "        mainColor *= (1.0 - maskColor.a);", "    }", "    gl_FragColor = mainColor;", "}"].join("\n") }, 85191: t => { t.exports = ["#define SHADER_NAME PHASER_BITMAP_MASK_VS", "precision mediump float;", "attribute vec2 inPosition;", "void main ()", "{", "    gl_Position = vec4(inPosition, 0.0, 1.0);", "}"].join("\n") }, 96293: t => { t.exports = ["#define SHADER_NAME PHASER_COLORMATRIX_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform float uColorMatrix[20];", "uniform float uAlpha;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec4 c = texture2D(uMainSampler, outTexCoord);", "    if (uAlpha == 0.0)", "    {", "        gl_FragColor = c;", "        return;", "    }", "    if (c.a > 0.0)", "    {", "        c.rgb /= c.a;", "    }", "    vec4 result;", "    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];", "    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];", "    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];", "    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];", "    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);", "    rgb *= result.a;", "    gl_FragColor = vec4(rgb, result.a);", "}"].join("\n") }, 36682: t => { t.exports = ["#define SHADER_NAME PHASER_COPY_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform float uBrightness;", "varying vec2 outTexCoord;", "void main ()", "{", "    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;", "}"].join("\n") }, 99155: t => { t.exports = ["#define SHADER_NAME BARREL_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform float amount;", "varying vec2 outTexCoord;", "vec2 Distort(vec2 p)", "{", "    float theta  = atan(p.y, p.x);", "    float radius = length(p);", "    radius = pow(radius, amount);", "    p.x = radius * cos(theta);", "    p.y = radius * sin(theta);", "    return 0.5 * (p + 1.0);", "}", "void main()", "{", "    vec2 xy = 2.0 * outTexCoord - 1.0;", "    vec2 texCoord = outTexCoord;", "    if (length(xy) < 1.0)", "    {", "        texCoord = Distort(xy);", "    }", "    gl_FragColor = texture2D(uMainSampler, texCoord);", "}"].join("\n") }, 24400: t => { t.exports = ["#define SHADER_NAME BLOOM_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 offset;", "uniform float strength;", "uniform vec3 color;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;", "    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;", "    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;", "    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;", "    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);", "}"].join("\n") }, 94328: t => { t.exports = ["#define SHADER_NAME BLUR_HIGH_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 resolution;", "uniform vec2 offset;", "uniform float strength;", "uniform vec3 color;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec2 uv = outTexCoord;", "    vec4 col = vec4(0.0);", "    vec2 off1 = vec2(1.411764705882353) * offset * strength;", "    vec2 off2 = vec2(3.2941176470588234) * offset * strength;", "    vec2 off3 = vec2(5.176470588235294) * offset * strength;", "    col += texture2D(uMainSampler, uv) * 0.1964825501511404;", "    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;", "    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;", "    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;", "    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;", "    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;", "    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;", "    gl_FragColor = col * vec4(color, 1.0);", "}"].join("\n") }, 41514: t => { t.exports = ["#define SHADER_NAME BLUR_LOW_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 resolution;", "uniform vec2 offset;", "uniform float strength;", "uniform vec3 color;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec2 uv = outTexCoord;", "    vec4 col = vec4(0.0);", "    vec2 offset = vec2(1.333) * offset * strength;", "    col += texture2D(uMainSampler, uv) * 0.29411764705882354;", "    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;", "    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;", "    gl_FragColor = col * vec4(color, 1.0);", "}"].join("\n") }, 51078: t => { t.exports = ["#define SHADER_NAME BLUR_MED_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 resolution;", "uniform vec2 offset;", "uniform float strength;", "uniform vec3 color;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec2 uv = outTexCoord;", "    vec4 col = vec4(0.0);", "    vec2 off1 = vec2(1.3846153846) * offset * strength;", "    vec2 off2 = vec2(3.2307692308) * offset * strength;", "    col += texture2D(uMainSampler, uv) * 0.2270270270;", "    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;", "    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;", "    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;", "    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;", "    gl_FragColor = col * vec4(color, 1.0);", "}"].join("\n") }, 90610: t => { t.exports = ["#define SHADER_NAME BOKEH_FS", "precision mediump float;", "#define ITERATIONS 100.0", "#define ONEOVER_ITR 1.0 / ITERATIONS", "#define PI 3.141596", "#define GOLDEN_ANGLE 2.39996323", "uniform sampler2D uMainSampler;", "uniform vec2 resolution;", "uniform float radius;", "uniform float amount;", "uniform float contrast;", "uniform bool isTiltShift;", "uniform float strength;", "uniform vec2 blur;", "varying vec2 outTexCoord;", "vec2 Sample (in float theta, inout float r)", "{", "    r += 1.0 / r;", "    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;", "}", "vec3 Bokeh (sampler2D tex, vec2 uv, float radius)", "{", "    vec3 acc = vec3(0.0);", "    vec3 div = vec3(0.0);", "    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;", "    float r = 1.0;", "    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)", "    {", "        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;", "        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;", "        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;", "        acc += col * bokeh;", "        div += bokeh;", "    }", "    return acc / div;", "}", "void main ()", "{", "    float shift = 1.0;", "    if (isTiltShift)", "    {", "        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;", "        float centerStrength = 1.0;", "        shift = length(uv * blur * strength) * centerStrength;", "    }", "    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);", "}"].join("\n") }, 91899: t => { t.exports = ["#define SHADER_NAME CIRCLE_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 resolution;", "uniform vec3 color;", "uniform vec4 backgroundColor;", "uniform float thickness;", "uniform float scale;", "uniform float feather;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;", "    float aspectRatio = resolution.x / resolution.y;", "    position.x *= aspectRatio;", "    float grad = length(position);", "    float outer = aspectRatio;", "    float inner = outer - (thickness * 2.0 / resolution.y);", "    if (aspectRatio >= 1.0)", "    {", "        float f = 2.0 + (resolution.y / resolution.x);", "        outer = 1.0;", "        inner = 1.0 - (thickness * f / resolution.x);", "    }", "    outer *= scale;", "    inner *= scale;", "    float circle = smoothstep(outer, outer - 0.01, grad);", "    float ring = circle - smoothstep(inner, inner - feather, grad);", "    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);", "    texture = (texture * (circle - ring));", "    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);", "}"].join("\n") }, 47838: t => { t.exports = ["#define SHADER_NAME DISPLACEMENT_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform sampler2D uDisplacementSampler;", "uniform vec2 amount;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;", "    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;", "}"].join("\n") }, 98656: t => { t.exports = ["#define SHADER_NAME GLOW_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "varying vec2 outTexCoord;", "uniform float outerStrength;", "uniform float innerStrength;", "uniform vec2 resolution;", "uniform vec4 glowColor;", "uniform bool knockout;", "const float PI = 3.14159265358979323846264;", "const float DIST = __DIST__;", "const float SIZE = min(__SIZE__, PI * 2.0);", "const float STEP = ceil(PI * 2.0 / SIZE);", "const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;", "void main ()", "{", "    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);", "    float totalAlpha = 0.0;", "    vec2 direction;", "    vec2 displaced;", "    vec4 color;", "    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)", "    {", "        direction = vec2(cos(angle), sin(angle)) * px;", "        for (float curDistance = 0.0; curDistance < DIST; curDistance++)", "        {", "            displaced = outTexCoord + direction * (curDistance + 1.0);", "            color = texture2D(uMainSampler, displaced);", "            totalAlpha += (DIST - curDistance) * color.a;", "        }", "    }", "    color = texture2D(uMainSampler, outTexCoord);", "    float alphaRatio = (totalAlpha / MAX_ALPHA);", "    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;", "    float innerGlowStrength = min(1.0, innerGlowAlpha);", "    vec4 innerColor = mix(color, glowColor, innerGlowStrength);", "    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);", "    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);", "    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;", "    if (knockout)", "    {", "        float resultAlpha = outerGlowAlpha + innerGlowAlpha;", "        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);", "    }", "    else", "    {", "        gl_FragColor = innerColor + outerGlowColor;", "    }", "}"].join("\n") }, 70463: t => { t.exports = ["#define SHADER_NAME GRADIENT_FS", "#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))", "#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))", "#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 positionFrom;", "uniform vec2 positionTo;", "uniform vec3 color1;", "uniform vec3 color2;", "uniform float alpha;", "uniform int size;", "varying vec2 outTexCoord;", "float gradientNoise(in vec2 uv)", "{", "    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);", "    return fract(magic.z * fract(dot(uv, magic.xy)));", "}", "float stepped (in float s, in float scale, in int steps)", "{", "    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;", "}", "void main ()", "{", "    vec2 a = positionFrom;", "    vec2 b = positionTo;", "    vec2 ba = b - a;", "    float d = dot(outTexCoord - a, ba) / dot(ba, ba);", "    float t = size > 0 ? stepped(d, 1.0, size) : d;", "    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));", "    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);", "    color = LINEAR_TO_SRGB(color);", "    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;", "}"].join("\n") }, 50831: t => { t.exports = ["#define SHADER_NAME PIXELATE_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 resolution;", "uniform float amount;", "varying vec2 outTexCoord;", "void main ()", "{", "    float pixelSize = floor(2.0 + amount);", "    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);", "    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);", "    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);", "    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);", "    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);", "    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);", "    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);", "    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);", "    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);", "    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);", "    gl_FragColor = pixel;", "}"].join("\n") }, 92595: t => { t.exports = ["#define SHADER_NAME SHADOW_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "varying vec2 outTexCoord;", "uniform vec2 lightPosition;", "uniform vec4 color;", "uniform float decay;", "uniform float power;", "uniform float intensity;", "uniform int samples;", "const int MAX = 12;", "void main ()", "{", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    vec2 pc = (lightPosition - outTexCoord) * intensity;", "    float shadow = 0.0;", "    float limit = max(float(MAX), float(samples));", "    for (int i = 0; i < MAX; ++i)", "    {", "        if (i >= samples)", "        {", "            break;", "        }", "        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;", "    }", "    float mask = 1.0 - texture.a;", "    gl_FragColor = mix(texture, color, shadow * mask);", "}"].join("\n") }, 72464: t => { t.exports = ["#define SHADER_NAME SHINE_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec2 resolution;", "uniform bool reveal;", "uniform float speed;", "uniform float time;", "uniform float lineWidth;", "uniform float gradient;", "varying vec2 outTexCoord;", "void main ()", "{", "\tvec2 uv = gl_FragCoord.xy / resolution.xy;", "    vec4 tex = texture2D(uMainSampler, outTexCoord);", "    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);", "    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);", "    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;", "    float y = uv.x * gradient;", "    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);", "    gl_FragColor = (((s * col1) + (s * col2)) * tex);", "    if (!reveal)", "    {", "        gl_FragColor += tex;", "    }", "}"].join("\n") }, 39249: t => { t.exports = ["#define SHADER_NAME VIGNETTE_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform float radius;", "uniform float strength;", "uniform vec2 position;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec4 col = vec4(1.0);", "    float d = length(outTexCoord - position);", "    if (d <= radius)", "    {", "        float g = d / radius;", "        g = sin(g * 3.14 * strength);", "    \tcol = vec4(g * g * g);", "    }", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    gl_FragColor = texture * (1.0 - col);", "}"].join("\n") }, 2878: t => { t.exports = ["#define SHADER_NAME WIPE_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "uniform vec4 config;", "uniform bool reveal;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec2 uv = outTexCoord;", "    vec4 color0;", "    vec4 color1;", "    if (reveal)", "    {", "        color0 = vec4(0);", "        color1 = texture2D(uMainSampler, uv);", "    }", "    else", "    {", "        color0 = texture2D(uMainSampler, uv);", "        color1 = vec4(0);", "    }", "    float distance = config.x;", "    float width = config.y;", "    float direction = config.z;", "    float axis = uv.x;", "    if (config.w == 1.0)", "    {", "        axis = uv.y;", "    }", "    float adjust = mix(width, -width, distance);", "    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);", "    gl_FragColor = mix(color1, color0, value);", "}"].join("\n") }, 31063: t => { t.exports = ["#define SHADER_NAME PHASER_LIGHT_FS", "precision mediump float;", "struct Light", "{", "    vec2 position;", "    vec3 color;", "    float intensity;", "    float radius;", "};", "const int kMaxLights = %LIGHT_COUNT%;", "uniform vec4 uCamera; /* x, y, rotation, zoom */", "uniform vec2 uResolution;", "uniform sampler2D uMainSampler;", "uniform sampler2D uNormSampler;", "uniform vec3 uAmbientLightColor;", "uniform Light uLights[kMaxLights];", "uniform mat3 uInverseRotationMatrix;", "uniform int uLightCount;", "varying vec2 outTexCoord;", "varying float outTexId;", "varying float outTintEffect;", "varying vec4 outTint;", "void main ()", "{", "    vec3 finalColor = vec3(0.0, 0.0, 0.0);", "    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    vec4 color = texture * texel;", "    if (outTintEffect == 1.0)", "    {", "        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);", "    }", "    else if (outTintEffect == 2.0)", "    {", "        color = texel;", "    }", "    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;", "    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));", "    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;", "    for (int index = 0; index < kMaxLights; ++index)", "    {", "        if (index < uLightCount)", "        {", "            Light light = uLights[index];", "            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);", "            vec3 lightNormal = normalize(lightDir);", "            float distToSurf = length(lightDir) * uCamera.w;", "            float diffuseFactor = max(dot(normal, lightNormal), 0.0);", "            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;", "            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);", "            vec3 diffuse = light.color * diffuseFactor;", "            finalColor += (attenuation * diffuse) * light.intensity;", "        }", "    }", "    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);", "    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);", "}"].join("\n") }, 48247: t => { t.exports = ["#define SHADER_NAME PHASER_LINEAR_BLEND_FS", "precision mediump float;", "uniform sampler2D uMainSampler1;", "uniform sampler2D uMainSampler2;", "uniform float uStrength;", "varying vec2 outTexCoord;", "void main ()", "{", "    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);", "    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);", "    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);", "}"].join("\n") }, 41214: t => { t.exports = ["#define SHADER_NAME PHASER_MESH_FS", "precision mediump float;", "uniform vec3 uLightPosition;", "uniform vec3 uLightAmbient;", "uniform vec3 uLightDiffuse;", "uniform vec3 uLightSpecular;", "uniform vec3 uFogColor;", "uniform float uFogNear;", "uniform float uFogFar;", "uniform vec3 uMaterialAmbient;", "uniform vec3 uMaterialDiffuse;", "uniform vec3 uMaterialSpecular;", "uniform float uMaterialShine;", "uniform vec3 uCameraPosition;", "uniform sampler2D uTexture;", "varying vec2 vTextureCoord;", "varying vec3 vNormal;", "varying vec3 vPosition;", "void main (void)", "{", "    vec4 color = texture2D(uTexture, vTextureCoord);", "    vec3 ambient = uLightAmbient * uMaterialAmbient;", "    vec3 norm = normalize(vNormal);", "    vec3 lightDir = normalize(uLightPosition - vPosition);", "    float diff = max(dot(norm, lightDir), 0.0);", "    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);", "    vec3 viewDir = normalize(uCameraPosition - vPosition);", "    vec3 reflectDir = reflect(-lightDir, norm);", "    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);", "    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);", "    vec3 result = (ambient + diffuse + specular) * color.rgb;", "    float depth = gl_FragCoord.z / gl_FragCoord.w;", "    float fogFactor = smoothstep(uFogNear, uFogFar, depth);", "    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);", "    gl_FragColor.a = color.a;", "}"].join("\n") }, 39653: t => { t.exports = ["#define SHADER_NAME PHASER_MESH_VS", "precision mediump float;", "attribute vec3 aVertexPosition;", "attribute vec3 aVertexNormal;", "attribute vec2 aTextureCoord;", "uniform mat4 uViewProjectionMatrix;", "uniform mat4 uModelMatrix;", "uniform mat4 uNormalMatrix;", "varying vec2 vTextureCoord;", "varying vec3 vNormal;", "varying vec3 vPosition;", "void main ()", "{", "    vTextureCoord = aTextureCoord;", "    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));", "    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));", "    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);", "}"].join("\n") }, 62143: t => { t.exports = ["#define SHADER_NAME PHASER_MOBILE_FS", "#ifdef GL_FRAGMENT_PRECISION_HIGH", "precision highp float;", "#else", "precision mediump float;", "#endif", "uniform sampler2D uMainSampler;", "varying vec2 outTexCoord;", "varying float outTintEffect;", "varying vec4 outTint;", "void main ()", "{", "    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    vec4 color = texture * texel;", "    if (outTintEffect == 1.0)", "    {", "        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);", "    }", "    else if (outTintEffect == 2.0)", "    {", "        color = texel;", "    }", "    gl_FragColor = color;", "}"].join("\n") }, 47940: t => { t.exports = ["#define SHADER_NAME PHASER_MOBILE_VS", "precision mediump float;", "uniform mat4 uProjectionMatrix;", "uniform vec2 uResolution;", "attribute vec2 inPosition;", "attribute vec2 inTexCoord;", "attribute float inTexId;", "attribute float inTintEffect;", "attribute vec4 inTint;", "varying vec2 outTexCoord;", "varying float outTintEffect;", "varying vec4 outTint;", "void main ()", "{", "    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);", "    outTexCoord = inTexCoord;", "    outTint = inTint;", "    outTintEffect = inTintEffect;", "}"].join("\n") }, 98840: t => { t.exports = ["#define SHADER_NAME PHASER_MULTI_FS", "#ifdef GL_FRAGMENT_PRECISION_HIGH", "precision highp float;", "#else", "precision mediump float;", "#endif", "uniform sampler2D uMainSampler[%count%];", "varying vec2 outTexCoord;", "varying float outTexId;", "varying float outTintEffect;", "varying vec4 outTint;", "void main ()", "{", "    vec4 texture;", "    %forloop%", "    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);", "    vec4 color = texture * texel;", "    if (outTintEffect == 1.0)", "    {", "        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);", "    }", "    else if (outTintEffect == 2.0)", "    {", "        color = texel;", "    }", "    gl_FragColor = color;", "}"].join("\n") }, 44667: t => { t.exports = ["#define SHADER_NAME PHASER_MULTI_VS", "precision mediump float;", "uniform mat4 uProjectionMatrix;", "uniform vec2 uResolution;", "attribute vec2 inPosition;", "attribute vec2 inTexCoord;", "attribute float inTexId;", "attribute float inTintEffect;", "attribute vec4 inTint;", "varying vec2 outTexCoord;", "varying float outTexId;", "varying float outTintEffect;", "varying vec4 outTint;", "void main ()", "{", "    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);", "    outTexCoord = inTexCoord;", "    outTexId = inTexId;", "    outTint = inTint;", "    outTintEffect = inTintEffect;", "}"].join("\n") }, 4127: t => { t.exports = ["#define SHADER_NAME PHASER_POINTLIGHT_FS", "precision mediump float;", "uniform vec2 uResolution;", "uniform float uCameraZoom;", "varying vec4 lightPosition;", "varying vec4 lightColor;", "varying float lightRadius;", "varying float lightAttenuation;", "void main ()", "{", "    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);", "    float distToSurf = length(center - gl_FragCoord.xy);", "    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);", "    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);", "    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;", "    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);", "}"].join("\n") }, 89924: t => { t.exports = ["#define SHADER_NAME PHASER_POINTLIGHT_VS", "precision mediump float;", "uniform mat4 uProjectionMatrix;", "attribute vec2 inPosition;", "attribute vec2 inLightPosition;", "attribute vec4 inLightColor;", "attribute float inLightRadius;", "attribute float inLightAttenuation;", "varying vec4 lightPosition;", "varying vec4 lightColor;", "varying float lightRadius;", "varying float lightAttenuation;", "void main ()", "{", "    lightColor = inLightColor;", "    lightRadius = inLightRadius;", "    lightAttenuation = inLightAttenuation;", "    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);", "    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);", "}"].join("\n") }, 27681: t => { t.exports = ["#define SHADER_NAME PHASER_POSTFX_FS", "precision mediump float;", "uniform sampler2D uMainSampler;", "varying vec2 outTexCoord;", "void main ()", "{", "    gl_FragColor = texture2D(uMainSampler, outTexCoord);", "}"].join("\n") }, 49627: t => { t.exports = ["#define SHADER_NAME PHASER_QUAD_VS", "precision mediump float;", "attribute vec2 inPosition;", "attribute vec2 inTexCoord;", "varying vec2 outFragCoord;", "varying vec2 outTexCoord;", "void main ()", "{", "    outFragCoord = inPosition.xy * 0.5 + 0.5;", "    outTexCoord = inTexCoord;", "    gl_Position = vec4(inPosition, 0, 1);", "}"].join("\n") }, 45561: t => { t.exports = ["#define SHADER_NAME PHASER_SINGLE_FS", "#ifdef GL_FRAGMENT_PRECISION_HIGH", "precision highp float;", "#else", "precision mediump float;", "#endif", "uniform sampler2D uMainSampler;", "varying vec2 outTexCoord;", "varying float outTintEffect;", "varying vec4 outTint;", "void main ()", "{", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);", "    vec4 color = texture * texel;", "    if (outTintEffect == 1.0)", "    {", "        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);", "    }", "    else if (outTintEffect == 2.0)", "    {", "        color = texel;", "    }", "    gl_FragColor = color;", "}"].join("\n") }, 60722: t => { t.exports = ["#define SHADER_NAME PHASER_SINGLE_VS", "precision mediump float;", "uniform mat4 uProjectionMatrix;", "uniform vec2 uResolution;", "attribute vec2 inPosition;", "attribute vec2 inTexCoord;", "attribute float inTexId;", "attribute float inTintEffect;", "attribute vec4 inTint;", "varying vec2 outTexCoord;", "varying float outTintEffect;", "varying vec4 outTint;", "void main ()", "{", "    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);", "    outTexCoord = inTexCoord;", "    outTint = inTint;", "    outTintEffect = inTintEffect;", "}"].join("\n") }, 89350: (t, e, i) => { t.exports = { AddBlendFrag: i(35407), BitmapMaskFrag: i(78908), BitmapMaskVert: i(85191), ColorMatrixFrag: i(96293), CopyFrag: i(36682), FXBarrelFrag: i(99155), FXBloomFrag: i(24400), FXBlurHighFrag: i(94328), FXBlurLowFrag: i(41514), FXBlurMedFrag: i(51078), FXBokehFrag: i(90610), FXCircleFrag: i(91899), FXDisplacementFrag: i(47838), FXGlowFrag: i(98656), FXGradientFrag: i(70463), FXPixelateFrag: i(50831), FXShadowFrag: i(92595), FXShineFrag: i(72464), FXVignetteFrag: i(39249), FXWipeFrag: i(2878), LightFrag: i(31063), LinearBlendFrag: i(48247), MeshFrag: i(41214), MeshVert: i(39653), MobileFrag: i(62143), MobileVert: i(47940), MultiFrag: i(98840), MultiVert: i(44667), PointLightFrag: i(4127), PointLightVert: i(89924), PostFXFrag: i(27681), QuadVert: i(49627), SingleFrag: i(45561), SingleVert: i(60722) } }, 93567: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i) { this.webGLAttribLocation = -1, this.gl = t, this.program = e, this.name = i, this.createResource() }, createResource: function() { if (null !== this.program.webGLProgram) { var t = this.gl;
							t.isContextLost() || (this.webGLAttribLocation = t.getAttribLocation(this.program.webGLProgram, this.name)) } else this.webGLAttribLocation = -1 }, destroy: function() { this.gl = null, this.program = null, this.name = null, this.webGLAttribLocation = -1 } });
				t.exports = n }, 26128: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i, n) { this.webGLBuffer = null, this.gl = t, this.initialDataOrSize = e, this.bufferType = i, this.bufferUsage = n, this.createResource() }, createResource: function() { if (null !== this.initialDataOrSize) { var t = this.gl; if (!t.isContextLost()) { var e = this.bufferType,
									i = t.createBuffer();
								this.webGLBuffer = i, t.bindBuffer(e, this.webGLBuffer), t.bufferData(e, this.initialDataOrSize, this.bufferUsage), t.bindBuffer(e, null) } } }, destroy: function() { var t = this.gl;
						t.isContextLost() || t.deleteBuffer(this.webGLBuffer), this.webGLBuffer = null, this.initialDataOrSize = null, this.gl = null } });
				t.exports = n }, 84387: (t, e, i) => { var n = i(83419),
					r = { 36054: "Incomplete Attachment", 36055: "Missing Attachment", 36057: "Incomplete Dimensions", 36061: "Framebuffer Unsupported" },
					s = new n({ initialize: function(t, e, i, n, r) { this.webGLFramebuffer = null, this.gl = t, this.width = e, this.height = i, this.renderTexture = n, this.addDepthStencilBuffer = !!r, this.createResource() }, createResource: function() { var t = this.gl; if (!t.isContextLost()) { var e, i = this.renderTexture,
									n = t.createFramebuffer(); if (this.webGLFramebuffer = n, t.bindFramebuffer(t.FRAMEBUFFER, n), i.isRenderTexture = !0, i.isAlphaPremultiplied = !1, t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, i.webGLTexture, 0), (e = t.checkFramebufferStatus(t.FRAMEBUFFER)) !== t.FRAMEBUFFER_COMPLETE) throw new Error("Framebuffer status: " + (r[e] || e)); if (this.addDepthStencilBuffer) { var s = t.createRenderbuffer();
									t.bindRenderbuffer(t.RENDERBUFFER, s), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, s) } t.bindFramebuffer(t.FRAMEBUFFER, null) } }, destroy: function() { if (null !== this.webGLFramebuffer) { var t = this.gl; if (!t.isContextLost()) { t.bindFramebuffer(t.FRAMEBUFFER, this.webGLFramebuffer); var e = t.getFramebufferAttachmentParameter(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);
									null !== e && (t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, null, 0), t.deleteTexture(e)); var i = t.getFramebufferAttachmentParameter(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);
									null !== i && t.deleteRenderbuffer(i), t.bindFramebuffer(t.FRAMEBUFFER, null), t.deleteFramebuffer(this.webGLFramebuffer) } this.renderTexture = null, this.webGLFramebuffer = null, this.gl = null } } });
				t.exports = s }, 1482: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i) { this.webGLProgram = null, this.gl = t, this.vertexSource = e, this.fragmentSource = i, this.createResource() }, createResource: function() { var t = this.gl; if (!t.isContextLost()) { var e = t.createProgram(),
								i = t.createShader(t.VERTEX_SHADER),
								n = t.createShader(t.FRAGMENT_SHADER);
							t.shaderSource(i, this.vertexSource), t.shaderSource(n, this.fragmentSource), t.compileShader(i), t.compileShader(n); var r = "Shader failed:\n"; if (!t.getShaderParameter(i, t.COMPILE_STATUS)) throw new Error("Vertex " + r + t.getShaderInfoLog(i)); if (!t.getShaderParameter(n, t.COMPILE_STATUS)) throw new Error("Fragment " + r + t.getShaderInfoLog(n)); if (t.attachShader(e, i), t.attachShader(e, n), t.linkProgram(e), !t.getProgramParameter(e, t.LINK_STATUS)) throw new Error("Link " + r + t.getProgramInfoLog(e));
							t.useProgram(e), this.webGLProgram = e } }, destroy: function() { this.webGLProgram && (this.gl.isContextLost() || this.gl.deleteProgram(this.webGLProgram), this.webGLProgram = null, this.gl = null) } });
				t.exports = n }, 82751: (t, e, i) => { var n = i(83419),
					r = i(50030),
					s = new n({ initialize: function(t, e, i, n, r, s, o, a, l, h, u, c, d) { this.webGLTexture = null, this.isRenderTexture = !1, this.gl = t, this.mipLevel = e, this.minFilter = i, this.magFilter = n, this.wrapT = r, this.wrapS = s, this.format = o, this.pixels = a, this.width = l, this.height = h, this.pma = null == u || u, this.forceSize = !!c, this.flipY = !!d, this.__SPECTOR_Metadata = {}, this.createResource() }, createResource: function() { var t = this.gl; if (!t.isContextLost())
								if (this.pixels instanceof s) this.webGLTexture = this.pixels.webGLTexture;
								else { var e = t.createTexture();
									e.__SPECTOR_Metadata = this.__SPECTOR_Metadata, this.webGLTexture = e, this._processTexture() } }, update: function(t, e, i, n, r, s, o, a, l) { 0 !== e && 0 !== i && (this.pixels = t, this.width = e, this.height = i, this.flipY = n, this.wrapS = r, this.wrapT = s, this.minFilter = o, this.magFilter = a, this.format = l, this.gl.isContextLost() || this._processTexture()) }, _processTexture: function() { var t = this.gl;
							t.activeTexture(t.TEXTURE0); var e = t.getParameter(t.TEXTURE_BINDING_2D);
							t.bindTexture(t.TEXTURE_2D, this.webGLTexture), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, this.minFilter), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, this.magFilter), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, this.wrapS), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, this.wrapT), t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.pma), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, this.flipY); var i = this.pixels,
								n = this.mipLevel,
								s = this.width,
								o = this.height,
								a = this.format,
								l = !1; if (null == i) t.texImage2D(t.TEXTURE_2D, n, a, s, o, 0, a, t.UNSIGNED_BYTE, null), l = r(s, o);
							else if (i.compressed) { s = i.width, o = i.height, l = i.generateMipmap; for (var h = 0; h < i.mipmaps.length; h++) t.compressedTexImage2D(t.TEXTURE_2D, h, i.internalFormat, i.mipmaps[h].width, i.mipmaps[h].height, 0, i.mipmaps[h].data) } else i instanceof Uint8Array ? (t.texImage2D(t.TEXTURE_2D, n, a, s, o, 0, a, t.UNSIGNED_BYTE, i), l = r(s, o)) : (this.forceSize || (s = i.width, o = i.height), t.texImage2D(t.TEXTURE_2D, n, a, a, t.UNSIGNED_BYTE, i), l = r(s, o));
							l && t.generateMipmap(t.TEXTURE_2D), e ? t.bindTexture(t.TEXTURE_2D, e) : t.bindTexture(t.TEXTURE_2D, null) }, spectorMetadata: { get: function() { return this.__SPECTOR_Metadata }, set: function(t) { this.__SPECTOR_Metadata = t, this.gl.isContextLost() || (this.webGLTexture.__SPECTOR_Metadata = t) } }, destroy: function() { null !== this.webGLTexture && (this.gl.isContextLost() || this.pixels instanceof s || this.gl.deleteTexture(this.webGLTexture), this.pixels = null, this.webGLTexture = null, this.gl = null) } });
				t.exports = s }, 57183: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i) { this.webGLUniformLocation = null, this.gl = t, this.program = e, this.name = i, this.createResource() }, createResource: function() { if (null !== this.program.webGLProgram) { var t = this.gl;
							t.isContextLost() || (this.webGLUniformLocation = t.getUniformLocation(this.program.webGLProgram, this.name)) } else this.webGLUniformLocation = null }, destroy: function() { this.gl = null, this.program = null, this.name = null, this.webGLUniformLocation = null } });
				t.exports = n }, 9503: (t, e, i) => { var n = { WebGLAttribLocationWrapper: i(93567), WebGLBufferWrapper: i(26128), WebGLProgramWrapper: i(1482), WebGLTextureWrapper: i(82751), WebGLFramebufferWrapper: i(84387), WebGLUniformLocationWrapper: i(57183) };
				t.exports = n }, 76531: (t, e, i) => { var n = i(13560),
					r = i(83419),
					s = i(50792),
					o = i(97480),
					a = i(8443),
					l = i(57811),
					h = i(74403),
					u = i(45818),
					c = i(29747),
					d = i(87841),
					f = i(86555),
					p = i(56583),
					g = i(26099),
					m = i(38058),
					v = new r({ Extends: s, initialize: function(t) { s.call(this), this.game = t, this.canvas, this.canvasBounds = new d, this.parent = null, this.parentIsWindow = !1, this.parentSize = new f, this.gameSize = new f, this.baseSize = new f, this.displaySize = new f, this.scaleMode = n.SCALE_MODE.NONE, this.zoom = 1, this._resetZoom = !1, this.displayScale = new g(1, 1), this.autoRound = !1, this.autoCenter = n.CENTER.NO_CENTER, this.orientation = n.ORIENTATION.LANDSCAPE, this.fullscreen, this.fullscreenTarget = null, this._createdFullscreenTarget = !1, this.dirty = !1, this.resizeInterval = 500, this._lastCheck = 0, this._checkOrientation = !1, this.domlisteners = { orientationChange: c, windowResize: c, fullScreenChange: c, fullScreenError: c } }, preBoot: function() { this.parseConfig(this.game.config), this.game.events.once(a.BOOT, this.boot, this) }, boot: function() { var t = this.game;
							this.canvas = t.canvas, this.fullscreen = t.device.fullscreen; var e = this.scaleMode;
							e !== n.SCALE_MODE.RESIZE && e !== n.SCALE_MODE.EXPAND && this.displaySize.setAspectMode(e), e === n.SCALE_MODE.NONE ? this.resize(this.width, this.height) : (this.getParentBounds(), this.parentSize.width > 0 && this.parentSize.height > 0 && this.displaySize.setParent(this.parentSize), this.refresh()), t.events.on(a.PRE_STEP, this.step, this), t.events.once(a.READY, this.refresh, this), t.events.once(a.DESTROY, this.destroy, this), this.startListeners() }, parseConfig: function(t) { this.getParent(t), this.getParentBounds(); var e = t.width,
								i = t.height,
								r = t.scaleMode,
								s = t.zoom,
								o = t.autoRound; if ("string" == typeof e)
								if ("%" !== e.substr(-1)) e = parseInt(e, 10);
								else { var a = this.parentSize.width;
									0 === a && (a = window.innerWidth); var l = parseInt(e, 10) / 100;
									e = Math.floor(a * l) } if ("string" == typeof i)
								if ("%" !== i.substr(-1)) i = parseInt(i, 10);
								else { var h = this.parentSize.height;
									0 === h && (h = window.innerHeight); var c = parseInt(i, 10) / 100;
									i = Math.floor(h * c) } this.scaleMode = r, this.autoRound = o, this.autoCenter = t.autoCenter, this.resizeInterval = t.resizeInterval, o && (e = Math.floor(e), i = Math.floor(i)), this.gameSize.setSize(e, i), s === n.ZOOM.MAX_ZOOM && (s = this.getMaxZoom()), this.zoom = s, 1 !== s && (this._resetZoom = !0), this.baseSize.setSize(e, i), o && (this.baseSize.width = Math.floor(this.baseSize.width), this.baseSize.height = Math.floor(this.baseSize.height)), t.minWidth > 0 && this.displaySize.setMin(t.minWidth * s, t.minHeight * s), t.maxWidth > 0 && this.displaySize.setMax(t.maxWidth * s, t.maxHeight * s), this.displaySize.setSize(e, i), (t.snapWidth > 0 || t.snapHeight > 0) && this.displaySize.setSnap(t.snapWidth, t.snapHeight), this.orientation = u(e, i) }, getParent: function(t) { var e = t.parent; if (null !== e) { if (this.parent = h(e), this.parentIsWindow = this.parent === document.body, t.expandParent && t.scaleMode !== n.SCALE_MODE.NONE) { var i = this.parent.getBoundingClientRect();
									(this.parentIsWindow || 0 === i.height) && (document.documentElement.style.height = "100%", document.body.style.height = "100%", i = this.parent.getBoundingClientRect(), this.parentIsWindow || 0 !== i.height || (this.parent.style.overflow = "hidden", this.parent.style.width = "100%", this.parent.style.height = "100%")) } t.fullscreenTarget && !this.fullscreenTarget && (this.fullscreenTarget = h(t.fullscreenTarget)) } }, getParentBounds: function() { if (!this.parent) return !1; var t = this.parentSize,
								e = this.parent.getBoundingClientRect();
							this.parentIsWindow && this.game.device.os.iOS && (e.height = l(!0)); var i = e.width,
								n = e.height; if (t.width !== i || t.height !== n) return t.setSize(i, n), !0; if (this.canvas) { var r = this.canvasBounds,
									s = this.canvas.getBoundingClientRect(); if (s.x !== r.x || s.y !== r.y) return !0 } return !1 }, lockOrientation: function(t) { var e = screen.lockOrientation || screen.mozLockOrientation || screen.msLockOrientation; return !!e && e.call(screen, t) }, setParentSize: function(t, e) { return this.parentSize.setSize(t, e), this.refresh() }, setGameSize: function(t, e) { var i = this.autoRound;
							i && (t = Math.floor(t), e = Math.floor(e)); var n = this.width,
								r = this.height; return this.gameSize.resize(t, e), this.baseSize.resize(t, e), i && (this.baseSize.width = Math.floor(this.baseSize.width), this.baseSize.height = Math.floor(this.baseSize.height)), this.displaySize.setAspectRatio(t / e), this.canvas.width = this.baseSize.width, this.canvas.height = this.baseSize.height, this.refresh(n, r) }, resize: function(t, e) { var i = this.zoom,
								n = this.autoRound;
							n && (t = Math.floor(t), e = Math.floor(e)); var r = this.width,
								s = this.height;
							this.gameSize.resize(t, e), this.baseSize.resize(t, e), n && (this.baseSize.width = Math.floor(this.baseSize.width), this.baseSize.height = Math.floor(this.baseSize.height)), this.displaySize.setSize(t * i, e * i), this.canvas.width = this.baseSize.width, this.canvas.height = this.baseSize.height; var o = this.canvas.style,
								a = t * i,
								l = e * i; return n && (a = Math.floor(a), l = Math.floor(l)), a === t && l === e || (o.width = a + "px", o.height = l + "px"), this.refresh(r, s) }, setZoom: function(t) { return this.zoom = t, this._resetZoom = !0, this.refresh() }, setMaxZoom: function() { return this.zoom = this.getMaxZoom(), this._resetZoom = !0, this.refresh() }, setSnap: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.displaySize.setSnap(t, e), this.refresh() }, refresh: function(t, e) { void 0 === t && (t = this.width), void 0 === e && (e = this.height), this.updateScale(), this.updateBounds(), this.updateOrientation(), this.displayScale.set(this.baseSize.width / this.canvasBounds.width, this.baseSize.height / this.canvasBounds.height); var i = this.game.domContainer; if (i) { this.baseSize.setCSS(i); var n = this.canvas.style,
									r = i.style;
								r.transform = "scale(" + this.displaySize.width / this.baseSize.width + "," + this.displaySize.height / this.baseSize.height + ")", r.marginLeft = n.marginLeft, r.marginTop = n.marginTop } return this.emit(o.RESIZE, this.gameSize, this.baseSize, this.displaySize, t, e), this }, updateOrientation: function() { if (this._checkOrientation) { this._checkOrientation = !1; var t = u(this.width, this.height);
								t !== this.orientation && (this.orientation = t, this.emit(o.ORIENTATION_CHANGE, t)) } }, updateScale: function() { var t, e, i = this.canvas.style,
								r = this.gameSize.width,
								s = this.gameSize.height,
								o = this.zoom,
								a = this.autoRound; if (this.scaleMode === n.SCALE_MODE.NONE) this.displaySize.setSize(r * o, s * o), t = this.displaySize.width, e = this.displaySize.height, a && (t = Math.floor(t), e = Math.floor(e)), this._resetZoom && (i.width = t + "px", i.height = e + "px", this._resetZoom = !1);
							else if (this.scaleMode === n.SCALE_MODE.RESIZE) this.displaySize.setSize(this.parentSize.width, this.parentSize.height), this.gameSize.setSize(this.displaySize.width, this.displaySize.height), this.baseSize.setSize(this.displaySize.width, this.displaySize.height), t = this.displaySize.width, e = this.displaySize.height, a && (t = Math.floor(t), e = Math.floor(e)), this.canvas.width = t, this.canvas.height = e;
							else if (this.scaleMode === n.SCALE_MODE.EXPAND) { var l = this.game.config.width,
									h = this.game.config.height;
								this.displaySize.setSize(this.parentSize.width, this.parentSize.height), t = this.displaySize.width, e = this.displaySize.height, a && (t = Math.floor(t), e = Math.floor(e)), i.width = t + "px", i.height = e + "px"; var u = this.parentSize.width / l,
									c = this.parentSize.height / h;
								u < c && 0 !== u ? this.baseSize.setSize(l, this.parentSize.height / u) : 0 !== c && this.baseSize.setSize(this.displaySize.width / c, h), this.gameSize.setSize(this.baseSize.width, this.baseSize.height), t = this.baseSize.width, e = this.baseSize.height, a && (t = Math.floor(t), e = Math.floor(e)), this.canvas.width = t, this.canvas.height = e } else this.displaySize.setSize(this.parentSize.width, this.parentSize.height), t = this.displaySize.width, e = this.displaySize.height, a && (t = Math.floor(t), e = Math.floor(e)), i.width = t + "px", i.height = e + "px";
							this.getParentBounds(), this.updateCenter() }, getMaxZoom: function() { var t = p(this.parentSize.width, this.gameSize.width, 0, !0),
								e = p(this.parentSize.height, this.gameSize.height, 0, !0); return Math.max(Math.min(t, e), 1) }, updateCenter: function() { var t = this.autoCenter; if (t !== n.CENTER.NO_CENTER) { var e = this.canvas,
									i = e.style,
									r = e.getBoundingClientRect(),
									s = r.width,
									o = r.height,
									a = Math.floor((this.parentSize.width - s) / 2),
									l = Math.floor((this.parentSize.height - o) / 2);
								t === n.CENTER.CENTER_HORIZONTALLY ? l = 0 : t === n.CENTER.CENTER_VERTICALLY && (a = 0), i.marginLeft = a + "px", i.marginTop = l + "px" } }, updateBounds: function() { var t = this.canvasBounds,
								e = this.canvas.getBoundingClientRect();
							t.x = e.left + (window.pageXOffset || 0) - (document.documentElement.clientLeft || 0), t.y = e.top + (window.pageYOffset || 0) - (document.documentElement.clientTop || 0), t.width = e.width, t.height = e.height }, transformX: function(t) { return (t - this.canvasBounds.left) * this.displayScale.x }, transformY: function(t) { return (t - this.canvasBounds.top) * this.displayScale.y }, startFullscreen: function(t) { void 0 === t && (t = { navigationUI: "hide" }); var e = this.fullscreen; if (e.available) { if (!e.active) { var i = this.getFullscreenTarget();
									e.keyboard ? i[e.request](Element.ALLOW_KEYBOARD_INPUT) : i[e.request](t) } } else this.emit(o.FULLSCREEN_UNSUPPORTED) }, fullscreenSuccessHandler: function() { this.getParentBounds(), this.refresh(), this.emit(o.ENTER_FULLSCREEN) }, fullscreenErrorHandler: function(t) { this.removeFullscreenTarget(), this.emit(o.FULLSCREEN_FAILED, t) }, getFullscreenTarget: function() { if (!this.fullscreenTarget) { var t = document.createElement("div");
								t.style.margin = "0", t.style.padding = "0", t.style.width = "100%", t.style.height = "100%", this.fullscreenTarget = t, this._createdFullscreenTarget = !0 } return this._createdFullscreenTarget && (this.canvas.parentNode.insertBefore(this.fullscreenTarget, this.canvas), this.fullscreenTarget.appendChild(this.canvas)), this.fullscreenTarget }, removeFullscreenTarget: function() { if (this._createdFullscreenTarget) { var t = this.fullscreenTarget; if (t && t.parentNode) { var e = t.parentNode;
									e.insertBefore(this.canvas, t), e.removeChild(t) } } }, stopFullscreen: function() { var t = this.fullscreen; if (!t.available) return this.emit(o.FULLSCREEN_UNSUPPORTED), !1;
							t.active && document[t.cancel](), this.removeFullscreenTarget() }, leaveFullScreenSuccessHandler: function() { this.getParentBounds(), this.emit(o.LEAVE_FULLSCREEN), this.refresh() }, toggleFullscreen: function(t) { this.fullscreen.active ? this.stopFullscreen() : this.startFullscreen(t) }, startListeners: function() { var t = this,
								e = this.domlisteners;
							e.orientationChange = function() { t.updateBounds(), t._checkOrientation = !0, t.dirty = !0, t.refresh() }, e.windowResize = function() { t.updateBounds(), t.dirty = !0 }, screen.orientation && screen.orientation.addEventListener ? screen.orientation.addEventListener("change", e.orientationChange, !1) : window.addEventListener("orientationchange", e.orientationChange, !1), window.addEventListener("resize", e.windowResize, !1), this.fullscreen.available && (e.fullScreenChange = function(e) { return t.onFullScreenChange(e) }, e.fullScreenError = function(e) { return t.onFullScreenError(e) }, ["webkit", "moz", ""].forEach((function(t) { document.addEventListener(t + "fullscreenchange", e.fullScreenChange, !1), document.addEventListener(t + "fullscreenerror", e.fullScreenError, !1) })), document.addEventListener("MSFullscreenChange", e.fullScreenChange, !1), document.addEventListener("MSFullscreenError", e.fullScreenError, !1)) }, onFullScreenChange: function() { document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement || document.mozFullScreenElement ? this.fullscreenSuccessHandler() : (this.stopFullscreen(), this.leaveFullScreenSuccessHandler()) }, onFullScreenError: function() { this.removeFullscreenTarget() }, getViewPort: function(t, e) { t instanceof m || (e = t, t = void 0), void 0 === e && (e = new d); var i, n, r = this.baseSize,
								s = this.parentSize,
								o = this.canvasBounds,
								a = this.displayScale,
								l = o.x >= 0 ? 0 : -o.x * a.x,
								h = o.y >= 0 ? 0 : -o.y * a.y; return i = s.width >= o.width ? r.width : r.width - (o.width - s.width) * a.x, n = s.height >= o.height ? r.height : r.height - (o.height - s.height) * a.y, e.setTo(l, h, i, n), t && (e.width /= t.zoomX, e.height /= t.zoomY, e.centerX = t.centerX + t.scrollX, e.centerY = t.centerY + t.scrollY), e }, step: function(t, e) { this.parent && (this._lastCheck += e, (this.dirty || this._lastCheck > this.resizeInterval) && (this.getParentBounds() && this.refresh(), this.dirty = !1, this._lastCheck = 0)) }, stopListeners: function() { var t = this.domlisteners;
							screen.orientation && screen.orientation.addEventListener ? screen.orientation.removeEventListener("change", t.orientationChange, !1) : window.removeEventListener("orientationchange", t.orientationChange, !1), window.removeEventListener("resize", t.windowResize, !1), ["webkit", "moz", ""].forEach((function(e) { document.removeEventListener(e + "fullscreenchange", t.fullScreenChange, !1), document.removeEventListener(e + "fullscreenerror", t.fullScreenError, !1) })), document.removeEventListener("MSFullscreenChange", t.fullScreenChange, !1), document.removeEventListener("MSFullscreenError", t.fullScreenError, !1) }, destroy: function() { this.removeAllListeners(), this.stopListeners(), this.game = null, this.canvas = null, this.canvasBounds = null, this.parent = null, this.fullscreenTarget = null, this.parentSize.destroy(), this.gameSize.destroy(), this.baseSize.destroy(), this.displaySize.destroy() }, isFullscreen: { get: function() { return this.fullscreen.active } }, width: { get: function() { return this.gameSize.width } }, height: { get: function() { return this.gameSize.height } }, isPortrait: { get: function() { return this.orientation === n.ORIENTATION.PORTRAIT } }, isLandscape: { get: function() { return this.orientation === n.ORIENTATION.LANDSCAPE } }, isGamePortrait: { get: function() { return this.height > this.width } }, isGameLandscape: { get: function() { return this.width > this.height } } });
				t.exports = v }, 64743: t => { t.exports = { NO_CENTER: 0, CENTER_BOTH: 1, CENTER_HORIZONTALLY: 2, CENTER_VERTICALLY: 3 } }, 39218: t => { t.exports = { LANDSCAPE: "landscape-primary", LANDSCAPE_SECONDARY: "landscape-secondary", PORTRAIT: "portrait-primary", PORTRAIT_SECONDARY: "portrait-secondary" } }, 81050: t => { t.exports = { NONE: 0, WIDTH_CONTROLS_HEIGHT: 1, HEIGHT_CONTROLS_WIDTH: 2, FIT: 3, ENVELOP: 4, RESIZE: 5, EXPAND: 6 } }, 80805: t => { t.exports = { NO_ZOOM: 1, ZOOM_2X: 2, ZOOM_4X: 4, MAX_ZOOM: -1 } }, 13560: (t, e, i) => { var n = { CENTER: i(64743), ORIENTATION: i(39218), SCALE_MODE: i(81050), ZOOM: i(80805) };
				t.exports = n }, 56139: t => { t.exports = "enterfullscreen" }, 2336: t => { t.exports = "fullscreenfailed" }, 47412: t => { t.exports = "fullscreenunsupported" }, 51452: t => { t.exports = "leavefullscreen" }, 20666: t => { t.exports = "orientationchange" }, 47945: t => { t.exports = "resize" }, 97480: (t, e, i) => { t.exports = { ENTER_FULLSCREEN: i(56139), FULLSCREEN_FAILED: i(2336), FULLSCREEN_UNSUPPORTED: i(47412), LEAVE_FULLSCREEN: i(51452), ORIENTATION_CHANGE: i(20666), RESIZE: i(47945) } }, 93364: (t, e, i) => { var n = i(79291),
					r = i(13560),
					s = { Center: i(64743), Events: i(97480), Orientation: i(39218), ScaleManager: i(76531), ScaleModes: i(81050), Zoom: i(80805) };
				s = n(!1, s, r.CENTER), s = n(!1, s, r.ORIENTATION), s = n(!1, s, r.SCALE_MODE), s = n(!1, s, r.ZOOM), t.exports = s }, 27397: (t, e, i) => { var n = i(95540),
					r = i(35355);
				t.exports = function(t) { var e = t.game.config.defaultPhysicsSystem,
						i = n(t.settings, "physics", !1); if (e || i) { var s = []; if (e && s.push(r(e + "Physics")), i)
							for (var o in i) o = r(o.concat("Physics")), -1 === s.indexOf(o) && s.push(o); return s } } }, 52106: (t, e, i) => { var n = i(95540);
				t.exports = function(t) { var e = t.plugins.getDefaultScenePlugins(),
						i = n(t.settings, "plugins", !1); return Array.isArray(i) ? i : e || [] } }, 87033: t => { t.exports = { game: "game", renderer: "renderer", anims: "anims", cache: "cache", plugins: "plugins", registry: "registry", scale: "scale", sound: "sound", textures: "textures", events: "events", cameras: "cameras", add: "add", make: "make", scenePlugin: "scene", displayList: "children", lights: "lights", data: "data", input: "input", load: "load", time: "time", tweens: "tweens", arcadePhysics: "physics", impactPhysics: "impact", matterPhysics: "matter" } }, 97482: (t, e, i) => { var n = i(83419),
					r = i(2368),
					s = new n({ initialize: function(t) { this.sys = new r(this, t), this.game, this.anims, this.cache, this.registry, this.sound, this.textures, this.events, this.cameras, this.add, this.make, this.scene, this.children, this.lights, this.data, this.input, this.load, this.time, this.tweens, this.physics, this.matter, this.scale, this.plugins, this.renderer }, update: function() {} });
				t.exports = s }, 60903: (t, e, i) => { var n = i(83419),
					r = i(89993),
					s = i(44594),
					o = i(8443),
					a = i(35154),
					l = i(54899),
					h = i(29747),
					u = i(97482),
					c = i(2368),
					d = new n({ initialize: function(t, e) { if (this.game = t, this.keys = {}, this.scenes = [], this._pending = [], this._start = [], this._queue = [], this._data = {}, this.isProcessing = !1, this.isBooted = !1, this.customViewports = 0, this.systemScene, e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++) this._pending.push({ key: "default", scene: e[i], autoStart: 0 === i, data: {} }) } t.events.once(o.READY, this.bootQueue, this) }, bootQueue: function() { if (!this.isBooted) { var t, e, i, n; for (this.systemScene = this.createSceneFromInstance("__SYSTEM", new u), this.game.events.emit(o.SYSTEM_READY, this.systemScene, this), t = 0; t < this._pending.length; t++) { var r;
									i = (e = this._pending[t]).key, (n = e.scene) instanceof u ? r = this.createSceneFromInstance(i, n) : "object" == typeof n ? r = this.createSceneFromObject(i, n) : "function" == typeof n && (r = this.createSceneFromFunction(i, n)), i = r.sys.settings.key, this.keys[i] = r, this.scenes.push(r), this._data[i] && (r.sys.settings.data = this._data[i].data, this._data[i].autoStart && (e.autoStart = !0)), (e.autoStart || r.sys.settings.active) && this._start.push(i) } for (this._pending.length = 0, this._data = {}, this.isBooted = !0, t = 0; t < this._start.length; t++) e = this._start[t], this.start(e);
								this._start.length = 0 } }, processQueue: function() { var t = this._pending.length,
								e = this._queue.length; if (0 !== t || 0 !== e) { var i, n; if (t) { for (i = 0; i < t; i++) n = this._pending[i], this.add(n.key, n.scene, n.autoStart, n.data); for (i = 0; i < this._start.length; i++) n = this._start[i], this.start(n);
									this._start.length = 0, this._pending.length = 0 } for (i = 0; i < this._queue.length; i++) this[(n = this._queue[i]).op](n.keyA, n.keyB, n.data);
								this._queue.length = 0 } }, add: function(t, e, i, n) { return void 0 === i && (i = !1), void 0 === n && (n = {}), this.isProcessing || !this.isBooted ? (this._pending.push({ key: t, scene: e, autoStart: i, data: n }), this.isBooted || (this._data[t] = { data: n }), null) : (t = this.getKey(t, e), e instanceof u ? r = this.createSceneFromInstance(t, e) : "object" == typeof e ? (e.key = t, r = this.createSceneFromObject(t, e)) : "function" == typeof e && (r = this.createSceneFromFunction(t, e)), r.sys.settings.data = n, t = r.sys.settings.key, this.keys[t] = r, this.scenes.push(r), (i || r.sys.settings.active) && (this._pending.length ? this._start.push(t) : this.start(t)), r); var r }, remove: function(t) { if (this.isProcessing) return this.queueOp("remove", t); var e = this.getScene(t); if (!e || e.sys.isTransitioning()) return this; var i = this.scenes.indexOf(e),
								n = e.sys.settings.key; return i > -1 && (delete this.keys[n], this.scenes.splice(i, 1), this._start.indexOf(n) > -1 && (i = this._start.indexOf(n), this._start.splice(i, 1)), e.sys.destroy()), this }, bootScene: function(t) { var e, i = t.sys,
								n = i.settings;
							i.sceneUpdate = h, t.init && (t.init.call(t, n.data), n.status = r.INIT, n.isTransition && i.events.emit(s.TRANSITION_INIT, n.transitionFrom, n.transitionDuration)), i.load && (e = i.load).reset(), e && t.preload ? (t.preload.call(t), n.status = r.LOADING, e.once(l.COMPLETE, this.loadComplete, this), e.start()) : this.create(t) }, loadComplete: function(t) { this.create(t.scene) }, payloadComplete: function(t) { this.bootScene(t.scene) }, update: function(t, e) { this.processQueue(), this.isProcessing = !0; for (var i = this.scenes.length - 1; i >= 0; i--) { var n = this.scenes[i].sys;
								n.settings.status > r.START && n.settings.status <= r.RUNNING && n.step(t, e), n.scenePlugin && n.scenePlugin._target && n.scenePlugin.step(t, e) } }, render: function(t) { for (var e = 0; e < this.scenes.length; e++) { var i = this.scenes[e].sys;
								i.settings.visible && i.settings.status >= r.LOADING && i.settings.status < r.SLEEPING && i.render(t) } this.isProcessing = !1 }, create: function(t) { var e = t.sys,
								i = e.settings;
							t.create && (i.status = r.CREATING, t.create.call(t, i.data), i.status === r.DESTROYED) || (i.isTransition && e.events.emit(s.TRANSITION_START, i.transitionFrom, i.transitionDuration), t.update && (e.sceneUpdate = t.update), i.status = r.RUNNING, e.events.emit(s.CREATE, t)) }, createSceneFromFunction: function(t, e) { var i = new e; if (i instanceof u) { var n = i.sys.settings.key; if ("" !== n && (t = n), this.keys.hasOwnProperty(t)) throw new Error("Cannot add Scene with duplicate key: " + t); return this.createSceneFromInstance(t, i) } return i.sys = new c(i), i.sys.settings.key = t, i.sys.init(this.game), i }, createSceneFromInstance: function(t, e) { return "" === e.sys.settings.key && (e.sys.settings.key = t), e.sys.init(this.game), e }, createSceneFromObject: function(t, e) { var i = new u(e),
								n = i.sys.settings.key; "" !== n ? t = n : i.sys.settings.key = t, i.sys.init(this.game); for (var r = ["init", "preload", "create", "update", "render"], s = 0; s < r.length; s++) { var o = a(e, r[s], null);
								o && (i[r[s]] = o) } if (e.hasOwnProperty("extend"))
								for (var l in e.extend)
									if (e.extend.hasOwnProperty(l)) { var h = e.extend[l]; "data" === l && i.hasOwnProperty("data") && "object" == typeof h ? i.data.merge(h) : "sys" !== l && (i[l] = h) } return i }, getKey: function(t, e) { if (t || (t = "default"), "function" == typeof e) return t; if (e instanceof u ? t = e.sys.settings.key : "object" == typeof e && e.hasOwnProperty("key") && (t = e.key), this.keys.hasOwnProperty(t)) throw new Error("Cannot add Scene with duplicate key: " + t); return t }, getScenes: function(t, e) { void 0 === t && (t = !0), void 0 === e && (e = !1); for (var i = [], n = this.scenes, r = 0; r < n.length; r++) { var s = n[r];
								s && (!t || t && s.sys.isActive()) && i.push(s) } return e ? i.reverse() : i }, getScene: function(t) { if ("string" == typeof t) { if (this.keys[t]) return this.keys[t] } else
								for (var e = 0; e < this.scenes.length; e++)
									if (t === this.scenes[e]) return t; return null }, isActive: function(t) { var e = this.getScene(t); return e ? e.sys.isActive() : null }, isPaused: function(t) { var e = this.getScene(t); return e ? e.sys.isPaused() : null }, isVisible: function(t) { var e = this.getScene(t); return e ? e.sys.isVisible() : null }, isSleeping: function(t) { var e = this.getScene(t); return e ? e.sys.isSleeping() : null }, pause: function(t, e) { var i = this.getScene(t); return i && i.sys.pause(e), this }, resume: function(t, e) { var i = this.getScene(t); return i && i.sys.resume(e), this }, sleep: function(t, e) { var i = this.getScene(t); return i && !i.sys.isTransitioning() && i.sys.sleep(e), this }, wake: function(t, e) { var i = this.getScene(t); return i && i.sys.wake(e), this }, run: function(t, e) { var i = this.getScene(t); if (!i) { for (var n = 0; n < this._pending.length; n++)
									if (this._pending[n].key === t) { this.queueOp("start", t, e); break } return this } i.sys.isSleeping() ? i.sys.wake(e) : i.sys.isPaused() ? i.sys.resume(e) : this.start(t, e) }, start: function(t, e) { if (!this.isBooted) return this._data[t] = { autoStart: !0, data: e }, this; var i = this.getScene(t); if (!i) return console.warn("Scene key not found: " + t), this; var n, s = i.sys,
								o = s.settings.status; if (o >= r.START && o <= r.CREATING) return this; if (o >= r.RUNNING && o <= r.SLEEPING) s.shutdown(), s.sceneUpdate = h, s.start(e);
							else if (s.sceneUpdate = h, s.start(e), s.load && (n = s.load), n && s.settings.hasOwnProperty("pack") && (n.reset(), n.addPack({ payload: s.settings.pack }))) return s.settings.status = r.LOADING, n.once(l.COMPLETE, this.payloadComplete, this), n.start(), this; return this.bootScene(i), this }, stop: function(t, e) { var i = this.getScene(t); if (i && !i.sys.isTransitioning() && i.sys.settings.status !== r.SHUTDOWN) { var n = i.sys.load;
								n && (n.off(l.COMPLETE, this.loadComplete, this), n.off(l.COMPLETE, this.payloadComplete, this)), i.sys.shutdown(e) } return this }, switch: function(t, e, i) { var n = this.getScene(t),
								r = this.getScene(e); return n && r && n !== r && (this.sleep(t), this.isSleeping(e) ? this.wake(e, i) : this.start(e, i)), this }, getAt: function(t) { return this.scenes[t] }, getIndex: function(t) { var e = this.getScene(t); return this.scenes.indexOf(e) }, bringToTop: function(t) { if (this.isProcessing) return this.queueOp("bringToTop", t); var e = this.getIndex(t),
								i = this.scenes; if (-1 !== e && e < i.length) { var n = this.getScene(t);
								i.splice(e, 1), i.push(n) } return this }, sendToBack: function(t) { if (this.isProcessing) return this.queueOp("sendToBack", t); var e = this.getIndex(t); if (-1 !== e && e > 0) { var i = this.getScene(t);
								this.scenes.splice(e, 1), this.scenes.unshift(i) } return this }, moveDown: function(t) { if (this.isProcessing) return this.queueOp("moveDown", t); var e = this.getIndex(t); if (e > 0) { var i = e - 1,
									n = this.getScene(t),
									r = this.getAt(i);
								this.scenes[e] = r, this.scenes[i] = n } return this }, moveUp: function(t) { if (this.isProcessing) return this.queueOp("moveUp", t); var e = this.getIndex(t); if (e < this.scenes.length - 1) { var i = e + 1,
									n = this.getScene(t),
									r = this.getAt(i);
								this.scenes[e] = r, this.scenes[i] = n } return this }, moveAbove: function(t, e) { if (t === e) return this; if (this.isProcessing) return this.queueOp("moveAbove", t, e); var i = this.getIndex(t),
								n = this.getIndex(e); if (-1 !== i && -1 !== n && n < i) { var r = this.getAt(n);
								this.scenes.splice(n, 1), this.scenes.splice(i + (n > i), 0, r) } return this }, moveBelow: function(t, e) { if (t === e) return this; if (this.isProcessing) return this.queueOp("moveBelow", t, e); var i = this.getIndex(t),
								n = this.getIndex(e); if (-1 !== i && -1 !== n && n > i) { var r = this.getAt(n);
								this.scenes.splice(n, 1), 0 === i ? this.scenes.unshift(r) : this.scenes.splice(i - (n < i), 0, r) } return this }, queueOp: function(t, e, i, n) { return this._queue.push({ op: t, keyA: e, keyB: i, data: n }), this }, swapPosition: function(t, e) { if (t === e) return this; if (this.isProcessing) return this.queueOp("swapPosition", t, e); var i = this.getIndex(t),
								n = this.getIndex(e); if (i !== n && -1 !== i && -1 !== n) { var r = this.getAt(i);
								this.scenes[i] = this.scenes[n], this.scenes[n] = r } return this }, dump: function() { for (var t = [], e = ["pending", "init", "start", "loading", "creating", "running", "paused", "sleeping", "shutdown", "destroyed"], i = 0; i < this.scenes.length; i++) { var n = this.scenes[i].sys,
									s = !n.settings.visible || n.settings.status !== r.RUNNING && n.settings.status !== r.PAUSED ? "[-] " : "[*] ";
								s += n.settings.key + " (" + e[n.settings.status] + ")", t.push(s) } console.log(t.join("\n")) }, destroy: function() { for (var t = 0; t < this.scenes.length; t++) this.scenes[t].sys.destroy();
							this.systemScene.sys.destroy(), this.update = h, this.scenes = [], this._pending = [], this._start = [], this._queue = [], this.game = null, this.systemScene = null } });
				t.exports = d }, 52209: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(44594),
					o = i(95540),
					a = i(37277),
					l = new r({ initialize: function(t) { this.scene = t, this.systems = t.sys, this.settings = t.sys.settings, this.key = t.sys.settings.key, this.manager = t.sys.game.scene, this.transitionProgress = 0, this._elapsed = 0, this._target = null, this._duration = 0, this._onUpdate, this._onUpdateScope, this._willSleep = !1, this._willRemove = !1, t.sys.events.once(s.BOOT, this.boot, this), t.sys.events.on(s.START, this.pluginStart, this) }, boot: function() { this.systems.events.once(s.DESTROY, this.destroy, this) }, pluginStart: function() { this._target = null, this.systems.events.once(s.SHUTDOWN, this.shutdown, this) }, start: function(t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("stop", this.key), this.manager.queueOp("start", t, e), this }, restart: function(t) { var e = this.key; return this.manager.queueOp("stop", e), this.manager.queueOp("start", e, t), this }, transition: function(t) { void 0 === t && (t = {}); var e = o(t, "target", !1),
								i = this.manager.getScene(e); if (!e || !this.checkValidTransition(i)) return !1; var n = o(t, "duration", 1e3);
							this._elapsed = 0, this._target = i, this._duration = n, this._willSleep = o(t, "sleep", !1), this._willRemove = o(t, "remove", !1); var r = o(t, "onUpdate", null);
							r && (this._onUpdate = r, this._onUpdateScope = o(t, "onUpdateScope", this.scene)); var a = o(t, "allowInput", !1);
							this.settings.transitionAllowInput = a; var l = i.sys.settings;
							l.isTransition = !0, l.transitionFrom = this.scene, l.transitionDuration = n, l.transitionAllowInput = a, o(t, "moveAbove", !1) ? this.manager.moveAbove(this.key, e) : o(t, "moveBelow", !1) && this.manager.moveBelow(this.key, e), i.sys.isSleeping() ? i.sys.wake(o(t, "data")) : this.manager.start(e, o(t, "data")); var h = o(t, "onStart", null),
								u = o(t, "onStartScope", this.scene); return h && h.call(u, this.scene, i, n), this.systems.events.emit(s.TRANSITION_OUT, i, n), !0 }, checkValidTransition: function(t) { return !(!t || t.sys.isActive() || t.sys.isTransitioning() || t === this.scene || this.systems.isTransitioning()) }, step: function(t, e) { this._elapsed += e, this.transitionProgress = n(this._elapsed / this._duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.transitionProgress), this._elapsed >= this._duration && this.transitionComplete() }, transitionComplete: function() { var t = this._target.sys,
								e = this._target.sys.settings;
							t.events.emit(s.TRANSITION_COMPLETE, this.scene), e.isTransition = !1, e.transitionFrom = null, this._duration = 0, this._target = null, this._onUpdate = null, this._onUpdateScope = null, this._willRemove ? this.manager.remove(this.key) : this._willSleep ? this.systems.sleep() : this.manager.stop(this.key) }, add: function(t, e, i, n) { return this.manager.add(t, e, i, n) }, launch: function(t, e) { return t && t !== this.key && this.manager.queueOp("start", t, e), this }, run: function(t, e) { return t && t !== this.key && this.manager.queueOp("run", t, e), this }, pause: function(t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("pause", t, e), this }, resume: function(t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("resume", t, e), this }, sleep: function(t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("sleep", t, e), this }, wake: function(t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("wake", t, e), this }, switch: function(t, e) { return t !== this.key && this.manager.queueOp("switch", this.key, t, e), this }, stop: function(t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("stop", t, e), this }, setActive: function(t, e, i) { void 0 === e && (e = this.key); var n = this.manager.getScene(e); return n && n.sys.setActive(t, i), this }, setVisible: function(t, e) { void 0 === e && (e = this.key); var i = this.manager.getScene(e); return i && i.sys.setVisible(t), this }, isSleeping: function(t) { return void 0 === t && (t = this.key), this.manager.isSleeping(t) }, isActive: function(t) { return void 0 === t && (t = this.key), this.manager.isActive(t) }, isPaused: function(t) { return void 0 === t && (t = this.key), this.manager.isPaused(t) }, isVisible: function(t) { return void 0 === t && (t = this.key), this.manager.isVisible(t) }, swapPosition: function(t, e) { return void 0 === e && (e = this.key), t !== e && this.manager.swapPosition(t, e), this }, moveAbove: function(t, e) { return void 0 === e && (e = this.key), t !== e && this.manager.moveAbove(t, e), this }, moveBelow: function(t, e) { return void 0 === e && (e = this.key), t !== e && this.manager.moveBelow(t, e), this }, remove: function(t) { return void 0 === t && (t = this.key), this.manager.remove(t), this }, moveUp: function(t) { return void 0 === t && (t = this.key), this.manager.moveUp(t), this }, moveDown: function(t) { return void 0 === t && (t = this.key), this.manager.moveDown(t), this }, bringToTop: function(t) { return void 0 === t && (t = this.key), this.manager.bringToTop(t), this }, sendToBack: function(t) { return void 0 === t && (t = this.key), this.manager.sendToBack(t), this }, get: function(t) { return this.manager.getScene(t) }, getStatus: function(t) { var e = this.manager.getScene(t); if (e) return e.sys.getStatus() }, getIndex: function(t) { return void 0 === t && (t = this.key), this.manager.getIndex(t) }, shutdown: function() { var t = this.systems.events;
							t.off(s.SHUTDOWN, this.shutdown, this), t.off(s.TRANSITION_OUT) }, destroy: function() { this.shutdown(), this.scene.sys.events.off(s.START, this.start, this), this.scene = null, this.systems = null, this.settings = null, this.manager = null } });
				a.register("ScenePlugin", l, "scenePlugin"), t.exports = l }, 55681: (t, e, i) => { var n = i(89993),
					r = i(35154),
					s = i(46975),
					o = i(87033),
					a = { create: function(t) { return "string" == typeof t ? t = { key: t } : void 0 === t && (t = {}), { status: n.PENDING, key: r(t, "key", ""), active: r(t, "active", !1), visible: r(t, "visible", !0), isBooted: !1, isTransition: !1, transitionFrom: null, transitionDuration: 0, transitionAllowInput: !0, data: {}, pack: r(t, "pack", !1), cameras: r(t, "cameras", null), map: r(t, "map", s(o, r(t, "mapAdd", {}))), physics: r(t, "physics", {}), loader: r(t, "loader", {}), plugins: r(t, "plugins", !1), input: r(t, "input", {}) } } };
				t.exports = a }, 2368: (t, e, i) => { var n = i(83419),
					r = i(89993),
					s = i(42363),
					o = i(44594),
					a = i(27397),
					l = i(52106),
					h = i(29747),
					u = i(55681),
					c = new n({ initialize: function(t, e) { this.scene = t, this.game, this.renderer, this.config = e, this.settings = u.create(e), this.canvas, this.context, this.anims, this.cache, this.plugins, this.registry, this.scale, this.sound, this.textures, this.add, this.cameras, this.displayList, this.events, this.make, this.scenePlugin, this.updateList, this.sceneUpdate = h }, init: function(t) { this.settings.status = r.INIT, this.sceneUpdate = h, this.game = t, this.renderer = t.renderer, this.canvas = t.canvas, this.context = t.context; var e = t.plugins;
							this.plugins = e, e.addToScene(this, s.Global, [s.CoreScene, l(this), a(this)]), this.events.emit(o.BOOT, this), this.settings.isBooted = !0 }, step: function(t, e) { var i = this.events;
							i.emit(o.PRE_UPDATE, t, e), i.emit(o.UPDATE, t, e), this.sceneUpdate.call(this.scene, t, e), i.emit(o.POST_UPDATE, t, e) }, render: function(t) { var e = this.displayList;
							e.depthSort(), this.events.emit(o.PRE_RENDER, t), this.cameras.render(t, e), this.events.emit(o.RENDER, t) }, queueDepthSort: function() { this.displayList.queueDepthSort() }, depthSort: function() { this.displayList.depthSort() }, pause: function(t) { var e = this.settings,
								i = this.getStatus(); return i !== r.CREATING && i !== r.RUNNING ? console.warn("Cannot pause non-running Scene", e.key) : this.settings.active && (e.status = r.PAUSED, e.active = !1, this.events.emit(o.PAUSE, this, t)), this }, resume: function(t) { var e = this.events,
								i = this.settings; return this.settings.active || (i.status = r.RUNNING, i.active = !0, e.emit(o.RESUME, this, t)), this }, sleep: function(t) { var e = this.settings,
								i = this.getStatus(); return i !== r.CREATING && i !== r.RUNNING ? console.warn("Cannot sleep non-running Scene", e.key) : (e.status = r.SLEEPING, e.active = !1, e.visible = !1, this.events.emit(o.SLEEP, this, t)), this }, wake: function(t) { var e = this.events,
								i = this.settings; return i.status = r.RUNNING, i.active = !0, i.visible = !0, e.emit(o.WAKE, this, t), i.isTransition && e.emit(o.TRANSITION_WAKE, i.transitionFrom, i.transitionDuration), this }, getData: function() { return this.settings.data }, getStatus: function() { return this.settings.status }, canInput: function() { var t = this.settings.status; return t > r.PENDING && t <= r.RUNNING }, isSleeping: function() { return this.settings.status === r.SLEEPING }, isActive: function() { return this.settings.status === r.RUNNING }, isPaused: function() { return this.settings.status === r.PAUSED }, isTransitioning: function() { return this.settings.isTransition || null !== this.scenePlugin._target }, isTransitionOut: function() { return null !== this.scenePlugin._target && this.scenePlugin._duration > 0 }, isTransitionIn: function() { return this.settings.isTransition }, isVisible: function() { return this.settings.visible }, setVisible: function(t) { return this.settings.visible = t, this }, setActive: function(t, e) { return t ? this.resume(e) : this.pause(e) }, start: function(t) { var e = this.events,
								i = this.settings;
							t && (i.data = t), i.status = r.START, i.active = !0, i.visible = !0, e.emit(o.START, this), e.emit(o.READY, this, t) }, shutdown: function(t) { var e = this.events,
								i = this.settings;
							e.off(o.TRANSITION_INIT), e.off(o.TRANSITION_START), e.off(o.TRANSITION_COMPLETE), e.off(o.TRANSITION_OUT), i.status = r.SHUTDOWN, i.active = !1, i.visible = !1, e.emit(o.SHUTDOWN, this, t) }, destroy: function() { var t = this.events,
								e = this.settings;
							e.status = r.DESTROYED, e.active = !1, e.visible = !1, t.emit(o.DESTROY, this), t.removeAllListeners(); for (var i = ["scene", "game", "anims", "cache", "plugins", "registry", "sound", "textures", "add", "camera", "displayList", "events", "make", "scenePlugin", "updateList"], n = 0; n < i.length; n++) this[i[n]] = null } });
				t.exports = c }, 89993: t => { t.exports = { PENDING: 0, INIT: 1, START: 2, LOADING: 3, CREATING: 4, RUNNING: 5, PAUSED: 6, SLEEPING: 7, SHUTDOWN: 8, DESTROYED: 9 } }, 69830: t => { t.exports = "addedtoscene" }, 7919: t => { t.exports = "boot" }, 46763: t => { t.exports = "create" }, 11763: t => { t.exports = "destroy" }, 71555: t => { t.exports = "pause" }, 36735: t => { t.exports = "postupdate" }, 3809: t => { t.exports = "prerender" }, 90716: t => { t.exports = "preupdate" }, 58262: t => { t.exports = "ready" }, 91633: t => { t.exports = "removedfromscene" }, 10319: t => { t.exports = "render" }, 87132: t => { t.exports = "resume" }, 81961: t => { t.exports = "shutdown" }, 90194: t => { t.exports = "sleep" }, 6265: t => { t.exports = "start" }, 33178: t => { t.exports = "transitioncomplete" }, 43063: t => { t.exports = "transitioninit" }, 11259: t => { t.exports = "transitionout" }, 61611: t => { t.exports = "transitionstart" }, 45209: t => { t.exports = "transitionwake" }, 22966: t => { t.exports = "update" }, 21747: t => { t.exports = "wake" }, 44594: (t, e, i) => { t.exports = { ADDED_TO_SCENE: i(69830), BOOT: i(7919), CREATE: i(46763), DESTROY: i(11763), PAUSE: i(71555), POST_UPDATE: i(36735), PRE_RENDER: i(3809), PRE_UPDATE: i(90716), READY: i(58262), REMOVED_FROM_SCENE: i(91633), RENDER: i(10319), RESUME: i(87132), SHUTDOWN: i(81961), SLEEP: i(90194), START: i(6265), TRANSITION_COMPLETE: i(33178), TRANSITION_INIT: i(43063), TRANSITION_OUT: i(11259), TRANSITION_START: i(61611), TRANSITION_WAKE: i(45209), UPDATE: i(22966), WAKE: i(21747) } }, 62194: (t, e, i) => { var n = i(89993),
					r = i(79291),
					s = { Events: i(44594), GetPhysicsPlugins: i(27397), GetScenePlugins: i(52106), SceneManager: i(60903), ScenePlugin: i(52209), Settings: i(55681), Systems: i(2368) };
				s = r(!1, s, n), t.exports = s }, 30341: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(14463),
					o = i(79291),
					a = i(29747),
					l = new n({ Extends: r, initialize: function(t, e, i) { r.call(this), this.manager = t, this.key = e, this.isPlaying = !1, this.isPaused = !1, this.totalRate = 1, this.duration = this.duration || 0, this.totalDuration = this.totalDuration || 0, this.config = { mute: !1, volume: 1, rate: 1, detune: 0, seek: 0, loop: !1, delay: 0, pan: 0 }, this.currentConfig = this.config, this.config = o(this.config, i), this.markers = {}, this.currentMarker = null, this.pendingRemove = !1 }, addMarker: function(t) { return !(!t || !t.name || "string" != typeof t.name || (this.markers[t.name] ? (console.error("addMarker " + t.name + " already exists in Sound"), 1) : (t = o(!0, { name: "", start: 0, duration: this.totalDuration - (t.start || 0), config: { mute: !1, volume: 1, rate: 1, detune: 0, seek: 0, loop: !1, delay: 0, pan: 0 } }, t), this.markers[t.name] = t, 0))) }, updateMarker: function(t) { return !(!t || !t.name || "string" != typeof t.name || (this.markers[t.name] ? (this.markers[t.name] = o(!0, this.markers[t.name], t), 0) : (console.warn("Audio Marker: " + t.name + " missing in Sound: " + this.key), 1))) }, removeMarker: function(t) { var e = this.markers[t]; return e ? (this.markers[t] = null, e) : null }, play: function(t, e) { if (void 0 === t && (t = ""), "object" == typeof t && (e = t, t = ""), "string" != typeof t) return !1; if (t) { if (!this.markers[t]) return console.warn("Marker: " + t + " missing in Sound: " + this.key), !1;
								this.currentMarker = this.markers[t], this.currentConfig = this.currentMarker.config, this.duration = this.currentMarker.duration } else this.currentMarker = null, this.currentConfig = this.config, this.duration = this.totalDuration; return this.resetConfig(), this.currentConfig = o(this.currentConfig, e), this.isPlaying = !0, this.isPaused = !1, !0 }, pause: function() { return !(this.isPaused || !this.isPlaying || (this.isPlaying = !1, this.isPaused = !0, 0)) }, resume: function() { return !(!this.isPaused || this.isPlaying || (this.isPlaying = !0, this.isPaused = !1, 0)) }, stop: function() { return !(!this.isPaused && !this.isPlaying || (this.isPlaying = !1, this.isPaused = !1, this.resetConfig(), 0)) }, applyConfig: function() { this.mute = this.currentConfig.mute, this.volume = this.currentConfig.volume, this.rate = this.currentConfig.rate, this.detune = this.currentConfig.detune, this.loop = this.currentConfig.loop, this.pan = this.currentConfig.pan }, resetConfig: function() { this.currentConfig.seek = 0, this.currentConfig.delay = 0 }, update: a, calculateRate: function() { var t = this.currentConfig.detune + this.manager.detune,
								e = Math.pow(1.0005777895065548, t);
							this.totalRate = this.currentConfig.rate * this.manager.rate * e }, destroy: function() { this.pendingRemove || (this.stop(), this.emit(s.DESTROY, this), this.removeAllListeners(), this.pendingRemove = !0, this.manager = null, this.config = null, this.currentConfig = null, this.markers = null, this.currentMarker = null) } });
				t.exports = l }, 85034: (t, e, i) => { var n = i(83419),
					r = i(41786),
					s = i(50792),
					o = i(14463),
					a = i(8443),
					l = i(46710),
					h = i(58731),
					u = i(29747),
					c = i(26099),
					d = new n({ Extends: s, initialize: function(t) { s.call(this), this.game = t, this.jsonCache = t.cache.json, this.sounds = [], this.mute = !1, this.volume = 1, this.pauseOnBlur = !0, this._rate = 1, this._detune = 0, this.locked = this.locked || !1, this.unlocked = !1, this.gameLostFocus = !1, this.listenerPosition = new c, t.events.on(a.BLUR, this.onGameBlur, this), t.events.on(a.FOCUS, this.onGameFocus, this), t.events.on(a.PRE_STEP, this.update, this), t.events.once(a.DESTROY, this.destroy, this) }, add: u, addAudioSprite: function(t, e) { void 0 === e && (e = {}); var i = this.add(t, e); for (var n in i.spritemap = this.jsonCache.get(t).spritemap, i.spritemap)
								if (i.spritemap.hasOwnProperty(n)) { var s = r(e),
										o = i.spritemap[n];
									s.loop = !!o.hasOwnProperty("loop") && o.loop, i.addMarker({ name: n, start: o.start, duration: o.end - o.start, config: s }) } return i }, get: function(t) { return h(this.sounds, "key", t) }, getAll: function(t) { return t ? l(this.sounds, "key", t) : l(this.sounds) }, getAllPlaying: function() { return l(this.sounds, "isPlaying", !0) }, play: function(t, e) { var i = this.add(t); return i.once(o.COMPLETE, i.destroy, i), e ? e.name ? (i.addMarker(e), i.play(e.name)) : i.play(e) : i.play() }, playAudioSprite: function(t, e, i) { var n = this.addAudioSprite(t); return n.once(o.COMPLETE, n.destroy, n), n.play(e, i) }, remove: function(t) { var e = this.sounds.indexOf(t); return -1 !== e && (t.destroy(), this.sounds.splice(e, 1), !0) }, removeAll: function() { this.sounds.forEach((function(t) { t.destroy() })), this.sounds.length = 0 }, removeByKey: function(t) { for (var e = 0, i = this.sounds.length - 1; i >= 0; i--) { var n = this.sounds[i];
								n.key === t && (n.destroy(), this.sounds.splice(i, 1), e++) } return e }, pauseAll: function() { this.forEachActiveSound((function(t) { t.pause() })), this.emit(o.PAUSE_ALL, this) }, resumeAll: function() { this.forEachActiveSound((function(t) { t.resume() })), this.emit(o.RESUME_ALL, this) }, setListenerPosition: u, stopAll: function() { this.forEachActiveSound((function(t) { t.stop() })), this.emit(o.STOP_ALL, this) }, stopByKey: function(t) { var e = 0; return this.getAll(t).forEach((function(t) { t.stop() && e++ })), e }, isPlaying: function(t) { var e, i = this.sounds.length - 1; if (void 0 === t) { for (; i >= 0; i--)
									if ((e = this.sounds[i]).isPlaying) return !0 } else
								for (; i >= 0; i--)
									if ((e = this.sounds[i]).key === t && e.isPlaying) return !0; return !1 }, unlock: u, onBlur: u, onFocus: u, onGameBlur: function() { this.gameLostFocus = !0, this.pauseOnBlur && this.onBlur() }, onGameFocus: function() { this.gameLostFocus = !1, this.pauseOnBlur && this.onFocus() }, update: function(t, e) { this.unlocked && (this.unlocked = !1, this.locked = !1, this.emit(o.UNLOCKED, this)); for (var i = this.sounds.length - 1; i >= 0; i--) this.sounds[i].pendingRemove && this.sounds.splice(i, 1);
							this.sounds.forEach((function(i) { i.update(t, e) })) }, destroy: function() { this.game.events.off(a.BLUR, this.onGameBlur, this), this.game.events.off(a.FOCUS, this.onGameFocus, this), this.game.events.off(a.PRE_STEP, this.update, this), this.removeAllListeners(), this.removeAll(), this.sounds.length = 0, this.sounds = null, this.listenerPosition = null, this.game = null }, forEachActiveSound: function(t, e) { var i = this;
							this.sounds.forEach((function(n, r) { n && !n.pendingRemove && t.call(e || i, n, r, i.sounds) })) }, setRate: function(t) { return this.rate = t, this }, rate: { get: function() { return this._rate }, set: function(t) { this._rate = t, this.forEachActiveSound((function(t) { t.calculateRate() })), this.emit(o.GLOBAL_RATE, this, t) } }, setDetune: function(t) { return this.detune = t, this }, detune: { get: function() { return this._detune }, set: function(t) { this._detune = t, this.forEachActiveSound((function(t) { t.calculateRate() })), this.emit(o.GLOBAL_DETUNE, this, t) } } });
				t.exports = d }, 14747: (t, e, i) => { var n = i(33684),
					r = i(25960),
					s = i(57490),
					o = { create: function(t) { var e = t.config.audio,
								i = t.device.audio; return e.noAudio || !i.webAudio && !i.audioData ? new r(t) : i.webAudio && !e.disableWebAudio ? new s(t) : new n(t) } };
				t.exports = o }, 19723: t => { t.exports = "complete" }, 98882: t => { t.exports = "decodedall" }, 57506: t => { t.exports = "decoded" }, 73146: t => { t.exports = "destroy" }, 11305: t => { t.exports = "detune" }, 40577: t => { t.exports = "detune" }, 30333: t => { t.exports = "mute" }, 20394: t => { t.exports = "rate" }, 21802: t => { t.exports = "volume" }, 1299: t => { t.exports = "looped" }, 99190: t => { t.exports = "loop" }, 97125: t => { t.exports = "mute" }, 89259: t => { t.exports = "pan" }, 79986: t => { t.exports = "pauseall" }, 17586: t => { t.exports = "pause" }, 19618: t => { t.exports = "play" }, 42306: t => { t.exports = "rate" }, 10387: t => { t.exports = "resumeall" }, 48959: t => { t.exports = "resume" }, 9960: t => { t.exports = "seek" }, 19180: t => { t.exports = "stopall" }, 98328: t => { t.exports = "stop" }, 50401: t => { t.exports = "unlocked" }, 52498: t => { t.exports = "volume" }, 14463: (t, e, i) => { t.exports = { COMPLETE: i(19723), DECODED: i(57506), DECODED_ALL: i(98882), DESTROY: i(73146), DETUNE: i(11305), GLOBAL_DETUNE: i(40577), GLOBAL_MUTE: i(30333), GLOBAL_RATE: i(20394), GLOBAL_VOLUME: i(21802), LOOP: i(99190), LOOPED: i(1299), MUTE: i(97125), PAN: i(89259), PAUSE_ALL: i(79986), PAUSE: i(17586), PLAY: i(19618), RATE: i(42306), RESUME_ALL: i(10387), RESUME: i(48959), SEEK: i(9960), STOP_ALL: i(19180), STOP: i(98328), UNLOCKED: i(50401), VOLUME: i(52498) } }, 64895: (t, e, i) => { var n = i(30341),
					r = i(83419),
					s = i(14463),
					o = i(45319),
					a = new r({ Extends: n, initialize: function(t, e, i) { if (void 0 === i && (i = {}), this.tags = t.game.cache.audio.get(e), !this.tags) throw new Error('No cached audio asset with key "' + e);
							this.audio = null, this.startTime = 0, this.previousTime = 0, this.duration = this.tags[0].duration, this.totalDuration = this.tags[0].duration, n.call(this, t, e, i) }, play: function(t, e) { return !(this.manager.isLocked(this, "play", [t, e]) || !n.prototype.play.call(this, t, e) || !this.pickAndPlayAudioTag() || (this.emit(s.PLAY, this), 0)) }, pause: function() { return !(this.manager.isLocked(this, "pause") || this.startTime > 0 || !n.prototype.pause.call(this) || (this.currentConfig.seek = this.audio.currentTime - (this.currentMarker ? this.currentMarker.start : 0), this.stopAndReleaseAudioTag(), this.emit(s.PAUSE, this), 0)) }, resume: function() { return !(this.manager.isLocked(this, "resume") || this.startTime > 0 || !n.prototype.resume.call(this) || !this.pickAndPlayAudioTag() || (this.emit(s.RESUME, this), 0)) }, stop: function() { return !this.manager.isLocked(this, "stop") && !!n.prototype.stop.call(this) && (this.stopAndReleaseAudioTag(), this.emit(s.STOP, this), !0) }, pickAndPlayAudioTag: function() { if (!this.pickAudioTag()) return this.reset(), !1; var t = this.currentConfig.seek,
								e = this.currentConfig.delay,
								i = (this.currentMarker ? this.currentMarker.start : 0) + t; return this.previousTime = i, this.audio.currentTime = i, this.applyConfig(), 0 === e ? (this.startTime = 0, this.audio.paused && this.playCatchPromise()) : (this.startTime = window.performance.now() + 1e3 * e, this.audio.paused || this.audio.pause()), this.resetConfig(), !0 }, pickAudioTag: function() { if (this.audio) return !0; for (var t = 0; t < this.tags.length; t++) { var e = this.tags[t]; if ("false" === e.dataset.used) return e.dataset.used = "true", this.audio = e, !0 } if (!this.manager.override) return !1; var i = [];
							this.manager.forEachActiveSound((function(t) { t.key === this.key && t.audio && i.push(t) }), this), i.sort((function(t, e) { return t.loop === e.loop ? e.seek / e.duration - t.seek / t.duration : t.loop ? 1 : -1 })); var n = i[0]; return this.audio = n.audio, n.reset(), n.audio = null, n.startTime = 0, n.previousTime = 0, !0 }, playCatchPromise: function() { var t = this.audio.play();
							t && t.catch((function(t) { console.warn(t) })) }, stopAndReleaseAudioTag: function() { this.startTime = 0, this.previousTime = 0, this.audio && (this.audio.pause(), this.audio.dataset.used = "false", this.audio = null) }, reset: function() { n.prototype.stop.call(this) }, onBlur: function() { this.isPlaying = !1, this.isPaused = !0, this.currentConfig.seek = this.audio.currentTime - (this.currentMarker ? this.currentMarker.start : 0), this.currentConfig.delay = Math.max(0, (this.startTime - window.performance.now()) / 1e3), this.stopAndReleaseAudioTag() }, onFocus: function() { this.isPlaying = !0, this.isPaused = !1, this.pickAndPlayAudioTag() }, update: function(t) { if (this.isPlaying)
								if (this.startTime > 0) this.startTime < t - this.manager.audioPlayDelay && (this.audio.currentTime += Math.max(0, t - this.startTime) / 1e3, this.startTime = 0, this.previousTime = this.audio.currentTime, this.playCatchPromise());
								else { var e = this.currentMarker ? this.currentMarker.start : 0,
										i = e + this.duration,
										n = this.audio.currentTime; if (this.currentConfig.loop) n >= i - this.manager.loopEndOffset ? (this.audio.currentTime = e + Math.max(0, n - i), n = this.audio.currentTime) : n < e && (this.audio.currentTime += e, n = this.audio.currentTime), n < this.previousTime && this.emit(s.LOOPED, this);
									else if (n >= i) return this.reset(), this.stopAndReleaseAudioTag(), void this.emit(s.COMPLETE, this);
									this.previousTime = n } }, destroy: function() { n.prototype.destroy.call(this), this.tags = null, this.audio && this.stopAndReleaseAudioTag() }, updateMute: function() { this.audio && (this.audio.muted = this.currentConfig.mute || this.manager.mute) }, updateVolume: function() { this.audio && (this.audio.volume = o(this.currentConfig.volume * this.manager.volume, 0, 1)) }, calculateRate: function() { n.prototype.calculateRate.call(this), this.audio && (this.audio.playbackRate = this.totalRate) }, mute: { get: function() { return this.currentConfig.mute }, set: function(t) { this.currentConfig.mute = t, this.manager.isLocked(this, "mute", t) || (this.updateMute(), this.emit(s.MUTE, this, t)) } }, setMute: function(t) { return this.mute = t, this }, volume: { get: function() { return this.currentConfig.volume }, set: function(t) { this.currentConfig.volume = t, this.manager.isLocked(this, "volume", t) || (this.updateVolume(), this.emit(s.VOLUME, this, t)) } }, setVolume: function(t) { return this.volume = t, this }, rate: { get: function() { return this.currentConfig.rate }, set: function(t) { this.currentConfig.rate = t, this.manager.isLocked(this, s.RATE, t) || (this.calculateRate(), this.emit(s.RATE, this, t)) } }, setRate: function(t) { return this.rate = t, this }, detune: { get: function() { return this.currentConfig.detune }, set: function(t) { this.currentConfig.detune = t, this.manager.isLocked(this, s.DETUNE, t) || (this.calculateRate(), this.emit(s.DETUNE, this, t)) } }, setDetune: function(t) { return this.detune = t, this }, seek: { get: function() { return this.isPlaying ? this.audio.currentTime - (this.currentMarker ? this.currentMarker.start : 0) : this.isPaused ? this.currentConfig.seek : 0 }, set: function(t) { this.manager.isLocked(this, "seek", t) || this.startTime > 0 || (this.isPlaying || this.isPaused) && (t = Math.min(Math.max(0, t), this.duration), this.isPlaying ? (this.previousTime = t, this.audio.currentTime = t) : this.isPaused && (this.currentConfig.seek = t), this.emit(s.SEEK, this, t)) } }, setSeek: function(t) { return this.seek = t, this }, loop: { get: function() { return this.currentConfig.loop }, set: function(t) { this.currentConfig.loop = t, this.manager.isLocked(this, "loop", t) || (this.audio && (this.audio.loop = t), this.emit(s.LOOP, this, t)) } }, setLoop: function(t) { return this.loop = t, this }, pan: { get: function() { return this.currentConfig.pan }, set: function(t) { this.currentConfig.pan = t, this.emit(s.PAN, this, t) } }, setPan: function(t) { return this.pan = t, this } });
				t.exports = a }, 33684: (t, e, i) => { var n = i(85034),
					r = i(83419),
					s = i(14463),
					o = i(64895),
					a = new r({ Extends: n, initialize: function(t) { this.override = !0, this.audioPlayDelay = .1, this.loopEndOffset = .05, this.onBlurPausedSounds = [], this.locked = "ontouchstart" in window, this.lockedActionsQueue = this.locked ? [] : null, this._mute = !1, this._volume = 1, n.call(this, t) }, add: function(t, e) { var i = new o(this, t, e); return this.sounds.push(i), i }, unlock: function() { this.locked = !1; var t = this; if (this.game.cache.audio.entries.each((function(e, i) { for (var n = 0; n < i.length; n++)
										if ("true" === i[n].dataset.locked) return t.locked = !0, !1; return !0 })), this.locked) { var e = !1,
									i = function() { e = !0 },
									n = function() { if (e) e = !1;
										else { document.body.removeEventListener("touchmove", i), document.body.removeEventListener("touchend", n); var r = []; if (t.game.cache.audio.entries.each((function(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i]; "true" === n.dataset.locked && r.push(n) } return !0 })), 0 !== r.length) { var s = r[r.length - 1];
												s.oncanplaythrough = function() { s.oncanplaythrough = null, r.forEach((function(t) { t.dataset.locked = "false" })), t.unlocked = !0 }, r.forEach((function(t) { t.load() })) } } };
								this.once(s.UNLOCKED, (function() { for (this.forEachActiveSound((function(t) { null === t.currentMarker && 0 === t.duration && (t.duration = t.tags[0].duration), t.totalDuration = t.tags[0].duration })); this.lockedActionsQueue.length;) { var t = this.lockedActionsQueue.shift();
										t.sound[t.prop].apply ? t.sound[t.prop].apply(t.sound, t.value || []) : t.sound[t.prop] = t.value } }), this), document.body.addEventListener("touchmove", i, !1), document.body.addEventListener("touchend", n, !1) } }, onBlur: function() { this.forEachActiveSound((function(t) { t.isPlaying && (this.onBlurPausedSounds.push(t), t.onBlur()) })) }, onFocus: function() { this.onBlurPausedSounds.forEach((function(t) { t.onFocus() })), this.onBlurPausedSounds.length = 0 }, destroy: function() { n.prototype.destroy.call(this), this.onBlurPausedSounds.length = 0, this.onBlurPausedSounds = null }, isLocked: function(t, e, i) { return "true" === t.tags[0].dataset.locked && (this.lockedActionsQueue.push({ sound: t, prop: e, value: i }), !0) }, setMute: function(t) { return this.mute = t, this }, mute: { get: function() { return this._mute }, set: function(t) { this._mute = t, this.forEachActiveSound((function(t) { t.updateMute() })), this.emit(s.GLOBAL_MUTE, this, t) } }, setVolume: function(t) { return this.volume = t, this }, volume: { get: function() { return this._volume }, set: function(t) { this._volume = t, this.forEachActiveSound((function(t) { t.updateVolume() })), this.emit(s.GLOBAL_VOLUME, this, t) } } });
				t.exports = a }, 23717: (t, e, i) => { t.exports = { SoundManagerCreator: i(14747), Events: i(14463), BaseSound: i(30341), BaseSoundManager: i(85034), WebAudioSound: i(71741), WebAudioSoundManager: i(57490), HTML5AudioSound: i(64895), HTML5AudioSoundManager: i(33684), NoAudioSound: i(4603), NoAudioSoundManager: i(25960) } }, 4603: (t, e, i) => { var n = i(30341),
					r = i(83419),
					s = i(50792),
					o = i(79291),
					a = i(29747),
					l = function() { return !1 },
					h = function() { return null },
					u = function() { return this },
					c = new r({ Extends: s, initialize: function(t, e, i) { void 0 === i && (i = {}), s.call(this), this.manager = t, this.key = e, this.isPlaying = !1, this.isPaused = !1, this.totalRate = 1, this.duration = 0, this.totalDuration = 0, this.config = o({ mute: !1, volume: 1, rate: 1, detune: 0, seek: 0, loop: !1, delay: 0, pan: 0 }, i), this.currentConfig = this.config, this.mute = !1, this.volume = 1, this.rate = 1, this.detune = 0, this.seek = 0, this.loop = !1, this.pan = 0, this.markers = {}, this.currentMarker = null, this.pendingRemove = !1 }, addMarker: l, updateMarker: l, removeMarker: h, play: l, pause: l, resume: l, stop: l, setMute: u, setVolume: u, setRate: u, setDetune: u, setSeek: u, setLoop: u, setPan: u, applyConfig: h, resetConfig: h, update: a, calculateRate: h, destroy: function() { n.prototype.destroy.call(this) } });
				t.exports = c }, 25960: (t, e, i) => { var n = i(85034),
					r = i(83419),
					s = i(50792),
					o = i(4603),
					a = i(29747),
					l = new r({ Extends: s, initialize: function(t) { s.call(this), this.game = t, this.sounds = [], this.mute = !1, this.volume = 1, this.rate = 1, this.detune = 0, this.pauseOnBlur = !0, this.locked = !1 }, add: function(t, e) { var i = new o(this, t, e); return this.sounds.push(i), i }, addAudioSprite: function(t, e) { var i = this.add(t, e); return i.spritemap = {}, i }, get: function(t) { return n.prototype.get.call(this, t) }, getAll: function(t) { return n.prototype.getAll.call(this, t) }, play: function(t, e) { return !1 }, playAudioSprite: function(t, e, i) { return !1 }, remove: function(t) { return n.prototype.remove.call(this, t) }, removeAll: function() { return n.prototype.removeAll.call(this) }, removeByKey: function(t) { return n.prototype.removeByKey.call(this, t) }, stopByKey: function(t) { return n.prototype.stopByKey.call(this, t) }, onBlur: a, onFocus: a, onGameBlur: a, onGameFocus: a, pauseAll: a, resumeAll: a, stopAll: a, update: a, setRate: a, setDetune: a, setMute: a, setVolume: a, unlock: a, forEachActiveSound: function(t, e) { n.prototype.forEachActiveSound.call(this, t, e) }, destroy: function() { n.prototype.destroy.call(this) } });
				t.exports = l }, 71741: (t, e, i) => { var n = i(30341),
					r = i(83419),
					s = i(14463),
					o = i(95540),
					a = new r({ Extends: n, initialize: function(t, e, i) { if (void 0 === i && (i = {}), this.audioBuffer = t.game.cache.audio.get(e), !this.audioBuffer) throw new Error('Audio key "' + e + '" not found in cache');
							this.source = null, this.loopSource = null, this.muteNode = t.context.createGain(), this.volumeNode = t.context.createGain(), this.pannerNode = null, this.spatialNode = null, this.spatialSource = null, this.playTime = 0, this.startTime = 0, this.loopTime = 0, this.rateUpdates = [], this.hasEnded = !1, this.hasLooped = !1, this.muteNode.connect(this.volumeNode), t.context.createPanner && (this.spatialNode = t.context.createPanner(), this.volumeNode.connect(this.spatialNode)), t.context.createStereoPanner ? (this.pannerNode = t.context.createStereoPanner(), t.context.createPanner ? this.spatialNode.connect(this.pannerNode) : this.volumeNode.connect(this.pannerNode), this.pannerNode.connect(t.destination)) : t.context.createPanner ? this.spatialNode.connect(t.destination) : this.volumeNode.connect(t.destination), this.duration = this.audioBuffer.duration, this.totalDuration = this.audioBuffer.duration, n.call(this, t, e, i) }, play: function(t, e) { return !!n.prototype.play.call(this, t, e) && (this.stopAndRemoveBufferSource(), this.createAndStartBufferSource(), this.emit(s.PLAY, this), !0) }, pause: function() { return !(this.manager.context.currentTime < this.startTime || !n.prototype.pause.call(this) || (this.currentConfig.seek = this.getCurrentTime(), this.stopAndRemoveBufferSource(), this.emit(s.PAUSE, this), 0)) }, resume: function() { return !(this.manager.context.currentTime < this.startTime || !n.prototype.resume.call(this) || (this.createAndStartBufferSource(), this.emit(s.RESUME, this), 0)) }, stop: function() { return !!n.prototype.stop.call(this) && (this.stopAndRemoveBufferSource(), this.emit(s.STOP, this), !0) }, createAndStartBufferSource: function() { var t = this.currentConfig.seek,
								e = this.currentConfig.delay,
								i = this.manager.context.currentTime + e,
								n = (this.currentMarker ? this.currentMarker.start : 0) + t,
								r = this.duration - t;
							this.playTime = i - t, this.startTime = i, this.source = this.createBufferSource(), this.applyConfig(), this.source.start(Math.max(0, i), Math.max(0, n), Math.max(0, r)), this.resetConfig() }, createAndStartLoopBufferSource: function() { var t = this.getLoopTime(),
								e = this.currentMarker ? this.currentMarker.start : 0,
								i = this.duration;
							this.loopTime = t, this.loopSource = this.createBufferSource(), this.loopSource.playbackRate.setValueAtTime(this.totalRate, 0), this.loopSource.start(Math.max(0, t), Math.max(0, e), Math.max(0, i)) }, createBufferSource: function() { var t = this,
								e = this.manager.context.createBufferSource(); return e.buffer = this.audioBuffer, e.connect(this.muteNode), e.onended = function(e) { var i = e.target;
								i !== t.source && i !== t.loopSource || (t.currentConfig.loop ? t.hasLooped = !0 : t.hasEnded = !0) }, e }, stopAndRemoveBufferSource: function() { if (this.source) { var t = this.source;
								this.source = null, t.stop(), t.disconnect() } this.playTime = 0, this.startTime = 0, this.hasEnded = !1, this.stopAndRemoveLoopBufferSource() }, stopAndRemoveLoopBufferSource: function() { this.loopSource && (this.loopSource.stop(), this.loopSource.disconnect(), this.loopSource = null), this.loopTime = 0 }, applyConfig: function() { this.rateUpdates.length = 0, this.rateUpdates.push({ time: 0, rate: 1 }); var t = this.currentConfig.source; if (t && this.manager.context.createPanner) { var e = this.spatialNode;
								e.panningModel = o(t, "panningModel", "equalpower"), e.distanceModel = o(t, "distanceModel", "inverse"), e.orientationX.value = o(t, "orientationX", 0), e.orientationY.value = o(t, "orientationY", 0), e.orientationZ.value = o(t, "orientationZ", -1), e.refDistance = o(t, "refDistance", 1), e.maxDistance = o(t, "maxDistance", 1e4), e.rolloffFactor = o(t, "rolloffFactor", 1), e.coneInnerAngle = o(t, "coneInnerAngle", 360), e.coneOuterAngle = o(t, "coneOuterAngle", 0), e.coneOuterGain = o(t, "coneOuterGain", 0), this.spatialSource = o(t, "follow", null), this.spatialSource || (e.positionX.value = o(t, "x", 0), e.positionY.value = o(t, "y", 0), e.positionZ.value = o(t, "z", 0)) } n.prototype.applyConfig.call(this) }, x: { get: function() { return this.spatialNode ? this.spatialNode.positionX : 0 }, set: function(t) { this.spatialNode && (this.spatialNode.positionX.value = t) } }, y: { get: function() { return this.spatialNode ? this.spatialNode.positionY : 0 }, set: function(t) { this.spatialNode && (this.spatialNode.positionY.value = t) } }, update: function() { if (this.isPlaying && this.spatialSource) { var t = o(this.spatialSource, "x", null),
									e = o(this.spatialSource, "y", null);
								t && t !== this._spatialx && (this._spatialx = this.spatialNode.positionX.value = t), e && e !== this._spatialy && (this._spatialy = this.spatialNode.positionY.value = e) } this.hasEnded ? (n.prototype.stop.call(this), this.stopAndRemoveBufferSource(), this.emit(s.COMPLETE, this)) : this.hasLooped && (this.hasLooped = !1, this.source = this.loopSource, this.loopSource = null, this.playTime = this.startTime = this.loopTime, this.rateUpdates.length = 0, this.rateUpdates.push({ time: 0, rate: this.totalRate }), this.createAndStartLoopBufferSource(), this.emit(s.LOOPED, this)) }, destroy: function() { this.pendingRemove || (n.prototype.destroy.call(this), this.audioBuffer = null, this.stopAndRemoveBufferSource(), this.muteNode.disconnect(), this.muteNode = null, this.volumeNode.disconnect(), this.volumeNode = null, this.pannerNode && (this.pannerNode.disconnect(), this.pannerNode = null), this.spatialNode && (this.spatialNode.disconnect(), this.spatialNode = null, this.spatialSource = null), this.rateUpdates.length = 0, this.rateUpdates = null) }, calculateRate: function() { n.prototype.calculateRate.call(this); var t = this.manager.context.currentTime;
							this.source && "number" == typeof this.totalRate && this.source.playbackRate.setValueAtTime(this.totalRate, t), this.isPlaying && (this.rateUpdates.push({ time: Math.max(this.startTime, t) - this.playTime, rate: this.totalRate }), this.loopSource && (this.stopAndRemoveLoopBufferSource(), this.createAndStartLoopBufferSource())) }, getCurrentTime: function() { for (var t = 0, e = 0; e < this.rateUpdates.length; e++) t += ((e < this.rateUpdates.length - 1 ? this.rateUpdates[e + 1].time : this.manager.context.currentTime - this.playTime) - this.rateUpdates[e].time) * this.rateUpdates[e].rate; return t }, getLoopTime: function() { for (var t = 0, e = 0; e < this.rateUpdates.length - 1; e++) t += (this.rateUpdates[e + 1].time - this.rateUpdates[e].time) * this.rateUpdates[e].rate; var i = this.rateUpdates[this.rateUpdates.length - 1]; return this.playTime + i.time + (this.duration - t) / i.rate }, rate: { get: function() { return this.currentConfig.rate }, set: function(t) { this.currentConfig.rate = t, this.calculateRate(), this.emit(s.RATE, this, t) } }, setRate: function(t) { return this.rate = t, this }, detune: { get: function() { return this.currentConfig.detune }, set: function(t) { this.currentConfig.detune = t, this.calculateRate(), this.emit(s.DETUNE, this, t) } }, setDetune: function(t) { return this.detune = t, this }, mute: { get: function() { return 0 === this.muteNode.gain.value }, set: function(t) { this.currentConfig.mute = t, this.muteNode.gain.setValueAtTime(t ? 0 : 1, 0), this.emit(s.MUTE, this, t) } }, setMute: function(t) { return this.mute = t, this }, volume: { get: function() { return this.volumeNode.gain.value }, set: function(t) { this.currentConfig.volume = t, this.volumeNode.gain.setValueAtTime(t, 0), this.emit(s.VOLUME, this, t) } }, setVolume: function(t) { return this.volume = t, this }, seek: { get: function() { return this.isPlaying ? this.manager.context.currentTime < this.startTime ? this.startTime - this.playTime : this.getCurrentTime() : this.isPaused ? this.currentConfig.seek : 0 }, set: function(t) { this.manager.context.currentTime < this.startTime || (this.isPlaying || this.isPaused) && (t = Math.min(Math.max(0, t), this.duration), this.currentConfig.seek = t, this.isPlaying && (this.stopAndRemoveBufferSource(), this.createAndStartBufferSource()), this.emit(s.SEEK, this, t)) } }, setSeek: function(t) { return this.seek = t, this }, loop: { get: function() { return this.currentConfig.loop }, set: function(t) { this.currentConfig.loop = t, this.isPlaying && (this.stopAndRemoveLoopBufferSource(), t && this.createAndStartLoopBufferSource()), this.emit(s.LOOP, this, t) } }, setLoop: function(t) { return this.loop = t, this }, pan: { get: function() { return this.pannerNode ? this.pannerNode.pan.value : 0 }, set: function(t) { this.currentConfig.pan = t, this.pannerNode && this.pannerNode.pan.setValueAtTime(t, this.manager.context.currentTime), this.emit(s.PAN, this, t) } }, setPan: function(t) { return this.pan = t, this } });
				t.exports = a }, 57490: (t, e, i) => { var n = i(53134),
					r = i(85034),
					s = i(83419),
					o = i(14463),
					a = i(8443),
					l = i(71741),
					h = i(95540),
					u = new s({ Extends: r, initialize: function(t) { this.context = this.createAudioContext(t), this.masterMuteNode = this.context.createGain(), this.masterVolumeNode = this.context.createGain(), this.masterMuteNode.connect(this.masterVolumeNode), this.masterVolumeNode.connect(this.context.destination), this.destination = this.masterMuteNode, this.locked = "suspended" === this.context.state && ("ontouchstart" in window || "onclick" in window), r.call(this, t), this.locked && t.isBooted ? this.unlock() : t.events.once(a.BOOT, this.unlock, this) }, createAudioContext: function(t) { var e = t.config.audio; return e.context ? (e.context.resume(), e.context) : window.hasOwnProperty("AudioContext") ? new AudioContext : window.hasOwnProperty("webkitAudioContext") ? new window.webkitAudioContext : void 0 }, setAudioContext: function(t) { return this.context && this.context.close(), this.masterMuteNode && this.masterMuteNode.disconnect(), this.masterVolumeNode && this.masterVolumeNode.disconnect(), this.context = t, this.masterMuteNode = t.createGain(), this.masterVolumeNode = t.createGain(), this.masterMuteNode.connect(this.masterVolumeNode), this.masterVolumeNode.connect(t.destination), this.destination = this.masterMuteNode, this }, add: function(t, e) { var i = new l(this, t, e); return this.sounds.push(i), i }, decodeAudio: function(t, e) { var i;
							i = Array.isArray(t) ? t : [{ key: t, data: e }]; for (var r = this.game.cache.audio, s = i.length, a = 0; a < i.length; a++) { var l = i[a],
									h = l.key,
									u = l.data; "string" == typeof u && (u = n(u)); var c = function(t, e) { r.add(t, e), this.emit(o.DECODED, t), 0 == --s && this.emit(o.DECODED_ALL) }.bind(this, h),
									d = function(t, e) { console.error("Error decoding audio: " + t + " - ", e ? e.message : ""), 0 == --s && this.emit(o.DECODED_ALL) }.bind(this, h);
								this.context.decodeAudioData(u, c, d) } }, setListenerPosition: function(t, e) { return void 0 === t && (t = this.game.scale.width / 2), void 0 === e && (e = this.game.scale.height / 2), this.listenerPosition.set(t, e), this }, unlock: function() { var t = this,
								e = document.body,
								i = function i() { if (t.context && e) { var n = e.removeEventListener.bind(e);
										t.context.resume().then((function() { n("touchstart", i), n("touchend", i), n("click", i), n("keydown", i), t.unlocked = !0 }), (function() { n("touchstart", i), n("touchend", i), n("click", i), n("keydown", i) })) } };
							e && (e.addEventListener("touchstart", i, !1), e.addEventListener("touchend", i, !1), e.addEventListener("click", i, !1), e.addEventListener("keydown", i, !1)) }, onBlur: function() { this.locked || this.context.suspend() }, onFocus: function() { var t = this.context;!t || this.locked || "suspended" !== t.state && "interrupted" !== t.state || t.resume() }, update: function(t, e) { var i = this.context.listener; if (i && void 0 !== i.positionX) { var n = h(this.listenerPosition, "x", null),
									s = h(this.listenerPosition, "y", null);
								n && n !== this._spatialx && (this._spatialx = i.positionX.value = n), s && s !== this._spatialy && (this._spatialy = i.positionY.value = s) } r.prototype.update.call(this, t, e), this.gameLostFocus || this.onFocus() }, destroy: function() { if (this.destination = null, this.masterVolumeNode.disconnect(), this.masterVolumeNode = null, this.masterMuteNode.disconnect(), this.masterMuteNode = null, this.game.config.audio.context) this.context.suspend();
							else { var t = this;
								this.context.close().then((function() { t.context = null })) } r.prototype.destroy.call(this) }, setMute: function(t) { return this.mute = t, this }, mute: { get: function() { return 0 === this.masterMuteNode.gain.value }, set: function(t) { this.masterMuteNode.gain.setValueAtTime(t ? 0 : 1, 0), this.emit(o.GLOBAL_MUTE, this, t) } }, setVolume: function(t) { return this.volume = t, this }, volume: { get: function() { return this.masterVolumeNode.gain.value }, set: function(t) { this.masterVolumeNode.gain.setValueAtTime(t, 0), this.emit(o.GLOBAL_VOLUME, this, t) } } });
				t.exports = u }, 73162: (t, e, i) => { var n = i(37105),
					r = i(83419),
					s = i(29747),
					o = i(19186),
					a = new r({ initialize: function(t) { this.parent = t, this.list = [], this.position = 0, this.addCallback = s, this.removeCallback = s, this._sortKey = "" }, add: function(t, e) { return e ? n.Add(this.list, t) : n.Add(this.list, t, 0, this.addCallback, this) }, addAt: function(t, e, i) { return i ? n.AddAt(this.list, t, e) : n.AddAt(this.list, t, e, 0, this.addCallback, this) }, getAt: function(t) { return this.list[t] }, getIndex: function(t) { return this.list.indexOf(t) }, sort: function(t, e) { return t ? (void 0 === e && (e = function(e, i) { return e[t] - i[t] }), o(this.list, e), this) : this }, getByName: function(t) { return n.GetFirst(this.list, "name", t) }, getRandom: function(t, e) { return n.GetRandom(this.list, t, e) }, getFirst: function(t, e, i, r) { return n.GetFirst(this.list, t, e, i, r) }, getAll: function(t, e, i, r) { return n.GetAll(this.list, t, e, i, r) }, count: function(t, e) { return n.CountAllMatching(this.list, t, e) }, swap: function(t, e) { n.Swap(this.list, t, e) }, moveTo: function(t, e) { return n.MoveTo(this.list, t, e) }, moveAbove: function(t, e) { return n.MoveAbove(this.list, t, e) }, moveBelow: function(t, e) { return n.MoveBelow(this.list, t, e) }, remove: function(t, e) { return e ? n.Remove(this.list, t) : n.Remove(this.list, t, this.removeCallback, this) }, removeAt: function(t, e) { return e ? n.RemoveAt(this.list, t) : n.RemoveAt(this.list, t, this.removeCallback, this) }, removeBetween: function(t, e, i) { return i ? n.RemoveBetween(this.list, t, e) : n.RemoveBetween(this.list, t, e, this.removeCallback, this) }, removeAll: function(t) { for (var e = this.list.length; e--;) this.remove(this.list[e], t); return this }, bringToTop: function(t) { return n.BringToTop(this.list, t) }, sendToBack: function(t) { return n.SendToBack(this.list, t) }, moveUp: function(t) { return n.MoveUp(this.list, t), t }, moveDown: function(t) { return n.MoveDown(this.list, t), t }, reverse: function() { return this.list.reverse(), this }, shuffle: function() { return n.Shuffle(this.list), this }, replace: function(t, e) { return n.Replace(this.list, t, e) }, exists: function(t) { return this.list.indexOf(t) > -1 }, setAll: function(t, e, i, r) { return n.SetAll(this.list, t, e, i, r), this }, each: function(t, e) { for (var i = [null], n = 2; n < arguments.length; n++) i.push(arguments[n]); for (n = 0; n < this.list.length; n++) i[0] = this.list[n], t.apply(e, i) }, shutdown: function() { this.removeAll(), this.list = [] }, destroy: function() { this.removeAll(), this.parent = null, this.addCallback = null, this.removeCallback = null }, length: { get: function() { return this.list.length } }, first: { get: function() { return this.position = 0, this.list.length > 0 ? this.list[0] : null } }, last: { get: function() { return this.list.length > 0 ? (this.position = this.list.length - 1, this.list[this.position]) : null } }, next: { get: function() { return this.position < this.list.length ? (this.position++, this.list[this.position]) : null } }, previous: { get: function() { return this.position > 0 ? (this.position--, this.list[this.position]) : null } } });
				t.exports = a }, 90330: (t, e, i) => { var n = new(i(83419))({ initialize: function(t) { this.entries = {}, this.size = 0, this.setAll(t) }, setAll: function(t) { if (Array.isArray(t))
							for (var e = 0; e < t.length; e++) this.set(t[e][0], t[e][1]); return this }, set: function(t, e) { return this.has(t) || this.size++, this.entries[t] = e, this }, get: function(t) { if (this.has(t)) return this.entries[t] }, getArray: function() { var t = [],
							e = this.entries; for (var i in e) t.push(e[i]); return t }, has: function(t) { return this.entries.hasOwnProperty(t) }, delete: function(t) { return this.has(t) && (delete this.entries[t], this.size--), this }, clear: function() { return Object.keys(this.entries).forEach((function(t) { delete this.entries[t] }), this), this.size = 0, this }, keys: function() { return Object.keys(this.entries) }, values: function() { var t = [],
							e = this.entries; for (var i in e) t.push(e[i]); return t }, dump: function() { var t = this.entries; for (var e in console.group("Map"), t) console.log(e, t[e]);
						console.groupEnd() }, each: function(t) { var e = this.entries; for (var i in e)
							if (!1 === t(i, e[i])) break; return this }, contains: function(t) { var e = this.entries; for (var i in e)
							if (e[i] === t) return !0; return !1 }, merge: function(t, e) { void 0 === e && (e = !1); var i = this.entries,
							n = t.entries; for (var r in n) i.hasOwnProperty(r) && e ? i[r] = n[r] : this.set(r, n[r]); return this } });
				t.exports = n }, 25774: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(82348),
					o = new n({ Extends: r, initialize: function() { r.call(this), this._pending = [], this._active = [], this._destroy = [], this._toProcess = 0, this.checkQueue = !1 }, isActive: function(t) { return this._active.indexOf(t) > -1 }, isPending: function(t) { return this._toProcess > 0 && this._pending.indexOf(t) > -1 }, isDestroying: function(t) { return this._destroy.indexOf(t) > -1 }, add: function(t) { return this.checkQueue && this.isActive(t) && !this.isDestroying(t) || this.isPending(t) || (this._pending.push(t), this._toProcess++), t }, remove: function(t) { if (this.isPending(t)) { var e = this._pending,
									i = e.indexOf(t); - 1 !== i && e.splice(i, 1) } else this.isActive(t) && (this._destroy.push(t), this._toProcess++); return t }, removeAll: function() { for (var t = this._active, e = this._destroy, i = t.length; i--;) e.push(t[i]), this._toProcess++; return this }, update: function() { if (0 === this._toProcess) return this._active; var t, e, i = this._destroy,
								n = this._active; for (t = 0; t < i.length; t++) { e = i[t]; var r = n.indexOf(e); - 1 !== r && (n.splice(r, 1), this.emit(s.PROCESS_QUEUE_REMOVE, e)) } for (i.length = 0, i = this._pending, t = 0; t < i.length; t++) e = i[t], (!this.checkQueue || this.checkQueue && -1 === n.indexOf(e)) && (n.push(e), this.emit(s.PROCESS_QUEUE_ADD, e)); return i.length = 0, this._toProcess = 0, n }, getActive: function() { return this._active }, length: { get: function() { return this._active.length } }, destroy: function() { this._toProcess = 0, this._pending = [], this._active = [], this._destroy = [] } });
				t.exports = o }, 59542: (t, e, i) => { var n = i(43886);

				function r(t) { if (!(this instanceof r)) return new r(t);
					this._maxEntries = Math.max(4, t || 9), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), this.clear() }

				function s(t, e, i) { if (!i) return e.indexOf(t); for (var n = 0; n < e.length; n++)
						if (i(t, e[n])) return n; return -1 }

				function o(t, e) { a(t, 0, t.children.length, e, t) }

				function a(t, e, i, n, r) { r || (r = g(null)), r.minX = 1 / 0, r.minY = 1 / 0, r.maxX = -1 / 0, r.maxY = -1 / 0; for (var s, o = e; o < i; o++) s = t.children[o], l(r, t.leaf ? n(s) : s); return r }

				function l(t, e) { return t.minX = Math.min(t.minX, e.minX), t.minY = Math.min(t.minY, e.minY), t.maxX = Math.max(t.maxX, e.maxX), t.maxY = Math.max(t.maxY, e.maxY), t }

				function h(t, e) { return t.minX - e.minX }

				function u(t, e) { return t.minY - e.minY }

				function c(t) { return (t.maxX - t.minX) * (t.maxY - t.minY) }

				function d(t) { return t.maxX - t.minX + (t.maxY - t.minY) }

				function f(t, e) { return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY }

				function p(t, e) { return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY }

				function g(t) { return { children: t, height: 1, leaf: !0, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 } }

				function m(t, e, i, r, s) { for (var o, a = [e, i]; a.length;)(i = a.pop()) - (e = a.pop()) <= r || (o = e + Math.ceil((i - e) / r / 2) * r, n(t, o, e, i, s), a.push(e, o, o, i)) } r.prototype = { all: function() { return this._all(this.data, []) }, search: function(t) { var e = this.data,
							i = [],
							n = this.toBBox; if (!p(t, e)) return i; for (var r, s, o, a, l = []; e;) { for (r = 0, s = e.children.length; r < s; r++) o = e.children[r], p(t, a = e.leaf ? n(o) : o) && (e.leaf ? i.push(o) : f(t, a) ? this._all(o, i) : l.push(o));
							e = l.pop() } return i }, collides: function(t) { var e = this.data,
							i = this.toBBox; if (!p(t, e)) return !1; for (var n, r, s, o, a = []; e;) { for (n = 0, r = e.children.length; n < r; n++)
								if (s = e.children[n], p(t, o = e.leaf ? i(s) : s)) { if (e.leaf || f(t, o)) return !0;
									a.push(s) } e = a.pop() } return !1 }, load: function(t) { if (!t || !t.length) return this; if (t.length < this._minEntries) { for (var e = 0, i = t.length; e < i; e++) this.insert(t[e]); return this } var n = this._build(t.slice(), 0, t.length - 1, 0); if (this.data.children.length)
							if (this.data.height === n.height) this._splitRoot(this.data, n);
							else { if (this.data.height < n.height) { var r = this.data;
									this.data = n, n = r } this._insert(n, this.data.height - n.height - 1, !0) } else this.data = n; return this }, insert: function(t) { return t && this._insert(t, this.data.height - 1), this }, clear: function() { return this.data = g([]), this }, remove: function(t, e) { if (!t) return this; for (var i, n, r, o, a = this.data, l = this.toBBox(t), h = [], u = []; a || h.length;) { if (a || (a = h.pop(), n = h[h.length - 1], i = u.pop(), o = !0), a.leaf && -1 !== (r = s(t, a.children, e))) return a.children.splice(r, 1), h.push(a), this._condense(h), this;
							o || a.leaf || !f(a, l) ? n ? (i++, a = n.children[i], o = !1) : a = null : (h.push(a), u.push(i), i = 0, n = a, a = a.children[0]) } return this }, toBBox: function(t) { return t }, compareMinX: h, compareMinY: u, toJSON: function() { return this.data }, fromJSON: function(t) { return this.data = t, this }, _all: function(t, e) { for (var i = []; t;) t.leaf ? e.push.apply(e, t.children) : i.push.apply(i, t.children), t = i.pop(); return e }, _build: function(t, e, i, n) { var r, s = i - e + 1,
							a = this._maxEntries; if (s <= a) return o(r = g(t.slice(e, i + 1)), this.toBBox), r;
						n || (n = Math.ceil(Math.log(s) / Math.log(a)), a = Math.ceil(s / Math.pow(a, n - 1))), (r = g([])).leaf = !1, r.height = n; var l, h, u, c, d = Math.ceil(s / a),
							f = d * Math.ceil(Math.sqrt(a)); for (m(t, e, i, f, this.compareMinX), l = e; l <= i; l += f)
							for (m(t, l, u = Math.min(l + f - 1, i), d, this.compareMinY), h = l; h <= u; h += d) c = Math.min(h + d - 1, u), r.children.push(this._build(t, h, c, n - 1)); return o(r, this.toBBox), r }, _chooseSubtree: function(t, e, i, n) { for (var r, s, o, a, l, h, u, d, f, p; n.push(e), !e.leaf && n.length - 1 !== i;) { for (u = d = 1 / 0, r = 0, s = e.children.length; r < s; r++) l = c(o = e.children[r]), f = t, p = o, (h = (Math.max(p.maxX, f.maxX) - Math.min(p.minX, f.minX)) * (Math.max(p.maxY, f.maxY) - Math.min(p.minY, f.minY)) - l) < d ? (d = h, u = l < u ? l : u, a = o) : h === d && l < u && (u = l, a = o);
							e = a || e.children[0] } return e }, _insert: function(t, e, i) { var n = this.toBBox,
							r = i ? t : n(t),
							s = [],
							o = this._chooseSubtree(r, this.data, e, s); for (o.children.push(t), l(o, r); e >= 0 && s[e].children.length > this._maxEntries;) this._split(s, e), e--;
						this._adjustParentBBoxes(r, s, e) }, _split: function(t, e) { var i = t[e],
							n = i.children.length,
							r = this._minEntries;
						this._chooseSplitAxis(i, r, n); var s = this._chooseSplitIndex(i, r, n),
							a = g(i.children.splice(s, i.children.length - s));
						a.height = i.height, a.leaf = i.leaf, o(i, this.toBBox), o(a, this.toBBox), e ? t[e - 1].children.push(a) : this._splitRoot(i, a) }, _splitRoot: function(t, e) { this.data = g([t, e]), this.data.height = t.height + 1, this.data.leaf = !1, o(this.data, this.toBBox) }, _chooseSplitIndex: function(t, e, i) { var n, r, s, o, l, h, u, d, f, p, g, m, v, y; for (h = u = 1 / 0, n = e; n <= i - e; n++) f = r = a(t, 0, n, this.toBBox), p = s = a(t, n, i, this.toBBox), void 0, void 0, void 0, void 0, g = Math.max(f.minX, p.minX), m = Math.max(f.minY, p.minY), v = Math.min(f.maxX, p.maxX), y = Math.min(f.maxY, p.maxY), o = Math.max(0, v - g) * Math.max(0, y - m), l = c(r) + c(s), o < h ? (h = o, d = n, u = l < u ? l : u) : o === h && l < u && (u = l, d = n); return d }, _chooseSplitAxis: function(t, e, i) { var n = t.leaf ? this.compareMinX : h,
							r = t.leaf ? this.compareMinY : u;
						this._allDistMargin(t, e, i, n) < this._allDistMargin(t, e, i, r) && t.children.sort(n) }, _allDistMargin: function(t, e, i, n) { t.children.sort(n); var r, s, o = this.toBBox,
							h = a(t, 0, e, o),
							u = a(t, i - e, i, o),
							c = d(h) + d(u); for (r = e; r < i - e; r++) s = t.children[r], l(h, t.leaf ? o(s) : s), c += d(h); for (r = i - e - 1; r >= e; r--) s = t.children[r], l(u, t.leaf ? o(s) : s), c += d(u); return c }, _adjustParentBBoxes: function(t, e, i) { for (var n = i; n >= 0; n--) l(e[n], t) }, _condense: function(t) { for (var e, i = t.length - 1; i >= 0; i--) 0 === t[i].children.length ? i > 0 ? (e = t[i - 1].children).splice(e.indexOf(t[i]), 1) : this.clear() : o(t[i], this.toBBox) }, compareMinX: function(t, e) { return t.left - e.left }, compareMinY: function(t, e) { return t.top - e.top }, toBBox: function(t) { return { minX: t.left, minY: t.top, maxX: t.right, maxY: t.bottom } } }, t.exports = r }, 35072: (t, e, i) => { var n = new(i(83419))({ initialize: function(t) { if (this.entries = [], Array.isArray(t))
							for (var e = 0; e < t.length; e++) this.set(t[e]) }, set: function(t) { return -1 === this.entries.indexOf(t) && this.entries.push(t), this }, get: function(t, e) { for (var i = 0; i < this.entries.length; i++) { var n = this.entries[i]; if (n[t] === e) return n } }, getArray: function() { return this.entries.slice(0) }, delete: function(t) { var e = this.entries.indexOf(t); return e > -1 && this.entries.splice(e, 1), this }, dump: function() { console.group("Set"); for (var t = 0; t < this.entries.length; t++) { var e = this.entries[t];
							console.log(e) } console.groupEnd() }, each: function(t, e) { var i, n = this.entries.slice(),
							r = n.length; if (e)
							for (i = 0; i < r && !1 !== t.call(e, n[i], i); i++);
						else
							for (i = 0; i < r && !1 !== t(n[i], i); i++); return this }, iterate: function(t, e) { var i, n = this.entries.length; if (e)
							for (i = 0; i < n && !1 !== t.call(e, this.entries[i], i); i++);
						else
							for (i = 0; i < n && !1 !== t(this.entries[i], i); i++); return this }, iterateLocal: function(t) { var e, i = []; for (e = 1; e < arguments.length; e++) i.push(arguments[e]); var n = this.entries.length; for (e = 0; e < n; e++) { var r = this.entries[e];
							r[t].apply(r, i) } return this }, clear: function() { return this.entries.length = 0, this }, contains: function(t) { return this.entries.indexOf(t) > -1 }, union: function(t) { var e = new n; return t.entries.forEach((function(t) { e.set(t) })), this.entries.forEach((function(t) { e.set(t) })), e }, intersect: function(t) { var e = new n; return this.entries.forEach((function(i) { t.contains(i) && e.set(i) })), e }, difference: function(t) { var e = new n; return this.entries.forEach((function(i) { t.contains(i) || e.set(i) })), e }, size: { get: function() { return this.entries.length }, set: function(t) { return t < this.entries.length ? this.entries.length = t : this.entries.length } } });
				t.exports = n }, 86555: (t, e, i) => { var n = i(45319),
					r = i(83419),
					s = i(56583),
					o = i(26099),
					a = new r({ initialize: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = 0), void 0 === n && (n = null), this._width = t, this._height = e, this._parent = n, this.aspectMode = i, this.aspectRatio = 0 === e ? 1 : t / e, this.minWidth = 0, this.minHeight = 0, this.maxWidth = Number.MAX_VALUE, this.maxHeight = Number.MAX_VALUE, this.snapTo = new o }, setAspectMode: function(t) { return void 0 === t && (t = 0), this.aspectMode = t, this.setSize(this._width, this._height) }, setSnap: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.snapTo.set(t, e), this.setSize(this._width, this._height) }, setParent: function(t) { return this._parent = t, this.setSize(this._width, this._height) }, setMin: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.minWidth = n(t, 0, this.maxWidth), this.minHeight = n(e, 0, this.maxHeight), this.setSize(this._width, this._height) }, setMax: function(t, e) { return void 0 === t && (t = Number.MAX_VALUE), void 0 === e && (e = t), this.maxWidth = n(t, this.minWidth, Number.MAX_VALUE), this.maxHeight = n(e, this.minHeight, Number.MAX_VALUE), this.setSize(this._width, this._height) }, setSize: function(t, e) { switch (void 0 === t && (t = 0), void 0 === e && (e = t), this.aspectMode) {
								case a.NONE:
									this._width = this.getNewWidth(s(t, this.snapTo.x)), this._height = this.getNewHeight(s(e, this.snapTo.y)), this.aspectRatio = 0 === this._height ? 1 : this._width / this._height; break;
								case a.WIDTH_CONTROLS_HEIGHT:
									this._width = this.getNewWidth(s(t, this.snapTo.x)), this._height = this.getNewHeight(this._width * (1 / this.aspectRatio), !1); break;
								case a.HEIGHT_CONTROLS_WIDTH:
									this._height = this.getNewHeight(s(e, this.snapTo.y)), this._width = this.getNewWidth(this._height * this.aspectRatio, !1); break;
								case a.FIT:
									this.constrain(t, e, !0); break;
								case a.ENVELOP:
									this.constrain(t, e, !1) } return this }, setAspectRatio: function(t) { return this.aspectRatio = t, this.setSize(this._width, this._height) }, resize: function(t, e) { return this._width = this.getNewWidth(s(t, this.snapTo.x)), this._height = this.getNewHeight(s(e, this.snapTo.y)), this.aspectRatio = 0 === this._height ? 1 : this._width / this._height, this }, getNewWidth: function(t, e) { return void 0 === e && (e = !0), t = n(t, this.minWidth, this.maxWidth), e && this._parent && t > this._parent.width && (t = Math.max(this.minWidth, this._parent.width)), t }, getNewHeight: function(t, e) { return void 0 === e && (e = !0), t = n(t, this.minHeight, this.maxHeight), e && this._parent && t > this._parent.height && (t = Math.max(this.minHeight, this._parent.height)), t }, constrain: function(t, e, i) { void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = !0), t = this.getNewWidth(t), e = this.getNewHeight(e); var n = this.snapTo,
								r = 0 === e ? 1 : t / e; return i && this.aspectRatio > r || !i && this.aspectRatio < r ? (e = (t = s(t, n.x)) / this.aspectRatio, n.y > 0 && (t = (e = s(e, n.y)) * this.aspectRatio)) : (i && this.aspectRatio < r || !i && this.aspectRatio > r) && (t = (e = s(e, n.y)) * this.aspectRatio, n.x > 0 && (e = (t = s(t, n.x)) * (1 / this.aspectRatio))), this._width = t, this._height = e, this }, fitTo: function(t, e) { return this.constrain(t, e, !0) }, envelop: function(t, e) { return this.constrain(t, e, !1) }, setWidth: function(t) { return this.setSize(t, this._height) }, setHeight: function(t) { return this.setSize(this._width, t) }, toString: function() { return "[{ Size (width=" + this._width + " height=" + this._height + " aspectRatio=" + this.aspectRatio + " aspectMode=" + this.aspectMode + ") }]" }, setCSS: function(t) { t && t.style && (t.style.width = this._width + "px", t.style.height = this._height + "px") }, copy: function(t) { return t.setAspectMode(this.aspectMode), t.aspectRatio = this.aspectRatio, t.setSize(this.width, this.height) }, destroy: function() { this._parent = null, this.snapTo = null }, width: { get: function() { return this._width }, set: function(t) { this.setSize(t, this._height) } }, height: { get: function() { return this._height }, set: function(t) { this.setSize(this._width, t) } } });
				a.NONE = 0, a.WIDTH_CONTROLS_HEIGHT = 1, a.HEIGHT_CONTROLS_WIDTH = 2, a.FIT = 3, a.ENVELOP = 4, t.exports = a }, 15238: t => { t.exports = "add" }, 56187: t => { t.exports = "remove" }, 82348: (t, e, i) => { t.exports = { PROCESS_QUEUE_ADD: i(15238), PROCESS_QUEUE_REMOVE: i(56187) } }, 41392: (t, e, i) => { t.exports = { Events: i(82348), List: i(73162), Map: i(90330), ProcessQueue: i(25774), RTree: i(59542), Set: i(35072), Size: i(86555) } }, 57382: (t, e, i) => { var n = i(83419),
					r = i(45319),
					s = i(40987),
					o = i(8054),
					a = i(50030),
					l = i(79237),
					h = new n({ Extends: l, initialize: function(t, e, i, n, r) { l.call(this, t, e, i, n, r), this.add("__BASE", 0, 0, 0, n, r), this._source = this.frames.__BASE.source, this.canvas = this._source.image, this.context = this.canvas.getContext("2d", { willReadFrequently: !0 }), this.width = n, this.height = r, this.imageData = this.context.getImageData(0, 0, n, r), this.data = null, this.imageData && (this.data = this.imageData.data), this.pixels = null, this.buffer, this.data && (this.imageData.data.buffer ? (this.buffer = this.imageData.data.buffer, this.pixels = new Uint32Array(this.buffer)) : window.ArrayBuffer ? (this.buffer = new ArrayBuffer(this.imageData.data.length), this.pixels = new Uint32Array(this.buffer)) : this.pixels = this.imageData.data) }, update: function() { return this.imageData = this.context.getImageData(0, 0, this.width, this.height), this.data = this.imageData.data, this.imageData.data.buffer ? (this.buffer = this.imageData.data.buffer, this.pixels = new Uint32Array(this.buffer)) : window.ArrayBuffer ? (this.buffer = new ArrayBuffer(this.imageData.data.length), this.pixels = new Uint32Array(this.buffer)) : this.pixels = this.imageData.data, this.manager.game.config.renderType === o.WEBGL && this.refresh(), this }, draw: function(t, e, i, n) { return void 0 === n && (n = !0), this.context.drawImage(i, t, e), n && this.update(), this }, drawFrame: function(t, e, i, n, r) { void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = !0); var s = this.manager.getFrame(t, e); if (s) { var o = s.canvasData,
									a = s.cutWidth,
									l = s.cutHeight,
									h = s.source.resolution;
								this.context.drawImage(s.source.image, o.x, o.y, a, l, i, n, a / h, l / h), r && this.update() } return this }, setPixel: function(t, e, i, n, r, s) { if (void 0 === s && (s = 255), t = Math.abs(Math.floor(t)), e = Math.abs(Math.floor(e)), this.getIndex(t, e) > -1) { var o = this.context.getImageData(t, e, 1, 1);
								o.data[0] = i, o.data[1] = n, o.data[2] = r, o.data[3] = s, this.context.putImageData(o, t, e) } return this }, putData: function(t, e, i, n, r, s, o) { return void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = t.width), void 0 === o && (o = t.height), this.context.putImageData(t, e, i, n, r, s, o), this }, getData: function(t, e, i, n) { return t = r(Math.floor(t), 0, this.width - 1), e = r(Math.floor(e), 0, this.height - 1), i = r(i, 1, this.width - t), n = r(n, 1, this.height - e), this.context.getImageData(t, e, i, n) }, getPixel: function(t, e, i) { i || (i = new s); var n = this.getIndex(t, e); if (n > -1) { var r = this.data,
									o = r[n + 0],
									a = r[n + 1],
									l = r[n + 2],
									h = r[n + 3];
								i.setTo(o, a, l, h) } return i }, getPixels: function(t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.width), void 0 === n && (n = i), t = Math.abs(Math.round(t)), e = Math.abs(Math.round(e)); for (var o = r(t, 0, this.width), a = r(t + i, 0, this.width), l = r(e, 0, this.height), h = r(e + n, 0, this.height), u = new s, c = [], d = l; d < h; d++) { for (var f = [], p = o; p < a; p++) u = this.getPixel(p, d, u), f.push({ x: p, y: d, color: u.color, alpha: u.alphaGL });
								c.push(f) } return c }, getIndex: function(t, e) { return t = Math.abs(Math.round(t)), e = Math.abs(Math.round(e)), t < this.width && e < this.height ? 4 * (t + e * this.width) : -1 }, refresh: function() { return this._source.update(), this }, getCanvas: function() { return this.canvas }, getContext: function() { return this.context }, clear: function(t, e, i, n, r) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.width), void 0 === n && (n = this.height), void 0 === r && (r = !0), this.context.clearRect(t, e, i, n), r && this.update(), this }, setSize: function(t, e) { return void 0 === e && (e = t), t === this.width && e === this.height || (this.canvas.width = t, this.canvas.height = e, this._source.width = t, this._source.height = e, this._source.isPowerOf2 = a(t, e), this.frames.__BASE.setSize(t, e, 0, 0), this.width = t, this.height = e, this.refresh()), this }, destroy: function() { l.prototype.destroy.call(this), this._source = null, this.canvas = null, this.context = null, this.imageData = null, this.data = null, this.pixels = null, this.buffer = null } });
				t.exports = h }, 81320: (t, e, i) => { var n = i(10312),
					r = i(38058),
					s = i(27919),
					o = i(83419),
					a = i(8054),
					l = i(4327),
					h = i(95540),
					u = i(36060),
					c = i(32302),
					d = i(79237),
					f = i(70554),
					p = new o({ Extends: d, initialize: function(t, e, i, n) { void 0 === i && (i = 256), void 0 === n && (n = 256), this.type = "DynamicTexture"; var o = t.game.renderer,
								l = o && o.type === a.CANVAS,
								h = l ? s.create2D(this, i, n) : [this];
							d.call(this, t, e, h, i, n), this.add("__BASE", 0, 0, 0, i, n), this.renderer = o, this.width = -1, this.height = -1, this.isDrawing = !1, this.canvas = l ? h : null, this.context = l ? h.getContext("2d", { willReadFrequently: !0 }) : null, this.dirty = !1, this.isSpriteTexture = !0, this._eraseMode = !1, this.camera = new r(0, 0, i, n).setScene(t.game.scene.systemScene, !1), this.renderTarget = l ? null : new c(o, i, n, 1, 0, !1, !1, !0, !1), this.pipeline = l ? null : o.pipelines.get(u.SINGLE_PIPELINE), this.setSize(i, n) }, setSize: function(t, e) { void 0 === e && (e = t); var i = this.get(),
								n = i.source; if (t !== this.width || e !== this.height) { this.canvas && (this.canvas.width = t, this.canvas.height = e); var r = this.renderTarget;
								r && (r.willResize(t, e) && r.resize(t, e), r.texture !== n.glTexture && this.renderer.deleteTexture(n.glTexture), this.setFromRenderTarget()), this.camera.setSize(t, e), n.width = t, n.height = e, i.setSize(t, e), this.width = t, this.height = e } else { var s = this.getSourceImage();
								i.cutX + t > s.width && (t = s.width - i.cutX), i.cutY + e > s.height && (e = s.height - i.cutY), i.setSize(t, e, i.cutX, i.cutY) } return this }, setFromRenderTarget: function() { var t = this.get().source,
								e = this.renderTarget; return t.isRenderTexture = !0, t.isGLTexture = !0, t.glTexture = e.texture, this }, setIsSpriteTexture: function(t) { return this.isSpriteTexture = t, this }, fill: function(t, e, i, n, r, s) { var o = this.camera,
								a = this.renderer;
							void 0 === e && (e = 1), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = this.width), void 0 === s && (s = this.height); var l = t >> 16 & 255,
								h = t >> 8 & 255,
								u = 255 & t,
								c = this.renderTarget; if (o.preRender(), c) { c.bind(!0); var d = this.pipeline.manager.set(this.pipeline),
									p = a.width / c.width,
									g = a.height / c.height,
									m = c.height - (n + s);
								d.drawFillRect(i * p, m * g, r * p, s * g, f.getTintFromFloats(u / 255, h / 255, l / 255, 1), e), c.unbind(!0) } else { var v = this.context;
								a.setContext(v), v.globalCompositeOperation = "source-over", v.fillStyle = "rgba(" + l + "," + h + "," + u + "," + e + ")", v.fillRect(i, n, r, s), a.setContext() } return this.dirty = !0, this }, clear: function(t, e, i, n) { if (this.dirty) { var r = this.context,
									s = this.renderTarget;
								s ? s.clear(t, e, i, n) : r && (void 0 !== t && void 0 !== e && void 0 !== i && void 0 !== n ? r.clearRect(t, e, i, n) : (r.save(), r.setTransform(1, 0, 0, 1, 0, 0), r.clearRect(0, 0, this.width, this.height), r.restore())), this.dirty = !1 } return this }, stamp: function(t, e, i, n, r) { void 0 === i && (i = 0), void 0 === n && (n = 0); var s = h(r, "alpha", 1),
								o = h(r, "tint", 16777215),
								a = h(r, "angle", 0),
								l = h(r, "rotation", 0),
								u = h(r, "scale", 1),
								c = h(r, "scaleX", u),
								d = h(r, "scaleY", u),
								f = h(r, "originX", .5),
								p = h(r, "originY", .5),
								g = h(r, "blendMode", 0),
								m = h(r, "erase", !1),
								v = h(r, "skipBatch", !1),
								y = this.manager.resetStamp(s, o); return y.setAngle(0), 0 !== a ? y.setAngle(a) : 0 !== l && y.setRotation(l), y.setScale(c, d), y.setTexture(t, e), y.setOrigin(f, p), y.setBlendMode(g), m && (this._eraseMode = !0), v ? this.batchGameObject(y, i, n) : this.draw(y, i, n), m && (this._eraseMode = !1), this }, erase: function(t, e, i) { return this._eraseMode = !0, this.draw(t, e, i), this._eraseMode = !1, this }, draw: function(t, e, i, n, r) { return this.beginDraw(), this.batchDraw(t, e, i, n, r), this.endDraw(), this }, drawFrame: function(t, e, i, n, r, s) { return this.beginDraw(), this.batchDrawFrame(t, e, i, n, r, s), this.endDraw(), this }, repeat: function(t, e, i, n, r, s, o, a, h) { if (void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = this.width), void 0 === s && (s = this.height), void 0 === o && (o = 1), void 0 === a && (a = 16777215), void 0 === h && (h = !1), !(e = t instanceof l ? t : this.manager.getFrame(t, e))) return this; var u = this.manager.resetStamp(o, a);
							u.setFrame(e), u.setOrigin(0); var c = e.width,
								d = e.height;
							r = Math.floor(r), s = Math.floor(s); var f = Math.ceil(r / c),
								p = Math.ceil(s / d),
								g = f * c - r,
								m = p * d - s;
							g > 0 && (g = c - g), m > 0 && (m = d - m), i < 0 && (f += Math.ceil(Math.abs(i) / c)), n < 0 && (p += Math.ceil(Math.abs(n) / d)); var v = i,
								y = n,
								x = !1,
								b = this.manager.stampCrop.setTo(0, 0, c, d);
							h || this.beginDraw(); for (var w = 0; w < p; w++)
								if (y + d < 0) y += d;
								else { for (var T = 0; T < f; T++) x = !1, v + c < 0 || (v < 0 && (x = !0, b.width = c + v, b.x = c - b.width), y < 0 && (x = !0, b.height = d + y, b.y = d - b.height), g > 0 && T === f - 1 && (x = !0, b.width = g), m > 0 && w === p - 1 && (x = !0, b.height = m), x && u.setCrop(b), this.batchGameObject(u, v, y), u.isCropped = !1, b.setTo(0, 0, c, d)), v += c;
									v = i, y += d } return h || this.endDraw(), this }, beginDraw: function() { if (!this.isDrawing) { var t = this.camera,
									e = this.renderer,
									i = this.renderTarget;
								t.preRender(), i ? e.beginCapture(i.width, i.height) : e.setContext(this.context), this.isDrawing = !0 } return this }, batchDraw: function(t, e, i, n, r) { return Array.isArray(t) || (t = [t]), this.batchList(t, e, i, n, r), this }, batchDrawFrame: function(t, e, i, n, r, s) { void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 1), void 0 === s && (s = 16777215); var o = this.manager.getFrame(t, e); return o && (this.renderTarget ? this.pipeline.batchTextureFrame(o, i, n, s, r, this.camera.matrix, null) : this.batchTextureFrame(o, i, n, r, s)), this }, endDraw: function(t) { if (void 0 === t && (t = this._eraseMode), this.isDrawing) { var e = this.renderer,
									i = this.renderTarget; if (i) { var n = e.endCapture();
									e.pipelines.setUtility().blitFrame(n, i, 1, !1, !1, t, this.isSpriteTexture), e.resetScissor(), e.resetViewport() } else e.setContext();
								this.dirty = !0, this.isDrawing = !1 } return this }, batchList: function(t, e, i, n, r) { var s = t.length; if (0 !== s)
								for (var o = 0; o < s; o++) { var a = t[o];
									a && a !== this && (a.renderWebGL || a.renderCanvas ? this.batchGameObject(a, e, i) : a.isParent || a.list ? this.batchGroup(a.getChildren(), e, i) : "string" == typeof a ? this.batchTextureFrameKey(a, null, e, i, n, r) : a instanceof l ? this.batchTextureFrame(a, e, i, n, r) : Array.isArray(a) && this.batchList(a, e, i, n, r)) } }, batchGroup: function(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 0); for (var n = 0; n < t.length; n++) { var r = t[n];
								r.willRender(this.camera) && this.batchGameObject(r, r.x + e, r.y + i) } }, batchGameObject: function(t, e, i) { void 0 === e && (e = t.x), void 0 === i && (i = t.y); var r = t.x,
								s = t.y,
								o = this.camera,
								a = this.renderer,
								l = this._eraseMode,
								h = t.mask; if (t.setPosition(e, i), this.canvas) { if (l) { var u = t.blendMode;
									t.blendMode = n.ERASE } h && h.preRenderCanvas(a, t, o), t.renderCanvas(a, t, o, null), h && h.postRenderCanvas(a, t, o), l && (t.blendMode = u) } else a && (h && h.preRenderWebGL(a, t, o), l || a.setBlendMode(t.blendMode), t.renderWebGL(a, t, o), h && h.postRenderWebGL(a, o, this.renderTarget));
							t.setPosition(r, s) }, batchTextureFrameKey: function(t, e, i, n, r, s) { var o = this.manager.getFrame(t, e);
							o && this.batchTextureFrame(o, i, n, r, s) }, batchTextureFrame: function(t, e, i, n, r) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 1), void 0 === r && (r = 16777215); var s = this.camera.matrix; if (this.renderTarget) this.pipeline.batchTextureFrame(t, e, i, r, n, s, null);
							else { var o = this.context,
									a = t.canvasData,
									l = t.source.image;
								o.save(), o.globalCompositeOperation = this._eraseMode ? "destination-out" : "source-over", o.globalAlpha = n, s.setToContext(o), a.width > 0 && a.height > 0 && o.drawImage(l, a.x, a.y, a.width, a.height, e, i, a.width, a.height), o.restore() } }, snapshotArea: function(t, e, i, n, r, s, o) { return this.renderTarget ? this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer, this.width, this.height, r, !1, t, e, i, n, s, o) : this.renderer.snapshotCanvas(this.canvas, r, !1, t, e, i, n, s, o), this }, snapshot: function(t, e, i) { return this.snapshotArea(0, 0, this.width, this.height, t, e, i) }, snapshotPixel: function(t, e, i) { return this.snapshotArea(t, e, 1, 1, i, "pixel") }, getWebGLTexture: function() { if (this.renderTarget) return this.renderTarget.texture }, renderWebGL: function(t, e, i, n) { var r = this.manager.resetStamp();
							r.setTexture(this), r.setOrigin(0), r.renderWebGL(t, r, i, n) }, renderCanvas: function() {}, destroy: function() { var t = this.manager.stamp;
							t && t.texture === this && this.manager.resetStamp(), d.prototype.destroy.call(this), s.remove(this.canvas), this.renderTarget && this.renderTarget.destroy(), this.camera.destroy(), this.canvas = null, this.context = null, this.renderer = null } });
				t.exports = p }, 4327: (t, e, i) => { var n = i(83419),
					r = i(45319),
					s = i(79291),
					o = new n({ initialize: function(t, e, i, n, r, s, o) { this.texture = t, this.name = e, this.source = t.source[i], this.sourceIndex = i, this.cutX, this.cutY, this.cutWidth, this.cutHeight, this.x = 0, this.y = 0, this.width, this.height, this.halfWidth, this.halfHeight, this.centerX, this.centerY, this.pivotX = 0, this.pivotY = 0, this.customPivot = !1, this.rotated = !1, this.autoRound = -1, this.customData = {}, this.u0 = 0, this.v0 = 0, this.u1 = 0, this.v1 = 0, this.data = { cut: { x: 0, y: 0, w: 0, h: 0, r: 0, b: 0 }, trim: !1, sourceSize: { w: 0, h: 0 }, spriteSourceSize: { x: 0, y: 0, w: 0, h: 0, r: 0, b: 0 }, radius: 0, drawImage: { x: 0, y: 0, width: 0, height: 0 }, is3Slice: !1, scale9: !1, scale9Borders: { x: 0, y: 0, w: 0, h: 0 } }, this.setSize(s, o, n, r) }, setCutPosition: function(t, e) { return void 0 === t && (t = 0), void 0 === e && (e = 0), this.cutX = t, this.cutY = e, this.updateUVs() }, setCutSize: function(t, e) { return this.cutWidth = t, this.cutHeight = e, this.updateUVs() }, setSize: function(t, e, i, n) { void 0 === i && (i = 0), void 0 === n && (n = 0), this.setCutPosition(i, n), this.setCutSize(t, e), this.width = t, this.height = e, this.halfWidth = Math.floor(.5 * t), this.halfHeight = Math.floor(.5 * e), this.centerX = Math.floor(t / 2), this.centerY = Math.floor(e / 2); var r = this.data,
								s = r.cut;
							s.x = i, s.y = n, s.w = t, s.h = e, s.r = i + t, s.b = n + e, r.sourceSize.w = t, r.sourceSize.h = e, r.spriteSourceSize.w = t, r.spriteSourceSize.h = e, r.radius = .5 * Math.sqrt(t * t + e * e); var o = r.drawImage; return o.x = i, o.y = n, o.width = t, o.height = e, this.updateUVs() }, setTrim: function(t, e, i, n, r, s) { var o = this.data,
								a = o.spriteSourceSize; return o.trim = !0, o.sourceSize.w = t, o.sourceSize.h = e, a.x = i, a.y = n, a.w = r, a.h = s, a.r = i + r, a.b = n + s, this.x = i, this.y = n, this.width = r, this.height = s, this.halfWidth = .5 * r, this.halfHeight = .5 * s, this.centerX = Math.floor(r / 2), this.centerY = Math.floor(s / 2), this.updateUVs() }, setScale9: function(t, e, i, n) { var r = this.data; return r.scale9 = !0, r.is3Slice = 0 === e && n === this.height, r.scale9Borders.x = t, r.scale9Borders.y = e, r.scale9Borders.w = i, r.scale9Borders.h = n, this }, setCropUVs: function(t, e, i, n, s, o, a) { var l = this.cutX,
								h = this.cutY,
								u = this.cutWidth,
								c = this.cutHeight,
								d = this.realWidth,
								f = this.realHeight,
								p = l + (e = r(e, 0, d)),
								g = h + (i = r(i, 0, f)),
								m = n = r(n, 0, d - e),
								v = s = r(s, 0, f - i),
								y = this.data; if (y.trim) { var x = y.spriteSourceSize,
									b = e + (n = r(n, 0, u - e)),
									w = i + (s = r(s, 0, c - i)); if (x.r < e || x.b < i || x.x > b || x.y > w) p = 0, g = 0, m = 0, v = 0;
								else { var T = Math.max(x.x, e),
										S = Math.max(x.y, i),
										_ = Math.min(x.r, b) - T,
										E = Math.min(x.b, w) - S;
									m = _, v = E, p = o ? l + (u - (T - x.x) - _) : l + (T - x.x), g = a ? h + (c - (S - x.y) - E) : h + (S - x.y), e = T, i = S, n = _, s = E } } else o && (p = l + (u - e - n)), a && (g = h + (c - i - s)); var A = this.source.width,
								C = this.source.height; return t.u0 = Math.max(0, p / A), t.v0 = Math.max(0, g / C), t.u1 = Math.min(1, (p + m) / A), t.v1 = Math.min(1, (g + v) / C), t.x = e, t.y = i, t.cx = p, t.cy = g, t.cw = m, t.ch = v, t.width = n, t.height = s, t.flipX = o, t.flipY = a, t }, updateCropUVs: function(t, e, i) { return this.setCropUVs(t, t.x, t.y, t.width, t.height, e, i) }, setUVs: function(t, e, i, n, r, s) { var o = this.data.drawImage; return o.width = t, o.height = e, this.u0 = i, this.v0 = n, this.u1 = r, this.v1 = s, this }, updateUVs: function() { var t = this.cutX,
								e = this.cutY,
								i = this.cutWidth,
								n = this.cutHeight,
								r = this.data.drawImage;
							r.width = i, r.height = n; var s = this.source.width,
								o = this.source.height; return this.u0 = t / s, this.v0 = e / o, this.u1 = (t + i) / s, this.v1 = (e + n) / o, this }, updateUVsInverted: function() { var t = this.source.width,
								e = this.source.height; return this.u0 = (this.cutX + this.cutHeight) / t, this.v0 = this.cutY / e, this.u1 = this.cutX / t, this.v1 = (this.cutY + this.cutWidth) / e, this }, clone: function() { var t = new o(this.texture, this.name, this.sourceIndex); return t.cutX = this.cutX, t.cutY = this.cutY, t.cutWidth = this.cutWidth, t.cutHeight = this.cutHeight, t.x = this.x, t.y = this.y, t.width = this.width, t.height = this.height, t.halfWidth = this.halfWidth, t.halfHeight = this.halfHeight, t.centerX = this.centerX, t.centerY = this.centerY, t.rotated = this.rotated, t.data = s(!0, t.data, this.data), t.updateUVs(), t }, destroy: function() { this.texture = null, this.source = null, this.customData = null, this.data = null }, glTexture: { get: function() { return this.source.glTexture } }, realWidth: { get: function() { return this.data.sourceSize.w } }, realHeight: { get: function() { return this.data.sourceSize.h } }, radius: { get: function() { return this.data.radius } }, trimmed: { get: function() { return this.data.trim } }, scale9: { get: function() { return this.data.scale9 } }, is3Slice: { get: function() { return this.data.is3Slice } }, canvasData: { get: function() { return this.data.drawImage } } });
				t.exports = o }, 79237: (t, e, i) => { var n = i(83419),
					r = i(4327),
					s = i(11876),
					o = 'Texture "%s" has no frame "%s"',
					a = new n({ initialize: function(t, e, i, n, r) { Array.isArray(i) || (i = [i]), this.manager = t, this.key = e, this.source = [], this.dataSource = [], this.frames = {}, this.customData = {}, this.firstFrame = "__BASE", this.frameTotal = 0; for (var o = 0; o < i.length; o++) this.source.push(new s(this, i[o], n, r)) }, add: function(t, e, i, n, s, o) { if (this.has(t)) return null; var a = new r(this, t, e, i, n, s, o); return this.frames[t] = a, "__BASE" === this.firstFrame && (this.firstFrame = t), this.frameTotal++, a }, remove: function(t) { return !!this.has(t) && (this.get(t).destroy(), delete this.frames[t], !0) }, has: function(t) { return this.frames.hasOwnProperty(t) }, get: function(t) { t || (t = this.firstFrame); var e = this.frames[t]; return e || (console.warn(o, this.key, t), e = this.frames[this.firstFrame]), e }, getTextureSourceIndex: function(t) { for (var e = 0; e < this.source.length; e++)
								if (this.source[e] === t) return e; return -1 }, getFramesFromTextureSource: function(t, e) { void 0 === e && (e = !1); var i = []; for (var n in this.frames)
								if ("__BASE" !== n || e) { var r = this.frames[n];
									r.sourceIndex === t && i.push(r) } return i }, getFrameBounds: function(t) { void 0 === t && (t = 0); for (var e = this.getFramesFromTextureSource(t, !0), i = e[0], n = i.cutX, r = i.cutY, s = i.cutX + i.cutWidth, o = i.cutY + i.cutHeight, a = 1; a < e.length; a++) { var l = e[a];
								l.cutX < n && (n = l.cutX), l.cutY < r && (r = l.cutY), l.cutX + l.cutWidth > s && (s = l.cutX + l.cutWidth), l.cutY + l.cutHeight > o && (o = l.cutY + l.cutHeight) } return { x: n, y: r, width: s - n, height: o - r } }, getFrameNames: function(t) { void 0 === t && (t = !1); var e = Object.keys(this.frames); if (!t) { var i = e.indexOf("__BASE"); - 1 !== i && e.splice(i, 1) } return e }, getSourceImage: function(t) { null != t && 1 !== this.frameTotal || (t = "__BASE"); var e = this.frames[t]; return e ? e.source.image : (console.warn(o, this.key, t), this.frames.__BASE.source.image) }, getDataSourceImage: function(t) { null != t && 1 !== this.frameTotal || (t = "__BASE"); var e, i = this.frames[t]; return i ? e = i.sourceIndex : (console.warn(o, this.key, t), e = this.frames.__BASE.sourceIndex), this.dataSource[e].image }, setDataSource: function(t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i = this.source[e];
								this.dataSource.push(new s(this, t[e], i.width, i.height)) } }, setFilter: function(t) { var e; for (e = 0; e < this.source.length; e++) this.source[e].setFilter(t); for (e = 0; e < this.dataSource.length; e++) this.dataSource[e].setFilter(t) }, destroy: function() { var t, e = this.source,
								i = this.dataSource; for (t = 0; t < e.length; t++) e[t] && e[t].destroy(); for (t = 0; t < i.length; t++) i[t] && i[t].destroy(); for (var n in this.frames) { var r = this.frames[n];
								r && r.destroy() } this.source = [], this.dataSource = [], this.frames = {}, this.manager.removeKey(this.key), this.manager = null } });
				t.exports = a }, 17130: (t, e, i) => { var n = i(27919),
					r = i(57382),
					s = i(83419),
					o = i(40987),
					a = i(8054),
					l = i(81320),
					h = i(50792),
					u = i(69442),
					c = i(4327),
					d = i(8443),
					f = i(99584),
					p = i(35154),
					g = i(88571),
					m = i(41212),
					v = i(61309),
					y = i(87841),
					x = i(79237),
					b = new s({ Extends: h, initialize: function(t) { h.call(this), this.game = t, this.name = "TextureManager", this.list = {}, this._tempCanvas = n.create2D(this), this._tempContext = this._tempCanvas.getContext("2d", { willReadFrequently: !0 }), this._pending = 0, this.stamp, this.stampCrop = new y, this.silentWarnings = !1, t.events.once(d.BOOT, this.boot, this) }, boot: function() { this._pending = 3, this.on(u.LOAD, this.updatePending, this), this.on(u.ERROR, this.updatePending, this); var t = this.game.config;
							null !== t.defaultImage && this.addBase64("__DEFAULT", t.defaultImage), null !== t.missingImage && this.addBase64("__MISSING", t.missingImage), null !== t.whiteImage && this.addBase64("__WHITE", t.whiteImage), this.game.renderer && this.game.renderer.gl && this.addUint8Array("__NORMAL", new Uint8Array([127, 127, 255, 255]), 1, 1), this.game.events.once(d.DESTROY, this.destroy, this), this.game.events.once(d.SYSTEM_READY, (function(t) { this.stamp = new g(t).setOrigin(0) }), this) }, updatePending: function() { this._pending--, 0 === this._pending && (this.off(u.LOAD), this.off(u.ERROR), this.emit(u.READY)) }, checkKey: function(t) { return !(!t || "string" != typeof t || this.exists(t)) || (this.silentWarnings || console.error("Texture key already in use: " + t), !1) }, remove: function(t) { if ("string" == typeof t) { if (!this.exists(t)) return this.silentWarnings || console.warn("No texture found matching key: " + t), this;
								t = this.get(t) } var e = t.key; return this.list.hasOwnProperty(e) && (t.destroy(), this.emit(u.REMOVE, e), this.emit(u.REMOVE_KEY + e)), this }, removeKey: function(t) { return this.list.hasOwnProperty(t) && delete this.list[t], this }, addBase64: function(t, e) { if (this.checkKey(t)) { var i = this,
									n = new Image;
								n.onerror = function() { i.emit(u.ERROR, t) }, n.onload = function() { var e = i.create(t, n);
									v.Image(e, 0), i.emit(u.ADD, t, e), i.emit(u.ADD_KEY + t, e), i.emit(u.LOAD, t, e) }, n.src = e } return this }, getBase64: function(t, e, i, r) { void 0 === i && (i = "image/png"), void 0 === r && (r = .92); var s = "",
								o = this.getFrame(t, e); if (o && (o.source.isRenderTexture || o.source.isGLTexture)) this.silentWarnings || console.warn("Cannot getBase64 from WebGL Texture");
							else if (o) { var a = o.canvasData,
									l = n.create2D(this, a.width, a.height),
									h = l.getContext("2d", { willReadFrequently: !0 });
								a.width > 0 && a.height > 0 && h.drawImage(o.source.image, a.x, a.y, a.width, a.height, 0, 0, a.width, a.height), s = l.toDataURL(i, r), n.remove(l) } return s }, addImage: function(t, e, i) { var n = null; return this.checkKey(t) && (n = this.create(t, e), v.Image(n, 0), i && n.setDataSource(i), this.emit(u.ADD, t, n), this.emit(u.ADD_KEY + t, n)), n }, addGLTexture: function(t, e) { var i = null; if (this.checkKey(t)) { var n = e.width,
									r = e.height;
								(i = this.create(t, e, n, r)).add("__BASE", 0, 0, 0, n, r), this.emit(u.ADD, t, i), this.emit(u.ADD_KEY + t, i) } return i }, addCompressedTexture: function(t, e, i) { var n = null; if (this.checkKey(t)) { if ((n = this.create(t, e)).add("__BASE", 0, 0, 0, e.width, e.height), i) { var r = function(t, e, i) { Array.isArray(i.textures) || Array.isArray(i.frames) ? v.JSONArray(t, e, i) : v.JSONHash(t, e, i) }; if (Array.isArray(i))
										for (var s = 0; s < i.length; s++) r(n, s, i[s]);
									else r(n, 0, i) } this.emit(u.ADD, t, n), this.emit(u.ADD_KEY + t, n) } return n }, addRenderTexture: function(t, e) { var i = null; return this.checkKey(t) && ((i = this.create(t, e)).add("__BASE", 0, 0, 0, e.width, e.height), this.emit(u.ADD, t, i), this.emit(u.ADD_KEY + t, i)), i }, generate: function(t, e) { if (this.checkKey(t)) { var i = n.create(this, 1, 1); return e.canvas = i, f(e), this.addCanvas(t, i) } return null }, createCanvas: function(t, e, i) { if (void 0 === e && (e = 256), void 0 === i && (i = 256), this.checkKey(t)) { var r = n.create(this, e, i, a.CANVAS, !0); return this.addCanvas(t, r) } return null }, addCanvas: function(t, e, i) { void 0 === i && (i = !1); var n = null; return i ? n = new r(this, t, e, e.width, e.height) : this.checkKey(t) && (n = new r(this, t, e, e.width, e.height), this.list[t] = n, this.emit(u.ADD, t, n), this.emit(u.ADD_KEY + t, n)), n }, addDynamicTexture: function(t, e, i) { var n = null; return "string" != typeof t || this.exists(t) ? t = (n = t).key : n = new l(this, t, e, i), this.checkKey(t) ? (this.list[t] = n, this.emit(u.ADD, t, n), this.emit(u.ADD_KEY + t, n)) : n = null, n }, addAtlas: function(t, e, i, n) { return Array.isArray(i.textures) || Array.isArray(i.frames) ? this.addAtlasJSONArray(t, e, i, n) : this.addAtlasJSONHash(t, e, i, n) }, addAtlasJSONArray: function(t, e, i, n) { var r = null; if (e instanceof x ? (t = e.key, r = e) : this.checkKey(t) && (r = this.create(t, e)), r) { if (Array.isArray(i))
									for (var s = 1 === i.length, o = 0; o < r.source.length; o++) { var a = s ? i[0] : i[o];
										v.JSONArray(r, o, a) } else v.JSONArray(r, 0, i);
								n && r.setDataSource(n), this.emit(u.ADD, t, r), this.emit(u.ADD_KEY + t, r) } return r }, addAtlasJSONHash: function(t, e, i, n) { var r = null; if (e instanceof x ? (t = e.key, r = e) : this.checkKey(t) && (r = this.create(t, e)), r) { if (Array.isArray(i))
									for (var s = 0; s < i.length; s++) v.JSONHash(r, s, i[s]);
								else v.JSONHash(r, 0, i);
								n && r.setDataSource(n), this.emit(u.ADD, t, r), this.emit(u.ADD_KEY + t, r) } return r }, addAtlasXML: function(t, e, i, n) { var r = null; return e instanceof x ? (t = e.key, r = e) : this.checkKey(t) && (r = this.create(t, e)), r && (v.AtlasXML(r, 0, i), n && r.setDataSource(n), this.emit(u.ADD, t, r), this.emit(u.ADD_KEY + t, r)), r }, addUnityAtlas: function(t, e, i, n) { var r = null; return e instanceof x ? (t = e.key, r = e) : this.checkKey(t) && (r = this.create(t, e)), r && (v.UnityYAML(r, 0, i), n && r.setDataSource(n), this.emit(u.ADD, t, r), this.emit(u.ADD_KEY + t, r)), r }, addSpriteSheet: function(t, e, i, n) { var r = null; if (e instanceof x ? (t = e.key, r = e) : this.checkKey(t) && (r = this.create(t, e)), r) { var s = r.source[0].width,
									o = r.source[0].height;
								v.SpriteSheet(r, 0, 0, 0, s, o, i), n && r.setDataSource(n), this.emit(u.ADD, t, r), this.emit(u.ADD_KEY + t, r) } return r }, addSpriteSheetFromAtlas: function(t, e) { if (!this.checkKey(t)) return null; var i = p(e, "atlas", null),
								n = p(e, "frame", null); if (i && n) { var r = this.get(i).get(n); if (r) { var s = r.source.image;
									s || (s = r.source.glTexture); var o = this.create(t, s); return r.trimmed ? v.SpriteSheetFromAtlas(o, r, e) : v.SpriteSheet(o, 0, r.cutX, r.cutY, r.cutWidth, r.cutHeight, e), this.emit(u.ADD, t, o), this.emit(u.ADD_KEY + t, o), o } } }, addUint8Array: function(t, e, i, n) { if (!this.checkKey(t) || e.length / 4 != i * n) return null; var r = this.create(t, e, i, n); return r.add("__BASE", 0, 0, 0, i, n), this.emit(u.ADD, t, r), this.emit(u.ADD_KEY + t, r), r }, create: function(t, e, i, n) { var r = null; return this.checkKey(t) && (r = new x(this, t, e, i, n), this.list[t] = r), r }, exists: function(t) { return this.list.hasOwnProperty(t) }, get: function(t) { return void 0 === t && (t = "__DEFAULT"), this.list[t] ? this.list[t] : t instanceof x ? t : t instanceof c ? t.texture : this.list.__MISSING }, cloneFrame: function(t, e) { if (this.list[t]) return this.list[t].get(e).clone() }, getFrame: function(t, e) { if (this.list[t]) return this.list[t].get(e) }, parseFrame: function(t) { if (t) return "string" == typeof t ? this.getFrame(t) : Array.isArray(t) && 2 === t.length ? this.getFrame(t[0], t[1]) : m(t) ? this.getFrame(t.key, t.frame) : t instanceof x ? t.get() : t instanceof c ? t : void 0 }, getTextureKeys: function() { var t = []; for (var e in this.list) "__DEFAULT" !== e && "__MISSING" !== e && "__WHITE" !== e && "__NORMAL" !== e && t.push(e); return t }, getPixel: function(t, e, i, n) { var r = this.getFrame(i, n); if (r) { t -= r.x, e -= r.y; var s = r.data.cut; if (t += s.x, e += s.y, t >= s.x && t < s.r && e >= s.y && e < s.b) { var a = this._tempContext;
									a.clearRect(0, 0, 1, 1), a.drawImage(r.source.image, t, e, 1, 1, 0, 0, 1, 1); var l = a.getImageData(0, 0, 1, 1); return new o(l.data[0], l.data[1], l.data[2], l.data[3]) } } return null }, getPixelAlpha: function(t, e, i, n) { var r = this.getFrame(i, n); if (r) { t -= r.x, e -= r.y; var s = r.data.cut; if (t += s.x, e += s.y, t >= s.x && t < s.r && e >= s.y && e < s.b) { var o = this._tempContext; return o.clearRect(0, 0, 1, 1), o.drawImage(r.source.image, t, e, 1, 1, 0, 0, 1, 1), o.getImageData(0, 0, 1, 1).data[3] } } return null }, setTexture: function(t, e, i) { return this.list[e] && (t.texture = this.list[e], t.frame = t.texture.get(i)), t }, renameTexture: function(t, e) { var i = this.get(t); return !(!i || t === e || (i.key = e, this.list[e] = i, delete this.list[t], 0)) }, each: function(t, e) { for (var i = [null], n = 1; n < arguments.length; n++) i.push(arguments[n]); for (var r in this.list) i[0] = this.list[r], t.apply(e, i) }, resetStamp: function(t, e) { void 0 === t && (t = 1), void 0 === e && (e = 16777215); var i = this.stamp; return i.setCrop(), i.setPosition(0), i.setAngle(0), i.setScale(1), i.setAlpha(t), i.setTint(e), i.setTexture("__WHITE"), i }, destroy: function() { for (var t in this.list) this.list[t].destroy();
							this.list = {}, this.stamp.destroy(), this.game = null, this.stamp = null, n.remove(this._tempCanvas) } });
				t.exports = b }, 11876: (t, e, i) => { var n = i(27919),
					r = i(83419),
					s = i(50030),
					o = i(29795),
					a = i(82751),
					l = new r({ initialize: function(t, e, i, n, r) { void 0 === r && (r = !1); var l = t.manager.game;
							this.renderer = l.renderer, this.texture = t, this.source = e, this.image = e.compressed ? null : e, this.compressionAlgorithm = e.compressed ? e.format : null, this.resolution = 1, this.width = i || e.naturalWidth || e.videoWidth || e.width || 0, this.height = n || e.naturalHeight || e.videoHeight || e.height || 0, this.scaleMode = o.DEFAULT, this.isCanvas = e instanceof HTMLCanvasElement, this.isVideo = window.hasOwnProperty("HTMLVideoElement") && e instanceof HTMLVideoElement, this.isRenderTexture = "RenderTexture" === e.type || "DynamicTexture" === e.type, this.isGLTexture = e instanceof a, this.isPowerOf2 = s(this.width, this.height), this.glTexture = null, this.flipY = r, this.init(l) }, init: function(t) { var e = this.renderer; if (e) { var i = this.source; if (e.gl) { var n = this.image,
										r = this.flipY,
										s = this.width,
										o = this.height,
										a = this.scaleMode;
									this.isCanvas ? this.glTexture = e.createCanvasTexture(n, !1, r) : this.isVideo ? this.glTexture = e.createVideoTexture(n, !1, r) : this.isRenderTexture ? this.glTexture = e.createTextureFromSource(null, s, o, a) : this.isGLTexture ? this.glTexture = i : this.compressionAlgorithm ? this.glTexture = e.createTextureFromSource(i, void 0, void 0, a) : i instanceof Uint8Array ? this.glTexture = e.createUint8ArrayTexture(i, s, o, a) : this.glTexture = e.createTextureFromSource(n, s, o, a) } else this.isRenderTexture && (this.image = i.canvas) } t.config.antialias || this.setFilter(1) }, setFilter: function(t) { this.renderer && this.renderer.gl && this.renderer.setTextureFilter(this.glTexture, t), this.scaleMode = t }, setFlipY: function(t) { return void 0 === t && (t = !0), t === this.flipY || (this.flipY = t, this.update()), this }, update: function() { var t = this.renderer,
								e = this.image,
								i = this.flipY,
								n = t.gl;
							n && this.isCanvas ? t.updateCanvasTexture(e, this.glTexture, i) : n && this.isVideo && t.updateVideoTexture(e, this.glTexture, i) }, destroy: function() { this.glTexture && this.renderer.deleteTexture(this.glTexture), this.isCanvas && n.remove(this.image), this.renderer = null, this.texture = null, this.source = null, this.image = null, this.glTexture = null } });
				t.exports = l }, 19673: t => { t.exports = { LINEAR: 0, NEAREST: 1 } }, 44538: t => { t.exports = "addtexture" }, 63486: t => { t.exports = "addtexture-" }, 94851: t => { t.exports = "onerror" }, 29099: t => { t.exports = "onload" }, 8678: t => { t.exports = "ready" }, 86415: t => { t.exports = "removetexture" }, 30879: t => { t.exports = "removetexture-" }, 69442: (t, e, i) => { t.exports = { ADD: i(44538), ADD_KEY: i(63486), ERROR: i(94851), LOAD: i(29099), READY: i(8678), REMOVE: i(86415), REMOVE_KEY: i(30879) } }, 27458: (t, e, i) => { var n = i(79291),
					r = i(19673),
					s = { CanvasTexture: i(57382), DynamicTexture: i(81320), Events: i(69442), FilterMode: r, Frame: i(4327), Parsers: i(61309), Texture: i(79237), TextureManager: i(17130), TextureSource: i(11876) };
				s = n(!1, s, r), t.exports = s }, 89905: t => { t.exports = function(t, e, i) { if (i.getElementsByTagName("TextureAtlas")) { var n = t.source[e];
						t.add("__BASE", e, 0, 0, n.width, n.height); for (var r, s = i.getElementsByTagName("SubTexture"), o = 0; o < s.length; o++) { var a = s[o].attributes,
								l = a.name.value,
								h = parseInt(a.x.value, 10),
								u = parseInt(a.y.value, 10),
								c = parseInt(a.width.value, 10),
								d = parseInt(a.height.value, 10); if (r = t.add(l, e, h, u, c, d), a.frameX) { var f = Math.abs(parseInt(a.frameX.value, 10)),
									p = Math.abs(parseInt(a.frameY.value, 10)),
									g = parseInt(a.frameWidth.value, 10),
									m = parseInt(a.frameHeight.value, 10);
								r.setTrim(c, d, f, p, g, m) } } return t } console.warn("Invalid Texture Atlas XML given") } }, 72893: t => { t.exports = function(t, e) { var i = t.source[e]; return t.add("__BASE", e, 0, 0, i.width, i.height), t } }, 4832: t => { t.exports = function(t, e) { var i = t.source[e]; return t.add("__BASE", e, 0, 0, i.width, i.height), t } }, 78566: (t, e, i) => { var n = i(41786);
				t.exports = function(t, e, i) { if (i.frames || i.textures) { var r = t.source[e];
						t.add("__BASE", e, 0, 0, r.width, r.height); for (var s, o = Array.isArray(i.textures) ? i.textures[e].frames : i.frames, a = 0; a < o.length; a++) { var l = o[a]; if (s = t.add(l.filename, e, l.frame.x, l.frame.y, l.frame.w, l.frame.h)) { l.trimmed && s.setTrim(l.sourceSize.w, l.sourceSize.h, l.spriteSourceSize.x, l.spriteSourceSize.y, l.spriteSourceSize.w, l.spriteSourceSize.h), l.rotated && (s.rotated = !0, s.updateUVsInverted()); var h = l.anchor || l.pivot;
								h && (s.customPivot = !0, s.pivotX = h.x, s.pivotY = h.y), l.scale9Borders && s.setScale9(l.scale9Borders.x, l.scale9Borders.y, l.scale9Borders.w, l.scale9Borders.h), s.customData = n(l) } else console.warn("Invalid atlas json, frame already exists: " + l.filename) } for (var u in i) "frames" !== u && (Array.isArray(i[u]) ? t.customData[u] = i[u].slice(0) : t.customData[u] = i[u]); return t } console.warn("Invalid Texture Atlas JSON Array") } }, 39711: (t, e, i) => { var n = i(41786);
				t.exports = function(t, e, i) { if (i.frames) { var r = t.source[e];
						t.add("__BASE", e, 0, 0, r.width, r.height); var s, o = i.frames; for (var a in o)
							if (o.hasOwnProperty(a)) { var l = o[a]; if (s = t.add(a, e, l.frame.x, l.frame.y, l.frame.w, l.frame.h)) { l.trimmed && s.setTrim(l.sourceSize.w, l.sourceSize.h, l.spriteSourceSize.x, l.spriteSourceSize.y, l.spriteSourceSize.w, l.spriteSourceSize.h), l.rotated && (s.rotated = !0, s.updateUVsInverted()); var h = l.anchor || l.pivot;
									h && (s.customPivot = !0, s.pivotX = h.x, s.pivotY = h.y), l.scale9Borders && s.setScale9(l.scale9Borders.x, l.scale9Borders.y, l.scale9Borders.w, l.scale9Borders.h), s.customData = n(l) } else console.warn("Invalid atlas json, frame already exists: " + a) } for (var u in i) "frames" !== u && (Array.isArray(i[u]) ? t.customData[u] = i[u].slice(0) : t.customData[u] = i[u]); return t } console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object") } }, 31403: t => { t.exports = function(t) { var e, i = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10],
						n = new Uint8Array(t, 0, 12); for (e = 0; e < n.length; e++)
						if (n[e] !== i[e]) return void console.warn("KTXParser - Invalid file format"); var r = Uint32Array.BYTES_PER_ELEMENT,
						s = new DataView(t, 12, 13 * r),
						o = 67305985 === s.getUint32(0, !0); if (0 === s.getUint32(1 * r, o)) { var a = s.getUint32(4 * r, o),
							l = s.getUint32(6 * r, o),
							h = s.getUint32(7 * r, o),
							u = Math.max(1, s.getUint32(11 * r, o)),
							c = s.getUint32(12 * r, o),
							d = new Array(u),
							f = 64 + c,
							p = l,
							g = h; for (e = 0; e < u; e++) { var m = new Int32Array(t, f, 1)[0];
							f += 4, d[e] = { data: new Uint8Array(t, f, m), width: p, height: g }, p = Math.max(1, p >> 1), g = Math.max(1, g >> 1), f += m } return { mipmaps: d, width: l, height: h, internalFormat: a, compressed: !0, generateMipmap: !1 } } console.warn("KTXParser - Only compressed formats supported") } }, 82038: t => {
				function e(t, e, i, n, r, s, o) { return void 0 === o && (o = 16), Math.floor((t + i) / r) * Math.floor((e + n) / s) * o }

				function i(t, e) { return (t = Math.max(t, 16)) * (e = Math.max(e, 8)) / 4 }

				function n(t, e) { return (t = Math.max(t, 8)) * (e = Math.max(e, 8)) / 2 }

				function r(t, e) { return Math.ceil(t / 4) * Math.ceil(e / 4) * 16 }

				function s(t, i) { return e(t, i, 3, 3, 4, 4, 8) }

				function o(t, i) { return e(t, i, 3, 3, 4, 4) } var a = { 0: { sizeFunc: i, glFormat: [35841] }, 1: { sizeFunc: i, glFormat: [35843] }, 2: { sizeFunc: n, glFormat: [35840] }, 3: { sizeFunc: n, glFormat: [35842] }, 6: { sizeFunc: s, glFormat: [36196] }, 7: { sizeFunc: s, glFormat: [33776, 35916] }, 8: { sizeFunc: o, glFormat: [33777, 35917] }, 9: { sizeFunc: o, glFormat: [33778, 35918] }, 11: { sizeFunc: o, glFormat: [33779, 35919] }, 14: { sizeFunc: r, glFormat: [36494, 36495] }, 15: { sizeFunc: r, glFormat: [36492, 36493] }, 22: { sizeFunc: s, glFormat: [37492, 37493] }, 23: { sizeFunc: o, glFormat: [37496, 37497] }, 24: { sizeFunc: s, glFormat: [37494, 37495] }, 25: { sizeFunc: s, glFormat: [37488] }, 26: { sizeFunc: o, glFormat: [37490] }, 27: { sizeFunc: o, glFormat: [37808, 37840] }, 28: { sizeFunc: function(t, i) { return e(t, i, 4, 3, 5, 4) }, glFormat: [37809, 37841] }, 29: { sizeFunc: function(t, i) { return e(t, i, 4, 4, 5, 5) }, glFormat: [37810, 37842] }, 30: { sizeFunc: function(t, i) { return e(t, i, 5, 4, 6, 5) }, glFormat: [37811, 37843] }, 31: { sizeFunc: function(t, i) { return e(t, i, 5, 5, 6, 6) }, glFormat: [37812, 37844] }, 32: { sizeFunc: function(t, i) { return e(t, i, 7, 4, 8, 5) }, glFormat: [37813, 37845] }, 33: { sizeFunc: function(t, i) { return e(t, i, 7, 5, 8, 6) }, glFormat: [37814, 37846] }, 34: { sizeFunc: function(t, i) { return e(t, i, 7, 7, 8, 8) }, glFormat: [37815, 37847] }, 35: { sizeFunc: function(t, i) { return e(t, i, 9, 4, 10, 5) }, glFormat: [37816, 37848] }, 36: { sizeFunc: function(t, i) { return e(t, i, 9, 5, 10, 6) }, glFormat: [37817, 37849] }, 37: { sizeFunc: function(t, i) { return e(t, i, 9, 7, 10, 8) }, glFormat: [37818, 37850] }, 38: { sizeFunc: function(t, i) { return e(t, i, 9, 9, 10, 10) }, glFormat: [37819, 37851] }, 39: { sizeFunc: function(t, i) { return e(t, i, 11, 9, 12, 10) }, glFormat: [37820, 37852] }, 40: { sizeFunc: function(t, i) { return e(t, i, 11, 11, 12, 12) }, glFormat: [37821, 37853] } };
				t.exports = function(t) { for (var e = new Uint32Array(t, 0, 13), i = 55727696 === e[0] ? e[2] : e[3], n = e[4], r = a[i].glFormat[n], s = a[i].sizeFunc, o = e[11], l = e[7], h = e[6], u = 52 + e[12], c = new Uint8Array(t, u), d = new Array(o), f = 0, p = l, g = h, m = 0; m < o; m++) { var v = s(p, g);
						d[m] = { data: new Uint8Array(c.buffer, c.byteOffset + f, v), width: p, height: g }, p = Math.max(1, p >> 1), g = Math.max(1, g >> 1), f += v } return { mipmaps: d, width: l, height: h, internalFormat: r, compressed: !0, generateMipmap: !1 } } }, 75549: (t, e, i) => { var n = i(95540);
				t.exports = function(t, e, i, r, s, o, a) { var l = n(a, "frameWidth", null),
						h = n(a, "frameHeight", l); if (null === l) throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given."); var u = t.source[e];
					t.add("__BASE", e, 0, 0, u.width, u.height); var c = n(a, "startFrame", 0),
						d = n(a, "endFrame", -1),
						f = n(a, "margin", 0),
						p = n(a, "spacing", 0),
						g = Math.floor((s - f + p) / (l + p)) * Math.floor((o - f + p) / (h + p));
					0 === g && console.warn("SpriteSheet frame dimensions will result in zero frames for texture:", t.key), (c > g || c < -g) && (c = 0), c < 0 && (c = g + c), (-1 === d || d > g || d < c) && (d = g); for (var m = f, v = f, y = 0, x = 0, b = 0, w = 0; w < g; w++) { y = 0, x = 0; var T = m + l,
							S = v + h;
						T > s && (y = T - s), S > o && (x = S - o), w >= c && w <= d && (t.add(b, e, i + m, r + v, l - y, h - x), b++), (m += l + p) + l > s && (m = f, v += h + p) } return t } }, 47534: (t, e, i) => { var n = i(95540);
				t.exports = function(t, e, i) { var r = n(i, "frameWidth", null),
						s = n(i, "frameHeight", r); if (!r) throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given."); var o = t.source[0];
					t.add("__BASE", 0, 0, 0, o.width, o.height), n(i, "startFrame", 0), n(i, "endFrame", -1); for (var a, l = n(i, "margin", 0), h = n(i, "spacing", 0), u = e.cutX, c = e.cutY, d = e.cutWidth, f = e.cutHeight, p = e.realWidth, g = e.realHeight, m = Math.floor((p - l + h) / (r + h)), v = Math.floor((g - l + h) / (s + h)), y = e.x, x = r - y, b = r - (p - d - y), w = e.y, T = s - w, S = s - (g - f - w), _ = l, E = l, A = 0, C = 0; C < v; C++) { for (var k = 0 === C, P = C === v - 1, O = 0; O < m; O++) { var R = 0 === O,
								M = O === m - 1; if (a = t.add(A, 0, u + _, c + E, r, s), R || k || M || P) { var L = R ? y : 0,
									D = k ? w : 0,
									F = 0,
									I = 0;
								R && (F += r - x), M && (F += r - b), k && (I += s - T), P && (I += s - S); var B = r - F,
									N = s - I;
								a.cutWidth = B, a.cutHeight = N, a.setTrim(r, s, L, D, B, N) } _ += h, _ += R ? x : M ? b : r, A++ } _ = l, E += h, E += k ? T : P ? S : s } return t } }, 86147: t => { var e = 0,
					i = function(t, i, n, r) { var s = e - r.y - r.height;
						t.add(n, i, r.x, s, r.width, r.height) };
				t.exports = function(t, n, r) { var s = t.source[n];
					t.add("__BASE", n, 0, 0, s.width, s.height), e = s.height; for (var o = r.split("\n"), a = /^[ ]*(- )*(\w+)+[: ]+(.*)/, l = "", h = "", u = { x: 0, y: 0, width: 0, height: 0 }, c = 0; c < o.length; c++) { var d = o[c].match(a); if (d) { var f = "- " === d[1],
								p = d[2],
								g = d[3]; if (f && (h !== l && (i(t, n, h, u), l = h), u = { x: 0, y: 0, width: 0, height: 0 }), "name" !== p) switch (p) {
								case "x":
								case "y":
								case "width":
								case "height":
									u[p] = parseInt(g, 10) } else h = g } } return h !== l && i(t, n, h, u), t } }, 55222: (t, e, i) => { var n = i(50030);

				function r(t) { for (var e = t.mipmaps, i = 0; i < e.length; i++) { var n = e[i].width,
							r = e[i].height; if ((n << i) % 4 != 0 || (r << i) % 4 != 0) return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level " + i + " is " + n + "x" + r), !1 } return !0 }

				function s() { return !0 }

				function o(t) { var e = t.mipmaps[0]; return !!n(e.width, e.height) || (console.warn("PVRTC base dimensions must be power of two. Base level is " + e.width + "x" + e.height), !1) }

				function a(t) { var e = t.mipmaps[0]; return e.width % 4 == 0 && e.height % 4 == 0 || (console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is " + e.width + "x" + e.height + " pixels"), !1) } var l = { 37488: s, 37489: s, 37490: s, 37491: s, 37492: s, 37493: s, 37494: s, 37495: s, 37496: s, 37497: s, 36196: s, 37808: s, 37809: s, 37810: s, 37811: s, 37812: s, 37813: s, 37814: s, 37815: s, 37816: s, 37817: s, 37818: s, 37819: s, 37820: s, 37821: s, 37840: s, 37841: s, 37842: s, 37843: s, 37844: s, 37845: s, 37846: s, 37847: s, 37848: s, 37849: s, 37850: s, 37851: s, 37852: s, 37853: s, 36492: r, 36493: r, 36494: r, 36495: r, 36283: r, 36284: r, 36285: r, 36286: r, 35840: o, 35841: o, 35842: o, 35843: o, 33776: r, 33777: r, 33778: r, 33779: r, 35916: a, 35917: a, 35918: a, 35919: a };
				t.exports = function(t) { for (var e = t.mipmaps, i = 1; i < e.length; i++) { var r = e[i].width,
							s = e[i].height; if (!n(r, s)) return console.warn("Mip level " + i + " is not a power-of-two size: " + r + "x" + s), !1 } var o = l[t.internalFormat]; return o ? o(t) : (console.warn("No format checker found for internal format " + t.internalFormat + ". Assuming valid."), !0) } }, 61309: (t, e, i) => { t.exports = { AtlasXML: i(89905), Canvas: i(72893), Image: i(4832), JSONArray: i(78566), JSONHash: i(39711), KTXParser: i(31403), PVRParser: i(82038), SpriteSheet: i(75549), SpriteSheetFromAtlas: i(47534), UnityYAML: i(86147) } }, 80341: t => { t.exports = { CSV: 0, TILED_JSON: 1, ARRAY_2D: 2, WELTMEISTER: 3 } }, 16536: (t, e, i) => { var n = new(i(83419))({ initialize: function(t, e, i, n, r, s, o) {
						(void 0 === i || i <= 0) && (i = 32), (void 0 === n || n <= 0) && (n = 32), void 0 === r && (r = 0), void 0 === s && (s = 0), this.name = t, this.firstgid = 0 | e, this.imageWidth = 0 | i, this.imageHeight = 0 | n, this.imageMargin = 0 | r, this.imageSpacing = 0 | s, this.properties = o || {}, this.images = [], this.total = 0 }, containsImageIndex: function(t) { return t >= this.firstgid && t < this.firstgid + this.total }, addImage: function(t, e) { return this.images.push({ gid: t, image: e }), this.total++, this } });
				t.exports = n }, 27462: (t, e, i) => { var n = new(i(83419))({ initialize: function(t) { if (this.gids = [], void 0 !== t)
							for (var e = 0; e < t.length; ++e)
								for (var i = t[e], n = 0; n < i.total; ++n) this.gids[i.firstgid + n] = i;
						this._gids = this.gids }, enabled: { get: function() { return !!this.gids }, set: function(t) { this.gids = t ? this._gids : void 0 } }, getTypeIncludingTile: function(t) { if (void 0 !== t.type && "" !== t.type) return t.type; if (this.gids && void 0 !== t.gid) { var e = this.gids[t.gid]; if (e) { var i = e.getTileData(t.gid); if (i) return i.type } } }, setTextureAndFrame: function(t, e, i, n) { if (null === e && this.gids && void 0 !== n.gid) { var r = this.gids[n.gid];
							r && (null === e && void 0 !== r.image && (e = r.image.key), null === i && (i = n.gid - r.firstgid), t.scene.textures.getFrame(e, i) || (e = null, i = null)) } t.setTexture(e, i) }, setPropertiesFromTiledObject: function(t, e) { if (void 0 !== this.gids && void 0 !== e.gid) { var i = this.gids[e.gid];
							void 0 !== i && this.setFromJSON(t, i.getTileProperties(e.gid)) } this.setFromJSON(t, e.properties) }, setFromJSON: function(t, e) { if (e)
							if (Array.isArray(e))
								for (var i = 0; i < e.length; i++) { var n = e[i];
									void 0 !== t[n.name] ? t[n.name] = n.value : t.setData(n.name, n.value) } else
									for (var r in e) void 0 !== t[r] ? t[r] = e[r] : t.setData(r, e[r]) } });
				t.exports = n }, 31989: (t, e, i) => { var n = i(80341),
					r = i(87010),
					s = i(46177),
					o = i(49075);
				t.exports = function(t, e, i, a, l, h, u, c) { void 0 === i && (i = 32), void 0 === a && (a = 32), void 0 === l && (l = 10), void 0 === h && (h = 10), void 0 === c && (c = !1); var d = null; if (Array.isArray(u)) d = s(void 0 !== e ? e : "map", n.ARRAY_2D, u, i, a, c);
					else if (void 0 !== e) { var f = t.cache.tilemap.get(e);
						f ? d = s(e, f.format, f.data, i, a, c) : console.warn("No map data found for key " + e) } return null === d && (d = new r({ tileWidth: i, tileHeight: a, width: l, height: h })), new o(t, d) } }, 23029: (t, e, i) => { var n = i(83419),
					r = i(31401),
					s = i(91907),
					o = i(62644),
					a = i(93232),
					l = new n({ Mixins: [r.AlphaSingle, r.Flip, r.Visible], initialize: function(t, e, i, n, r, s, o, a) { this.layer = t, this.index = e, this.x = i, this.y = n, this.width = r, this.height = s, this.right, this.bottom, this.baseWidth = void 0 !== o ? o : r, this.baseHeight = void 0 !== a ? a : s, this.pixelX = 0, this.pixelY = 0, this.updatePixelXY(), this.properties = {}, this.rotation = 0, this.collideLeft = !1, this.collideRight = !1, this.collideUp = !1, this.collideDown = !1, this.faceLeft = !1, this.faceRight = !1, this.faceTop = !1, this.faceBottom = !1, this.collisionCallback = void 0, this.collisionCallbackContext = this, this.tint = 16777215, this.tintFill = !1, this.physics = {} }, containsPoint: function(t, e) { return !(t < this.pixelX || e < this.pixelY || t > this.right || e > this.bottom) }, copy: function(t) { return this.index = t.index, this.alpha = t.alpha, this.properties = o(t.properties), this.visible = t.visible, this.setFlip(t.flipX, t.flipY), this.tint = t.tint, this.rotation = t.rotation, this.collideUp = t.collideUp, this.collideDown = t.collideDown, this.collideLeft = t.collideLeft, this.collideRight = t.collideRight, this.collisionCallback = t.collisionCallback, this.collisionCallbackContext = t.collisionCallbackContext, this }, getCollisionGroup: function() { return this.tileset ? this.tileset.getTileCollisionGroup(this.index) : null }, getTileData: function() { return this.tileset ? this.tileset.getTileData(this.index) : null }, getLeft: function(t) { var e = this.tilemapLayer; return e ? e.tileToWorldXY(this.x, this.y, void 0, t).x : this.x * this.baseWidth }, getRight: function(t) { var e = this.tilemapLayer; return e ? this.getLeft(t) + this.width * e.scaleX : this.getLeft(t) + this.width }, getTop: function(t) { var e = this.tilemapLayer; return e ? e.tileToWorldXY(this.x, this.y, void 0, t).y : this.y * this.baseWidth - (this.height - this.baseHeight) }, getBottom: function(t) { var e = this.tilemapLayer; return e ? this.getTop(t) + this.height * e.scaleY : this.getTop(t) + this.height }, getBounds: function(t, e) { return void 0 === e && (e = new a), e.x = this.getLeft(t), e.y = this.getTop(t), e.width = this.getRight(t) - e.x, e.height = this.getBottom(t) - e.y, e }, getCenterX: function(t) { return (this.getLeft(t) + this.getRight(t)) / 2 }, getCenterY: function(t) { return (this.getTop(t) + this.getBottom(t)) / 2 }, intersects: function(t, e, i, n) { return !(i <= this.pixelX || n <= this.pixelY || t >= this.right || e >= this.bottom) }, isInteresting: function(t, e) { return t && e ? this.canCollide || this.hasInterestingFace : t ? this.collides : !!e && this.hasInterestingFace }, resetCollision: function(t) { return void 0 === t && (t = !0), this.collideLeft = !1, this.collideRight = !1, this.collideUp = !1, this.collideDown = !1, this.faceTop = !1, this.faceBottom = !1, this.faceLeft = !1, this.faceRight = !1, t && this.tilemapLayer && this.tilemapLayer.calculateFacesAt(this.x, this.y), this }, resetFaces: function() { return this.faceTop = !1, this.faceBottom = !1, this.faceLeft = !1, this.faceRight = !1, this }, setCollision: function(t, e, i, n, r) { return void 0 === e && (e = t), void 0 === i && (i = t), void 0 === n && (n = t), void 0 === r && (r = !0), this.collideLeft = t, this.collideRight = e, this.collideUp = i, this.collideDown = n, this.faceLeft = t, this.faceRight = e, this.faceTop = i, this.faceBottom = n, r && this.tilemapLayer && this.tilemapLayer.calculateFacesAt(this.x, this.y), this }, setCollisionCallback: function(t, e) { return null === t ? (this.collisionCallback = void 0, this.collisionCallbackContext = void 0) : (this.collisionCallback = t, this.collisionCallbackContext = e), this }, setSize: function(t, e, i, n) { return void 0 !== t && (this.width = t), void 0 !== e && (this.height = e), void 0 !== i && (this.baseWidth = i), void 0 !== n && (this.baseHeight = n), this.updatePixelXY(), this }, updatePixelXY: function() { var t = this.layer.orientation; if (t === s.ORTHOGONAL) this.pixelX = this.x * this.baseWidth, this.pixelY = this.y * this.baseHeight;
							else if (t === s.ISOMETRIC) this.pixelX = (this.x - this.y) * this.baseWidth * .5, this.pixelY = (this.x + this.y) * this.baseHeight * .5;
							else if (t === s.STAGGERED) this.pixelX = this.x * this.baseWidth + this.y % 2 * (this.baseWidth / 2), this.pixelY = this.y * (this.baseHeight / 2);
							else if (t === s.HEXAGONAL) { var e, i, n = this.layer.staggerAxis,
									r = this.layer.staggerIndex,
									o = this.layer.hexSideLength; "y" === n ? (i = (this.baseHeight - o) / 2 + o, this.pixelX = "odd" === r ? this.x * this.baseWidth + this.y % 2 * (this.baseWidth / 2) : this.x * this.baseWidth - this.y % 2 * (this.baseWidth / 2), this.pixelY = this.y * i) : "x" === n && (e = (this.baseWidth - o) / 2 + o, this.pixelX = this.x * e, this.pixelY = "odd" === r ? this.y * this.baseHeight + this.x % 2 * (this.baseHeight / 2) : this.y * this.baseHeight - this.x % 2 * (this.baseHeight / 2)) } return this.right = this.pixelX + this.baseWidth, this.bottom = this.pixelY + this.baseHeight, this }, destroy: function() { this.collisionCallback = void 0, this.collisionCallbackContext = void 0, this.properties = void 0 }, canCollide: { get: function() { return this.collideLeft || this.collideRight || this.collideUp || this.collideDown || void 0 !== this.collisionCallback } }, collides: { get: function() { return this.collideLeft || this.collideRight || this.collideUp || this.collideDown } }, hasInterestingFace: { get: function() { return this.faceTop || this.faceBottom || this.faceLeft || this.faceRight } }, tileset: { get: function() { var t = this.layer.tilemapLayer; if (t) { var e = t.gidMap[this.index]; if (e) return e } return null } }, tilemapLayer: { get: function() { return this.layer.tilemapLayer } }, tilemap: { get: function() { var t = this.tilemapLayer; return t ? t.tilemap : null } } });
				t.exports = l }, 49075: (t, e, i) => { var n = i(84101),
					r = i(83419),
					s = i(39506),
					o = i(80341),
					a = i(95540),
					l = i(14977),
					h = i(27462),
					u = i(91907),
					c = i(36305),
					d = i(19133),
					f = i(68287),
					p = i(23029),
					g = i(81086),
					m = i(20442),
					v = i(33629),
					y = new r({ initialize: function(t, e) { this.scene = t, this.tileWidth = e.tileWidth, this.tileHeight = e.tileHeight, this.width = e.width, this.height = e.height, this.orientation = e.orientation, this.renderOrder = e.renderOrder, this.format = e.format, this.version = e.version, this.properties = e.properties, this.widthInPixels = e.widthInPixels, this.heightInPixels = e.heightInPixels, this.imageCollections = e.imageCollections, this.images = e.images, this.layers = e.layers, this.tiles = e.tiles, this.tilesets = e.tilesets, this.objects = e.objects, this.currentLayerIndex = 0, this.hexSideLength = e.hexSideLength; var i = this.orientation;
							this._convert = { WorldToTileXY: g.GetWorldToTileXYFunction(i), WorldToTileX: g.GetWorldToTileXFunction(i), WorldToTileY: g.GetWorldToTileYFunction(i), TileToWorldXY: g.GetTileToWorldXYFunction(i), TileToWorldX: g.GetTileToWorldXFunction(i), TileToWorldY: g.GetTileToWorldYFunction(i), GetTileCorners: g.GetTileCornersFunction(i) } }, setRenderOrder: function(t) { var e = ["right-down", "left-down", "right-up", "left-up"]; return "number" == typeof t && (t = e[t]), e.indexOf(t) > -1 && (this.renderOrder = t), this }, addTilesetImage: function(t, e, i, r, s, a, l, h) { if (void 0 === t) return null;
							null == e && (e = t); var u = this.scene.sys.textures; if (!u.exists(e)) return console.warn('Texture key "%s" not found', e), null; var c = u.get(e),
								d = this.getTilesetIndex(t); if (null === d && this.format === o.TILED_JSON) return console.warn('Tilemap has no tileset "%s". Its tilesets are %o', t, this.tilesets), null; var f = this.tilesets[d]; return f ? ((i || r) && f.setTileSize(i, r), (s || a) && f.setSpacing(s, a), f.setImage(c), f) : (void 0 === i && (i = this.tileWidth), void 0 === r && (r = this.tileHeight), void 0 === s && (s = 0), void 0 === a && (a = 0), void 0 === l && (l = 0), void 0 === h && (h = { x: 0, y: 0 }), (f = new v(t, l, i, r, s, a, void 0, void 0, h)).setImage(c), this.tilesets.push(f), this.tiles = n(this), f) }, copy: function(t, e, i, n, r, s, o, a) { return null !== (a = this.getLayer(a)) ? (g.Copy(t, e, i, n, r, s, o, a), this) : null }, createBlankLayer: function(t, e, i, n, r, s, o, a) { if (void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = this.width), void 0 === s && (s = this.height), void 0 === o && (o = this.tileWidth), void 0 === a && (a = this.tileHeight), null !== this.getLayerIndex(t)) return console.warn("Invalid Tilemap Layer ID: " + t), null; for (var h, u = new l({ name: t, tileWidth: o, tileHeight: a, width: r, height: s, orientation: this.orientation }), c = 0; c < s; c++) { h = []; for (var d = 0; d < r; d++) h.push(new p(u, -1, d, c, o, a, this.tileWidth, this.tileHeight));
								u.data.push(h) } this.layers.push(u), this.currentLayerIndex = this.layers.length - 1; var f = new m(this.scene, this, this.currentLayerIndex, e, i, n); return f.setRenderOrder(this.renderOrder), this.scene.sys.displayList.add(f), f }, createLayer: function(t, e, i, n) { var r = this.getLayerIndex(t); if (null === r) return console.warn("Invalid Tilemap Layer ID: " + t), "string" == typeof t && console.warn("Valid tilelayer names: %o", this.getTileLayerNames()), null; var s = this.layers[r]; if (s.tilemapLayer) return console.warn("Tilemap Layer ID already exists:" + t), null;
							this.currentLayerIndex = r, void 0 === i && (i = s.x), void 0 === n && (n = s.y); var o = new m(this.scene, this, r, e, i, n); return o.setRenderOrder(this.renderOrder), this.scene.sys.displayList.add(o), o }, createFromObjects: function(t, e, i) { void 0 === i && (i = !0); var n = [],
								r = this.getObjectLayer(t); if (!r) return console.warn("createFromObjects: Invalid objectLayerName given: " + t), n; var o = new h(i ? this.tilesets : void 0);
							Array.isArray(e) || (e = [e]); for (var l = r.objects, d = 0; d < e.length; d++) { var p, g = e[d],
									m = a(g, "id", null),
									v = a(g, "gid", null),
									y = a(g, "name", null),
									x = a(g, "type", null);
								o.enabled = !a(g, "ignoreTileset", null); for (var b = [], w = 0; w < l.length; w++) p = l[w], (null === m && null === v && null === y && null === x || null !== m && p.id === m || null !== v && p.gid === v || null !== y && p.name === y || null !== x && o.getTypeIncludingTile(p) === x) && b.push(p); for (var T = a(g, "classType", f), S = a(g, "scene", this.scene), _ = a(g, "container", null), E = a(g, "key", null), A = a(g, "frame", null), C = 0; C < b.length; C++) { p = b[C]; var k = new T(S); if (k.setName(p.name), k.setPosition(p.x, p.y), o.setTextureAndFrame(k, E, A, p), p.width && (k.displayWidth = p.width), p.height && (k.displayHeight = p.height), this.orientation === u.ISOMETRIC) { var P = this.tileWidth / this.tileHeight,
											O = { x: k.x - k.y, y: (k.x + k.y) / P };
										k.x = O.x, k.y = O.y } var R = { x: k.originX * p.width, y: (k.originY - (p.gid ? 1 : 0)) * p.height }; if (p.rotation) { var M = s(p.rotation);
										c(R, M), k.rotation = M } k.x += R.x, k.y += R.y, void 0 === p.flippedHorizontal && void 0 === p.flippedVertical || k.setFlip(p.flippedHorizontal, p.flippedVertical), p.visible || (k.visible = !1), o.setPropertiesFromTiledObject(k, p), _ ? _.add(k) : S.add.existing(k), n.push(k) } } return n }, createFromTiles: function(t, e, i, n, r, s) { return null === (s = this.getLayer(s)) ? null : g.CreateFromTiles(t, e, i, n, r, s) }, fill: function(t, e, i, n, r, s, o) { return void 0 === s && (s = !0), null === (o = this.getLayer(o)) ? null : (g.Fill(t, e, i, n, r, s, o), this) }, filterObjects: function(t, e, i) { if ("string" == typeof t) { var n = t; if (!(t = this.getObjectLayer(t))) return console.warn("No object layer found with the name: " + n), null } return t.objects.filter(e, i) }, filterTiles: function(t, e, i, n, r, s, o, a) { return null === (a = this.getLayer(a)) ? null : g.FilterTiles(t, e, i, n, r, s, o, a) }, findByIndex: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : g.FindByIndex(t, e, i, n) }, findObject: function(t, e, i) { if ("string" == typeof t) { var n = t; if (!(t = this.getObjectLayer(t))) return console.warn("No object layer found with the name: " + n), null } return t.objects.find(e, i) || null }, findTile: function(t, e, i, n, r, s, o, a) { return null === (a = this.getLayer(a)) ? null : g.FindTile(t, e, i, n, r, s, o, a) }, forEachTile: function(t, e, i, n, r, s, o, a) { return null === (a = this.getLayer(a)) ? null : (g.ForEachTile(t, e, i, n, r, s, o, a), this) }, getImageIndex: function(t) { return this.getIndex(this.images, t) }, getImageLayerNames: function() { return this.images && Array.isArray(this.images) ? this.images.map((function(t) { return t.name })) : [] }, getIndex: function(t, e) { for (var i = 0; i < t.length; i++)
								if (t[i].name === e) return i; return null }, getLayer: function(t) { var e = this.getLayerIndex(t); return null !== e ? this.layers[e] : null }, getObjectLayer: function(t) { var e = this.getIndex(this.objects, t); return null !== e ? this.objects[e] : null }, getObjectLayerNames: function() { return this.objects && Array.isArray(this.objects) ? this.objects.map((function(t) { return t.name })) : [] }, getLayerIndex: function(t) { return void 0 === t ? this.currentLayerIndex : "string" == typeof t ? this.getLayerIndexByName(t) : "number" == typeof t && t < this.layers.length ? t : t instanceof m && t.tilemap === this ? t.layerIndex : null }, getLayerIndexByName: function(t) { return this.getIndex(this.layers, t) }, getTileAt: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : g.GetTileAt(t, e, i, n) }, getTileAtWorldXY: function(t, e, i, n, r) { return null === (r = this.getLayer(r)) ? null : g.GetTileAtWorldXY(t, e, i, n, r) }, getTileLayerNames: function() { return this.layers && Array.isArray(this.layers) ? this.layers.map((function(t) { return t.name })) : [] }, getTilesWithin: function(t, e, i, n, r, s) { return null === (s = this.getLayer(s)) ? null : g.GetTilesWithin(t, e, i, n, r, s) }, getTilesWithinShape: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : g.GetTilesWithinShape(t, e, i, n) }, getTilesWithinWorldXY: function(t, e, i, n, r, s, o) { return null === (o = this.getLayer(o)) ? null : g.GetTilesWithinWorldXY(t, e, i, n, r, s, o) }, getTileset: function(t) { var e = this.getIndex(this.tilesets, t); return null !== e ? this.tilesets[e] : null }, getTilesetIndex: function(t) { return this.getIndex(this.tilesets, t) }, hasTileAt: function(t, e, i) { return null === (i = this.getLayer(i)) ? null : g.HasTileAt(t, e, i) }, hasTileAtWorldXY: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : g.HasTileAtWorldXY(t, e, i, n) }, layer: { get: function() { return this.layers[this.currentLayerIndex] }, set: function(t) { this.setLayer(t) } }, putTileAt: function(t, e, i, n, r) { return void 0 === n && (n = !0), null === (r = this.getLayer(r)) ? null : g.PutTileAt(t, e, i, n, r) }, putTileAtWorldXY: function(t, e, i, n, r, s) { return void 0 === n && (n = !0), null === (s = this.getLayer(s)) ? null : g.PutTileAtWorldXY(t, e, i, n, r, s) }, putTilesAt: function(t, e, i, n, r) { return void 0 === n && (n = !0), null === (r = this.getLayer(r)) ? null : (g.PutTilesAt(t, e, i, n, r), this) }, randomize: function(t, e, i, n, r, s) { return null === (s = this.getLayer(s)) ? null : (g.Randomize(t, e, i, n, r, s), this) }, calculateFacesAt: function(t, e, i) { return null === (i = this.getLayer(i)) ? null : (g.CalculateFacesAt(t, e, i), this) }, calculateFacesWithin: function(t, e, i, n, r) { return null === (r = this.getLayer(r)) ? null : (g.CalculateFacesWithin(t, e, i, n, r), this) }, removeLayer: function(t) { var e = this.getLayerIndex(t); if (null !== e) { d(this.layers, e); for (var i = e; i < this.layers.length; i++) this.layers[i].tilemapLayer && this.layers[i].tilemapLayer.layerIndex--; return this.currentLayerIndex === e && (this.currentLayerIndex = 0), this } return null }, destroyLayer: function(t) { var e = this.getLayerIndex(t); return null !== e ? ((t = this.layers[e]).tilemapLayer.destroy(), d(this.layers, e), this.currentLayerIndex === e && (this.currentLayerIndex = 0), this) : null }, removeAllLayers: function() { for (var t = this.layers, e = 0; e < t.length; e++) t[e].tilemapLayer && t[e].tilemapLayer.destroy(!1); return t.length = 0, this.currentLayerIndex = 0, this }, removeTile: function(t, e, i) { void 0 === e && (e = -1), void 0 === i && (i = !0); var n = [];
							Array.isArray(t) || (t = [t]); for (var r = 0; r < t.length; r++) { var s = t[r];
								n.push(this.removeTileAt(s.x, s.y, !0, i, s.tilemapLayer)), e > -1 && this.putTileAt(e, s.x, s.y, i, s.tilemapLayer) } return n }, removeTileAt: function(t, e, i, n, r) { return void 0 === i && (i = !0), void 0 === n && (n = !0), null === (r = this.getLayer(r)) ? null : g.RemoveTileAt(t, e, i, n, r) }, removeTileAtWorldXY: function(t, e, i, n, r, s) { return void 0 === i && (i = !0), void 0 === n && (n = !0), null === (s = this.getLayer(s)) ? null : g.RemoveTileAtWorldXY(t, e, i, n, r, s) }, renderDebug: function(t, e, i) { return null === (i = this.getLayer(i)) ? null : (this.orientation === u.ORTHOGONAL && g.RenderDebug(t, e, i), this) }, renderDebugFull: function(t, e) { for (var i = this.layers, n = 0; n < i.length; n++) g.RenderDebug(t, e, i[n]); return this }, replaceByIndex: function(t, e, i, n, r, s, o) { return null === (o = this.getLayer(o)) ? null : (g.ReplaceByIndex(t, e, i, n, r, s, o), this) }, setCollision: function(t, e, i, n, r) { return void 0 === e && (e = !0), void 0 === i && (i = !0), void 0 === r && (r = !0), null === (n = this.getLayer(n)) ? null : (g.SetCollision(t, e, i, n, r), this) }, setCollisionBetween: function(t, e, i, n, r) { return void 0 === i && (i = !0), void 0 === n && (n = !0), null === (r = this.getLayer(r)) ? null : (g.SetCollisionBetween(t, e, i, n, r), this) }, setCollisionByProperty: function(t, e, i, n) { return void 0 === e && (e = !0), void 0 === i && (i = !0), null === (n = this.getLayer(n)) ? null : (g.SetCollisionByProperty(t, e, i, n), this) }, setCollisionByExclusion: function(t, e, i, n) { return void 0 === e && (e = !0), void 0 === i && (i = !0), null === (n = this.getLayer(n)) ? null : (g.SetCollisionByExclusion(t, e, i, n), this) }, setCollisionFromCollisionGroup: function(t, e, i) { return void 0 === t && (t = !0), void 0 === e && (e = !0), null === (i = this.getLayer(i)) ? null : (g.SetCollisionFromCollisionGroup(t, e, i), this) }, setTileIndexCallback: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : (g.SetTileIndexCallback(t, e, i, n), this) }, setTileLocationCallback: function(t, e, i, n, r, s, o) { return null === (o = this.getLayer(o)) ? null : (g.SetTileLocationCallback(t, e, i, n, r, s, o), this) }, setLayer: function(t) { var e = this.getLayerIndex(t); return null !== e && (this.currentLayerIndex = e), this }, setBaseTileSize: function(t, e) { this.tileWidth = t, this.tileHeight = e, this.widthInPixels = this.width * t, this.heightInPixels = this.height * e; for (var i = 0; i < this.layers.length; i++) { this.layers[i].baseTileWidth = t, this.layers[i].baseTileHeight = e; for (var n = this.layers[i].data, r = this.layers[i].width, s = this.layers[i].height, o = 0; o < s; o++)
									for (var a = 0; a < r; a++) { var l = n[o][a];
										null !== l && l.setSize(void 0, void 0, t, e) } } return this }, setLayerTileSize: function(t, e, i) { if (null === (i = this.getLayer(i))) return this;
							i.tileWidth = t, i.tileHeight = e; for (var n = i.data, r = i.width, s = i.height, o = 0; o < s; o++)
								for (var a = 0; a < r; a++) { var l = n[o][a];
									null !== l && l.setSize(t, e) }
							return this }, shuffle: function(t, e, i, n, r) { return null === (r = this.getLayer(r)) ? null : (g.Shuffle(t, e, i, n, r), this) }, swapByIndex: function(t, e, i, n, r, s, o) { return null === (o = this.getLayer(o)) ? null : (g.SwapByIndex(t, e, i, n, r, s, o), this) }, tileToWorldX: function(t, e, i) { return null === (i = this.getLayer(i)) ? null : this._convert.TileToWorldX(t, e, i) }, tileToWorldY: function(t, e, i) { return null === (i = this.getLayer(i)) ? null : this._convert.TileToWorldY(t, e, i) }, tileToWorldXY: function(t, e, i, n, r) { return null === (r = this.getLayer(r)) ? null : this._convert.TileToWorldXY(t, e, i, n, r) }, getTileCorners: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : this._convert.GetTileCorners(t, e, i, n) }, weightedRandomize: function(t, e, i, n, r, s) { return null === (s = this.getLayer(s)) ? null : (g.WeightedRandomize(e, i, n, r, t, s), this) }, worldToTileX: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : this._convert.WorldToTileX(t, e, i, n) }, worldToTileY: function(t, e, i, n) { return null === (n = this.getLayer(n)) ? null : this._convert.WorldToTileY(t, e, i, n) }, worldToTileXY: function(t, e, i, n, r, s) { return null === (s = this.getLayer(s)) ? null : this._convert.WorldToTileXY(t, e, i, n, r, s) }, destroy: function() { this.removeAllLayers(), this.tiles.length = 0, this.tilesets.length = 0, this.objects.length = 0, this.scene = null } });
				t.exports = y }, 45939: (t, e, i) => { var n = i(44603),
					r = i(31989);
				n.register("tilemap", (function(t) { var e = void 0 !== t ? t : {}; return r(this.scene, e.key, e.tileWidth, e.tileHeight, e.width, e.height, e.data, e.insertNull) })) }, 46029: (t, e, i) => { var n = i(39429),
					r = i(31989);
				n.register("tilemap", (function(t, e, i, n, s, o, a) { return null === t && (t = void 0), null === e && (e = void 0), null === i && (i = void 0), null === n && (n = void 0), null === s && (s = void 0), r(this.scene, t, e, i, n, s, o, a) })) }, 20442: (t, e, i) => { var n = i(83419),
					r = i(78389),
					s = i(31401),
					o = i(95643),
					a = i(81086),
					l = i(19218),
					h = i(26099),
					u = new n({ Extends: o, Mixins: [s.Alpha, s.BlendMode, s.ComputedSize, s.Depth, s.Flip, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.PostPipeline, s.Transform, s.Visible, s.ScrollFactor, r, l], initialize: function(t, e, i, n, r, s) { o.call(this, t, "TilemapLayer"), this.isTilemap = !0, this.tilemap = e, this.layerIndex = i, this.layer = e.layers[i], this.layer.tilemapLayer = this, this.tileset = [], this.tilesDrawn = 0, this.tilesTotal = this.layer.width * this.layer.height, this.culledTiles = [], this.skipCull = !1, this.cullPaddingX = 1, this.cullPaddingY = 1, this.cullCallback = a.GetCullTilesFunction(this.layer.orientation), this._renderOrder = 0, this.gidMap = [], this.tempVec = new h, this.collisionCategory = 1, this.collisionMask = 1, this.setTilesets(n), this.setAlpha(this.layer.alpha), this.setPosition(r, s), this.setOrigin(0, 0), this.setSize(e.tileWidth * this.layer.width, e.tileHeight * this.layer.height), this.initPipeline(), this.initPostPipeline(!1) }, setTilesets: function(t) { var e = [],
								i = [],
								n = this.tilemap;
							Array.isArray(t) || (t = [t]); for (var r = 0; r < t.length; r++) { var s = t[r]; if ("string" == typeof s && (s = n.getTileset(s)), s) { i.push(s); for (var o = s.firstgid, a = 0; a < s.total; a++) e[o + a] = s } } this.gidMap = e, this.tileset = i }, setRenderOrder: function(t) { return "string" == typeof t && (t = ["right-down", "left-down", "right-up", "left-up"].indexOf(t)), t >= 0 && t < 4 && (this._renderOrder = t), this }, calculateFacesAt: function(t, e) { return a.CalculateFacesAt(t, e, this.layer), this }, calculateFacesWithin: function(t, e, i, n) { return a.CalculateFacesWithin(t, e, i, n, this.layer), this }, createFromTiles: function(t, e, i, n, r) { return a.CreateFromTiles(t, e, i, n, r, this.layer) }, cull: function(t) { return this.cullCallback(this.layer, t, this.culledTiles, this._renderOrder) }, copy: function(t, e, i, n, r, s, o) { return a.Copy(t, e, i, n, r, s, o, this.layer), this }, fill: function(t, e, i, n, r, s) { return a.Fill(t, e, i, n, r, s, this.layer), this }, filterTiles: function(t, e, i, n, r, s, o) { return a.FilterTiles(t, e, i, n, r, s, o, this.layer) }, findByIndex: function(t, e, i) { return a.FindByIndex(t, e, i, this.layer) }, findTile: function(t, e, i, n, r, s, o) { return a.FindTile(t, e, i, n, r, s, o, this.layer) }, forEachTile: function(t, e, i, n, r, s, o) { return a.ForEachTile(t, e, i, n, r, s, o, this.layer), this }, setTint: function(t, e, i, n, r, s) { return void 0 === t && (t = 16777215), this.forEachTile((function(e) { e.tint = t, e.tintFill = !1 }), this, e, i, n, r, s) }, setTintFill: function(t, e, i, n, r, s) { return void 0 === t && (t = 16777215), this.forEachTile((function(e) { e.tint = t, e.tintFill = !0 }), this, e, i, n, r, s) }, getTileAt: function(t, e, i) { return a.GetTileAt(t, e, i, this.layer) }, getTileAtWorldXY: function(t, e, i, n) { return a.GetTileAtWorldXY(t, e, i, n, this.layer) }, getIsoTileAtWorldXY: function(t, e, i, n, r) { void 0 === i && (i = !0); var s = this.tempVec; return a.IsometricWorldToTileXY(t, e, !0, s, r, this.layer, i), this.getTileAt(s.x, s.y, n) }, getTilesWithin: function(t, e, i, n, r) { return a.GetTilesWithin(t, e, i, n, r, this.layer) }, getTilesWithinShape: function(t, e, i) { return a.GetTilesWithinShape(t, e, i, this.layer) }, getTilesWithinWorldXY: function(t, e, i, n, r, s) { return a.GetTilesWithinWorldXY(t, e, i, n, r, s, this.layer) }, hasTileAt: function(t, e) { return a.HasTileAt(t, e, this.layer) }, hasTileAtWorldXY: function(t, e, i) { return a.HasTileAtWorldXY(t, e, i, this.layer) }, putTileAt: function(t, e, i, n) { return a.PutTileAt(t, e, i, n, this.layer) }, putTileAtWorldXY: function(t, e, i, n, r) { return a.PutTileAtWorldXY(t, e, i, n, r, this.layer) }, putTilesAt: function(t, e, i, n) { return a.PutTilesAt(t, e, i, n, this.layer), this }, randomize: function(t, e, i, n, r) { return a.Randomize(t, e, i, n, r, this.layer), this }, removeTileAt: function(t, e, i, n) { return a.RemoveTileAt(t, e, i, n, this.layer) }, removeTileAtWorldXY: function(t, e, i, n, r) { return a.RemoveTileAtWorldXY(t, e, i, n, r, this.layer) }, renderDebug: function(t, e) { return a.RenderDebug(t, e, this.layer), this }, replaceByIndex: function(t, e, i, n, r, s) { return a.ReplaceByIndex(t, e, i, n, r, s, this.layer), this }, setSkipCull: function(t) { return void 0 === t && (t = !0), this.skipCull = t, this }, setCullPadding: function(t, e) { return void 0 === t && (t = 1), void 0 === e && (e = 1), this.cullPaddingX = t, this.cullPaddingY = e, this }, setCollision: function(t, e, i, n) { return a.SetCollision(t, e, i, this.layer, n), this }, setCollisionBetween: function(t, e, i, n) { return a.SetCollisionBetween(t, e, i, n, this.layer), this }, setCollisionByProperty: function(t, e, i) { return a.SetCollisionByProperty(t, e, i, this.layer), this }, setCollisionByExclusion: function(t, e, i) { return a.SetCollisionByExclusion(t, e, i, this.layer), this }, setCollisionFromCollisionGroup: function(t, e) { return a.SetCollisionFromCollisionGroup(t, e, this.layer), this }, setTileIndexCallback: function(t, e, i) { return a.SetTileIndexCallback(t, e, i, this.layer), this }, setTileLocationCallback: function(t, e, i, n, r, s) { return a.SetTileLocationCallback(t, e, i, n, r, s, this.layer), this }, shuffle: function(t, e, i, n) { return a.Shuffle(t, e, i, n, this.layer), this }, swapByIndex: function(t, e, i, n, r, s) { return a.SwapByIndex(t, e, i, n, r, s, this.layer), this }, tileToWorldX: function(t, e) { return this.tilemap.tileToWorldX(t, e, this) }, tileToWorldY: function(t, e) { return this.tilemap.tileToWorldY(t, e, this) }, tileToWorldXY: function(t, e, i, n) { return this.tilemap.tileToWorldXY(t, e, i, n, this) }, getTileCorners: function(t, e, i) { return this.tilemap.getTileCorners(t, e, i, this) }, weightedRandomize: function(t, e, i, n, r) { return a.WeightedRandomize(e, i, n, r, t, this.layer), this }, worldToTileX: function(t, e, i) { return this.tilemap.worldToTileX(t, e, i, this) }, worldToTileY: function(t, e, i) { return this.tilemap.worldToTileY(t, e, i, this) }, worldToTileXY: function(t, e, i, n, r) { return this.tilemap.worldToTileXY(t, e, i, n, r, this) }, destroy: function(t) { void 0 === t && (t = !0), this.tilemap && (this.layer.tilemapLayer === this && (this.layer.tilemapLayer = void 0), t && this.tilemap.removeLayer(this), this.tilemap = void 0, this.layer = void 0, this.culledTiles.length = 0, this.cullCallback = null, this.gidMap = [], this.tileset = [], o.prototype.destroy.call(this)) } });
				t.exports = u }, 16153: (t, e, i) => { var n = i(61340),
					r = new n,
					s = new n,
					o = new n;
				t.exports = function(t, e, i, n) { var a = e.cull(i),
						l = a.length,
						h = i.alpha * e.alpha; if (!(0 === l || h <= 0)) { var u = r,
							c = s,
							d = o;
						c.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), u.copyFrom(i.matrix); var f = t.currentContext,
							p = e.gidMap;
						f.save(), n ? (u.multiplyWithOffset(n, -i.scrollX * e.scrollFactorX, -i.scrollY * e.scrollFactorY), c.e = e.x, c.f = e.y, u.multiply(c, d), d.copyToContext(f)) : (c.e -= i.scrollX * e.scrollFactorX, c.f -= i.scrollY * e.scrollFactorY, c.copyToContext(f)), (!t.antialias || e.scaleX > 1 || e.scaleY > 1) && (f.imageSmoothingEnabled = !1); for (var g = 0; g < l; g++) { var m = a[g],
								v = p[m.index]; if (v) { var y = v.image.getSourceImage(),
									x = v.getTileTextureCoordinates(m.index),
									b = v.tileWidth,
									w = v.tileHeight; if (null !== x && 0 !== b && 0 !== w) { var T = .5 * b,
										S = .5 * w;
									x.x += v.tileOffset.x, x.y += v.tileOffset.y, f.save(), f.translate(m.pixelX + T, m.pixelY + S), 0 !== m.rotation && f.rotate(m.rotation), (m.flipX || m.flipY) && f.scale(m.flipX ? -1 : 1, m.flipY ? -1 : 1), f.globalAlpha = h * m.alpha, f.drawImage(y, x.x, x.y, b, w, -T, -S, b, w), f.restore() } } } f.restore() } } }, 19218: (t, e, i) => { var n, r;
				i(29747), n = i(99558), r = i(16153), t.exports = { renderWebGL: n, renderCanvas: r } }, 99558: (t, e, i) => { var n = i(70554);
				t.exports = function(t, e, i) { var r = e.cull(i),
						s = r.length,
						o = i.alpha * e.alpha; if (!(0 === s || o <= 0)) { var a = e.gidMap,
							l = t.pipelines.set(e.pipeline, e),
							h = n.getTintAppendFloatAlpha,
							u = e.scrollFactorX,
							c = e.scrollFactorY,
							d = e.x,
							f = e.y,
							p = e.scaleX,
							g = e.scaleY;
						t.pipelines.preBatch(e); for (var m = 0; m < s; m++) { var v = r[m],
								y = a[v.index]; if (y) { var x = y.getTileTextureCoordinates(v.index),
									b = y.tileWidth,
									w = y.tileHeight; if (x && 0 !== b && 0 !== w) { var T = .5 * b,
										S = .5 * w,
										_ = y.glTexture,
										E = l.setTexture2D(_, e),
										A = b,
										C = w,
										k = x.x,
										P = x.y,
										O = y.tileOffset.x,
										R = y.tileOffset.y,
										M = h(v.tint, o * v.alpha);
									l.batchTexture(e, _, _.width, _.height, d + v.pixelX * p + (T * p - O), f + v.pixelY * g + (S * g - R), b, w, p, g, v.rotation, v.flipX, v.flipY, u, c, T, S, k, P, A, C, M, M, M, M, v.tintFill, 0, 0, i, null, !0, E, !0) } } } t.pipelines.postBatch(e) } } }, 33629: (t, e, i) => { var n = i(83419),
					r = i(26099),
					s = new n({ initialize: function(t, e, i, n, s, o, a, l, h) {
							(void 0 === i || i <= 0) && (i = 32), (void 0 === n || n <= 0) && (n = 32), void 0 === s && (s = 0), void 0 === o && (o = 0), void 0 === a && (a = {}), void 0 === l && (l = {}), this.name = t, this.firstgid = e, this.tileWidth = i, this.tileHeight = n, this.tileMargin = s, this.tileSpacing = o, this.tileProperties = a, this.tileData = l, this.tileOffset = new r, void 0 !== h && this.tileOffset.set(h.x, h.y), this.image = null, this.glTexture = null, this.rows = 0, this.columns = 0, this.total = 0, this.texCoordinates = [] }, getTileProperties: function(t) { return this.containsTileIndex(t) ? this.tileProperties[t - this.firstgid] : null }, getTileData: function(t) { return this.containsTileIndex(t) ? this.tileData[t - this.firstgid] : null }, getTileCollisionGroup: function(t) { var e = this.getTileData(t); return e && e.objectgroup ? e.objectgroup : null }, containsTileIndex: function(t) { return t >= this.firstgid && t < this.firstgid + this.total }, getTileTextureCoordinates: function(t) { return this.containsTileIndex(t) ? this.texCoordinates[t - this.firstgid] : null }, setImage: function(t) { this.image = t; var e = t.get(),
								i = t.getFrameBounds(); return this.glTexture = e.source.glTexture, e.width > i.width || e.height > i.height ? this.updateTileData(e.width, e.height) : this.updateTileData(i.width, i.height, i.x, i.y), this }, setTileSize: function(t, e) { return void 0 !== t && (this.tileWidth = t), void 0 !== e && (this.tileHeight = e), this.image && this.updateTileData(this.image.source[0].width, this.image.source[0].height), this }, setSpacing: function(t, e) { return void 0 !== t && (this.tileMargin = t), void 0 !== e && (this.tileSpacing = e), this.image && this.updateTileData(this.image.source[0].width, this.image.source[0].height), this }, updateTileData: function(t, e, i, n) { void 0 === i && (i = 0), void 0 === n && (n = 0); var r = (e - 2 * this.tileMargin + this.tileSpacing) / (this.tileHeight + this.tileSpacing),
								s = (t - 2 * this.tileMargin + this.tileSpacing) / (this.tileWidth + this.tileSpacing);
							r % 1 == 0 && s % 1 == 0 || console.warn("Image tile area not tile size multiple in: " + this.name), r = Math.floor(r), s = Math.floor(s), this.rows = r, this.columns = s, this.total = r * s, this.texCoordinates.length = 0; for (var o = this.tileMargin + i, a = this.tileMargin + n, l = 0; l < this.rows; l++) { for (var h = 0; h < this.columns; h++) this.texCoordinates.push({ x: o, y: a }), o += this.tileWidth + this.tileSpacing;
								o = this.tileMargin + i, a += this.tileHeight + this.tileSpacing } return this } });
				t.exports = s }, 72023: (t, e, i) => { var n = i(7423);
				t.exports = function(t, e, i) { var r = n(t, e, !0, i),
						s = n(t, e - 1, !0, i),
						o = n(t, e + 1, !0, i),
						a = n(t - 1, e, !0, i),
						l = n(t + 1, e, !0, i),
						h = r && r.collides; return h && (r.faceTop = !0, r.faceBottom = !0, r.faceLeft = !0, r.faceRight = !0), s && s.collides && (h && (r.faceTop = !1), s.faceBottom = !h), o && o.collides && (h && (r.faceBottom = !1), o.faceTop = !h), a && a.collides && (h && (r.faceLeft = !1), a.faceRight = !h), l && l.collides && (h && (r.faceRight = !1), l.faceLeft = !h), r && !r.collides && r.resetFaces(), r } }, 42573: (t, e, i) => { var n = i(7423),
					r = i(7386);
				t.exports = function(t, e, i, s, o) { for (var a = null, l = null, h = null, u = null, c = r(t, e, i, s, null, o), d = 0; d < c.length; d++) { var f = c[d];
						f && (f.collides ? (a = n(f.x, f.y - 1, !0, o), l = n(f.x, f.y + 1, !0, o), h = n(f.x - 1, f.y, !0, o), u = n(f.x + 1, f.y, !0, o), f.faceTop = !a || !a.collides, f.faceBottom = !l || !l.collides, f.faceLeft = !h || !h.collides, f.faceRight = !u || !u.collides) : f.resetFaces()) } } }, 33528: (t, e, i) => { var n = new(i(26099));
				t.exports = function(t, e, i, r) { var s = i.tilemapLayer,
						o = s.cullPaddingX,
						a = s.cullPaddingY,
						l = s.tilemap.tileToWorldXY(t, e, n, r, s); return l.x > r.worldView.x + s.scaleX * i.tileWidth * (-o - .5) && l.x < r.worldView.right + s.scaleX * i.tileWidth * (o - .5) && l.y > r.worldView.y + s.scaleY * i.tileHeight * (-a - 1) && l.y < r.worldView.bottom + s.scaleY * i.tileHeight * (a - .5) } }, 1785: (t, e, i) => { var n = i(42573),
					r = i(7386),
					s = i(62991),
					o = i(23029);
				t.exports = function(t, e, i, a, l, h, u, c) { void 0 === u && (u = !0); var d = r(t, e, i, a, null, c),
						f = [];
					d.forEach((function(t) { var e = new o(t.layer, t.index, t.x, t.y, t.width, t.height, t.baseWidth, t.baseHeight);
						e.copy(t), f.push(e) })); for (var p = l - t, g = h - e, m = 0; m < f.length; m++) { var v = f[m],
							y = v.x + p,
							x = v.y + g;
						s(y, x, c) && c.data[x][y] && (v.x = y, v.y = x, v.updatePixelXY(), c.data[x][y] = v) } u && n(l - 1, h - 1, i + 2, a + 2, c), d.length = 0, f.length = 0 } }, 78419: (t, e, i) => { var n = i(62644),
					r = i(7386),
					s = i(27987);
				t.exports = function(t, e, i, o, a, l) { i || (i = {}), Array.isArray(t) || (t = [t]); var h = l.tilemapLayer;
					o || (o = h.scene), a || (a = o.cameras.main); var u, c = l.width,
						d = l.height,
						f = r(0, 0, c, d, null, l),
						p = [],
						g = function(t, e, i) { for (var n = 0; n < i.length; n++) { var r = i[n];
								t.hasOwnProperty(r) || (t[r] = e[r]) } }; for (u = 0; u < f.length; u++) { var m = f[u],
							v = n(i); if (-1 !== t.indexOf(m.index)) { var y = h.tileToWorldXY(m.x, m.y, void 0, a, l);
							v.x = y.x, v.y = y.y, g(v, m, ["rotation", "flipX", "flipY", "alpha", "visible", "tint"]), v.hasOwnProperty("origin") || (v.x += .5 * m.width, v.y += .5 * m.height), v.hasOwnProperty("useSpriteSheet") && (v.key = m.tileset.image, v.frame = m.index - 1), p.push(o.make.sprite(v)) } } if (Array.isArray(e))
						for (u = 0; u < t.length; u++) s(t[u], e[u], 0, 0, c, d, l);
					else if (null !== e)
						for (u = 0; u < t.length; u++) s(t[u], e, 0, 0, c, d, l); return p } }, 19545: (t, e, i) => { var n = i(87841),
					r = i(63448),
					s = i(56583),
					o = new n;
				t.exports = function(t, e) { var i = t.tilemapLayer.tilemap,
						n = t.tilemapLayer,
						a = Math.floor(i.tileWidth * n.scaleX),
						l = Math.floor(i.tileHeight * n.scaleY),
						h = s(e.worldView.x - n.x, a, 0, !0) - n.cullPaddingX,
						u = r(e.worldView.right - n.x, a, 0, !0) + n.cullPaddingX,
						c = s(e.worldView.y - n.y, l, 0, !0) - n.cullPaddingY,
						d = r(e.worldView.bottom - n.y, l, 0, !0) + n.cullPaddingY; return o.setTo(h, c, u - h, d - c) } }, 30003: (t, e, i) => { var n = i(19545),
					r = i(32483);
				t.exports = function(t, e, i, s) { void 0 === i && (i = []), void 0 === s && (s = 0), i.length = 0; var o = t.tilemapLayer,
						a = n(t, e); return (o.skipCull || 1 !== o.scrollFactorX || 1 !== o.scrollFactorY) && (a.left = 0, a.right = t.width, a.top = 0, a.bottom = t.height), r(t, a, s, i), i } }, 35137: (t, e, i) => { var n = i(7386),
					r = i(42573),
					s = i(20576);
				t.exports = function(t, e, i, o, a, l, h) { for (var u = -1 !== h.collideIndexes.indexOf(t), c = n(e, i, o, a, null, h), d = 0; d < c.length; d++) c[d].index = t, s(c[d], u);
					l && r(e - 1, i - 1, o + 2, a + 2, h) } }, 40253: (t, e, i) => { var n = i(7386);
				t.exports = function(t, e, i, r, s, o, a, l) { return n(i, r, s, o, a, l).filter(t, e) } }, 52692: t => { t.exports = function(t, e, i, n) { void 0 === e && (e = 0), void 0 === i && (i = !1); var r, s, o, a = 0; if (i) { for (s = n.height - 1; s >= 0; s--)
							for (r = n.width - 1; r >= 0; r--)
								if ((o = n.data[s][r]) && o.index === t) { if (a === e) return o;
									a += 1 } } else
						for (s = 0; s < n.height; s++)
							for (r = 0; r < n.width; r++)
								if ((o = n.data[s][r]) && o.index === t) { if (a === e) return o;
									a += 1 } return null } }, 66151: (t, e, i) => { var n = i(7386);
				t.exports = function(t, e, i, r, s, o, a, l) { return n(i, r, s, o, a, l).find(t, e) || null } }, 97560: (t, e, i) => { var n = i(7386);
				t.exports = function(t, e, i, r, s, o, a, l) { n(i, r, s, o, a, l).forEach(t, e) } }, 43305: (t, e, i) => { var n = i(91907),
					r = i(30003),
					s = i(9474),
					o = i(14018),
					a = i(29747),
					l = i(54503);
				t.exports = function(t) { return t === n.ORTHOGONAL ? r : t === n.HEXAGONAL ? s : t === n.STAGGERED ? l : t === n.ISOMETRIC ? o : a } }, 7423: (t, e, i) => { var n = i(62991);
				t.exports = function(t, e, i, r) { if (n(t, e, r)) { var s = r.data[e][t] || null; return s ? -1 === s.index ? i ? s : null : s : null } return null } }, 60540: (t, e, i) => { var n = i(7423),
					r = new(i(26099));
				t.exports = function(t, e, i, s, o) { return o.tilemapLayer.worldToTileXY(t, e, !0, r, s), n(r.x, r.y, i, o) } }, 55826: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r) { var s = r.baseTileWidth,
						o = r.baseTileHeight,
						a = r.tilemapLayer,
						l = 0,
						h = 0;
					a && (i || (i = a.scene.cameras.main), l = a.x + i.scrollX * (1 - a.scrollFactorX), h = a.y + i.scrollY * (1 - a.scrollFactorY), s *= a.scaleX, o *= a.scaleY); var u = l + t * s,
						c = h + e * o; return [new n(u, c), new n(u + s, c), new n(u + s, c + o), new n(u, c + o)] } }, 11758: (t, e, i) => { var n = i(91907),
					r = i(27229),
					s = i(29747),
					o = i(55826);
				t.exports = function(t) { return t === n.ORTHOGONAL ? o : t === n.ISOMETRIC ? s : t === n.HEXAGONAL ? r : (n.STAGGERED, s) } }, 39167: (t, e, i) => { var n = i(91907),
					r = i(29747),
					s = i(97281);
				t.exports = function(t) { return t === n.ORTHOGONAL ? s : r } }, 62e3: (t, e, i) => { var n = i(91907),
					r = i(19951),
					s = i(14127),
					o = i(29747),
					a = i(97202),
					l = i(70326);
				t.exports = function(t) { return t === n.ORTHOGONAL ? l : t === n.ISOMETRIC ? s : t === n.HEXAGONAL ? r : t === n.STAGGERED ? a : o } }, 5984: (t, e, i) => { var n = i(91907),
					r = i(29747),
					s = i(28054),
					o = i(29650);
				t.exports = function(t) { return t === n.ORTHOGONAL ? o : t === n.STAGGERED ? s : r } }, 7386: (t, e, i) => { var n = i(95540);
				t.exports = function(t, e, i, r, s, o) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = o.width), void 0 === r && (r = o.height), s || (s = {}); var a = n(s, "isNotEmpty", !1),
						l = n(s, "isColliding", !1),
						h = n(s, "hasInterestingFace", !1);
					t < 0 && (i += t, t = 0), e < 0 && (r += e, e = 0), t + i > o.width && (i = Math.max(o.width - t, 0)), e + r > o.height && (r = Math.max(o.height - e, 0)); for (var u = [], c = e; c < e + r; c++)
						for (var d = t; d < t + i; d++) { var f = o.data[c][d]; if (null !== f) { if (a && -1 === f.index) continue; if (l && !f.collides) continue; if (h && !f.hasInterestingFace) continue;
								u.push(f) } }
					return u } }, 91141: (t, e, i) => { var n = i(55738),
					r = i(7386),
					s = i(91865),
					o = i(29747),
					a = i(26099),
					l = function(t, e) { return s.RectangleToTriangle(e, t) },
					h = new a,
					u = new a,
					c = new a;
				t.exports = function(t, e, i, a) { if (void 0 === t) return []; var d = o;
					t instanceof n.Circle ? d = s.CircleToRectangle : t instanceof n.Rectangle ? d = s.RectangleToRectangle : t instanceof n.Triangle ? d = l : t instanceof n.Line && (d = s.LineToRectangle), a.tilemapLayer.worldToTileXY(t.left, t.top, !0, u, i); var f = u.x,
						p = u.y;
					a.tilemapLayer.worldToTileXY(t.right, t.bottom, !1, c, i); var g = Math.ceil(c.x),
						m = Math.ceil(c.y),
						v = Math.max(g - f, 1),
						y = Math.max(m - p, 1),
						x = r(f, p, v, y, e, a),
						b = a.tileWidth,
						w = a.tileHeight;
					a.tilemapLayer && (b *= a.tilemapLayer.scaleX, w *= a.tilemapLayer.scaleY); for (var T = [], S = new n.Rectangle(0, 0, b, w), _ = 0; _ < x.length; _++) { var E = x[_];
						a.tilemapLayer.tileToWorldXY(E.x, E.y, h, i), S.x = h.x, S.y = h.y, d(t, S) && T.push(E) } return T } }, 96523: (t, e, i) => { var n = i(7386),
					r = i(26099),
					s = new r,
					o = new r;
				t.exports = function(t, e, i, r, a, l, h) { var u = h.tilemapLayer.tilemap._convert.WorldToTileXY;
					u(t, e, !0, s, l, h); var c = s.x,
						d = s.y;
					u(t + i, e + r, !1, o, l, h); var f = Math.ceil(o.x),
						p = Math.ceil(o.y); return n(c, d, f - c, p - d, a, h) } }, 96113: (t, e, i) => { var n = i(91907),
					r = i(20242),
					s = i(10095);
				t.exports = function(t) { return t === n.ORTHOGONAL ? s : r } }, 16926: (t, e, i) => { var n = i(91907),
					r = i(86625),
					s = i(96897),
					o = i(29747),
					a = i(15108),
					l = i(85896);
				t.exports = function(t) { return t === n.ORTHOGONAL ? l : t === n.ISOMETRIC ? s : t === n.HEXAGONAL ? r : t === n.STAGGERED ? a : o } }, 55762: (t, e, i) => { var n = i(91907),
					r = i(20242),
					s = i(51900),
					o = i(63288);
				t.exports = function(t) { return t === n.ORTHOGONAL ? o : t === n.STAGGERED ? s : r } }, 45091: (t, e, i) => { var n = i(62991);
				t.exports = function(t, e, i) { if (n(t, e, i)) { var r = i.data[e][t]; return null !== r && r.index > -1 } return !1 } }, 24152: (t, e, i) => { var n = i(45091),
					r = new(i(26099));
				t.exports = function(t, e, i, s) { s.tilemapLayer.worldToTileXY(t, e, !0, r, i); var o = r.x,
						a = r.y; return n(o, a, s) } }, 90454: (t, e, i) => { var n = i(63448),
					r = i(56583);
				t.exports = function(t, e) { var i, s, o, a, l = t.tilemapLayer.tilemap,
						h = t.tilemapLayer,
						u = Math.floor(l.tileWidth * h.scaleX),
						c = Math.floor(l.tileHeight * h.scaleY),
						d = t.hexSideLength; if ("y" === t.staggerAxis) { var f = (c - d) / 2 + d;
						i = r(e.worldView.x - h.x, u, 0, !0) - h.cullPaddingX, s = n(e.worldView.right - h.x, u, 0, !0) + h.cullPaddingX, o = r(e.worldView.y - h.y, f, 0, !0) - h.cullPaddingY, a = n(e.worldView.bottom - h.y, f, 0, !0) + h.cullPaddingY } else { var p = (u - d) / 2 + d;
						i = r(e.worldView.x - h.x, p, 0, !0) - h.cullPaddingX, s = n(e.worldView.right - h.x, p, 0, !0) + h.cullPaddingX, o = r(e.worldView.y - h.y, c, 0, !0) - h.cullPaddingY, a = n(e.worldView.bottom - h.y, c, 0, !0) + h.cullPaddingY } return { left: i, right: s, top: o, bottom: a } } }, 9474: (t, e, i) => { var n = i(90454),
					r = i(32483);
				t.exports = function(t, e, i, s) { void 0 === i && (i = []), void 0 === s && (s = 0), i.length = 0; var o = t.tilemapLayer,
						a = n(t, e); return o.skipCull && 1 === o.scrollFactorX && 1 === o.scrollFactorY && (a.left = 0, a.right = t.width, a.top = 0, a.bottom = t.height), r(t, a, s, i), i } }, 27229: (t, e, i) => { var n = i(19951),
					r = i(26099),
					s = new r;
				t.exports = function(t, e, i, o) { var a = o.baseTileWidth,
						l = o.baseTileHeight,
						h = o.tilemapLayer;
					h && (a *= h.scaleX, l *= h.scaleY); var u, c, d = n(t, e, s, i, o),
						f = [],
						p = .5773502691896257; "y" === o.staggerAxis ? (u = p * a, c = l / 2) : (u = a / 2, c = p * l); for (var g = 0; g < 6; g++) { var m = 2 * Math.PI * (.5 - g) / 6;
						f.push(new r(d.x + u * Math.cos(m), d.y + c * Math.sin(m))) } return f } }, 19951: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s) { i || (i = new n); var o = s.baseTileWidth,
						a = s.baseTileHeight,
						l = s.tilemapLayer,
						h = 0,
						u = 0;
					l && (r || (r = l.scene.cameras.main), h = l.x + r.scrollX * (1 - l.scrollFactorX), u = l.y + r.scrollY * (1 - l.scrollFactorY), o *= l.scaleX, a *= l.scaleY); var c, d, f = o / 2,
						p = a / 2,
						g = s.staggerAxis,
						m = s.staggerIndex; return "y" === g ? (c = h + o * t + o, d = u + 1.5 * e * p + p, e % 2 == 0 && ("odd" === m ? c -= f : c += f)) : "x" === g && "odd" === m && (c = h + 1.5 * t * f + f, d = u + a * t + a, t % 2 == 0 && ("odd" === m ? d -= p : d += p)), i.set(c, d) } }, 86625: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s, o) { r || (r = new n); var a = o.baseTileWidth,
						l = o.baseTileHeight,
						h = o.tilemapLayer;
					h && (s || (s = h.scene.cameras.main), t -= h.x + s.scrollX * (1 - h.scrollFactorX), e -= h.y + s.scrollY * (1 - h.scrollFactorY), a *= h.scaleX, l *= h.scaleY); var u, c, d, f, p, g = .5773502691896257,
						m = -.3333333333333333,
						v = .6666666666666666,
						y = a / 2,
						x = l / 2; "y" === o.staggerAxis ? (d = g * (u = (t - y) / (g * a)) + m * (c = (e - x) / x), f = 0 * u + v * c) : (d = m * (u = (t - y) / y) + g * (c = (e - x) / (g * l)), f = v * u + 0 * c), p = -d - f; var b, w = Math.round(d),
						T = Math.round(f),
						S = Math.round(p),
						_ = Math.abs(w - d),
						E = Math.abs(T - f),
						A = Math.abs(S - p);
					_ > E && _ > A ? w = -T - S : E > A && (T = -w - S); var C = T; return b = "odd" === o.staggerIndex ? C % 2 == 0 ? T / 2 + w : T / 2 + w - .5 : C % 2 == 0 ? T / 2 + w : T / 2 + w + .5, r.set(b, C) } }, 62991: t => { t.exports = function(t, e, i) { return t >= 0 && t < i.width && e >= 0 && e < i.height } }, 14018: (t, e, i) => { var n = i(33528);
				t.exports = function(t, e, i, r) { void 0 === i && (i = []), void 0 === r && (r = 0), i.length = 0; var s, o, a, l = t.tilemapLayer,
						h = t.data,
						u = t.width,
						c = t.height,
						d = l.skipCull,
						f = u,
						p = c; if (0 === r)
						for (o = 0; o < p; o++)
							for (s = 0; s < f; s++)(a = h[o][s]) && -1 !== a.index && a.visible && 0 !== a.alpha && (d || n(s, o, t, e)) && i.push(a);
					else if (1 === r)
						for (o = 0; o < p; o++)
							for (s = f; s >= 0; s--)(a = h[o][s]) && -1 !== a.index && a.visible && 0 !== a.alpha && (d || n(s, o, t, e)) && i.push(a);
					else if (2 === r)
						for (o = p; o >= 0; o--)
							for (s = 0; s < f; s++)(a = h[o][s]) && -1 !== a.index && a.visible && 0 !== a.alpha && (d || n(s, o, t, e)) && i.push(a);
					else if (3 === r)
						for (o = p; o >= 0; o--)
							for (s = f; s >= 0; s--)(a = h[o][s]) && -1 !== a.index && a.visible && 0 !== a.alpha && (d || n(s, o, t, e)) && i.push(a); return l.tilesDrawn = i.length, l.tilesTotal = u * c, i } }, 14127: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s) { i || (i = new n); var o = s.baseTileWidth,
						a = s.baseTileHeight,
						l = s.tilemapLayer,
						h = 0,
						u = 0;
					l && (r || (r = l.scene.cameras.main), h = l.x + r.scrollX * (1 - l.scrollFactorX), o *= l.scaleX, u = l.y + r.scrollY * (1 - l.scrollFactorY), a *= l.scaleY); var c = h + o / 2 * (t - e),
						d = u + (t + e) * (a / 2); return i.set(c, d) } }, 96897: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s, o, a) { r || (r = new n); var l = o.baseTileWidth,
						h = o.baseTileHeight,
						u = o.tilemapLayer;
					u && (s || (s = u.scene.cameras.main), e -= u.y + s.scrollY * (1 - u.scrollFactorY), h *= u.scaleY, t -= u.x + s.scrollX * (1 - u.scrollFactorX), l *= u.scaleX); var c = l / 2,
						d = h / 2;
					a || (e -= h); var f = .5 * ((t -= c) / c + e / d),
						p = .5 * (-t / c + e / d); return i && (f = Math.floor(f), p = Math.floor(p)), r.set(f, p) } }, 71558: (t, e, i) => { var n = i(23029),
					r = i(62991),
					s = i(72023),
					o = i(20576);
				t.exports = function(t, e, i, a, l) { if (void 0 === a && (a = !0), !r(e, i, l)) return null; var h, u = l.data[i][e],
						c = u && u.collides;
					t instanceof n ? (null === l.data[i][e] && (l.data[i][e] = new n(l, t.index, e, i, l.tileWidth, l.tileHeight)), l.data[i][e].copy(t)) : (h = t, null === l.data[i][e] ? l.data[i][e] = new n(l, h, e, i, l.tileWidth, l.tileHeight) : l.data[i][e].index = h); var d = l.data[i][e],
						f = -1 !== l.collideIndexes.indexOf(d.index); if (-1 === (h = t instanceof n ? t.index : t)) d.width = l.tileWidth, d.height = l.tileHeight;
					else { var p = l.tilemapLayer.tilemap,
							g = p.tiles[h][2],
							m = p.tilesets[g];
						d.width = m.tileWidth, d.height = m.tileHeight } return o(d, f), a && c !== d.collides && s(e, i, l), d } }, 26303: (t, e, i) => { var n = i(71558),
					r = new(i(26099));
				t.exports = function(t, e, i, s, o, a) { return a.tilemapLayer.worldToTileXY(e, i, !0, r, o, a), n(t, r.x, r.y, s, a) } }, 14051: (t, e, i) => { var n = i(42573),
					r = i(71558);
				t.exports = function(t, e, i, s, o) { if (void 0 === s && (s = !0), !Array.isArray(t)) return null;
					Array.isArray(t[0]) || (t = [t]); for (var a = t.length, l = t[0].length, h = 0; h < a; h++)
						for (var u = 0; u < l; u++) { var c = t[h][u];
							r(c, e + u, i + h, !1, o) } s && n(e - 1, i - 1, l + 2, a + 2, o) } }, 77389: (t, e, i) => { var n = i(7386),
					r = i(26546);
				t.exports = function(t, e, i, s, o, a) { var l, h = n(t, e, i, s, {}, a); if (!o)
						for (o = [], l = 0; l < h.length; l++) - 1 === o.indexOf(h[l].index) && o.push(h[l].index); for (l = 0; l < h.length; l++) h[l].index = r(o) } }, 63557: (t, e, i) => { var n = i(23029),
					r = i(62991),
					s = i(72023);
				t.exports = function(t, e, i, o, a) { if (void 0 === i && (i = !0), void 0 === o && (o = !0), !r(t, e, a)) return null; var l = a.data[e][t]; return l ? (a.data[e][t] = i ? null : new n(a, -1, t, e, a.tileWidth, a.tileHeight), o && l && l.collides && s(t, e, a), l) : null } }, 94178: (t, e, i) => { var n = i(63557),
					r = new(i(26099));
				t.exports = function(t, e, i, s, o, a) { return a.tilemapLayer.worldToTileXY(t, e, !0, r, o, a), n(r.x, r.y, i, s, a) } }, 15533: (t, e, i) => { var n = i(7386),
					r = i(3956),
					s = new r(105, 210, 231, 150),
					o = new r(243, 134, 48, 200),
					a = new r(40, 39, 37, 150);
				t.exports = function(t, e, i) { void 0 === e && (e = {}); var r = void 0 !== e.tileColor ? e.tileColor : s,
						l = void 0 !== e.collidingTileColor ? e.collidingTileColor : o,
						h = void 0 !== e.faceColor ? e.faceColor : a,
						u = n(0, 0, i.width, i.height, null, i);
					t.translateCanvas(i.tilemapLayer.x, i.tilemapLayer.y), t.scaleCanvas(i.tilemapLayer.scaleX, i.tilemapLayer.scaleY); for (var c = 0; c < u.length; c++) { var d = u[c],
							f = d.width,
							p = d.height,
							g = d.pixelX,
							m = d.pixelY,
							v = d.collides ? l : r;
						null !== v && (t.fillStyle(v.color, v.alpha / 255), t.fillRect(g, m, f, p)), g += 1, m += 1, f -= 2, p -= 2, null !== h && (t.lineStyle(1, h.color, h.alpha / 255), d.faceTop && t.lineBetween(g, m, g + f, m), d.faceRight && t.lineBetween(g + f, m, g + f, m + p), d.faceBottom && t.lineBetween(g, m + p, g + f, m + p), d.faceLeft && t.lineBetween(g, m, g, m + p)) } } }, 27987: (t, e, i) => { var n = i(7386);
				t.exports = function(t, e, i, r, s, o, a) { for (var l = n(i, r, s, o, null, a), h = 0; h < l.length; h++) l[h] && l[h].index === t && (l[h].index = e) } }, 32483: t => { t.exports = function(t, e, i, n) { var r, s, o, a = t.data,
						l = t.width,
						h = t.height,
						u = t.tilemapLayer,
						c = Math.max(0, e.left),
						d = Math.min(l, e.right),
						f = Math.max(0, e.top),
						p = Math.min(h, e.bottom); if (0 === i)
						for (s = f; s < p; s++)
							for (r = c; a[s] && r < d; r++)(o = a[s][r]) && -1 !== o.index && o.visible && 0 !== o.alpha && n.push(o);
					else if (1 === i)
						for (s = f; s < p; s++)
							for (r = d; a[s] && r >= c; r--)(o = a[s][r]) && -1 !== o.index && o.visible && 0 !== o.alpha && n.push(o);
					else if (2 === i)
						for (s = p; s >= f; s--)
							for (r = c; a[s] && r < d; r++)(o = a[s][r]) && -1 !== o.index && o.visible && 0 !== o.alpha && n.push(o);
					else if (3 === i)
						for (s = p; s >= f; s--)
							for (r = d; a[s] && r >= c; r--)(o = a[s][r]) && -1 !== o.index && o.visible && 0 !== o.alpha && n.push(o); return u.tilesDrawn = n.length, u.tilesTotal = l * h, n } }, 57068: (t, e, i) => { var n = i(20576),
					r = i(42573),
					s = i(9589);
				t.exports = function(t, e, i, o, a) { void 0 === e && (e = !0), void 0 === i && (i = !0), void 0 === a && (a = !0), Array.isArray(t) || (t = [t]); for (var l = 0; l < t.length; l++) s(t[l], e, o); if (a)
						for (var h = 0; h < o.height; h++)
							for (var u = 0; u < o.width; u++) { var c = o.data[h][u];
								c && -1 !== t.indexOf(c.index) && n(c, e) } i && r(0, 0, o.width, o.height, o) } }, 37266: (t, e, i) => { var n = i(20576),
					r = i(42573),
					s = i(9589);
				t.exports = function(t, e, i, o, a, l) { if (void 0 === i && (i = !0), void 0 === o && (o = !0), void 0 === l && (l = !0), !(t > e)) { for (var h = t; h <= e; h++) s(h, i, a); if (l)
							for (var u = 0; u < a.height; u++)
								for (var c = 0; c < a.width; c++) { var d = a.data[u][c];
									d && d.index >= t && d.index <= e && n(d, i) } o && r(0, 0, a.width, a.height, a) } } }, 75661: (t, e, i) => { var n = i(20576),
					r = i(42573),
					s = i(9589);
				t.exports = function(t, e, i, o) { void 0 === e && (e = !0), void 0 === i && (i = !0), Array.isArray(t) || (t = [t]); for (var a = 0; a < o.height; a++)
						for (var l = 0; l < o.width; l++) { var h = o.data[a][l];
							h && -1 === t.indexOf(h.index) && (n(h, e), s(h.index, e, o)) } i && r(0, 0, o.width, o.height, o) } }, 64740: (t, e, i) => { var n = i(20576),
					r = i(42573),
					s = i(97022);
				t.exports = function(t, e, i, o) { void 0 === e && (e = !0), void 0 === i && (i = !0); for (var a = 0; a < o.height; a++)
						for (var l = 0; l < o.width; l++) { var h = o.data[a][l]; if (h)
								for (var u in t)
									if (s(h.properties, u)) { var c = t[u];
										Array.isArray(c) || (c = [c]); for (var d = 0; d < c.length; d++) h.properties[u] === c[d] && n(h, e) } } i && r(0, 0, o.width, o.height, o) } }, 63307: (t, e, i) => { var n = i(20576),
					r = i(42573);
				t.exports = function(t, e, i) { void 0 === t && (t = !0), void 0 === e && (e = !0); for (var s = 0; s < i.height; s++)
						for (var o = 0; o < i.width; o++) { var a = i.data[s][o]; if (a) { var l = a.getCollisionGroup();
								l && l.objects && l.objects.length > 0 && n(a, t) } } e && r(0, 0, i.width, i.height, i) } }, 9589: t => { t.exports = function(t, e, i) { var n = i.collideIndexes.indexOf(t);
					e && -1 === n ? i.collideIndexes.push(t) : e || -1 === n || i.collideIndexes.splice(n, 1) } }, 20576: t => { t.exports = function(t, e) { e ? t.setCollision(!0, !0, !0, !0, !1) : t.resetCollision(!1) } }, 79583: t => { t.exports = function(t, e, i, n) { if ("number" == typeof t) n.callbacks[t] = null !== e ? { callback: e, callbackContext: i } : void 0;
					else
						for (var r = 0, s = t.length; r < s; r++) n.callbacks[t[r]] = null !== e ? { callback: e, callbackContext: i } : void 0 } }, 93254: (t, e, i) => { var n = i(7386);
				t.exports = function(t, e, i, r, s, o, a) { for (var l = n(t, e, i, r, null, a), h = 0; h < l.length; h++) l[h].setCollisionCallback(s, o) } }, 32903: (t, e, i) => { var n = i(7386),
					r = i(33680);
				t.exports = function(t, e, i, s, o) { var a = n(t, e, i, s, null, o),
						l = a.map((function(t) { return t.index }));
					r(l); for (var h = 0; h < a.length; h++) a[h].index = l[h] } }, 61325: (t, e, i) => { var n = i(63448),
					r = i(56583);
				t.exports = function(t, e) { var i = t.tilemapLayer.tilemap,
						s = t.tilemapLayer,
						o = Math.floor(i.tileWidth * s.scaleX),
						a = Math.floor(i.tileHeight * s.scaleY); return { left: r(e.worldView.x - s.x, o, 0, !0) - s.cullPaddingX, right: n(e.worldView.right - s.x, o, 0, !0) + s.cullPaddingX, top: r(e.worldView.y - s.y, a / 2, 0, !0) - s.cullPaddingY, bottom: n(e.worldView.bottom - s.y, a / 2, 0, !0) + s.cullPaddingY } } }, 54503: (t, e, i) => { var n = i(61325),
					r = i(32483);
				t.exports = function(t, e, i, s) { void 0 === i && (i = []), void 0 === s && (s = 0), i.length = 0; var o = t.tilemapLayer,
						a = n(t, e); return o.skipCull && 1 === o.scrollFactorX && 1 === o.scrollFactorY && (a.left = 0, a.right = t.width, a.top = 0, a.bottom = t.height), r(t, a, s, i), i } }, 97202: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s) { i || (i = new n); var o = s.baseTileWidth,
						a = s.baseTileHeight,
						l = s.tilemapLayer,
						h = 0,
						u = 0;
					l && (r || (r = l.scene.cameras.main), h = l.x + r.scrollX * (1 - l.scrollFactorX), o *= l.scaleX, u = l.y + r.scrollY * (1 - l.scrollFactorY), a *= l.scaleY); var c = h + t * o + e % 2 * (o / 2),
						d = u + e * (a / 2); return i.set(c, d) } }, 28054: t => { t.exports = function(t, e, i) { var n = i.baseTileHeight,
						r = i.tilemapLayer,
						s = 0; return r && (void 0 === e && (e = r.scene.cameras.main), s = r.y + e.scrollY * (1 - r.scrollFactorY), n *= r.scaleY), s + t * (n / 2) + n } }, 15108: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s, o) { r || (r = new n); var a = o.baseTileWidth,
						l = o.baseTileHeight,
						h = o.tilemapLayer;
					h && (s || (s = h.scene.cameras.main), e -= h.y + s.scrollY * (1 - h.scrollFactorY), l *= h.scaleY, t -= h.x + s.scrollX * (1 - h.scrollFactorX), a *= h.scaleX); var u = i ? Math.floor(e / (l / 2)) : e / (l / 2),
						c = i ? Math.floor((t + u % 2 * .5 * a) / a) : (t + u % 2 * .5 * a) / a; return r.set(c, u) } }, 51900: t => { t.exports = function(t, e, i, n) { var r = n.baseTileHeight,
						s = n.tilemapLayer; return s && (i || (i = s.scene.cameras.main), t -= s.y + i.scrollY * (1 - s.scrollFactorY), r *= s.scaleY), e ? Math.floor(t / (r / 2)) : t / (r / 2) } }, 86560: (t, e, i) => { var n = i(7386);
				t.exports = function(t, e, i, r, s, o, a) { for (var l = n(i, r, s, o, null, a), h = 0; h < l.length; h++) l[h] && (l[h].index === t ? l[h].index = e : l[h].index === e && (l[h].index = t)) } }, 97281: t => { t.exports = function(t, e, i) { var n = i.baseTileWidth,
						r = i.tilemapLayer,
						s = 0; return r && (e || (e = r.scene.cameras.main), s = r.x + e.scrollX * (1 - r.scrollFactorX), n *= r.scaleX), s + t * n } }, 70326: (t, e, i) => { var n = i(97281),
					r = i(29650),
					s = i(26099);
				t.exports = function(t, e, i, o, a) { return i || (i = new s(0, 0)), i.x = n(t, o, a), i.y = r(e, o, a), i } }, 29650: t => { t.exports = function(t, e, i) { var n = i.baseTileHeight,
						r = i.tilemapLayer,
						s = 0; return r && (e || (e = r.scene.cameras.main), s = r.y + e.scrollY * (1 - r.scrollFactorY), n *= r.scaleY), s + t * n } }, 77366: (t, e, i) => { var n = i(7386),
					r = i(75508);
				t.exports = function(t, e, i, s, o, a) { if (o) { var l, h = n(t, e, i, s, null, a),
							u = 0; for (l = 0; l < o.length; l++) u += o[l].weight; if (!(u <= 0))
							for (l = 0; l < h.length; l++) { for (var c = r.RND.frac() * u, d = 0, f = -1, p = 0; p < o.length; p++)
									if (c <= (d += o[p].weight)) { var g = o[p].index;
										f = Array.isArray(g) ? g[Math.floor(r.RND.frac() * g.length)] : g; break } h[l].index = f } } } }, 10095: (t, e, i) => { var n = i(85896),
					r = new(i(26099));
				t.exports = function(t, e, i, s) { return n(t, 0, e, r, i, s), r.x } }, 85896: (t, e, i) => { var n = i(26099);
				t.exports = function(t, e, i, r, s, o) { void 0 === i && (i = !0), r || (r = new n); var a = o.baseTileWidth,
						l = o.baseTileHeight,
						h = o.tilemapLayer;
					h && (s || (s = h.scene.cameras.main), t -= h.x + s.scrollX * (1 - h.scrollFactorX), e -= h.y + s.scrollY * (1 - h.scrollFactorY), a *= h.scaleX, l *= h.scaleY); var u = t / a,
						c = e / l; return i && (u = Math.floor(u), c = Math.floor(c)), r.set(u, c) } }, 63288: (t, e, i) => { var n = i(85896),
					r = new(i(26099));
				t.exports = function(t, e, i, s) { return n(0, t, e, r, i, s), r.y } }, 81086: (t, e, i) => { t.exports = { CalculateFacesAt: i(72023), CalculateFacesWithin: i(42573), CheckIsoBounds: i(33528), Copy: i(1785), CreateFromTiles: i(78419), CullBounds: i(19545), CullTiles: i(30003), Fill: i(35137), FilterTiles: i(40253), FindByIndex: i(52692), FindTile: i(66151), ForEachTile: i(97560), GetCullTilesFunction: i(43305), GetTileAt: i(7423), GetTileAtWorldXY: i(60540), GetTileCorners: i(55826), GetTileCornersFunction: i(11758), GetTilesWithin: i(7386), GetTilesWithinShape: i(91141), GetTilesWithinWorldXY: i(96523), GetTileToWorldXFunction: i(39167), GetTileToWorldXYFunction: i(62e3), GetTileToWorldYFunction: i(5984), GetWorldToTileXFunction: i(96113), GetWorldToTileXYFunction: i(16926), GetWorldToTileYFunction: i(55762), HasTileAt: i(45091), HasTileAtWorldXY: i(24152), HexagonalCullBounds: i(90454), HexagonalCullTiles: i(9474), HexagonalGetTileCorners: i(27229), HexagonalTileToWorldXY: i(19951), HexagonalWorldToTileXY: i(86625), IsInLayerBounds: i(62991), IsometricCullTiles: i(14018), IsometricTileToWorldXY: i(14127), IsometricWorldToTileXY: i(96897), PutTileAt: i(71558), PutTileAtWorldXY: i(26303), PutTilesAt: i(14051), Randomize: i(77389), RemoveTileAt: i(63557), RemoveTileAtWorldXY: i(94178), RenderDebug: i(15533), ReplaceByIndex: i(27987), RunCull: i(32483), SetCollision: i(57068), SetCollisionBetween: i(37266), SetCollisionByExclusion: i(75661), SetCollisionByProperty: i(64740), SetCollisionFromCollisionGroup: i(63307), SetLayerCollisionIndex: i(9589), SetTileCollision: i(20576), SetTileIndexCallback: i(79583), SetTileLocationCallback: i(93254), Shuffle: i(32903), StaggeredCullBounds: i(61325), StaggeredCullTiles: i(54503), StaggeredTileToWorldXY: i(97202), StaggeredTileToWorldY: i(28054), StaggeredWorldToTileXY: i(15108), StaggeredWorldToTileY: i(51900), SwapByIndex: i(86560), TileToWorldX: i(97281), TileToWorldXY: i(70326), TileToWorldY: i(29650), WeightedRandomize: i(77366), WorldToTileX: i(10095), WorldToTileXY: i(85896), WorldToTileY: i(63288) } }, 91907: t => { t.exports = { ORTHOGONAL: 0, ISOMETRIC: 1, STAGGERED: 2, HEXAGONAL: 3 } }, 21829: (t, e, i) => { var n = { ORIENTATION: i(91907) };
				t.exports = n }, 62501: (t, e, i) => { var n = i(79291),
					r = i(21829),
					s = { Components: i(81086), Parsers: i(57442), Formats: i(80341), ImageCollection: i(16536), ParseToTilemap: i(31989), Tile: i(23029), Tilemap: i(49075), TilemapCreator: i(45939), TilemapFactory: i(46029), Tileset: i(33629), TilemapLayer: i(20442), Orientation: i(91907), LayerData: i(14977), MapData: i(87010), ObjectLayer: i(48700) };
				s = n(!1, s, r.ORIENTATION), t.exports = s }, 14977: (t, e, i) => { var n = i(83419),
					r = i(91907),
					s = i(95540),
					o = new n({ initialize: function(t) { void 0 === t && (t = {}), this.name = s(t, "name", "layer"), this.id = s(t, "id", 0), this.x = s(t, "x", 0), this.y = s(t, "y", 0), this.width = s(t, "width", 0), this.height = s(t, "height", 0), this.tileWidth = s(t, "tileWidth", 0), this.tileHeight = s(t, "tileHeight", 0), this.baseTileWidth = s(t, "baseTileWidth", this.tileWidth), this.baseTileHeight = s(t, "baseTileHeight", this.tileHeight), this.orientation = s(t, "orientation", r.ORTHOGONAL), this.widthInPixels = s(t, "widthInPixels", this.width * this.baseTileWidth), this.heightInPixels = s(t, "heightInPixels", this.height * this.baseTileHeight), this.alpha = s(t, "alpha", 1), this.visible = s(t, "visible", !0), this.properties = s(t, "properties", []), this.indexes = s(t, "indexes", []), this.collideIndexes = s(t, "collideIndexes", []), this.callbacks = s(t, "callbacks", []), this.bodies = s(t, "bodies", []), this.data = s(t, "data", []), this.tilemapLayer = s(t, "tilemapLayer", null), this.hexSideLength = s(t, "hexSideLength", 0), this.staggerAxis = s(t, "staggerAxis", "y"), this.staggerIndex = s(t, "staggerIndex", "odd") } });
				t.exports = o }, 87010: (t, e, i) => { var n = i(83419),
					r = i(91907),
					s = i(95540),
					o = new n({ initialize: function(t) { void 0 === t && (t = {}), this.name = s(t, "name", "map"), this.width = s(t, "width", 0), this.height = s(t, "height", 0), this.infinite = s(t, "infinite", !1), this.tileWidth = s(t, "tileWidth", 0), this.tileHeight = s(t, "tileHeight", 0), this.widthInPixels = s(t, "widthInPixels", this.width * this.tileWidth), this.heightInPixels = s(t, "heightInPixels", this.height * this.tileHeight), this.format = s(t, "format", null), this.orientation = s(t, "orientation", r.ORTHOGONAL), this.renderOrder = s(t, "renderOrder", "right-down"), this.version = s(t, "version", "1"), this.properties = s(t, "properties", {}), this.layers = s(t, "layers", []), this.images = s(t, "images", []), this.objects = s(t, "objects", []), Array.isArray(this.objects) || (this.objects = []), this.collision = s(t, "collision", {}), this.tilesets = s(t, "tilesets", []), this.imageCollections = s(t, "imageCollections", []), this.tiles = s(t, "tiles", []), this.hexSideLength = s(t, "hexSideLength", 0), this.staggerAxis = s(t, "staggerAxis", "y"), this.staggerIndex = s(t, "staggerIndex", "odd") } });
				t.exports = o }, 48700: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = new n({ initialize: function(t) { void 0 === t && (t = {}), this.name = r(t, "name", "object layer"), this.id = r(t, "id", 0), this.opacity = r(t, "opacity", 1), this.properties = r(t, "properties", {}), this.propertyTypes = r(t, "propertytypes", {}), this.type = r(t, "type", "objectgroup"), this.visible = r(t, "visible", !0), this.objects = r(t, "objects", []), Array.isArray(this.objects) || (this.objects = []) } });
				t.exports = s }, 6641: (t, e, i) => { var n = i(91907);
				t.exports = function(t) { return "isometric" === (t = t.toLowerCase()) ? n.ISOMETRIC : "staggered" === t ? n.STAGGERED : "hexagonal" === t ? n.HEXAGONAL : n.ORTHOGONAL } }, 46177: (t, e, i) => { var n = i(80341),
					r = i(2342),
					s = i(82593),
					o = i(46594),
					a = i(87021);
				t.exports = function(t, e, i, l, h, u) { var c; switch (e) {
						case n.ARRAY_2D:
							c = r(t, i, l, h, u); break;
						case n.CSV:
							c = s(t, i, l, h, u); break;
						case n.TILED_JSON:
							c = o(t, i, u); break;
						case n.WELTMEISTER:
							c = a(t, i, u); break;
						default:
							console.warn("Unrecognized tilemap data format: " + e), c = null } return c } }, 2342: (t, e, i) => { var n = i(80341),
					r = i(14977),
					s = i(87010),
					o = i(23029);
				t.exports = function(t, e, i, a, l) { for (var h = new r({ tileWidth: i, tileHeight: a }), u = new s({ name: t, tileWidth: i, tileHeight: a, format: n.ARRAY_2D, layers: [h] }), c = [], d = e.length, f = 0, p = 0; p < e.length; p++) { c[p] = []; for (var g = e[p], m = 0; m < g.length; m++) { var v = parseInt(g[m], 10);
							isNaN(v) || -1 === v ? c[p][m] = l ? null : new o(h, -1, m, p, i, a) : c[p][m] = new o(h, v, m, p, i, a) } 0 === f && (f = g.length) } return u.width = h.width = f, u.height = h.height = d, u.widthInPixels = h.widthInPixels = f * i, u.heightInPixels = h.heightInPixels = d * a, h.data = c, u } }, 82593: (t, e, i) => { var n = i(80341),
					r = i(2342);
				t.exports = function(t, e, i, s, o) { var a = e.trim().split("\n").map((function(t) { return t.split(",") })),
						l = r(t, a, i, s, o); return l.format = n.CSV, l } }, 6656: (t, e, i) => { var n = i(14977),
					r = i(23029);
				t.exports = function(t, e) { for (var i = [], s = 0; s < t.layer.length; s++) { for (var o = t.layer[s], a = new n({ name: o.name, width: o.width, height: o.height, tileWidth: o.tilesize, tileHeight: o.tilesize, visible: 1 === o.visible }), l = [], h = [], u = 0; u < o.data.length; u++) { for (var c = 0; c < o.data[u].length; c++) { var d, f = o.data[u][c] - 1;
								d = f > -1 ? new r(a, f, c, u, o.tilesize, o.tilesize) : e ? null : new r(a, -1, c, u, o.tilesize, o.tilesize), l.push(d) } h.push(l), l = [] } a.data = h, i.push(a) } return i } }, 96483: (t, e, i) => { var n = i(33629);
				t.exports = function(t) { for (var e = [], i = [], r = 0; r < t.layer.length; r++) { var s = t.layer[r],
							o = s.tilesetName; "" !== o && -1 === i.indexOf(o) && (i.push(o), e.push(new n(o, 0, s.tilesize, s.tilesize, 0, 0))) } return e } }, 87021: (t, e, i) => { var n = i(80341),
					r = i(87010),
					s = i(6656),
					o = i(96483);
				t.exports = function(t, e, i) { if (0 === e.layer.length) return console.warn("No layers found in the Weltmeister map: " + t), null; for (var a = 0, l = 0, h = 0; h < e.layer.length; h++) e.layer[h].width > a && (a = e.layer[h].width), e.layer[h].height > l && (l = e.layer[h].height); var u = new r({ width: a, height: l, name: t, tileWidth: e.layer[0].tilesize, tileHeight: e.layer[0].tilesize, format: n.WELTMEISTER }); return u.layers = s(e, i), u.tilesets = o(e), u } }, 52833: (t, e, i) => { t.exports = { ParseTileLayers: i(6656), ParseTilesets: i(96483), ParseWeltmeister: i(87021) } }, 57442: (t, e, i) => { t.exports = { FromOrientationString: i(6641), Parse: i(46177), Parse2DArray: i(2342), ParseCSV: i(82593), Impact: i(52833), Tiled: i(96761) } }, 51233: (t, e, i) => { var n = i(79291);
				t.exports = function(t) { for (var e, i, r, s, o, a = 0; a < t.layers.length; a++) { e = t.layers[a], s = null; for (var l = 0; l < e.data.length; l++) { o = e.data[l]; for (var h = 0; h < o.length; h++) null === (i = o[h]) || i.index < 0 || (r = t.tiles[i.index][2], s = t.tilesets[r], i.width = s.tileWidth, i.height = s.tileHeight, s.tileProperties && s.tileProperties[i.index - s.firstgid] && (i.properties = n(i.properties, s.tileProperties[i.index - s.firstgid]))) } } } }, 41868: t => { t.exports = function(t) { for (var e = window.atob(t), i = e.length, n = new Array(i / 4), r = 0; r < i; r += 4) n[r / 4] = (e.charCodeAt(r) | e.charCodeAt(r + 1) << 8 | e.charCodeAt(r + 2) << 16 | e.charCodeAt(r + 3) << 24) >>> 0; return n } }, 84101: (t, e, i) => { var n = i(33629);
				t.exports = function(t) { var e, i, r = []; for (e = 0; e < t.imageCollections.length; e++)
						for (var s = t.imageCollections[e], o = s.images, a = 0; a < o.length; a++) { var l = o[a];
							(i = new n(l.image, l.gid, s.imageWidth, s.imageHeight, 0, 0)).updateTileData(s.imageWidth, s.imageHeight), t.tilesets.push(i) }
					for (e = 0; e < t.tilesets.length; e++)
						for (var h = (i = t.tilesets[e]).tileMargin, u = i.tileMargin, c = 0, d = 0, f = 0, p = i.firstgid; p < i.firstgid + i.total && (r[p] = [h, u, e], h += i.tileWidth + i.tileSpacing, ++c !== i.total) && (++d !== i.columns || (h = i.tileMargin, u += i.tileHeight + i.tileSpacing, d = 0, ++f !== i.rows)); p++); return r } }, 79677: (t, e, i) => { var n = i(95540);
				t.exports = function(t, e, i) { if (!e) return { i: 0, layers: t.layers, name: "", opacity: 1, visible: !0, x: 0, y: 0 }; var r = e.x + n(e, "startx", 0) * t.tilewidth + n(e, "offsetx", 0),
						s = e.y + n(e, "starty", 0) * t.tileheight + n(e, "offsety", 0); return { i: 0, layers: e.layers, name: i.name + e.name + "/", opacity: i.opacity * e.opacity, visible: i.visible && e.visible, x: i.x + r, y: i.y + s } } }, 29920: t => { t.exports = function(t) { var e = Boolean(2147483648 & t),
						i = Boolean(1073741824 & t),
						n = Boolean(536870912 & t);
					t &= 536870911; var r = 0,
						s = !1; return e && i && n ? (r = Math.PI / 2, s = !0) : e && i && !n ? (r = Math.PI, s = !1) : e && !i && n ? (r = Math.PI / 2, s = !1) : !e || i || n ? !e && i && n ? (r = 3 * Math.PI / 2, s = !1) : e || !i || n ? e || i || !n ? e || i || n || (r = 0, s = !1) : (r = 3 * Math.PI / 2, s = !0) : (r = Math.PI, s = !0) : (r = 0, s = !0), { gid: t, flippedHorizontal: e, flippedVertical: i, flippedAntiDiagonal: n, rotation: r, flipped: s } } }, 12635: (t, e, i) => { var n = i(95540),
					r = i(79677);
				t.exports = function(t) { for (var e = [], i = [], s = r(t); s.i < s.layers.length || i.length > 0;)
						if (s.i >= s.layers.length) { if (i.length < 1) { console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy"); break } s = i.pop() } else { var o = s.layers[s.i]; if (s.i++, "imagelayer" === o.type) { var a = n(o, "offsetx", 0) + n(o, "startx", 0),
									l = n(o, "offsety", 0) + n(o, "starty", 0);
								e.push({ name: s.name + o.name, image: o.image, x: s.x + a + o.x, y: s.y + l + o.y, alpha: s.opacity * o.opacity, visible: s.visible && o.visible, properties: n(o, "properties", {}) }) } else if ("group" === o.type) { var h = r(t, o, s);
								i.push(s), s = h } } return e } }, 46594: (t, e, i) => { var n = i(51233),
					r = i(84101),
					s = i(91907),
					o = i(62644),
					a = i(80341),
					l = i(6641),
					h = i(87010),
					u = i(12635),
					c = i(22611),
					d = i(28200),
					f = i(24619);
				t.exports = function(t, e, i) { var p = o(e),
						g = new h({ width: p.width, height: p.height, name: t, tileWidth: p.tilewidth, tileHeight: p.tileheight, orientation: l(p.orientation), format: a.TILED_JSON, version: p.version, properties: p.properties, renderOrder: p.renderorder, infinite: p.infinite });
					g.orientation === s.HEXAGONAL && (g.hexSideLength = p.hexsidelength, g.staggerAxis = p.staggeraxis, g.staggerIndex = p.staggerindex), g.layers = d(p, i), g.images = u(p); var m = f(p); return g.tilesets = m.tilesets, g.imageCollections = m.imageCollections, g.objects = c(p), g.tiles = r(g), n(g), g } }, 52205: (t, e, i) => { var n = i(18254),
					r = i(29920),
					s = function(t) { return { x: t.x, y: t.y } },
					o = ["id", "name", "type", "rotation", "properties", "visible", "x", "y", "width", "height"];
				t.exports = function(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 0); var a = n(t, o); if (a.x += e, a.y += i, t.gid) { var l = r(t.gid);
						a.gid = l.gid, a.flippedHorizontal = l.flippedHorizontal, a.flippedVertical = l.flippedVertical, a.flippedAntiDiagonal = l.flippedAntiDiagonal } else t.polyline ? a.polyline = t.polyline.map(s) : t.polygon ? a.polygon = t.polygon.map(s) : t.ellipse ? a.ellipse = t.ellipse : t.text ? a.text = t.text : t.point ? a.point = !0 : a.rectangle = !0; return a } }, 22611: (t, e, i) => { var n = i(95540),
					r = i(52205),
					s = i(48700),
					o = i(79677);
				t.exports = function(t) { for (var e = [], i = [], a = o(t); a.i < a.layers.length || i.length > 0;)
						if (a.i >= a.layers.length) { if (i.length < 1) { console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy"); break } a = i.pop() } else { var l = a.layers[a.i]; if (a.i++, l.opacity *= a.opacity, l.visible = a.visible && l.visible, "objectgroup" === l.type) { l.name = a.name + l.name; for (var h = a.x + n(l, "startx", 0) + n(l, "offsetx", 0), u = a.y + n(l, "starty", 0) + n(l, "offsety", 0), c = [], d = 0; d < l.objects.length; d++) { var f = r(l.objects[d], h, u);
									c.push(f) } var p = new s(l);
								p.objects = c, e.push(p) } else if ("group" === l.type) { var g = o(t, l, a);
								i.push(a), a = g } } return e } }, 28200: (t, e, i) => { var n = i(41868),
					r = i(91907),
					s = i(79677),
					o = i(6641),
					a = i(95540),
					l = i(14977),
					h = i(29920),
					u = i(23029);
				t.exports = function(t, e) { for (var i = a(t, "infinite", !1), c = [], d = [], f = s(t); f.i < f.layers.length || d.length > 0;)
						if (f.i >= f.layers.length) { if (d.length < 1) { console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy"); break } f = d.pop() } else { var p = f.layers[f.i]; if (f.i++, "tilelayer" === p.type)
								if (p.compression) console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '" + p.name + "'");
								else { if (p.encoding && "base64" === p.encoding) { if (p.chunks)
											for (var g = 0; g < p.chunks.length; g++) p.chunks[g].data = n(p.chunks[g].data);
										p.data && (p.data = n(p.data)), delete p.encoding } var m, v, y, x, b = [],
										w = 0; if (i) { var T = a(p, "startx", 0) + p.x,
											S = a(p, "starty", 0) + p.y;
										(m = new l({ name: f.name + p.name, id: p.id, x: f.x + a(p, "offsetx", 0) + T * t.tilewidth, y: f.y + a(p, "offsety", 0) + S * t.tileheight, width: p.width, height: p.height, tileWidth: t.tilewidth, tileHeight: t.tileheight, alpha: f.opacity * p.opacity, visible: f.visible && p.visible, properties: a(p, "properties", []), orientation: o(t.orientation) })).orientation === r.HEXAGONAL && (m.hexSideLength = t.hexsidelength, m.staggerAxis = t.staggeraxis, m.staggerIndex = t.staggerindex); for (var _ = 0; _ < p.height; _++) { b[_] = [null]; for (var E = 0; E < p.width; E++) b[_][E] = null } for (_ = 0, I = p.chunks.length; _ < I; _++)
											for (var A = p.chunks[_], C = A.x - T, k = A.y - S, P = 0, O = 0, R = A.data.length; O < R; O++) { var M = w + C,
													L = P + k;
												(v = h(A.data[O])).gid > 0 ? ((y = new u(m, v.gid, M, L, t.tilewidth, t.tileheight)).rotation = v.rotation, y.flipX = v.flipped, b[L][M] = y) : (x = e ? null : new u(m, -1, M, L, t.tilewidth, t.tileheight), b[L][M] = x), ++w === A.width && (P++, w = 0) } } else {
										(m = new l({ name: f.name + p.name, id: p.id, x: f.x + a(p, "offsetx", 0) + p.x, y: f.y + a(p, "offsety", 0) + p.y, width: p.width, height: p.height, tileWidth: t.tilewidth, tileHeight: t.tileheight, alpha: f.opacity * p.opacity, visible: f.visible && p.visible, properties: a(p, "properties", []), orientation: o(t.orientation) })).orientation === r.HEXAGONAL && (m.hexSideLength = t.hexsidelength, m.staggerAxis = t.staggeraxis, m.staggerIndex = t.staggerindex); for (var D = [], F = 0, I = p.data.length; F < I; F++)(v = h(p.data[F])).gid > 0 ? ((y = new u(m, v.gid, w, b.length, t.tilewidth, t.tileheight)).rotation = v.rotation, y.flipX = v.flipped, D.push(y)) : (x = e ? null : new u(m, -1, w, b.length, t.tilewidth, t.tileheight), D.push(x)), ++w === p.width && (b.push(D), w = 0, D = []) } m.data = b, c.push(m) } else if ("group" === p.type) { var B = s(t, p, f);
								d.push(f), f = B } } return c } }, 24619: (t, e, i) => { var n = i(33629),
					r = i(16536),
					s = i(52205),
					o = i(57880);
				t.exports = function(t) { for (var e, i = [], a = [], l = null, h = 0; h < t.tilesets.length; h++) { var u = t.tilesets[h]; if (u.source) console.warn("External tilesets unsupported. Use Embed Tileset and re-export");
						else if (u.image) { var c = new n(u.name, u.firstgid, u.tilewidth, u.tileheight, u.margin, u.spacing, void 0, void 0, u.tileoffset); if (t.version > 1) { var d = void 0,
									f = void 0; if (Array.isArray(u.tiles)) { d = d || {}, f = f || {}; for (var p = 0; p < u.tiles.length; p++) { var g = u.tiles[p]; if (g.properties) { var m = {};
											g.properties.forEach((function(t) { m[t.name] = t.value })), f[g.id] = m } if (g.objectgroup && ((d[g.id] || (d[g.id] = {})).objectgroup = g.objectgroup, g.objectgroup.objects)) { var v = g.objectgroup.objects.map((function(t) { return s(t) }));
											d[g.id].objectgroup.objects = v } g.animation && ((d[g.id] || (d[g.id] = {})).animation = g.animation), g.type && ((d[g.id] || (d[g.id] = {})).type = g.type) } } Array.isArray(u.wangsets) && (d = d || {}, f = f || {}, o(u.wangsets, d)), d && (c.tileData = d, c.tileProperties = f) } else if (u.tileproperties && (c.tileProperties = u.tileproperties), u.tiles)
								for (e in c.tileData = u.tiles, c.tileData) { var y = c.tileData[e].objectgroup; if (y && y.objects) { var x = y.objects.map((function(t) { return s(t) }));
										c.tileData[e].objectgroup.objects = x } } c.updateTileData(u.imagewidth, u.imageheight), i.push(c) } else { var b = new r(u.name, u.firstgid, u.tilewidth, u.tileheight, u.margin, u.spacing, u.properties),
								w = 0; for (p = 0; p < u.tiles.length; p++) { var T = (g = u.tiles[p]).image,
									S = parseInt(g.id, 10),
									_ = u.firstgid + S;
								b.addImage(_, T), w = Math.max(S, w) } b.maxId = w, a.push(b) } l && (l.lastgid = u.firstgid - 1), l = u } return { tilesets: i, imageCollections: a } } }, 57880: t => { t.exports = function(t, e) { for (var i = 0; i < t.length; i++) { var n = t[i],
							r = i; if (n.name && "" !== n.name && (r = n.name), Array.isArray(n.wangtiles) && n.wangtiles.length > 0) { var s, o, a, l = {},
								h = {}; if (Array.isArray(n.edgecolors))
								for (s = 0; s < n.edgecolors.length; s++) a = 1 + s, "" !== (o = n.edgecolors[s]).name && (l[a] = o.name); if (Array.isArray(n.cornercolors))
								for (s = 0; s < n.cornercolors.length; s++) a = 1 + s, "" !== (o = n.cornercolors[s]).name && (h[a] = o.name); if (Array.isArray(n.colors))
								for (s = 0; s < n.colors.length; s++) a = 1 + s, "" !== (o = n.colors[s]).name && (l[a] = h[a] = o.name); for (var u = [l, h, l, h, l, h, l, h], c = 0; c < n.wangtiles.length; c++) { var d = n.wangtiles[c],
									f = e[d.tileid] || (e[d.tileid] = {});
								f = f.wangid || (f.wangid = {}); for (var p = [], g = 0; g < Math.min(u.length, d.wangid.length); g++)
									if (0 !== (o = d.wangid[g])) { var m = u[g][o];
										void 0 === m ? p.push(o) : p.push(m) } else p.push(void 0);
								f[r] = p } } } } }, 96761: (t, e, i) => { t.exports = { AssignTileProperties: i(51233), Base64Decode: i(41868), BuildTilesetIndex: i(84101), CreateGroupLayer: i(79677), ParseGID: i(29920), ParseImageLayers: i(12635), ParseJSONTiled: i(46594), ParseObject: i(52205), ParseObjectLayers: i(22611), ParseTileLayers: i(28200), ParseTilesets: i(24619) } }, 33385: (t, e, i) => { var n = i(83419),
					r = i(37277),
					s = i(44594),
					o = i(94880),
					a = i(72905),
					l = new n({ initialize: function(t) { this.scene = t, this.systems = t.sys, this.now = 0, this.startTime = 0, this.timeScale = 1, this.paused = !1, this._active = [], this._pendingInsertion = [], this._pendingRemoval = [], t.sys.events.once(s.BOOT, this.boot, this), t.sys.events.on(s.START, this.start, this) }, boot: function() { this.now = this.systems.game.loop.time, this.systems.events.once(s.DESTROY, this.destroy, this) }, start: function() { this.startTime = this.systems.game.loop.time; var t = this.systems.events;
							t.on(s.PRE_UPDATE, this.preUpdate, this), t.on(s.UPDATE, this.update, this), t.once(s.SHUTDOWN, this.shutdown, this) }, addEvent: function(t) { var e; return t instanceof o ? (e = t, this.removeEvent(e), e.elapsed = e.startAt, e.hasDispatched = !1, e.repeatCount = -1 === e.repeat || e.loop ? 999999999999 : e.repeat) : e = new o(t), this._pendingInsertion.push(e), e }, delayedCall: function(t, e, i, n) { return this.addEvent({ delay: t, callback: e, args: i, callbackScope: n }) }, clearPendingEvents: function() { return this._pendingInsertion = [], this }, removeEvent: function(t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i = t[e];
								a(this._pendingRemoval, i), a(this._pendingInsertion, i), a(this._active, i) } return this }, removeAllEvents: function() { return this._pendingRemoval = this._pendingRemoval.concat(this._active), this }, preUpdate: function() { var t = this._pendingRemoval.length,
								e = this._pendingInsertion.length; if (0 !== t || 0 !== e) { var i, n; for (i = 0; i < t; i++) { n = this._pendingRemoval[i]; var r = this._active.indexOf(n);
									r > -1 && this._active.splice(r, 1), n.destroy() } for (i = 0; i < e; i++) n = this._pendingInsertion[i], this._active.push(n);
								this._pendingRemoval.length = 0, this._pendingInsertion.length = 0 } }, update: function(t, e) { if (this.now = t, !this.paused) { e *= this.timeScale; for (var i = 0; i < this._active.length; i++) { var n = this._active[i]; if (!n.paused && (n.elapsed += e * n.timeScale, n.elapsed >= n.delay)) { var r = n.elapsed - n.delay; if (n.elapsed = n.delay, !n.hasDispatched && n.callback && (n.hasDispatched = !0, n.callback.apply(n.callbackScope, n.args)), n.repeatCount > 0) { if (n.repeatCount--, r >= n.delay)
												for (; r >= n.delay && n.repeatCount > 0;) n.callback && n.callback.apply(n.callbackScope, n.args), r -= n.delay, n.repeatCount--;
											n.elapsed = r, n.hasDispatched = !1 } else n.hasDispatched && this._pendingRemoval.push(n) } } } }, shutdown: function() { var t; for (t = 0; t < this._pendingInsertion.length; t++) this._pendingInsertion[t].destroy(); for (t = 0; t < this._active.length; t++) this._active[t].destroy(); for (t = 0; t < this._pendingRemoval.length; t++) this._pendingRemoval[t].destroy();
							this._active.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0; var e = this.systems.events;
							e.off(s.PRE_UPDATE, this.preUpdate, this), e.off(s.UPDATE, this.update, this), e.off(s.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.scene.sys.events.off(s.START, this.start, this), this.scene = null, this.systems = null } });
				r.register("Clock", l, "time"), t.exports = l }, 96120: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(39429),
					o = i(95540),
					a = i(44594),
					l = i(89809),
					h = new n({ Extends: r, initialize: function(t, e) { r.call(this), this.scene = t, this.systems = t.sys, this.elapsed = 0, this.timeScale = 1, this.paused = !0, this.complete = !1, this.totalComplete = 0, this.loop = 0, this.iteration = 0, this.events = []; var i = this.systems.events;
							i.on(a.PRE_UPDATE, this.preUpdate, this), i.on(a.UPDATE, this.update, this), i.once(a.SHUTDOWN, this.destroy, this), e && this.add(e) }, preUpdate: function(t, e) { this.paused || (this.elapsed += e * this.timeScale) }, update: function() { if (!this.paused && !this.complete) { var t, e, i = this.events,
									n = !1,
									r = this.systems; for (t = 0; t < i.length; t++) { var s = i[t]; if (!s.complete && s.time <= this.elapsed) { if (s.complete = !0, this.totalComplete++, e = s.target ? s.target : this, s.if && !s.if.call(e, s)) continue; if (s.once && (n = !0), s.set && s.target)
											for (var o in s.set) s.target[o] = s.set[o];
										this.iteration && s.repeat++, s.loop && s.repeat && s.loop.call(e), s.tween && (s.tweenInstance = r.tweens.add(s.tween)), s.sound && ("string" == typeof s.sound ? r.sound.play(s.sound) : r.sound.play(s.sound.key, s.sound.config)), s.event && this.emit(s.event, e), s.run && s.run.call(e), s.stop && this.stop() } } if (n)
									for (t = 0; t < i.length; t++) i[t].complete && i[t].once && (i.splice(t, 1), t--);
								this.totalComplete >= i.length && (0 !== this.loop && (-1 === this.loop || this.loop > this.iteration) ? (this.iteration++, this.reset(!0)) : this.complete = !0), this.complete && this.emit(l.COMPLETE, this) } }, play: function(t) { return void 0 === t && (t = !0), this.paused = !1, this.complete = !1, this.totalComplete = 0, t && this.reset(), this }, pause: function() { this.paused = !0; for (var t = this.events, e = 0; e < t.length; e++) { var i = t[e];
								i.tweenInstance && (i.tweenInstance.paused = !0) } return this }, repeat: function(t) { return void 0 !== t && !0 !== t || (t = -1), !1 === t && (t = 0), this.loop = t, this }, resume: function() { this.paused = !1; for (var t = this.events, e = 0; e < t.length; e++) { var i = t[e];
								i.tweenInstance && (i.tweenInstance.paused = !1) } return this }, stop: function() { return this.paused = !0, this.complete = !0, this }, reset: function(t) { void 0 === t && (t = !1), this.elapsed = 0, t || (this.iteration = 0); for (var e = this.events, i = 0; i < e.length; i++) { var n = e[i];
								n.complete = !1, t || (n.repeat = 0), n.tweenInstance && n.tweenInstance.stop() } return this.play(!1) }, add: function(t) { Array.isArray(t) || (t = [t]); var e = this.events,
								i = 0;
							e.length > 0 && (i = e[e.length - 1].time); for (var n = 0; n < t.length; n++) { var r = t[n],
									s = o(r, "at", 0),
									a = o(r, "in", null);
								null !== a && (s = this.elapsed + a); var l = o(r, "from", null);
								null !== l && (s = i + l), e.push({ complete: !1, time: s, repeat: 0, if: o(r, "if", null), run: o(r, "run", null), loop: o(r, "loop", null), event: o(r, "event", null), target: o(r, "target", null), set: o(r, "set", null), tween: o(r, "tween", null), sound: o(r, "sound", null), once: o(r, "once", !1), stop: o(r, "stop", !1) }), i = s } return this.complete = !1, this }, clear: function() { for (var t = this.events, e = 0; e < t.length; e++) { var i = t[e];
								i.tweenInstance && i.tweenInstance.stop() } return t = [], this.elapsed = 0, this.paused = !0, this }, isPlaying: function() { return !this.paused && !this.complete }, getProgress: function() { return Math.min(this.totalComplete, this.events.length) / this.events.length }, destroy: function() { var t = this.systems.events;
							t.off(a.PRE_UPDATE, this.preUpdate, this), t.off(a.UPDATE, this.update, this), t.off(a.SHUTDOWN, this.destroy, this), this.clear(), this.scene = null, this.systems = null } });
				s.register("timeline", (function(t) { return new h(this.scene, t) })), t.exports = h }, 94880: (t, e, i) => { var n = i(83419),
					r = i(95540),
					s = new n({ initialize: function(t) { this.delay = 0, this.repeat = 0, this.repeatCount = 0, this.loop = !1, this.callback, this.callbackScope, this.args, this.timeScale = 1, this.startAt = 0, this.elapsed = 0, this.paused = !1, this.hasDispatched = !1, this.reset(t) }, reset: function(t) { if (this.delay = r(t, "delay", 0), this.repeat = r(t, "repeat", 0), this.loop = r(t, "loop", !1), this.callback = r(t, "callback", void 0), this.callbackScope = r(t, "callbackScope", this), this.args = r(t, "args", []), this.timeScale = r(t, "timeScale", 1), this.startAt = r(t, "startAt", 0), this.paused = r(t, "paused", !1), this.elapsed = this.startAt, this.hasDispatched = !1, this.repeatCount = -1 === this.repeat || this.loop ? 999999999999 : this.repeat, 0 === this.delay && (this.repeat > 0 || this.loop)) throw new Error("TimerEvent infinite loop created via zero delay"); return this }, getProgress: function() { return this.elapsed / this.delay }, getOverallProgress: function() { if (this.repeat > 0) { var t = this.delay + this.delay * this.repeat; return (this.elapsed + this.delay * (this.repeat - this.repeatCount)) / t } return this.getProgress() }, getRepeatCount: function() { return this.repeatCount }, getElapsed: function() { return this.elapsed }, getElapsedSeconds: function() { return .001 * this.elapsed }, getRemaining: function() { return this.delay - this.elapsed }, getRemainingSeconds: function() { return .001 * this.getRemaining() }, getOverallRemaining: function() { return this.delay * (1 + this.repeatCount) - this.elapsed }, getOverallRemainingSeconds: function() { return .001 * this.getOverallRemaining() }, remove: function(t) { void 0 === t && (t = !1), this.elapsed = this.delay, this.hasDispatched = !t, this.repeatCount = 0 }, destroy: function() { this.callback = void 0, this.callbackScope = void 0, this.args = [] } });
				t.exports = s }, 35945: t => { t.exports = "complete" }, 89809: (t, e, i) => { t.exports = { COMPLETE: i(35945) } }, 90291: (t, e, i) => { t.exports = { Clock: i(33385), Events: i(89809), Timeline: i(96120), TimerEvent: i(94880) } }, 40382: (t, e, i) => { var n = i(72905),
					r = i(83419),
					s = i(43491),
					o = i(88032),
					a = i(37277),
					l = i(44594),
					h = i(93109),
					u = i(86081),
					c = i(8357),
					d = i(43960),
					f = i(26012),
					p = new r({ initialize: function(t) { this.scene = t, this.events = t.sys.events, this.timeScale = 1, this.paused = !1, this.processing = !1, this.tweens = [], this.time = 0, this.startTime = 0, this.nextTime = 0, this.prevTime = 0, this.maxLag = 500, this.lagSkip = 33, this.gap = 1e3 / 240, this.events.once(l.BOOT, this.boot, this), this.events.on(l.START, this.start, this) }, boot: function() { this.events.once(l.DESTROY, this.destroy, this) }, start: function() { this.timeScale = 1, this.paused = !1, this.startTime = Date.now(), this.prevTime = this.startTime, this.nextTime = this.gap, this.events.on(l.UPDATE, this.update, this), this.events.once(l.SHUTDOWN, this.shutdown, this) }, create: function(t) { Array.isArray(t) || (t = [t]); for (var e = [], i = 0; i < t.length; i++) { var n = t[i];
								n instanceof u || n instanceof d ? e.push(n) : Array.isArray(n.tweens) ? e.push(f(this, n)) : e.push(c(this, n)) } return 1 === e.length ? e[0] : e }, add: function(t) { var e = t,
								i = this.tweens; return e instanceof u || e instanceof d || (e = Array.isArray(e.tweens) ? f(this, e) : c(this, e)), i.push(e.reset()), e }, addMultiple: function(t) { for (var e, i = [], n = this.tweens, r = 0; r < t.length; r++)(e = t[r]) instanceof u || e instanceof d || (e = Array.isArray(e.tweens) ? f(this, e) : c(this, e)), n.push(e.reset()), i.push(e); return i }, chain: function(t) { var e = f(this, t); return this.tweens.push(e.init()), e }, getChainedTweens: function(t) { return t.getChainedTweens() }, has: function(t) { return this.tweens.indexOf(t) > -1 }, existing: function(t) { return this.has(t) || this.tweens.push(t.reset()), this }, addCounter: function(t) { var e = o(this, t); return this.tweens.push(e.reset()), e }, stagger: function(t, e) { return h(t, e) }, setLagSmooth: function(t, e) { return void 0 === t && (t = 1 / 1e-8), void 0 === e && (e = 0), this.maxLag = t, this.lagSkip = Math.min(e, this.maxLag), this }, setFps: function(t) { return void 0 === t && (t = 240), this.gap = 1e3 / t, this.nextTime = 1e3 * this.time + this.gap, this }, getDelta: function(t) { var e = Date.now() - this.prevTime;
							e > this.maxLag && (this.startTime += e - this.lagSkip), this.prevTime += e; var i = this.prevTime - this.startTime,
								n = i - this.nextTime,
								r = i - 1e3 * this.time; return n > 0 || t ? (i /= 1e3, this.time = i, this.nextTime += n + (n >= this.gap ? 4 : this.gap - n)) : r = 0, r }, tick: function() { return this.step(!0), this }, update: function() { this.paused || this.step(!1) }, step: function(t) { void 0 === t && (t = !1); var e = this.getDelta(t); if (!(e <= 0)) { var i, n;
								this.processing = !0; var r = [],
									s = this.tweens; for (i = 0; i < s.length; i++)(n = s[i]).update(e) && r.push(n); var o = r.length; if (o && s.length > 0) { for (i = 0; i < o; i++) { n = r[i]; var a = s.indexOf(n);
										a > -1 && (n.isPendingRemove() || n.isDestroyed()) && (s.splice(a, 1), n.destroy()) } r.length = 0 } this.processing = !1 } }, remove: function(t) { return this.processing ? t.setPendingRemoveState() : (n(this.tweens, t), t.setRemovedState()), this }, reset: function(t) { return this.existing(t), t.seek(), t.setActiveState(), this }, makeActive: function(t) { return this.existing(t), t.setActiveState(), this }, each: function(t, e) { var i, n = [null]; for (i = 1; i < arguments.length; i++) n.push(arguments[i]); return this.tweens.forEach((function(i) { n[0] = i, t.apply(e, n) })), this }, getTweens: function() { return this.tweens.slice() }, getTweensOf: function(t) { for (var e = [], i = this.tweens, n = (t = Array.isArray(t) ? s(t) : [t]).length, r = 0; r < i.length; r++)
								for (var o = i[r], a = 0; a < n; a++) !o.isDestroyed() && o.hasTarget(t[a]) && e.push(o); return e }, getGlobalTimeScale: function() { return this.timeScale }, setGlobalTimeScale: function(t) { return this.timeScale = t, this }, isTweening: function(t) { for (var e, i = this.tweens, n = 0; n < i.length; n++)
								if ((e = i[n]).isPlaying() && e.hasTarget(t)) return !0; return !1 }, killAll: function() { for (var t = this.processing ? this.getTweens() : this.tweens, e = 0; e < t.length; e++) t[e].destroy(); return this.processing || (t.length = 0), this }, killTweensOf: function(t) { for (var e = this.getTweensOf(t), i = 0; i < e.length; i++) e[i].destroy(); return this }, pauseAll: function() { return this.paused = !0, this }, resumeAll: function() { return this.paused = !1, this }, shutdown: function() { this.killAll(), this.tweens = [], this.events.off(l.UPDATE, this.update, this), this.events.off(l.SHUTDOWN, this.shutdown, this) }, destroy: function() { this.shutdown(), this.events.off(l.START, this.start, this), this.scene = null, this.events = null } });
				a.register("TweenManager", p, "tweens"), t.exports = p }, 57355: t => { t.exports = function(t, e, i) { return t && t.hasOwnProperty(e) ? t[e] : i } }, 6113: (t, e, i) => { var n = i(62640),
					r = i(35355);
				t.exports = function(t, e) { var i = n.Power0; if ("string" == typeof t)
						if (n.hasOwnProperty(t)) i = n[t];
						else { var s = ""; if (t.indexOf(".")) { var o = (s = t.substring(t.indexOf(".") + 1)).toLowerCase(); "in" === o ? s = "easeIn" : "out" === o ? s = "easeOut" : "inout" === o && (s = "easeInOut") } t = r(t.substring(0, t.indexOf(".") + 1) + s), n.hasOwnProperty(t) && (i = n[t]) } else "function" == typeof t && (i = t); if (!e) return i; var a = e.slice(0); return a.unshift(0),
						function(t) { return a[0] = t, i.apply(this, a) } } }, 91389: (t, e, i) => { var n = i(89318),
					r = i(77259),
					s = { bezier: n, catmull: r, catmullrom: r, linear: i(28392) };
				t.exports = function(t) { if (null === t) return null; var e = s.linear; return "string" == typeof t ? s.hasOwnProperty(t) && (e = s[t]) : "function" == typeof t && (e = t), e } }, 55292: t => { t.exports = function(t, e, i) { return t.hasOwnProperty(e) ? "function" == typeof t[e] ? function(i, n, r, s, o, a) { return t[e](i, n, r, s, o, a) } : function() { return t[e] } : "function" == typeof i ? i : function() { return i } } }, 82985: (t, e, i) => { var n = i(81076);
				t.exports = function(t) { var e, i = []; if (t.hasOwnProperty("props"))
						for (e in t.props) "_" !== e.substring(0, 1) && i.push({ key: e, value: t.props[e] });
					else
						for (e in t) - 1 === n.indexOf(e) && "_" !== e.substring(0, 1) && i.push({ key: e, value: t[e] }); return i } }, 62329: (t, e, i) => { var n = i(35154);
				t.exports = function(t) { var e = n(t, "targets", null); return null === e || ("function" == typeof e && (e = e.call()), Array.isArray(e) || (e = [e])), e } }, 17777: (t, e, i) => { var n = i(30976),
					r = i(99472);

				function s(t) { return !!t.getActive && "function" == typeof t.getActive }

				function o(t) { return !!t.getStart && "function" == typeof t.getStart }

				function a(t) { return !!t.getEnd && "function" == typeof t.getEnd } var l = function(t, e) { var i, h, u = function(t, e, i) { return i },
						c = function(t, e, i) { return i },
						d = null,
						f = typeof e; if ("number" === f) u = function() { return e };
					else if (Array.isArray(e)) c = function() { return e[0] }, u = function() { return e[e.length - 1] };
					else if ("string" === f) { var p = e.toLowerCase(),
							g = "random" === p.substring(0, 6),
							m = "int" === p.substring(0, 3); if (g || m) { var v = p.indexOf("("),
								y = p.indexOf(")"),
								x = p.indexOf(","); if (!(v && y && x)) throw new Error("invalid random() format"); var b = parseFloat(p.substring(v + 1, x)),
								w = parseFloat(p.substring(x + 1, y));
							u = g ? function() { return r(b, w) } : function() { return n(b, w) } } else { p = p[0]; var T = parseFloat(e.substr(2)); switch (p) {
								case "+":
									u = function(t, e, i) { return i + T }; break;
								case "-":
									u = function(t, e, i) { return i - T }; break;
								case "*":
									u = function(t, e, i) { return i * T }; break;
								case "/":
									u = function(t, e, i) { return i / T }; break;
								default:
									u = function() { return parseFloat(e) } } } } else if ("function" === f) u = e;
					else if ("object" === f)
						if (o(h = e) || a(h) || s(h)) s(e) && (d = e.getActive), a(e) && (u = e.getEnd), o(e) && (c = e.getStart);
						else if (e.hasOwnProperty("value")) i = l(t, e.value);
					else { var S = e.hasOwnProperty("to"),
							_ = e.hasOwnProperty("from"),
							E = e.hasOwnProperty("start"); if (S && (_ || E)) { if (i = l(t, e.to), E) { var A = l(t, e.start);
								i.getActive = A.getEnd } if (_) { var C = l(t, e.from);
								i.getStart = C.getEnd } } } return i || (i = { getActive: d, getEnd: u, getStart: c }), i };
				t.exports = l }, 88032: (t, e, i) => { var n = i(70402),
					r = i(69902),
					s = i(23568),
					o = i(57355),
					a = i(6113),
					l = i(55292),
					h = i(35154),
					u = i(17777),
					c = i(269),
					d = i(86081);
				t.exports = function(t, e, i) { if (e instanceof d) return e.parent = t, e;
					i = void 0 === i ? r : c(r, i); var f = h(e, "from", 0),
						p = h(e, "to", 1),
						g = [{ value: f }],
						m = h(e, "delay", i.delay),
						v = h(e, "easeParams", i.easeParams),
						y = h(e, "ease", i.ease),
						x = u("value", p),
						b = new d(t, g),
						w = b.add(0, "value", x.getEnd, x.getStart, x.getActive, a(h(e, "ease", y), h(e, "easeParams", v)), l(e, "delay", m), h(e, "duration", i.duration), o(e, "yoyo", i.yoyo), h(e, "hold", i.hold), h(e, "repeat", i.repeat), h(e, "repeatDelay", i.repeatDelay), !1, !1);
					w.start = f, w.current = f, b.completeDelay = s(e, "completeDelay", 0), b.loop = Math.round(s(e, "loop", 0)), b.loopDelay = Math.round(s(e, "loopDelay", 0)), b.paused = o(e, "paused", !1), b.persist = o(e, "persist", !1), b.callbackScope = h(e, "callbackScope", b); for (var T = n.TYPES, S = 0; S < T.length; S++) { var _ = T[S],
							E = h(e, _, !1); if (E) { var A = h(e, _ + "Params", []);
							b.setCallback(_, E, A) } } return b } }, 93109: (t, e, i) => { var n = i(6113),
					r = i(35154),
					s = i(36383);
				t.exports = function(t, e) { void 0 === e && (e = {}); var i = r(e, "start", 0),
						o = r(e, "ease", null),
						a = r(e, "grid", null),
						l = r(e, "from", 0),
						h = "first" === l,
						u = "center" === l,
						c = "last" === l,
						d = "number" == typeof l,
						f = Array.isArray(t),
						p = f ? parseFloat(t[0]) : parseFloat(t),
						g = f ? parseFloat(t[1]) : 0,
						m = Math.max(p, g); if (f && (i += p), a) { var v = a[0],
							y = a[1],
							x = 0,
							b = 0,
							w = 0,
							T = 0,
							S = [];
						c ? (x = v - 1, b = y - 1) : d ? (x = l % v, b = Math.floor(l / v)) : u && (x = (v - 1) / 2, b = (y - 1) / 2); for (var _ = s.MIN_SAFE_INTEGER, E = 0; E < y; E++) { S[E] = []; for (var A = 0; A < v; A++) { w = x - A, T = b - E; var C = Math.sqrt(w * w + T * T);
								C > _ && (_ = C), S[E][A] = C } } } var k = o ? n(o) : null; return a ? function(t, e, n, r) { var s, o = 0,
							a = r % v,
							l = Math.floor(r / v); if (a >= 0 && a < v && l >= 0 && l < y && (o = S[l][a]), f) { var h = g - p;
							s = k ? o / _ * h * k(o / _) : o / _ * h } else s = k ? o * p * k(o / _) : o * p; return s + i } : function(t, e, n, r, s) { var o, a, v; return s--, h ? o = r : u ? o = Math.abs(s / 2 - r) : c ? o = s - r : d && (o = Math.abs(l - r)), f ? (v = u ? (g - p) / s * (2 * o) : (g - p) / s * o, a = k ? v * k(o / s) : v) : a = k ? s * m * k(o / s) : o * p, a + i } } }, 8357: (t, e, i) => { var n = i(70402),
					r = i(69902),
					s = i(23568),
					o = i(57355),
					a = i(6113),
					l = i(91389),
					h = i(55292),
					u = i(82985),
					c = i(62329),
					d = i(35154),
					f = i(17777),
					p = i(269),
					g = i(86081);
				t.exports = function(t, e, i) { if (e instanceof g) return e.parent = t, e;
					i = void 0 === i ? r : p(r, i); var m = c(e);!m && i.targets && (m = i.targets); for (var v = u(e), y = d(e, "delay", i.delay), x = d(e, "duration", i.duration), b = d(e, "easeParams", i.easeParams), w = d(e, "ease", i.ease), T = d(e, "hold", i.hold), S = d(e, "repeat", i.repeat), _ = d(e, "repeatDelay", i.repeatDelay), E = o(e, "yoyo", i.yoyo), A = o(e, "flipX", i.flipX), C = o(e, "flipY", i.flipY), k = d(e, "interpolation", i.interpolation), P = function(t, e, i, n) { if ("texture" === i) { var r = n,
									s = void 0;
								Array.isArray(n) ? (r = n[0], s = n[1]) : n.hasOwnProperty("value") ? (r = n.value, Array.isArray(n.value) ? (r = n.value[0], s = n.value[1]) : "string" == typeof n.value && (r = n.value)) : "string" == typeof n && (r = n), t.addFrame(e, r, s, h(n, "delay", y), d(n, "duration", x), d(n, "hold", T), d(n, "repeat", S), d(n, "repeatDelay", _), o(n, "flipX", A), o(n, "flipY", C)) } else { var u = f(i, n),
									c = l(d(n, "interpolation", k));
								t.add(e, i, u.getEnd, u.getStart, u.getActive, a(d(n, "ease", w), d(n, "easeParams", b)), h(n, "delay", y), d(n, "duration", x), o(n, "yoyo", E), d(n, "hold", T), d(n, "repeat", S), d(n, "repeatDelay", _), o(n, "flipX", A), o(n, "flipY", C), c, c ? n : null) } }, O = new g(t, m), R = 0; R < v.length; R++)
						for (var M = v[R].key, L = v[R].value, D = 0; D < m.length; D++) "scale" !== M || m[D].hasOwnProperty("scale") ? P(O, D, M, L) : (P(O, D, "scaleX", L), P(O, D, "scaleY", L));
					O.completeDelay = s(e, "completeDelay", 0), O.loop = Math.round(s(e, "loop", 0)), O.loopDelay = Math.round(s(e, "loopDelay", 0)), O.paused = o(e, "paused", !1), O.persist = o(e, "persist", !1), O.callbackScope = d(e, "callbackScope", O); for (var F = n.TYPES, I = 0; I < F.length; I++) { var B = F[I],
							N = d(e, B, !1); if (N) { var z = d(e, B + "Params", []);
							O.setCallback(B, N, z) } } return O } }, 26012: (t, e, i) => { var n = i(70402),
					r = i(23568),
					s = i(57355),
					o = i(62329),
					a = i(35154),
					l = i(8357),
					h = i(43960);
				t.exports = function(t, e) { if (e instanceof h) return e.parent = t, e; var i, u = new h(t);
					u.startDelay = a(e, "delay", 0), u.completeDelay = r(e, "completeDelay", 0), u.loop = Math.round(r(e, "loop", a(e, "repeat", 0))), u.loopDelay = Math.round(r(e, "loopDelay", a(e, "repeatDelay", 0))), u.paused = s(e, "paused", !1), u.persist = s(e, "persist", !1), u.callbackScope = a(e, "callbackScope", u); var c = n.TYPES; for (i = 0; i < c.length; i++) { var d = c[i],
							f = a(e, d, !1); if (f) { var p = a(e, d + "Params", []);
							u.setCallback(d, f, p) } } var g = a(e, "tweens", null); if (Array.isArray(g)) { var m = [],
							v = o(e),
							y = void 0; for (v && (y = { targets: v }), i = 0; i < g.length; i++) m.push(l(u, g[i], y));
						u.add(m) } return u } }, 30231: (t, e, i) => { t.exports = { GetBoolean: i(57355), GetEaseFunction: i(6113), GetInterpolationFunction: i(91389), GetNewValue: i(55292), GetProps: i(82985), GetTargets: i(62329), GetValueOp: i(17777), NumberTweenBuilder: i(88032), StaggerBuilder: i(93109), TweenBuilder: i(8357) } }, 73685: t => { t.exports = "active" }, 98540: t => { t.exports = "complete" }, 67233: t => { t.exports = "loop" }, 2859: t => { t.exports = "pause" }, 98336: t => { t.exports = "repeat" }, 25764: t => { t.exports = "resume" }, 32193: t => { t.exports = "start" }, 84371: t => { t.exports = "stop" }, 70766: t => { t.exports = "update" }, 55659: t => { t.exports = "yoyo" }, 842: (t, e, i) => { t.exports = { TWEEN_ACTIVE: i(73685), TWEEN_COMPLETE: i(98540), TWEEN_LOOP: i(67233), TWEEN_PAUSE: i(2859), TWEEN_RESUME: i(25764), TWEEN_REPEAT: i(98336), TWEEN_START: i(32193), TWEEN_STOP: i(84371), TWEEN_UPDATE: i(70766), TWEEN_YOYO: i(55659) } }, 43066: (t, e, i) => { var n = { States: i(86353), Builders: i(30231), Events: i(842), TweenManager: i(40382), Tween: i(86081), TweenData: i(48177), TweenFrameData: i(42220), BaseTween: i(70402), TweenChain: i(43960) };
				t.exports = n }, 70402: (t, e, i) => { var n = i(83419),
					r = i(50792),
					s = i(842),
					o = i(86353),
					a = new n({ Extends: r, initialize: function(t) { r.call(this), this.parent = t, this.data = [], this.totalData = 0, this.startDelay = 0, this.hasStarted = !1, this.timeScale = 1, this.loop = 0, this.loopDelay = 0, this.loopCounter = 0, this.completeDelay = 0, this.countdown = 0, this.state = o.PENDING, this.paused = !1, this.callbacks = { onActive: null, onComplete: null, onLoop: null, onPause: null, onRepeat: null, onResume: null, onStart: null, onStop: null, onUpdate: null, onYoyo: null }, this.callbackScope, this.persist = !1 }, setTimeScale: function(t) { return this.timeScale = t, this }, getTimeScale: function() { return this.timeScale }, isPlaying: function() { return !this.paused && this.isActive() }, isPaused: function() { return this.paused }, pause: function() { return this.paused || (this.paused = !0, this.dispatchEvent(s.TWEEN_PAUSE, "onPause")), this }, resume: function() { return this.paused && (this.paused = !1, this.dispatchEvent(s.TWEEN_RESUME, "onResume")), this }, makeActive: function() { this.parent.makeActive(this), this.dispatchEvent(s.TWEEN_ACTIVE, "onActive") }, onCompleteHandler: function() { this.setPendingRemoveState(), this.dispatchEvent(s.TWEEN_COMPLETE, "onComplete") }, complete: function(t) { return void 0 === t && (t = 0), t ? (this.setCompleteDelayState(), this.countdown = t) : this.onCompleteHandler(), this }, completeAfterLoop: function(t) { return void 0 === t && (t = 0), this.loopCounter > t && (this.loopCounter = t), this }, remove: function() { return this.parent && this.parent.remove(this), this }, stop: function() { return !this.parent || this.isRemoved() || this.isPendingRemove() || this.isDestroyed() || (this.dispatchEvent(s.TWEEN_STOP, "onStop"), this.setPendingRemoveState()), this }, updateLoopCountdown: function(t) { this.countdown -= t, this.countdown <= 0 && (this.setActiveState(), this.dispatchEvent(s.TWEEN_LOOP, "onLoop")) }, updateStartCountdown: function(t) { return this.countdown -= t, this.countdown <= 0 && (this.hasStarted = !0, this.setActiveState(), this.dispatchEvent(s.TWEEN_START, "onStart"), t = 0), t }, updateCompleteDelay: function(t) { this.countdown -= t, this.countdown <= 0 && this.onCompleteHandler() }, setCallback: function(t, e, i) { return void 0 === i && (i = []), this.callbacks.hasOwnProperty(t) && (this.callbacks[t] = { func: e, params: i }), this }, setPendingState: function() { this.state = o.PENDING }, setActiveState: function() { this.state = o.ACTIVE, this.hasStarted = !1 }, setLoopDelayState: function() { this.state = o.LOOP_DELAY }, setCompleteDelayState: function() { this.state = o.COMPLETE_DELAY }, setStartDelayState: function() { this.state = o.START_DELAY, this.countdown = this.startDelay, this.hasStarted = !1 }, setPendingRemoveState: function() { this.state = o.PENDING_REMOVE }, setRemovedState: function() { this.state = o.REMOVED }, setFinishedState: function() { this.state = o.FINISHED }, setDestroyedState: function() { this.state = o.DESTROYED }, isPending: function() { return this.state === o.PENDING }, isActive: function() { return this.state === o.ACTIVE }, isLoopDelayed: function() { return this.state === o.LOOP_DELAY }, isCompleteDelayed: function() { return this.state === o.COMPLETE_DELAY }, isStartDelayed: function() { return this.state === o.START_DELAY }, isPendingRemove: function() { return this.state === o.PENDING_REMOVE }, isRemoved: function() { return this.state === o.REMOVED }, isFinished: function() { return this.state === o.FINISHED }, isDestroyed: function() { return this.state === o.DESTROYED }, destroy: function() { this.data && this.data.forEach((function(t) { t.destroy() })), this.removeAllListeners(), this.callbacks = null, this.data = null, this.parent = null, this.setDestroyedState() } });
				a.TYPES = ["onActive", "onComplete", "onLoop", "onPause", "onRepeat", "onResume", "onStart", "onStop", "onUpdate", "onYoyo"], t.exports = a }, 95042: (t, e, i) => { var n = i(83419),
					r = i(842),
					s = i(86353),
					o = new n({ initialize: function(t, e, i, n, r, s, o, a, l, h) { this.tween = t, this.targetIndex = e, this.duration = n, this.totalDuration = 0, this.delay = 0, this.getDelay = i, this.yoyo = r, this.hold = s, this.repeat = o, this.repeatDelay = a, this.repeatCounter = 0, this.flipX = l, this.flipY = h, this.progress = 0, this.elapsed = 0, this.state = 0, this.isCountdown = !1 }, getTarget: function() { return this.tween.targets[this.targetIndex] }, setTargetValue: function(t) { void 0 === t && (t = this.current), this.tween.targets[this.targetIndex][this.key] = t }, setCreatedState: function() { this.state = s.CREATED, this.isCountdown = !1 }, setDelayState: function() { this.state = s.DELAY, this.isCountdown = !0 }, setPendingRenderState: function() { this.state = s.PENDING_RENDER, this.isCountdown = !1 }, setPlayingForwardState: function() { this.state = s.PLAYING_FORWARD, this.isCountdown = !1 }, setPlayingBackwardState: function() { this.state = s.PLAYING_BACKWARD, this.isCountdown = !1 }, setHoldState: function() { this.state = s.HOLD_DELAY, this.isCountdown = !0 }, setRepeatState: function() { this.state = s.REPEAT_DELAY, this.isCountdown = !0 }, setCompleteState: function() { this.state = s.COMPLETE, this.isCountdown = !1 }, isCreated: function() { return this.state === s.CREATED }, isDelayed: function() { return this.state === s.DELAY }, isPendingRender: function() { return this.state === s.PENDING_RENDER }, isPlayingForward: function() { return this.state === s.PLAYING_FORWARD }, isPlayingBackward: function() { return this.state === s.PLAYING_BACKWARD }, isHolding: function() { return this.state === s.HOLD_DELAY }, isRepeating: function() { return this.state === s.REPEAT_DELAY }, isComplete: function() { return this.state === s.COMPLETE }, setStateFromEnd: function(t) { this.yoyo ? this.onRepeat(t, !0, !0) : this.repeatCounter > 0 ? this.onRepeat(t, !0, !1) : this.setCompleteState() }, setStateFromStart: function(t) { this.repeatCounter > 0 ? this.onRepeat(t, !1) : this.setCompleteState() }, reset: function() { var t = this.tween,
								e = t.totalTargets,
								i = this.targetIndex,
								n = t.targets[i],
								r = this.key;
							this.progress = 0, this.elapsed = 0, this.delay = this.getDelay(n, r, 0, i, e, t), this.repeatCounter = -1 === this.repeat ? s.MAX : this.repeat, this.setPendingRenderState(); var o = this.duration + this.hold;
							this.yoyo && (o += this.duration); var a = o + this.repeatDelay;
							this.totalDuration = this.delay + o, -1 === this.repeat ? (this.totalDuration += a * s.MAX, t.isInfinite = !0) : this.repeat > 0 && (this.totalDuration += a * this.repeat), this.totalDuration > t.duration && (t.duration = this.totalDuration), this.delay < t.startDelay && (t.startDelay = this.delay), this.delay > 0 && (this.elapsed = this.delay, this.setDelayState()) }, onRepeat: function(t, e, i) { var n = this.tween,
								s = n.totalTargets,
								o = this.targetIndex,
								a = n.targets[o],
								l = this.key,
								h = "texture" !== l; if (this.elapsed = t, this.progress = t / this.duration, this.flipX && a.toggleFlipX(), this.flipY && a.toggleFlipY(), h && (e || i) && (this.start = this.getStartValue(a, l, this.start, o, s, n)), i) return this.setPlayingBackwardState(), void this.dispatchEvent(r.TWEEN_YOYO, "onYoyo");
							this.repeatCounter--, h && (this.end = this.getEndValue(a, l, this.start, o, s, n)), this.repeatDelay > 0 ? (this.elapsed = this.repeatDelay - t, h && (this.current = this.start, a[l] = this.current), this.setRepeatState()) : (this.setPlayingForwardState(), this.dispatchEvent(r.TWEEN_REPEAT, "onRepeat")) }, destroy: function() { this.tween = null, this.getDelay = null, this.setCompleteState() } });
				t.exports = o }, 69902: t => { t.exports = { targets: null, delay: 0, duration: 1e3, ease: "Power0", easeParams: null, hold: 0, repeat: 0, repeatDelay: 0, yoyo: !1, flipX: !1, flipY: !1, persist: !1, interpolation: null } }, 81076: t => { t.exports = ["callbackScope", "completeDelay", "delay", "duration", "ease", "easeParams", "flipX", "flipY", "hold", "interpolation", "loop", "loopDelay", "onActive", "onActiveParams", "onComplete", "onCompleteParams", "onLoop", "onLoopParams", "onPause", "onPauseParams", "onRepeat", "onRepeatParams", "onResume", "onResumeParams", "onStart", "onStartParams", "onStop", "onStopParams", "onUpdate", "onUpdateParams", "onYoyo", "onYoyoParams", "paused", "persist", "props", "repeat", "repeatDelay", "targets", "yoyo"] }, 86081: (t, e, i) => { var n = i(70402),
					r = i(83419),
					s = i(842),
					o = i(44603),
					a = i(39429),
					l = i(36383),
					h = i(86353),
					u = i(48177),
					c = i(42220),
					d = new r({ Extends: n, initialize: function(t, e) { n.call(this, t), this.targets = e, this.totalTargets = e.length, this.isSeeking = !1, this.isInfinite = !1, this.elapsed = 0, this.totalElapsed = 0, this.duration = 0, this.progress = 0, this.totalDuration = 0, this.totalProgress = 0 }, add: function(t, e, i, n, r, s, o, a, l, h, c, d, f, p, g, m) { var v = new u(this, t, e, i, n, r, s, o, a, l, h, c, d, f, p, g, m); return this.totalData = this.data.push(v), v }, addFrame: function(t, e, i, n, r, s, o, a, l, h) { var u = new c(this, t, e, i, n, r, s, o, a, l, h); return this.totalData = this.data.push(u), u }, getValue: function(t) { void 0 === t && (t = 0); var e = null; return this.data && (e = this.data[t].current), e }, hasTarget: function(t) { return this.targets && -1 !== this.targets.indexOf(t) }, updateTo: function(t, e, i) { if (void 0 === i && (i = !1), "texture" !== t)
								for (var n = 0; n < this.totalData; n++) { var r = this.data[n];
									r.key === t && (r.isPlayingForward() || r.isPlayingBackward()) && (r.end = e, i && (r.start = r.current)) }
							return this }, restart: function() { switch (this.state) {
								case h.REMOVED:
								case h.FINISHED:
									this.seek(), this.parent.makeActive(this); break;
								case h.PENDING:
								case h.PENDING_REMOVE:
									this.parent.reset(this); break;
								case h.DESTROYED:
									console.warn("Cannot restart destroyed Tween", this); break;
								default:
									this.seek() } return this.paused = !1, this.hasStarted = !1, this }, nextState: function() { if (this.loopCounter > 0) this.elapsed = 0, this.progress = 0, this.loopCounter--, this.initTweenData(!0), this.loopDelay > 0 ? (this.countdown = this.loopDelay, this.setLoopDelayState()) : (this.setActiveState(), this.dispatchEvent(s.TWEEN_LOOP, "onLoop"));
							else { if (!(this.completeDelay > 0)) return this.onCompleteHandler(), !0;
								this.countdown = this.completeDelay, this.setCompleteDelayState() } return !1 }, onCompleteHandler: function() { this.progress = 1, this.totalProgress = 1, n.prototype.onCompleteHandler.call(this) }, play: function() { return this.isDestroyed() ? (console.warn("Cannot play destroyed Tween", this), this) : ((this.isPendingRemove() || this.isFinished()) && this.seek(), this.paused = !1, this.setActiveState(), this) }, seek: function(t, e, i) { if (void 0 === t && (t = 0), void 0 === e && (e = 16.6), void 0 === i && (i = !1), this.isDestroyed()) return console.warn("Cannot seek destroyed Tween", this), this;
							i || (this.isSeeking = !0), this.reset(!0), this.initTweenData(!0), this.setActiveState(), this.dispatchEvent(s.TWEEN_ACTIVE, "onActive"); var n = this.paused; if (this.paused = !1, t > 0) { for (var r = Math.floor(t / e), o = t - r * e, a = 0; a < r; a++) this.update(e);
								o > 0 && this.update(o) } return this.paused = n, this.isSeeking = !1, this }, initTweenData: function(t) { void 0 === t && (t = !1), this.duration = 0, this.startDelay = l.MAX_SAFE_INTEGER; for (var e = this.data, i = 0; i < this.totalData; i++) e[i].reset(t);
							this.duration = Math.max(this.duration, .01); var n = this.duration,
								r = this.completeDelay,
								s = this.loopCounter,
								o = this.loopDelay;
							this.totalDuration = s > 0 ? n + r + (n + o) * s : n + r }, reset: function(t) { return void 0 === t && (t = !1), this.elapsed = 0, this.totalElapsed = 0, this.progress = 0, this.totalProgress = 0, this.loopCounter = this.loop, -1 === this.loop && (this.isInfinite = !0, this.loopCounter = h.MAX), t || (this.initTweenData(), this.setActiveState(), this.dispatchEvent(s.TWEEN_ACTIVE, "onActive")), this }, update: function(t) { if (this.isPendingRemove() || this.isDestroyed()) return !0; if (this.paused || this.isFinished()) return !1; if (t *= this.timeScale * this.parent.timeScale, this.isLoopDelayed()) return this.updateLoopCountdown(t), !1; if (this.isCompleteDelayed()) return this.updateCompleteDelay(t), !1;
							this.hasStarted || (this.startDelay -= t, this.startDelay <= 0 && (this.hasStarted = !0, this.dispatchEvent(s.TWEEN_START, "onStart"), t = 0)); var e = !1; if (this.isActive())
								for (var i = this.data, n = 0; n < this.totalData; n++) i[n].update(t) && (e = !0);
							this.elapsed += t, this.progress = Math.min(this.elapsed / this.duration, 1), this.totalElapsed += t, this.totalProgress = Math.min(this.totalElapsed / this.totalDuration, 1), e || this.nextState(); var r = this.isPendingRemove(); return r && this.persist && (this.setFinishedState(), r = !1), r }, forward: function(t) { return this.update(t), this }, rewind: function(t) { return this.update(-t), this }, dispatchEvent: function(t, e) { if (!this.isSeeking) { this.emit(t, this, this.targets); var i = this.callbacks[e];
								i && i.func.apply(this.callbackScope, [this, this.targets].concat(i.params)) } }, destroy: function() { n.prototype.destroy.call(this), this.targets = null } });
				a.register("tween", (function(t) { return this.scene.sys.tweens.add(t) })), o.register("tween", (function(t) { return this.scene.sys.tweens.create(t) })), t.exports = d }, 43960: (t, e, i) => { var n = i(72905),
					r = i(70402),
					s = i(83419),
					o = i(842),
					a = i(44603),
					l = i(39429),
					h = i(86353),
					u = new s({ Extends: r, initialize: function(t) { r.call(this, t), this.currentTween = null, this.currentIndex = 0 }, init: function() { return this.loopCounter = -1 === this.loop ? h.MAX : this.loop, this.setCurrentTween(0), this.startDelay > 0 && !this.isStartDelayed() ? this.setStartDelayState() : this.setActiveState(), this }, add: function(t) { var e = this.parent.create(t);
							Array.isArray(e) || (e = [e]); for (var i = this.data, n = 0; n < e.length; n++) { var r = e[n];
								r.parent = this, i.push(r.reset()) } return this.totalData = i.length, this }, remove: function(t) { return n(this.data, t), t.setRemovedState(), t === this.currentTween && this.nextTween(), this.totalData = this.data.length, this }, hasTarget: function(t) { for (var e = this.data, i = 0; i < this.totalData; i++)
								if (e[i].hasTarget(t)) return !0; return !1 }, restart: function() { return this.isDestroyed() ? (console.warn("Cannot restart destroyed TweenChain", this), this) : (this.isRemoved() && this.parent.makeActive(this), this.resetTweens(), this.paused = !1, this.init()) }, reset: function(t) { return t.seek(), t.setActiveState(), this }, makeActive: function(t) { return t.reset(), t.setActiveState(), this }, nextState: function() { if (this.loopCounter > 0) this.loopCounter--, this.resetTweens(), this.loopDelay > 0 ? (this.countdown = this.loopDelay, this.setLoopDelayState()) : (this.setActiveState(), this.dispatchEvent(o.TWEEN_LOOP, "onLoop"));
							else { if (!(this.completeDelay > 0)) return this.onCompleteHandler(), !0;
								this.countdown = this.completeDelay, this.setCompleteDelayState() } return !1 }, play: function() { return this.isDestroyed() ? (console.warn("Cannot play destroyed TweenChain", this), this) : ((this.isPendingRemove() || this.isPending()) && this.resetTweens(), this.paused = !1, this.startDelay > 0 && !this.isStartDelayed() ? this.setStartDelayState() : this.setActiveState(), this) }, resetTweens: function() { for (var t = this.data, e = this.totalData, i = 0; i < e; i++) t[i].reset(!1);
							this.setCurrentTween(0) }, update: function(t) { if (this.isPendingRemove() || this.isDestroyed()) return !0; if (this.isFinished() || this.paused) return !1;
							t *= this.parent.timeScale, this.isLoopDelayed() ? this.updateLoopCountdown(t) : this.isCompleteDelayed() ? this.updateCompleteDelay(t) : this.isStartDelayed() && (t = this.updateStartCountdown(t)); var e = !1; return this.isActive() && this.currentTween && (this.currentTween.update(t) && this.nextTween() && this.nextState(), (e = this.isPendingRemove()) && this.persist && (this.setFinishedState(), e = !1)), e }, nextTween: function() { return this.currentIndex++, this.currentIndex === this.totalData || (this.setCurrentTween(this.currentIndex), !1) }, setCurrentTween: function(t) { this.currentIndex = t, this.currentTween = this.data[t], this.currentTween.setActiveState() }, dispatchEvent: function(t, e) { this.emit(t, this); var i = this.callbacks[e];
							i && i.func.apply(this.callbackScope, [this].concat(i.params)) }, destroy: function() { r.prototype.destroy.call(this), this.currentTween = null } });
				l.register("tweenchain", (function(t) { return this.scene.sys.tweens.chain(t) })), a.register("tweenchain", (function(t) { return this.scene.sys.tweens.create(t) })), t.exports = u }, 48177: (t, e, i) => { var n = i(95042),
					r = i(45319),
					s = i(83419),
					o = i(842),
					a = new s({ Extends: n, initialize: function(t, e, i, r, s, o, a, l, h, u, c, d, f, p, g, m, v) { n.call(this, t, e, l, h, u, c, d, f, p, g), this.key = i, this.getActiveValue = o, this.getEndValue = r, this.getStartValue = s, this.ease = a, this.start = 0, this.previous = 0, this.current = 0, this.end = 0, this.interpolation = m, this.interpolationData = v }, reset: function(t) { n.prototype.reset.call(this); var e = this.tween.targets[this.targetIndex],
								i = this.key;
							t && (e[i] = this.start), this.start = 0, this.previous = 0, this.current = 0, this.end = 0, this.getActiveValue && (e[i] = this.getActiveValue(e, i, 0)) }, update: function(t) { var e = this.tween,
								i = e.totalTargets,
								n = this.targetIndex,
								s = e.targets[n],
								a = this.key; if (!s) return this.setCompleteState(), !1; if (this.isCountdown && (this.elapsed -= t, this.elapsed <= 0 && (this.elapsed = 0, t = 0, this.isDelayed() ? this.setPendingRenderState() : this.isRepeating() ? (this.setPlayingForwardState(), this.dispatchEvent(o.TWEEN_REPEAT, "onRepeat")) : this.isHolding() && this.setStateFromEnd(0))), this.isPendingRender()) return this.start = this.getStartValue(s, a, s[a], n, i, e), this.end = this.getEndValue(s, a, this.start, n, i, e), this.current = this.start, s[a] = this.start, this.setPlayingForwardState(), !0; var l = this.isPlayingForward(),
								h = this.isPlayingBackward(); if (l || h) { var u = this.elapsed,
									c = this.duration,
									d = 0,
									f = !1;
								(u += t) >= c ? (d = u - c, u = c, f = !0) : u < 0 && (u = 0); var p = r(u / c, 0, 1);
								this.elapsed = u, this.progress = p, this.previous = this.current, l || (p = 1 - p); var g = this.ease(p);
								this.interpolation ? this.current = this.interpolation(this.interpolationData, g) : this.current = this.start + (this.end - this.start) * g, s[a] = this.current, f && (l ? this.hold > 0 ? (this.elapsed = this.hold, this.setHoldState()) : this.setStateFromEnd(d) : this.setStateFromStart(d)), this.dispatchEvent(o.TWEEN_UPDATE, "onUpdate") } return !this.isComplete() }, dispatchEvent: function(t, e) { var i = this.tween; if (!i.isSeeking) { var n = i.targets[this.targetIndex],
									r = this.key,
									s = this.current,
									o = this.previous;
								i.emit(t, i, r, n, s, o); var a = i.callbacks[e];
								a && a.func.apply(i.callbackScope, [i, n, r, s, o].concat(a.params)) } }, destroy: function() { n.prototype.destroy.call(this), this.getActiveValue = null, this.getEndValue = null, this.getStartValue = null, this.ease = null } });
				t.exports = a }, 42220: (t, e, i) => { var n = i(95042),
					r = i(45319),
					s = i(83419),
					o = i(842),
					a = new s({ Extends: n, initialize: function(t, e, i, r, s, o, a, l, h, u, c) { n.call(this, t, e, s, o, !1, a, l, h, u, c), this.key = "texture", this.startTexture = null, this.endTexture = i, this.startFrame = null, this.endFrame = r, this.yoyo = 0 !== l }, reset: function(t) { n.prototype.reset.call(this); var e = this.tween.targets[this.targetIndex];
							this.startTexture || (this.startTexture = e.texture.key, this.startFrame = e.frame.name), t && e.setTexture(this.startTexture, this.startFrame) }, update: function(t) { var e = this.tween,
								i = this.targetIndex,
								n = e.targets[i]; if (!n) return this.setCompleteState(), !1; if (this.isCountdown && (this.elapsed -= t, this.elapsed <= 0 && (this.elapsed = 0, t = 0, this.isDelayed() ? this.setPendingRenderState() : this.isRepeating() ? (this.setPlayingForwardState(), this.dispatchEvent(o.TWEEN_REPEAT, "onRepeat")) : this.isHolding() && this.setStateFromEnd(0))), this.isPendingRender()) return this.startTexture && n.setTexture(this.startTexture, this.startFrame), this.setPlayingForwardState(), !0; var s = this.isPlayingForward(),
								a = this.isPlayingBackward(); if (s || a) { var l = this.elapsed,
									h = this.duration,
									u = 0,
									c = !1;
								(l += t) >= h ? (u = l - h, l = h, c = !0) : l < 0 && (l = 0); var d = r(l / h, 0, 1);
								this.elapsed = l, this.progress = d, c && (s ? (n.setTexture(this.endTexture, this.endFrame), this.hold > 0 ? (this.elapsed = this.hold, this.setHoldState()) : this.setStateFromEnd(u)) : (n.setTexture(this.startTexture, this.startFrame), this.setStateFromStart(u))), this.dispatchEvent(o.TWEEN_UPDATE, "onUpdate") } return !this.isComplete() }, dispatchEvent: function(t, e) { var i = this.tween; if (!i.isSeeking) { var n = i.targets[this.targetIndex],
									r = this.key;
								i.emit(t, i, r, n); var s = i.callbacks[e];
								s && s.func.apply(i.callbackScope, [i, n, r].concat(s.params)) } }, destroy: function() { n.prototype.destroy.call(this), this.startTexture = null, this.endTexture = null, this.startFrame = null, this.endFrame = null } });
				t.exports = a }, 86353: t => { t.exports = { CREATED: 0, DELAY: 2, PENDING_RENDER: 4, PLAYING_FORWARD: 5, PLAYING_BACKWARD: 6, HOLD_DELAY: 7, REPEAT_DELAY: 8, COMPLETE: 9, PENDING: 20, ACTIVE: 21, LOOP_DELAY: 22, COMPLETE_DELAY: 23, START_DELAY: 24, PENDING_REMOVE: 25, REMOVED: 26, FINISHED: 27, DESTROYED: 28, MAX: 999999999999 } }, 83419: t => {
				function e(t, e, i) { var n = i ? t[e] : Object.getOwnPropertyDescriptor(t, e); return !i && n.value && "object" == typeof n.value && (n = n.value), !(!n || ! function(t) { return !!t.get && "function" == typeof t.get || !!t.set && "function" == typeof t.set }(n)) && (void 0 === n.enumerable && (n.enumerable = !0), void 0 === n.configurable && (n.configurable = !0), n) }

				function i(t, e) { var i = Object.getOwnPropertyDescriptor(t, e); return !!i && (i.value && "object" == typeof i.value && (i = i.value), !1 === i.configurable) }

				function n(t, n, r, o) { for (var a in n)
						if (n.hasOwnProperty(a)) { var l = e(n, a, r); if (!1 !== l) { if (i((o || t).prototype, a)) { if (s.ignoreFinals) continue; throw new Error("cannot override final property '" + a + "', set Class.ignoreFinals = true to skip") } Object.defineProperty(t.prototype, a, l) } else t.prototype[a] = n[a] } }

				function r(t, e) { if (e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++) n(t, e[i].prototype || e[i]) } }

				function s(t) { var e, i; if (t || (t = {}), t.initialize) { if ("function" != typeof t.initialize) throw new Error("initialize must be a function");
						e = t.initialize, delete t.initialize } else if (t.Extends) { var s = t.Extends;
						e = function() { s.apply(this, arguments) } } else e = function() {};
					t.Extends ? (e.prototype = Object.create(t.Extends.prototype), e.prototype.constructor = e, i = t.Extends, delete t.Extends) : e.prototype.constructor = e; var o = null; return t.Mixins && (o = t.Mixins, delete t.Mixins), r(e, o), n(e, t, !0, i), e } s.extend = n, s.mixin = r, s.ignoreFinals = !1, t.exports = s }, 29747: t => { t.exports = function() {} }, 20242: t => { t.exports = function() { return null } }, 71146: t => { t.exports = function(t, e, i, n, r) { if (void 0 === r && (r = t), i > 0) { var s = i - t.length; if (s <= 0) return null } if (!Array.isArray(e)) return -1 === t.indexOf(e) ? (t.push(e), n && n.call(r, e), e) : null; for (var o = e.length - 1; o >= 0;) - 1 !== t.indexOf(e[o]) && e.splice(o, 1), o--; if (0 === (o = e.length)) return null;
					i > 0 && o > s && (e.splice(s), o = s); for (var a = 0; a < o; a++) { var l = e[a];
						t.push(l), n && n.call(r, l) } return e } }, 51067: t => { t.exports = function(t, e, i, n, r, s) { if (void 0 === i && (i = 0), void 0 === s && (s = t), n > 0) { var o = n - t.length; if (o <= 0) return null } if (!Array.isArray(e)) return -1 === t.indexOf(e) ? (t.splice(i, 0, e), r && r.call(s, e), e) : null; for (var a = e.length - 1; a >= 0;) - 1 !== t.indexOf(e[a]) && e.pop(), a--; if (0 === (a = e.length)) return null;
					n > 0 && a > o && (e.splice(o), a = o); for (var l = a - 1; l >= 0; l--) { var h = e[l];
						t.splice(i, 0, h), r && r.call(s, h) } return e } }, 66905: t => { t.exports = function(t, e) { var i = t.indexOf(e); return -1 !== i && i < t.length && (t.splice(i, 1), t.push(e)), e } }, 21612: (t, e, i) => { var n = i(82011);
				t.exports = function(t, e, i, r, s) { void 0 === r && (r = 0), void 0 === s && (s = t.length); var o = 0; if (n(t, r, s))
						for (var a = r; a < s; a++) t[a][e] === i && o++; return o } }, 95428: t => { t.exports = function(t, e, i) { var n, r = [null]; for (n = 3; n < arguments.length; n++) r.push(arguments[n]); for (n = 0; n < t.length; n++) r[0] = t[n], e.apply(i, r); return t } }, 36914: (t, e, i) => { var n = i(82011);
				t.exports = function(t, e, i, r, s) { if (void 0 === r && (r = 0), void 0 === s && (s = t.length), n(t, r, s)) { var o, a = [null]; for (o = 5; o < arguments.length; o++) a.push(arguments[o]); for (o = r; o < s; o++) a[0] = t[o], e.apply(i, a) } return t } }, 81957: t => { t.exports = function(t, e, i) { if (!e.length) return NaN; if (1 === e.length) return e[0]; var n, r, s = 1; if (i) { if (t < e[0][i]) return e[0]; for (; e[s][i] < t;) s++ } else
						for (; e[s] < t;) s++; return s > e.length && (s = e.length), i ? (n = e[s - 1][i], (r = e[s][i]) - t <= t - n ? e[s] : e[s - 1]) : (n = e[s - 1], (r = e[s]) - t <= t - n ? r : n) } }, 43491: t => { var e = function(t, i) { void 0 === i && (i = []); for (var n = 0; n < t.length; n++) Array.isArray(t[n]) ? e(t[n], i) : i.push(t[n]); return i };
				t.exports = e }, 46710: (t, e, i) => { var n = i(82011);
				t.exports = function(t, e, i, r, s) { void 0 === r && (r = 0), void 0 === s && (s = t.length); var o = []; if (n(t, r, s))
						for (var a = r; a < s; a++) { var l = t[a];
							(!e || e && void 0 === i && l.hasOwnProperty(e) || e && void 0 !== i && l[e] === i) && o.push(l) }
					return o } }, 58731: (t, e, i) => { var n = i(82011);
				t.exports = function(t, e, i, r, s) { if (void 0 === r && (r = 0), void 0 === s && (s = t.length), n(t, r, s))
						for (var o = r; o < s; o++) { var a = t[o]; if (!e || e && void 0 === i && a.hasOwnProperty(e) || e && void 0 !== i && a[e] === i) return a }
					return null } }, 26546: t => { t.exports = function(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = t.length); var n = e + Math.floor(Math.random() * i); return void 0 === t[n] ? null : t[n] } }, 85835: t => { t.exports = function(t, e, i) { if (e === i) return t; var n = t.indexOf(e),
						r = t.indexOf(i); if (n < 0 || r < 0) throw new Error("Supplied items must be elements of the same array"); return n > r || (t.splice(n, 1), r = t.indexOf(i), t.splice(r + 1, 0, e)), t } }, 83371: t => { t.exports = function(t, e, i) { if (e === i) return t; var n = t.indexOf(e),
						r = t.indexOf(i); if (n < 0 || r < 0) throw new Error("Supplied items must be elements of the same array"); return n < r || (t.splice(n, 1), 0 === r ? t.unshift(e) : t.splice(r, 0, e)), t } }, 70864: t => { t.exports = function(t, e) { var i = t.indexOf(e); if (i > 0) { var n = t[i - 1],
							r = t.indexOf(n);
						t[i] = n, t[r] = e } return t } }, 69693: t => { t.exports = function(t, e, i) { var n = t.indexOf(e); if (-1 === n || i < 0 || i >= t.length) throw new Error("Supplied index out of bounds"); return n !== i && (t.splice(n, 1), t.splice(i, 0, e)), e } }, 40853: t => { t.exports = function(t, e) { var i = t.indexOf(e); if (-1 !== i && i < t.length - 1) { var n = t[i + 1],
							r = t.indexOf(n);
						t[i] = n, t[r] = e } return t } }, 20283: t => { t.exports = function(t, e, i, n) { var r, s = [],
						o = !1; if ((i || n) && (o = !0, i || (i = ""), n || (n = "")), e < t)
						for (r = t; r >= e; r--) o ? s.push(i + r.toString() + n) : s.push(r);
					else
						for (r = t; r <= e; r++) o ? s.push(i + r.toString() + n) : s.push(r); return s } }, 593: (t, e, i) => { var n = i(2284);
				t.exports = function(t, e, i) { void 0 === t && (t = 0), void 0 === e && (e = null), void 0 === i && (i = 1), null === e && (e = t, t = 0); for (var r = [], s = Math.max(n((e - t) / (i || 1)), 0), o = 0; o < s; o++) r.push(t), t += i; return r } }, 43886: t => {
				function e(t, e, i) { var n = t[e];
					t[e] = t[i], t[i] = n }

				function i(t, e) { return t < e ? -1 : t > e ? 1 : 0 } var n = function(t, r, s, o, a) { for (void 0 === s && (s = 0), void 0 === o && (o = t.length - 1), void 0 === a && (a = i); o > s;) { if (o - s > 600) { var l = o - s + 1,
								h = r - s + 1,
								u = Math.log(l),
								c = .5 * Math.exp(2 * u / 3),
								d = .5 * Math.sqrt(u * c * (l - c) / l) * (h - l / 2 < 0 ? -1 : 1),
								f = Math.max(s, Math.floor(r - h * c / l + d)),
								p = Math.min(o, Math.floor(r + (l - h) * c / l + d));
							n(t, r, f, p, a) } var g = t[r],
							m = s,
							v = o; for (e(t, s, r), a(t[o], g) > 0 && e(t, s, o); m < v;) { for (e(t, m, v), m++, v--; a(t[m], g) < 0;) m++; for (; a(t[v], g) > 0;) v-- } 0 === a(t[s], g) ? e(t, s, v) : e(t, ++v, o), v <= r && (s = v + 1), r <= v && (o = v - 1) } };
				t.exports = n }, 88492: (t, e, i) => { var n = i(35154),
					r = i(33680),
					s = function(t, e, i) { for (var n = [], r = 0; r < t.length; r++)
							for (var s = 0; s < e.length; s++)
								for (var o = 0; o < i; o++) n.push({ a: t[r], b: e[s] }); return n };
				t.exports = function(t, e, i) { var o = n(i, "max", 0),
						a = n(i, "qty", 1),
						l = n(i, "random", !1),
						h = n(i, "randomB", !1),
						u = n(i, "repeat", 0),
						c = n(i, "yoyo", !1),
						d = []; if (h && r(e), -1 === u)
						if (0 === o) u = 0;
						else { var f = t.length * e.length * a;
							c && (f *= 2), u = Math.ceil(o / f) } for (var p = 0; p <= u; p++) { var g = s(t, e, a);
						l && r(g), d = d.concat(g), c && (g.reverse(), d = d.concat(g)) } return o && d.splice(o), d } }, 72905: (t, e, i) => { var n = i(19133);
				t.exports = function(t, e, i, r) { var s; if (void 0 === r && (r = t), !Array.isArray(e)) return -1 !== (s = t.indexOf(e)) ? (n(t, s), i && i.call(r, e), e) : null; for (var o = e.length - 1, a = []; o >= 0;) { var l = e[o]; - 1 !== (s = t.indexOf(l)) && (n(t, s), a.push(l), i && i.call(r, l)), o-- } return a } }, 60248: (t, e, i) => { var n = i(19133);
				t.exports = function(t, e, i, r) { if (void 0 === r && (r = t), e < 0 || e > t.length - 1) throw new Error("Index out of bounds"); var s = n(t, e); return i && i.call(r, s), s } }, 81409: (t, e, i) => { var n = i(82011);
				t.exports = function(t, e, i, r, s) { if (void 0 === e && (e = 0), void 0 === i && (i = t.length), void 0 === s && (s = t), n(t, e, i)) { var o = i - e,
							a = t.splice(e, o); if (r)
							for (var l = 0; l < a.length; l++) { var h = a[l];
								r.call(s, h) }
						return a } return [] } }, 31856: (t, e, i) => { var n = i(19133);
				t.exports = function(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = t.length); var r = e + Math.floor(Math.random() * i); return n(t, r) } }, 42169: t => { t.exports = function(t, e, i) { var n = t.indexOf(e),
						r = t.indexOf(i); return -1 !== n && -1 === r && (t[n] = i, !0) } }, 86003: t => { t.exports = function(t, e) { void 0 === e && (e = 1); for (var i = null, n = 0; n < e; n++) i = t.shift(), t.push(i); return i } }, 49498: t => { t.exports = function(t, e) { void 0 === e && (e = 1); for (var i = null, n = 0; n < e; n++) i = t.pop(), t.unshift(i); return i } }, 82011: t => { t.exports = function(t, e, i, n) { var r = t.length; if (e < 0 || e > r || e >= i || i > r) { if (n) throw new Error("Range Error: Values outside acceptable range"); return !1 } return !0 } }, 89545: t => { t.exports = function(t, e) { var i = t.indexOf(e); return -1 !== i && i > 0 && (t.splice(i, 1), t.unshift(e)), e } }, 17810: (t, e, i) => { var n = i(82011);
				t.exports = function(t, e, i, r, s) { if (void 0 === r && (r = 0), void 0 === s && (s = t.length), n(t, r, s))
						for (var o = r; o < s; o++) { var a = t[o];
							a.hasOwnProperty(e) && (a[e] = i) }
					return t } }, 33680: t => { t.exports = function(t) { for (var e = t.length - 1; e > 0; e--) { var i = Math.floor(Math.random() * (e + 1)),
							n = t[e];
						t[e] = t[i], t[i] = n } return t } }, 90126: t => { t.exports = function(t) { var e = /\D/g; return t.sort((function(t, i) { return parseInt(t.replace(e, ""), 10) - parseInt(i.replace(e, ""), 10) })), t } }, 19133: t => { t.exports = function(t, e) { if (!(e >= t.length)) { for (var i = t.length - 1, n = t[e], r = e; r < i; r++) t[r] = t[r + 1]; return t.length = i, n } } }, 19186: (t, e, i) => { var n = i(82264);

				function r(t, e) { return String(t).localeCompare(e) }

				function s(t, e, i, n) { var r, s, o, a, l, h = t.length,
						u = 0,
						c = 2 * i; for (r = 0; r < h; r += c)
						for (o = (s = r + i) + i, s > h && (s = h), o > h && (o = h), a = r, l = s;;)
							if (a < s && l < o) e(t[a], t[l]) <= 0 ? n[u++] = t[a++] : n[u++] = t[l++];
							else if (a < s) n[u++] = t[a++];
					else { if (!(l < o)) break;
						n[u++] = t[l++] } } t.exports = function(t, e) { if (void 0 === e && (e = r), !t || t.length < 2) return t; if (n.features.stableSort) return t.sort(e); var i = function(t, e) { var i = t.length; if (i <= 1) return t; for (var n = new Array(i), r = 1; r < i; r *= 2) { s(t, e, r, n); var o = t;
							t = n, n = o } return t }(t, e); return i !== t && s(i, null, t.length, t), t } }, 25630: t => { t.exports = function(t, e, i) { if (e === i) return t; var n = t.indexOf(e),
						r = t.indexOf(i); if (n < 0 || r < 0) throw new Error("Supplied items must be elements of the same array"); return t[n] = i, t[r] = e, t } }, 37105: (t, e, i) => { t.exports = { Matrix: i(54915), Add: i(71146), AddAt: i(51067), BringToTop: i(66905), CountAllMatching: i(21612), Each: i(95428), EachInRange: i(36914), FindClosestInSorted: i(81957), Flatten: i(43491), GetAll: i(46710), GetFirst: i(58731), GetRandom: i(26546), MoveDown: i(70864), MoveTo: i(69693), MoveUp: i(40853), MoveAbove: i(85835), MoveBelow: i(83371), NumberArray: i(20283), NumberArrayStep: i(593), QuickSelect: i(43886), Range: i(88492), Remove: i(72905), RemoveAt: i(60248), RemoveBetween: i(81409), RemoveRandomElement: i(31856), Replace: i(42169), RotateLeft: i(86003), RotateRight: i(49498), SafeRange: i(82011), SendToBack: i(89545), SetAll: i(17810), Shuffle: i(33680), SortByDigits: i(90126), SpliceOne: i(19133), StableSort: i(19186), Swap: i(25630) } }, 86922: t => { t.exports = function(t) { if (!Array.isArray(t) || !Array.isArray(t[0])) return !1; for (var e = t[0].length, i = 1; i < t.length; i++)
						if (t[i].length !== e) return !1; return !0 } }, 63362: (t, e, i) => { var n = i(41836),
					r = i(86922);
				t.exports = function(t) { var e = ""; if (!r(t)) return e; for (var i = 0; i < t.length; i++) { for (var s = 0; s < t[i].length; s++) { var o = t[i][s].toString();
							e += "undefined" !== o ? n(o, 2) : "?", s < t[i].length - 1 && (e += " |") } if (i < t.length - 1) { e += "\n"; for (var a = 0; a < t[i].length; a++) e += "---", a < t[i].length - 1 && (e += "+");
							e += "\n" } } return e } }, 92598: t => { t.exports = function(t) { return t.reverse() } }, 21224: t => { t.exports = function(t) { for (var e = 0; e < t.length; e++) t[e].reverse(); return t } }, 98717: (t, e, i) => { var n = i(37829);
				t.exports = function(t) { return n(t, 180) } }, 44657: (t, e, i) => { var n = i(37829);
				t.exports = function(t, e) { void 0 === e && (e = 1); for (var i = 0; i < e; i++) t = n(t, 90); return t } }, 37829: (t, e, i) => { var n = i(86922),
					r = i(2429);
				t.exports = function(t, e) { if (void 0 === e && (e = 90), !n(t)) return null; if ("string" != typeof e && (e = (e % 360 + 360) % 360), 90 === e || -270 === e || "rotateLeft" === e)(t = r(t)).reverse();
					else if (-90 === e || 270 === e || "rotateRight" === e) t.reverse(), t = r(t);
					else if (180 === Math.abs(e) || "rotate180" === e) { for (var i = 0; i < t.length; i++) t[i].reverse();
						t.reverse() } return t } }, 92632: (t, e, i) => { var n = i(37829);
				t.exports = function(t, e) { void 0 === e && (e = 1); for (var i = 0; i < e; i++) t = n(t, -90); return t } }, 69512: (t, e, i) => { var n = i(86003),
					r = i(49498);
				t.exports = function(t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), 0 !== i && (i < 0 ? n(t, Math.abs(i)) : r(t, i)), 0 !== e)
						for (var s = 0; s < t.length; s++) { var o = t[s];
							e < 0 ? n(o, Math.abs(e)) : r(o, e) }
					return t } }, 2429: t => { t.exports = function(t) { for (var e = t.length, i = t[0].length, n = new Array(i), r = 0; r < i; r++) { n[r] = new Array(e); for (var s = e - 1; s > -1; s--) n[r][s] = t[s][r] } return n } }, 54915: (t, e, i) => { t.exports = { CheckMatrix: i(86922), MatrixToString: i(63362), ReverseColumns: i(92598), ReverseRows: i(21224), Rotate180: i(98717), RotateLeft: i(44657), RotateMatrix: i(37829), RotateRight: i(92632), Translate: i(69512), TransposeMatrix: i(2429) } }, 71334: t => { var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
				t.exports = function(t, i) { for (var n = new Uint8Array(t), r = n.length, s = i ? "data:" + i + ";base64," : "", o = 0; o < r; o += 3) s += e[n[o] >> 2], s += e[(3 & n[o]) << 4 | n[o + 1] >> 4], s += e[(15 & n[o + 1]) << 2 | n[o + 2] >> 6], s += e[63 & n[o + 2]]; return r % 3 == 2 ? s = s.substring(0, s.length - 1) + "=" : r % 3 == 1 && (s = s.substring(0, s.length - 2) + "=="), s } }, 53134: t => { for (var e = new Uint8Array(256), i = 0; i < 64; i++) e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(i)] = i;
				t.exports = function(t) { var i, n, r, s, o = (t = t.substr(t.indexOf(",") + 1)).length,
						a = .75 * o,
						l = 0; "=" === t[o - 1] && (a--, "=" === t[o - 2] && a--); for (var h = new ArrayBuffer(a), u = new Uint8Array(h), c = 0; c < o; c += 4) i = e[t.charCodeAt(c)], n = e[t.charCodeAt(c + 1)], r = e[t.charCodeAt(c + 2)], s = e[t.charCodeAt(c + 3)], u[l++] = i << 2 | n >> 4, u[l++] = (15 & n) << 4 | r >> 2, u[l++] = (3 & r) << 6 | 63 & s; return h } }, 65839: (t, e, i) => { t.exports = { ArrayBufferToBase64: i(71334), Base64ToArrayBuffer: i(53134) } }, 91799: (t, e, i) => { t.exports = { Array: i(37105), Base64: i(65839), Objects: i(1183), String: i(31749), NOOP: i(29747), NULL: i(20242) } }, 41786: t => { t.exports = function(t) { var e = {}; for (var i in t) Array.isArray(t[i]) ? e[i] = t[i].slice(0) : e[i] = t[i]; return e } }, 62644: t => { var e = function(t) { var i, n, r; if ("object" != typeof t || null === t) return t; for (r in i = Array.isArray(t) ? [] : {}, t) n = t[r], i[r] = e(n); return i };
				t.exports = e }, 79291: (t, e, i) => { var n = i(41212),
					r = function() { var t, e, i, s, o, a, l = arguments[0] || {},
							h = 1,
							u = arguments.length,
							c = !1; for ("boolean" == typeof l && (c = l, l = arguments[1] || {}, h = 2), u === h && (l = this, --h); h < u; h++)
							if (null != (t = arguments[h]))
								for (e in t) i = l[e], l !== (s = t[e]) && (c && s && (n(s) || (o = Array.isArray(s))) ? (o ? (o = !1, a = i && Array.isArray(i) ? i : []) : a = i && n(i) ? i : {}, l[e] = r(c, a, s)) : void 0 !== s && (l[e] = s)); return l };
				t.exports = r }, 23568: (t, e, i) => { var n = i(75508),
					r = i(35154);
				t.exports = function(t, e, i) { var s = r(t, e, null); if (null === s) return i; if (Array.isArray(s)) return n.RND.pick(s); if ("object" == typeof s) { if (s.hasOwnProperty("randInt")) return n.RND.integerInRange(s.randInt[0], s.randInt[1]); if (s.hasOwnProperty("randFloat")) return n.RND.realInRange(s.randFloat[0], s.randFloat[1]) } else if ("function" == typeof s) return s(e); return s } }, 95540: t => { t.exports = function(t, e, i) { var n = typeof t; return t && "number" !== n && "string" !== n && t.hasOwnProperty(e) && void 0 !== t[e] ? t[e] : i } }, 82840: (t, e, i) => { var n = i(35154),
					r = i(45319);
				t.exports = function(t, e, i, s, o) { void 0 === o && (o = i); var a = n(t, e, o); return r(a, i, s) } }, 35154: t => { t.exports = function(t, e, i, n) { if (!t && !n || "number" == typeof t) return i; if (t && t.hasOwnProperty(e)) return t[e]; if (n && n.hasOwnProperty(e)) return n[e]; if (-1 !== e.indexOf(".")) { for (var r = e.split("."), s = t, o = n, a = i, l = i, h = !0, u = !0, c = 0; c < r.length; c++) s && s.hasOwnProperty(r[c]) ? (a = s[r[c]], s = s[r[c]]) : h = !1, o && o.hasOwnProperty(r[c]) ? (l = o[r[c]], o = o[r[c]]) : u = !1; return h ? a : u ? l : i } return i } }, 69036: t => { t.exports = function(t, e) { for (var i = 0; i < e.length; i++)
						if (!t.hasOwnProperty(e[i])) return !1; return !0 } }, 1985: t => { t.exports = function(t, e) { for (var i = 0; i < e.length; i++)
						if (t.hasOwnProperty(e[i])) return !0; return !1 } }, 97022: t => { t.exports = function(t, e) { return t.hasOwnProperty(e) } }, 41212: t => { t.exports = function(t) { if (!t || "object" != typeof t || t.nodeType || t === t.window) return !1; try { if (t.constructor && !{}.hasOwnProperty.call(t.constructor.prototype, "isPrototypeOf")) return !1 } catch (e) { return !1 } return !0 } }, 46975: (t, e, i) => { var n = i(41786);
				t.exports = function(t, e) { var i = n(t); for (var r in e) i.hasOwnProperty(r) || (i[r] = e[r]); return i } }, 269: (t, e, i) => { var n = i(41786);
				t.exports = function(t, e) { var i = n(t); for (var r in e) i.hasOwnProperty(r) && (i[r] = e[r]); return i } }, 18254: (t, e, i) => { var n = i(97022);
				t.exports = function(t, e) { for (var i = {}, r = 0; r < e.length; r++) { var s = e[r];
						n(t, s) && (i[s] = t[s]) } return i } }, 61622: t => { t.exports = function(t, e, i) { if (!t || "number" == typeof t) return !1; if (t.hasOwnProperty(e)) return t[e] = i, !0; if (-1 !== e.indexOf(".")) { for (var n = e.split("."), r = t, s = t, o = 0; o < n.length; o++) { if (!r.hasOwnProperty(n[o])) return !1;
							s = r, r = r[n[o]] } return s[n[n.length - 1]] = i, !0 } return !1 } }, 1183: (t, e, i) => { t.exports = { Clone: i(41786), DeepCopy: i(62644), Extend: i(79291), GetAdvancedValue: i(23568), GetFastValue: i(95540), GetMinMaxValue: i(82840), GetValue: i(35154), HasAll: i(69036), HasAny: i(1985), HasValue: i(97022), IsPlainObject: i(41212), Merge: i(46975), MergeRight: i(269), Pick: i(18254), SetValue: i(61622) } }, 27902: t => { t.exports = function(t, e) { return t.replace(/%([0-9]+)/g, (function(t, i) { return e[Number(i) - 1] })) } }, 41836: t => { t.exports = function(t, e, i, n) { void 0 === e && (e = 0), void 0 === i && (i = " "), void 0 === n && (n = 3); var r = 0; if (e + 1 >= (t = t.toString()).length) switch (n) {
						case 1:
							t = new Array(e + 1 - t.length).join(i) + t; break;
						case 3:
							var s = Math.ceil((r = e - t.length) / 2);
							t = new Array(r - s + 1).join(i) + t + new Array(s + 1).join(i); break;
						default:
							t += new Array(e + 1 - t.length).join(i) }
					return t } }, 33628: t => { t.exports = function(t, e) { return 0 === e ? t.slice(1) : t.slice(0, e) + t.slice(e + 1) } }, 27671: t => { t.exports = function(t) { return t.split("").reverse().join("") } }, 45650: t => { t.exports = function() { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(t) { var e = 16 * Math.random() | 0; return ("x" === t ? e : 3 & e | 8).toString(16) })) } }, 35355: t => { t.exports = function(t) { return t && t[0].toUpperCase() + t.slice(1) } }, 31749: (t, e, i) => { t.exports = { Format: i(27902), Pad: i(41836), RemoveAt: i(33628), Reverse: i(27671), UppercaseFirst: i(35355), UUID: i(45650) } } },
		e = {};

	function i(n) { var r = e[n]; if (void 0 !== r) return r.exports; var s = e[n] = { exports: {} }; return t[n](s, s.exports, i), s.exports } return i.g = function() { if ("object" == typeof globalThis) return globalThis; try { return this || new Function("return this")() } catch (t) { if ("object" == typeof window) return window } }(), i(85454) })(), phaser.exports = factory2();
var phaserExports = phaser.exports;
const Phaser$1 = getDefaultExportFromCjs(phaserExports);
var dexie_min = { exports: {} };
dexie_min.exports = function() { var t = function(e, i) { return (t = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, e) { t.__proto__ = e } || function(t, e) { for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]) })(e, i) },
		e = function() { return (e = Object.assign || function(t) { for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var r in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]); return t }).apply(this, arguments) };

	function i(t, e, i) { for (var n, r = 0, s = e.length; r < s; r++) !n && r in e || ((n = n || Array.prototype.slice.call(e, 0, r))[r] = e[r]); return t.concat(n || Array.prototype.slice.call(e)) } var n = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : commonjsGlobal,
		r = Object.keys,
		s = Array.isArray;

	function o(t, e) { return "object" != typeof e || r(e).forEach((function(i) { t[i] = e[i] })), t } "undefined" == typeof Promise || n.Promise || (n.Promise = Promise); var a = Object.getPrototypeOf,
		l = {}.hasOwnProperty;

	function h(t, e) { return l.call(t, e) }

	function u(t, e) { "function" == typeof e && (e = e(a(t))), ("undefined" == typeof Reflect ? r : Reflect.ownKeys)(e).forEach((function(i) { d(t, i, e[i]) })) } var c = Object.defineProperty;

	function d(t, e, i, n) { c(t, e, o(i && h(i, "get") && "function" == typeof i.get ? { get: i.get, set: i.set, configurable: !0 } : { value: i, configurable: !0, writable: !0 }, n)) }

	function f(t) { return { from: function(e) { return t.prototype = Object.create(e.prototype), d(t.prototype, "constructor", t), { extend: u.bind(null, t.prototype) } } } } var p = Object.getOwnPropertyDescriptor,
		g = [].slice;

	function m(t, e, i) { return g.call(t, e, i) }

	function v(t, e) { return e(t) }

	function y(t) { if (!t) throw new Error("Assertion Failed") }

	function x(t) { n.setImmediate ? setImmediate(t) : setTimeout(t, 0) }

	function b(t, e) { if ("string" == typeof e && h(t, e)) return t[e]; if (!e) return t; if ("string" != typeof e) { for (var i = [], n = 0, r = e.length; n < r; ++n) { var s = b(t, e[n]);
				i.push(s) } return i } var o = e.indexOf("."); if (-1 !== o) { var a = t[e.substr(0, o)]; return null == a ? void 0 : b(a, e.substr(o + 1)) } }

	function w(t, e, i) { if (t && void 0 !== e && (!("isFrozen" in Object) || !Object.isFrozen(t)))
			if ("string" != typeof e && "length" in e) { y("string" != typeof i && "length" in i); for (var n = 0, r = e.length; n < r; ++n) w(t, e[n], i[n]) } else { var o, a, l = e.indexOf("."); - 1 !== l ? (o = e.substr(0, l), "" === (a = e.substr(l + 1)) ? void 0 === i ? s(t) && !isNaN(parseInt(o)) ? t.splice(o, 1) : delete t[o] : t[o] = i : w(l = (l = t[o]) && h(t, o) ? l : t[o] = {}, a, i)) : void 0 === i ? s(t) && !isNaN(parseInt(e)) ? t.splice(e, 1) : delete t[e] : t[e] = i } }

	function T(t) { var e, i = {}; for (e in t) h(t, e) && (i[e] = t[e]); return i } var S = [].concat;

	function _(t) { return S.apply([], t) } var E = "BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(_([8, 16, 32, 64].map((function(t) { return ["Int", "Uint", "Float"].map((function(e) { return e + t + "Array" })) })))).filter((function(t) { return n[t] })),
		A = new Set(E.map((function(t) { return n[t] }))),
		C = null;

	function k(t) { return C = new WeakMap, t = function t(e) { if (!e || "object" != typeof e) return e; var i = C.get(e); if (i) return i; if (s(e)) { i = [], C.set(e, i); for (var n = 0, r = e.length; n < r; ++n) i.push(t(e[n])) } else if (A.has(e.constructor)) i = e;
			else { var o, l = a(e); for (o in i = l === Object.prototype ? {} : Object.create(l), C.set(e, i), e) h(e, o) && (i[o] = t(e[o])) } return i }(t), C = null, t } var P = {}.toString;

	function O(t) { return P.call(t).slice(8, -1) } var R = "undefined" != typeof Symbol ? Symbol.iterator : "@@iterator",
		M = "symbol" == typeof R ? function(t) { var e; return null != t && (e = t[R]) && e.apply(t) } : function() { return null };

	function L(t, e) { return 0 <= (e = t.indexOf(e)) && t.splice(e, 1), 0 <= e } var D = {};

	function F(t) { var e, i, n, r; if (1 === arguments.length) { if (s(t)) return t.slice(); if (this === D && "string" == typeof t) return [t]; if (r = M(t)) { for (i = []; !(n = r.next()).done;) i.push(n.value); return i } if (null == t) return [t]; if ("number" != typeof(e = t.length)) return [t]; for (i = new Array(e); e--;) i[e] = t[e]; return i } for (e = arguments.length, i = new Array(e); e--;) i[e] = arguments[e]; return i } var I = "undefined" != typeof Symbol ? function(t) { return "AsyncFunction" === t[Symbol.toStringTag] } : function() { return !1 },
		B = ["Modify", "Bulk", "OpenFailed", "VersionChange", "Schema", "Upgrade", "InvalidTable", "MissingAPI", "NoSuchDatabase", "InvalidArgument", "SubTransaction", "Unsupported", "Internal", "DatabaseClosed", "PrematureCommit", "ForeignAwait"].concat(ot = ["Unknown", "Constraint", "Data", "TransactionInactive", "ReadOnly", "Version", "NotFound", "InvalidState", "InvalidAccess", "Abort", "Timeout", "QuotaExceeded", "Syntax", "DataClone"]),
		N = { VersionChanged: "Database version changed by other database connection", DatabaseClosed: "Database has been closed", Abort: "Transaction aborted", TransactionInactive: "Transaction has already completed or failed", MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb" };

	function z(t, e) { this.name = t, this.message = e }

	function U(t, e) { return t + ". Errors: " + Object.keys(e).map((function(t) { return e[t].toString() })).filter((function(t, e, i) { return i.indexOf(t) === e })).join("\n") }

	function Y(t, e, i, n) { this.failures = e, this.failedKeys = n, this.successCount = i, this.message = U(t, e) }

	function X(t, e) { this.name = "BulkError", this.failures = Object.keys(e).map((function(t) { return e[t] })), this.failuresByPos = e, this.message = U(t, this.failures) } f(z).from(Error).extend({ toString: function() { return this.name + ": " + this.message } }), f(Y).from(z), f(X).from(z); var G = B.reduce((function(t, e) { return t[e] = e + "Error", t }), {}),
		H = z,
		W = B.reduce((function(t, e) { var i = e + "Error";

			function n(t, n) { this.name = i, t ? "string" == typeof t ? (this.message = "".concat(t).concat(n ? "\n " + n : ""), this.inner = n || null) : "object" == typeof t && (this.message = "".concat(t.name, " ").concat(t.message), this.inner = t) : (this.message = N[e] || i, this.inner = null) } return f(n).from(H), t[e] = n, t }), {});
	W.Syntax = SyntaxError, W.Type = TypeError, W.Range = RangeError; var V = ot.reduce((function(t, e) { return t[e + "Error"] = W[e], t }), {}),
		j = B.reduce((function(t, e) { return -1 === ["Syntax", "Type", "Range"].indexOf(e) && (t[e + "Error"] = W[e]), t }), {});

	function $() {}

	function q(t) { return t }

	function K(t, e) { return null == t || t === q ? e : function(i) { return e(t(i)) } }

	function Z(t, e) { return function() { t.apply(this, arguments), e.apply(this, arguments) } }

	function J(t, e) { return t === $ ? e : function() { var i = t.apply(this, arguments);
			void 0 !== i && (arguments[0] = i); var n = this.onsuccess,
				r = this.onerror;
			this.onsuccess = null, this.onerror = null; var s = e.apply(this, arguments); return n && (this.onsuccess = this.onsuccess ? Z(n, this.onsuccess) : n), r && (this.onerror = this.onerror ? Z(r, this.onerror) : r), void 0 !== s ? s : i } }

	function Q(t, e) { return t === $ ? e : function() { t.apply(this, arguments); var i = this.onsuccess,
				n = this.onerror;
			this.onsuccess = this.onerror = null, e.apply(this, arguments), i && (this.onsuccess = this.onsuccess ? Z(i, this.onsuccess) : i), n && (this.onerror = this.onerror ? Z(n, this.onerror) : n) } }

	function tt(t, e) { return t === $ ? e : function(i) { var n = t.apply(this, arguments);
			o(i, n); var r = this.onsuccess,
				s = this.onerror; return this.onsuccess = null, this.onerror = null, i = e.apply(this, arguments), r && (this.onsuccess = this.onsuccess ? Z(r, this.onsuccess) : r), s && (this.onerror = this.onerror ? Z(s, this.onerror) : s), void 0 === n ? void 0 === i ? void 0 : i : o(n, i) } }

	function et(t, e) { return t === $ ? e : function() { return !1 !== e.apply(this, arguments) && t.apply(this, arguments) } }

	function it(t, e) { return t === $ ? e : function() { var i = t.apply(this, arguments); if (i && "function" == typeof i.then) { for (var n = this, r = arguments.length, s = new Array(r); r--;) s[r] = arguments[r]; return i.then((function() { return e.apply(n, s) })) } return e.apply(this, arguments) } } j.ModifyError = Y, j.DexieError = z, j.BulkError = X; var nt = "undefined" != typeof location && /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);

	function rt(t) { nt = t } var st = {},
		ot = (E = "undefined" == typeof Promise ? [] : function() { var t = Promise.resolve(); if ("undefined" == typeof crypto || !crypto.subtle) return [t, a(t), t]; var e = crypto.subtle.digest("SHA-512", new Uint8Array([0])); return [e, a(e), t] }())[0],
		at = (B = E[1], E = E[2], B = B && B.then, ot && ot.constructor),
		lt = !!E,
		ht = function(t, e) { vt.push([t, e]), ct && (queueMicrotask(Ct), ct = !1) },
		ut = !0,
		ct = !0,
		dt = [],
		ft = [],
		pt = q,
		gt = { id: "global", global: !0, ref: 0, unhandleds: [], onunhandled: $, pgp: !1, env: {}, finalize: $ },
		mt = gt,
		vt = [],
		yt = 0,
		xt = [];

	function bt(t) { if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
		this._listeners = [], this._lib = !1; var e = this._PSD = mt; if ("function" != typeof t) { if (t !== st) throw new TypeError("Not a function"); return this._state = arguments[1], this._value = arguments[2], void(!1 === this._state && St(this, this._value)) } this._state = null, this._value = null, ++e.ref,
			function t(e, i) { try { i((function(i) { if (null === e._state) { if (i === e) throw new TypeError("A promise cannot be resolved with itself."); var n = e._lib && kt();
							i && "function" == typeof i.then ? t(e, (function(t, e) { i instanceof bt ? i._then(t, e) : i.then(t, e) })) : (e._state = !0, e._value = i, _t(e)), n && Pt() } }), St.bind(null, e)) } catch (n) { St(e, n) } }(this, t) } var wt = { get: function() { var t = mt,
				e = Bt;

			function i(i, n) { var r = this,
					s = !t.global && (t !== mt || e !== Bt),
					o = s && !Yt(),
					a = new bt((function(e, a) { Et(r, new Tt(jt(i, t, s, o), jt(n, t, s, o), e, a, t)) })); return this._consoleTask && (a._consoleTask = this._consoleTask), a } return i.prototype = st, i }, set: function(t) { d(this, "then", t && t.prototype === st ? wt : { get: function() { return t }, set: wt.set }) } };

	function Tt(t, e, i, n, r) { this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof e ? e : null, this.resolve = i, this.reject = n, this.psd = r }

	function St(t, e) { var i, n;
		ft.push(e), null === t._state && (i = t._lib && kt(), e = pt(e), t._state = !1, t._value = e, n = t, dt.some((function(t) { return t._value === n._value })) || dt.push(n), _t(t), i && Pt()) }

	function _t(t) { var e = t._listeners;
		t._listeners = []; for (var i = 0, n = e.length; i < n; ++i) Et(t, e[i]); var r = t._PSD;--r.ref || r.finalize(), 0 === yt && (++yt, ht((function() { 0 == --yt && Ot() }), [])) }

	function Et(t, e) { if (null !== t._state) { var i = t._state ? e.onFulfilled : e.onRejected; if (null === i) return (t._state ? e.resolve : e.reject)(t._value);++e.psd.ref, ++yt, ht(At, [i, t, e]) } else t._listeners.push(e) }

	function At(t, e, i) { try { var n, r = e._value;!e._state && ft.length && (ft = []), n = nt && e._consoleTask ? e._consoleTask.run((function() { return t(r) })) : t(r), e._state || -1 !== ft.indexOf(r) || function(t) { for (var e = dt.length; e;)
					if (dt[--e]._value === t._value) return dt.splice(e, 1) }(e), i.resolve(n) } catch (s) { i.reject(s) } finally { 0 == --yt && Ot(), --i.psd.ref || i.psd.finalize() } }

	function Ct() { Vt(gt, (function() { kt() && Pt() })) }

	function kt() { var t = ut; return ct = ut = !1, t }

	function Pt() { var t, e, i;
		do { for (; 0 < vt.length;)
				for (t = vt, vt = [], i = t.length, e = 0; e < i; ++e) { var n = t[e];
					n[0].apply(null, n[1]) } } while (0 < vt.length);
		ct = ut = !0 }

	function Ot() { var t = dt;
		dt = [], t.forEach((function(t) { t._PSD.onunhandled.call(null, t._value, t) })); for (var e = xt.slice(0), i = e.length; i;) e[--i]() }

	function Rt(t) { return new bt(st, !1, t) }

	function Mt(t, e) { var i = mt; return function() { var n = kt(),
				r = mt; try { return Ht(i, !0), t.apply(this, arguments) } catch (s) { e && e(s) } finally { Ht(r, !1), n && Pt() } } } u(bt.prototype, { then: wt, _then: function(t, e) { Et(this, new Tt(null, null, t, e, mt)) }, catch: function(t) { if (1 === arguments.length) return this.then(null, t); var e = t,
				i = arguments[1]; return "function" == typeof e ? this.then(null, (function(t) { return (t instanceof e ? i : Rt)(t) })) : this.then(null, (function(t) { return (t && t.name === e ? i : Rt)(t) })) }, finally: function(t) { return this.then((function(e) { return bt.resolve(t()).then((function() { return e })) }), (function(e) { return bt.resolve(t()).then((function() { return Rt(e) })) })) }, timeout: function(t, e) { var i = this; return t < 1 / 0 ? new bt((function(n, r) { var s = setTimeout((function() { return r(new W.Timeout(e)) }), t);
				i.then(n, r).finally(clearTimeout.bind(null, s)) })) : this } }), "undefined" != typeof Symbol && Symbol.toStringTag && d(bt.prototype, Symbol.toStringTag, "Dexie.Promise"), gt.env = Wt(), u(bt, { all: function() { var t = F.apply(null, arguments).map(Xt); return new bt((function(e, i) { 0 === t.length && e([]); var n = t.length;
				t.forEach((function(r, s) { return bt.resolve(r).then((function(i) { t[s] = i, --n || e(t) }), i) })) })) }, resolve: function(t) { return t instanceof bt ? t : t && "function" == typeof t.then ? new bt((function(e, i) { t.then(e, i) })) : new bt(st, !0, t) }, reject: Rt, race: function() { var t = F.apply(null, arguments).map(Xt); return new bt((function(e, i) { t.map((function(t) { return bt.resolve(t).then(e, i) })) })) }, PSD: { get: function() { return mt }, set: function(t) { return mt = t } }, totalEchoes: { get: function() { return Bt } }, newPSD: zt, usePSD: Vt, scheduler: { get: function() { return ht }, set: function(t) { ht = t } }, rejectionMapper: { get: function() { return pt }, set: function(t) { pt = t } }, follow: function(t, e) { return new bt((function(i, n) { return zt((function(e, i) { var n = mt;
					n.unhandleds = [], n.onunhandled = i, n.finalize = Z((function() { var t, n = this;
						t = function() { 0 === n.unhandleds.length ? e() : i(n.unhandleds[0]) }, xt.push((function e() { t(), xt.splice(xt.indexOf(e), 1) })), ++yt, ht((function() { 0 == --yt && Ot() }), []) }), n.finalize), t() }), e, i, n) })) } }), at && (at.allSettled && d(bt, "allSettled", (function() { var t = F.apply(null, arguments).map(Xt); return new bt((function(e) { 0 === t.length && e([]); var i = t.length,
				n = new Array(i);
			t.forEach((function(t, r) { return bt.resolve(t).then((function(t) { return n[r] = { status: "fulfilled", value: t } }), (function(t) { return n[r] = { status: "rejected", reason: t } })).then((function() { return --i || e(n) })) })) })) })), at.any && "undefined" != typeof AggregateError && d(bt, "any", (function() { var t = F.apply(null, arguments).map(Xt); return new bt((function(e, i) { 0 === t.length && i(new AggregateError([])); var n = t.length,
				r = new Array(n);
			t.forEach((function(t, s) { return bt.resolve(t).then((function(t) { return e(t) }), (function(t) { r[s] = t, --n || i(new AggregateError(r)) })) })) })) })), at.withResolvers && (bt.withResolvers = at.withResolvers)); var Lt = { awaits: 0, echoes: 0, id: 0 },
		Dt = 0,
		Ft = [],
		It = 0,
		Bt = 0,
		Nt = 0;

	function zt(t, e, i, n) { var r = mt,
			s = Object.create(r); return s.parent = r, s.ref = 0, s.global = !1, s.id = ++Nt, gt.env, s.env = lt ? { Promise: bt, PromiseProp: { value: bt, configurable: !0, writable: !0 }, all: bt.all, race: bt.race, allSettled: bt.allSettled, any: bt.any, resolve: bt.resolve, reject: bt.reject } : {}, e && o(s, e), ++r.ref, s.finalize = function() {--this.parent.ref || this.parent.finalize() }, n = Vt(s, t, i, n), 0 === s.ref && s.finalize(), n }

	function Ut() { return Lt.id || (Lt.id = ++Dt), ++Lt.awaits, Lt.echoes += 100, Lt.id }

	function Yt() { return !!Lt.awaits && (0 == --Lt.awaits && (Lt.id = 0), Lt.echoes = 100 * Lt.awaits, !0) }

	function Xt(t) { return Lt.echoes && t && t.constructor === at ? (Ut(), t.then((function(t) { return Yt(), t }), (function(t) { return Yt(), qt(t) }))) : t }

	function Gt() { var t = Ft[Ft.length - 1];
		Ft.pop(), Ht(t, !1) }

	function Ht(t, e) { var i, r = mt;
		(e ? !Lt.echoes || It++ && t === mt : !It || --It && t === mt) || queueMicrotask(e ? function(t) {++Bt, Lt.echoes && 0 != --Lt.echoes || (Lt.echoes = Lt.awaits = Lt.id = 0), Ft.push(mt), Ht(t, !0) }.bind(null, t) : Gt), t !== mt && (mt = t, r === gt && (gt.env = Wt()), lt && (i = gt.env.Promise, e = t.env, (r.global || t.global) && (Object.defineProperty(n, "Promise", e.PromiseProp), i.all = e.all, i.race = e.race, i.resolve = e.resolve, i.reject = e.reject, e.allSettled && (i.allSettled = e.allSettled), e.any && (i.any = e.any)))) }

	function Wt() { var t = n.Promise; return lt ? { Promise: t, PromiseProp: Object.getOwnPropertyDescriptor(n, "Promise"), all: t.all, race: t.race, allSettled: t.allSettled, any: t.any, resolve: t.resolve, reject: t.reject } : {} }

	function Vt(t, e, i, n, r) { var s = mt; try { return Ht(t, !0), e(i, n, r) } finally { Ht(s, !1) } }

	function jt(t, e, i, n) { return "function" != typeof t ? t : function() { var r = mt;
			i && Ut(), Ht(e, !0); try { return t.apply(this, arguments) } finally { Ht(r, !1), n && queueMicrotask(Yt) } } }

	function $t(t) { Promise === at && 0 === Lt.echoes ? 0 === It ? t() : enqueueNativeMicroTask(t) : setTimeout(t, 0) } - 1 === ("" + B).indexOf("[native code]") && (Ut = Yt = $); var qt = bt.reject,
		Kt = String.fromCharCode(65535),
		Zt = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",
		Jt = "String expected.",
		Qt = [],
		te = "__dbnames",
		ee = "readonly",
		ie = "readwrite";

	function ne(t, e) { return t ? e ? function() { return t.apply(this, arguments) && e.apply(this, arguments) } : t : e } var re = { type: 3, lower: -1 / 0, lowerOpen: !1, upper: [
			[]
		], upperOpen: !1 };

	function se(t) { return "string" != typeof t || /\./.test(t) ? function(t) { return t } : function(e) { return void 0 === e[t] && t in e && delete(e = k(e))[t], e } }

	function oe() { throw W.Type() }

	function ae(t, e) { try { var i = le(t),
				n = le(e); if (i !== n) return "Array" === i ? 1 : "Array" === n ? -1 : "binary" === i ? 1 : "binary" === n ? -1 : "string" === i ? 1 : "string" === n ? -1 : "Date" === i ? 1 : "Date" !== n ? NaN : -1; switch (i) {
				case "number":
				case "Date":
				case "string":
					return e < t ? 1 : t < e ? -1 : 0;
				case "binary":
					return function(t, e) { for (var i = t.length, n = e.length, r = i < n ? i : n, s = 0; s < r; ++s)
							if (t[s] !== e[s]) return t[s] < e[s] ? -1 : 1; return i === n ? 0 : i < n ? -1 : 1 }(he(t), he(e));
				case "Array":
					return function(t, e) { for (var i = t.length, n = e.length, r = i < n ? i : n, s = 0; s < r; ++s) { var o = ae(t[s], e[s]); if (0 !== o) return o } return i === n ? 0 : i < n ? -1 : 1 }(t, e) } } catch (r) {} return NaN }

	function le(t) { var e = typeof t; return "object" != e ? e : ArrayBuffer.isView(t) || "ArrayBuffer" === (t = O(t)) ? "binary" : t }

	function he(t) { return t instanceof Uint8Array ? t : ArrayBuffer.isView(t) ? new Uint8Array(t.buffer, t.byteOffset, t.byteLength) : new Uint8Array(t) } var ue = (ce.prototype._trans = function(t, e, i) { var n = this._tx || mt.trans,
			r = this.name,
			s = nt && "undefined" != typeof console && console.createTask && console.createTask("Dexie: ".concat("readonly" === t ? "read" : "write", " ").concat(this.name));

		function o(t, i, n) { if (!n.schema[r]) throw new W.NotFound("Table " + r + " not part of transaction"); return e(n.idbtrans, n) } var a = kt(); try { var l = n && n.db._novip === this.db._novip ? n === mt.trans ? n._promise(t, o, i) : zt((function() { return n._promise(t, o, i) }), { trans: n, transless: mt.transless || mt }) : function t(e, i, n, r) { if (e.idbdb && (e._state.openComplete || mt.letThrough || e._vip)) { var s = e._createTransaction(i, n, e._dbSchema); try { s.create(), e._state.PR1398_maxLoop = 3 } catch (o) { return o.name === G.InvalidState && e.isOpen() && 0 < --e._state.PR1398_maxLoop ? (console.warn("Dexie: Need to reopen db"), e.close({ disableAutoOpen: !1 }), e.open().then((function() { return t(e, i, n, r) }))) : qt(o) } return s._promise(i, (function(t, e) { return zt((function() { return mt.trans = s, r(t, e, s) })) })).then((function(t) { if ("readwrite" === i) try { s.idbtrans.commit() } catch (e) {}
						return "readonly" === i ? t : s._completion.then((function() { return t })) })) } if (e._state.openComplete) return qt(new W.DatabaseClosed(e._state.dbOpenError)); if (!e._state.isBeingOpened) { if (!e._state.autoOpen) return qt(new W.DatabaseClosed);
					e.open().catch($) } return e._state.dbReadyPromise.then((function() { return t(e, i, n, r) })) }(this.db, t, [this.name], o); return s && (l._consoleTask = s, l = l.catch((function(t) { return console.trace(t), qt(t) }))), l } finally { a && Pt() } }, ce.prototype.get = function(t, e) { var i = this; return t && t.constructor === Object ? this.where(t).first(e) : null == t ? qt(new W.Type("Invalid argument to Table.get()")) : this._trans("readonly", (function(e) { return i.core.get({ trans: e, key: t }).then((function(t) { return i.hook.reading.fire(t) })) })).then(e) }, ce.prototype.where = function(t) { if ("string" == typeof t) return new this.db.WhereClause(this, t); if (s(t)) return new this.db.WhereClause(this, "[".concat(t.join("+"), "]")); var e = r(t); if (1 === e.length) return this.where(e[0]).equals(t[e[0]]); var i = this.schema.indexes.concat(this.schema.primKey).filter((function(t) { if (t.compound && e.every((function(e) { return 0 <= t.keyPath.indexOf(e) }))) { for (var i = 0; i < e.length; ++i)
					if (-1 === e.indexOf(t.keyPath[i])) return !1; return !0 } return !1 })).sort((function(t, e) { return t.keyPath.length - e.keyPath.length }))[0]; if (i && this.db._maxKey !== Kt) { var n = i.keyPath.slice(0, e.length); return this.where(n).equals(n.map((function(e) { return t[e] }))) }!i && nt && console.warn("The query ".concat(JSON.stringify(t), " on ").concat(this.name, " would benefit from a ") + "compound index [".concat(e.join("+"), "]")); var o = this.schema.idxByName;

		function a(t, e) { return 0 === ae(t, e) } n = (l = e.reduce((function(e, i) { var n = e[0],
				r = e[1],
				l = (e = o[i], t[i]); return [n || e, n || !e ? ne(r, e && e.multi ? function(t) { return t = b(t, i), s(t) && t.some((function(t) { return a(l, t) })) } : function(t) { return a(l, b(t, i)) }) : r] }), [null, null]))[0]; var l = l[1]; return n ? this.where(n.name).equals(t[n.keyPath]).filter(l) : i ? this.filter(l) : this.where(e).equals("") }, ce.prototype.filter = function(t) { return this.toCollection().and(t) }, ce.prototype.count = function(t) { return this.toCollection().count(t) }, ce.prototype.offset = function(t) { return this.toCollection().offset(t) }, ce.prototype.limit = function(t) { return this.toCollection().limit(t) }, ce.prototype.each = function(t) { return this.toCollection().each(t) }, ce.prototype.toArray = function(t) { return this.toCollection().toArray(t) }, ce.prototype.toCollection = function() { return new this.db.Collection(new this.db.WhereClause(this)) }, ce.prototype.orderBy = function(t) { return new this.db.Collection(new this.db.WhereClause(this, s(t) ? "[".concat(t.join("+"), "]") : t)) }, ce.prototype.reverse = function() { return this.toCollection().reverse() }, ce.prototype.mapToClass = function(e) { var i, n = this.db,
			r = this.name;

		function s() { return null !== i && i.apply(this, arguments) || this }(this.schema.mappedClass = e).prototype instanceof oe && (function(e, i) { if ("function" != typeof i && null !== i) throw new TypeError("Class extends value " + String(i) + " is not a constructor or null");

			function n() { this.constructor = e } t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n) }(s, i = e), Object.defineProperty(s.prototype, "db", { get: function() { return n }, enumerable: !1, configurable: !0 }), s.prototype.table = function() { return r }, e = s); for (var o = new Set, l = e.prototype; l; l = a(l)) Object.getOwnPropertyNames(l).forEach((function(t) { return o.add(t) }));

		function h(t) { if (!t) return t; var i, n = Object.create(e.prototype); for (i in t)
				if (!o.has(i)) try { n[i] = t[i] } catch (r) {}
			return n } return this.schema.readHook && this.hook.reading.unsubscribe(this.schema.readHook), this.schema.readHook = h, this.hook("reading", h), e }, ce.prototype.defineClass = function() { return this.mapToClass((function(t) { o(this, t) })) }, ce.prototype.add = function(t, e) { var i = this,
			n = this.schema.primKey,
			r = n.auto,
			s = n.keyPath,
			o = t; return s && r && (o = se(s)(t)), this._trans("readwrite", (function(t) { return i.core.mutate({ trans: t, type: "add", keys: null != e ? [e] : null, values: [o] }) })).then((function(t) { return t.numFailures ? bt.reject(t.failures[0]) : t.lastResult })).then((function(e) { if (s) try { w(t, s, e) } catch (i) {}
			return e })) }, ce.prototype.update = function(t, e) { return "object" != typeof t || s(t) ? this.where(":id").equals(t).modify(e) : void 0 === (t = b(t, this.schema.primKey.keyPath)) ? qt(new W.InvalidArgument("Given object does not contain its primary key")) : this.where(":id").equals(t).modify(e) }, ce.prototype.put = function(t, e) { var i = this,
			n = this.schema.primKey,
			r = n.auto,
			s = n.keyPath,
			o = t; return s && r && (o = se(s)(t)), this._trans("readwrite", (function(t) { return i.core.mutate({ trans: t, type: "put", values: [o], keys: null != e ? [e] : null }) })).then((function(t) { return t.numFailures ? bt.reject(t.failures[0]) : t.lastResult })).then((function(e) { if (s) try { w(t, s, e) } catch (i) {}
			return e })) }, ce.prototype.delete = function(t) { var e = this; return this._trans("readwrite", (function(i) { return e.core.mutate({ trans: i, type: "delete", keys: [t] }) })).then((function(t) { return t.numFailures ? bt.reject(t.failures[0]) : void 0 })) }, ce.prototype.clear = function() { var t = this; return this._trans("readwrite", (function(e) { return t.core.mutate({ trans: e, type: "deleteRange", range: re }) })).then((function(t) { return t.numFailures ? bt.reject(t.failures[0]) : void 0 })) }, ce.prototype.bulkGet = function(t) { var e = this; return this._trans("readonly", (function(i) { return e.core.getMany({ keys: t, trans: i }).then((function(t) { return t.map((function(t) { return e.hook.reading.fire(t) })) })) })) }, ce.prototype.bulkAdd = function(t, e, i) { var n = this,
			r = Array.isArray(e) ? e : void 0,
			s = (i = i || (r ? void 0 : e)) ? i.allKeys : void 0; return this._trans("readwrite", (function(e) { var i = (a = n.schema.primKey).auto; if ((a = a.keyPath) && r) throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys"); if (r && r.length !== t.length) throw new W.InvalidArgument("Arguments objects and keys must have the same length"); var o = t.length,
				a = a && i ? t.map(se(a)) : t; return n.core.mutate({ trans: e, type: "add", keys: r, values: a, wantResults: s }).then((function(t) { var e = t.numFailures,
					i = t.results,
					r = t.lastResult; if (t = t.failures, 0 === e) return s ? i : r; throw new X("".concat(n.name, ".bulkAdd(): ").concat(e, " of ").concat(o, " operations failed"), t) })) })) }, ce.prototype.bulkPut = function(t, e, i) { var n = this,
			r = Array.isArray(e) ? e : void 0,
			s = (i = i || (r ? void 0 : e)) ? i.allKeys : void 0; return this._trans("readwrite", (function(e) { var i = (a = n.schema.primKey).auto; if ((a = a.keyPath) && r) throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys"); if (r && r.length !== t.length) throw new W.InvalidArgument("Arguments objects and keys must have the same length"); var o = t.length,
				a = a && i ? t.map(se(a)) : t; return n.core.mutate({ trans: e, type: "put", keys: r, values: a, wantResults: s }).then((function(t) { var e = t.numFailures,
					i = t.results,
					r = t.lastResult; if (t = t.failures, 0 === e) return s ? i : r; throw new X("".concat(n.name, ".bulkPut(): ").concat(e, " of ").concat(o, " operations failed"), t) })) })) }, ce.prototype.bulkUpdate = function(t) { var e = this,
			i = this.core,
			n = t.map((function(t) { return t.key })),
			r = t.map((function(t) { return t.changes })),
			s = []; return this._trans("readwrite", (function(o) { return i.getMany({ trans: o, keys: n, cache: "clone" }).then((function(a) { var l = [],
					h = [];
				t.forEach((function(t, i) { var n = t.key,
						r = t.changes,
						o = a[i]; if (o) { for (var u = 0, c = Object.keys(r); u < c.length; u++) { var d = c[u],
								f = r[d]; if (d === e.schema.primKey.keyPath) { if (0 !== ae(f, n)) throw new W.Constraint("Cannot update primary key in bulkUpdate()") } else w(o, d, f) } s.push(i), l.push(n), h.push(o) } })); var u = l.length; return i.mutate({ trans: o, type: "put", keys: l, values: h, updates: { keys: n, changeSpecs: r } }).then((function(t) { var i = t.numFailures,
						n = t.failures; if (0 === i) return u; for (var r = 0, o = Object.keys(n); r < o.length; r++) { var a, l = o[r],
							h = s[Number(l)];
						null != h && (a = n[l], delete n[l], n[h] = a) } throw new X("".concat(e.name, ".bulkUpdate(): ").concat(i, " of ").concat(u, " operations failed"), n) })) })) })) }, ce.prototype.bulkDelete = function(t) { var e = this,
			i = t.length; return this._trans("readwrite", (function(i) { return e.core.mutate({ trans: i, type: "delete", keys: t }) })).then((function(t) { var n = t.numFailures,
				r = t.lastResult; if (t = t.failures, 0 === n) return r; throw new X("".concat(e.name, ".bulkDelete(): ").concat(n, " of ").concat(i, " operations failed"), t) })) }, ce);

	function ce() {}

	function de(t) {
		function e(e, n) { if (n) { for (var r = arguments.length, s = new Array(r - 1); --r;) s[r - 1] = arguments[r]; return i[e].subscribe.apply(null, s), t } if ("string" == typeof e) return i[e] } var i = {};
		e.addEventType = a; for (var n = 1, o = arguments.length; n < o; ++n) a(arguments[n]); return e;

		function a(t, n, o) { if ("object" != typeof t) { var l;
				n = n || et; var h = { subscribers: [], fire: o = o || $, subscribe: function(t) {-1 === h.subscribers.indexOf(t) && (h.subscribers.push(t), h.fire = n(h.fire, t)) }, unsubscribe: function(t) { h.subscribers = h.subscribers.filter((function(e) { return e !== t })), h.fire = h.subscribers.reduce(n, o) } }; return i[t] = e[t] = h } r(l = t).forEach((function(t) { var e = l[t]; if (s(e)) a(t, l[t][0], l[t][1]);
				else { if ("asap" !== e) throw new W.InvalidArgument("Invalid event config"); var i = a(t, q, (function() { for (var t = arguments.length, e = new Array(t); t--;) e[t] = arguments[t];
						i.subscribers.forEach((function(t) { x((function() { t.apply(null, e) })) })) })) } })) } }

	function fe(t, e) { return f(e).from({ prototype: t }), e }

	function pe(t, e) { return !(t.filter || t.algorithm || t.or) && (e ? t.justLimit : !t.replayFilter) }

	function ge(t, e) { t.filter = ne(t.filter, e) }

	function me(t, e, i) { var n = t.replayFilter;
		t.replayFilter = n ? function() { return ne(n(), e()) } : e, t.justLimit = i && !n }

	function ve(t, e) { if (t.isPrimKey) return e.primaryKey; var i = e.getIndexByKeyPath(t.index); if (!i) throw new W.Schema("KeyPath " + t.index + " on object store " + e.name + " is not indexed"); return i }

	function ye(t, e, i) { var n = ve(t, e.schema); return e.openCursor({ trans: i, values: !t.keysOnly, reverse: "prev" === t.dir, unique: !!t.unique, query: { index: n, range: t.range } }) }

	function xe(t, e, i, n) { var r = t.replayFilter ? ne(t.filter, t.replayFilter()) : t.filter; if (t.or) { var s = {},
				o = function(t, i, n) { var o, a;
					r && !r(i, n, (function(t) { return i.stop(t) }), (function(t) { return i.fail(t) })) || ("[object ArrayBuffer]" == (a = "" + (o = i.primaryKey)) && (a = "" + new Uint8Array(o)), h(s, a) || (s[a] = !0, e(t, i, n))) }; return Promise.all([t.or._iterate(o, i), be(ye(t, n, i), t.algorithm, o, !t.keysOnly && t.valueMapper)]) } return be(ye(t, n, i), ne(t.algorithm, r), e, !t.keysOnly && t.valueMapper) }

	function be(t, e, i, n) { var r = Mt(n ? function(t, e, r) { return i(n(t), e, r) } : i); return t.then((function(t) { if (t) return t.start((function() { var i = function() { return t.continue() };
				e && !e(t, (function(t) { return i = t }), (function(e) { t.stop(e), i = $ }), (function(e) { t.fail(e), i = $ })) || r(t.value, t, (function(t) { return i = t })), i() })) })) } E = Symbol(); var we = (Te.prototype.execute = function(t) { if (void 0 !== this.add) { var e = this.add; if (s(e)) return i(i([], s(t) ? t : []), e).sort(); if ("number" == typeof e) return (Number(t) || 0) + e; if ("bigint" == typeof e) try { return BigInt(t) + e } catch (r) { return BigInt(0) + e }
			throw new TypeError("Invalid term ".concat(e)) } if (void 0 !== this.remove) { var n = this.remove; if (s(n)) return s(t) ? t.filter((function(t) { return !n.includes(t) })).sort() : []; if ("number" == typeof n) return Number(t) - n; if ("bigint" == typeof n) try { return BigInt(t) - n } catch (r) { return BigInt(0) - n }
			throw new TypeError("Invalid subtrahend ".concat(n)) } return (e = null === (e = this.replacePrefix) || void 0 === e ? void 0 : e[0]) && "string" == typeof t && t.startsWith(e) ? this.replacePrefix[1] + t.substring(e.length) : t }, Te);

	function Te(t) { Object.assign(this, t) } var Se = (_e.prototype._read = function(t, e) { var i = this._ctx; return i.error ? i.table._trans(null, qt.bind(null, i.error)) : i.table._trans("readonly", t).then(e) }, _e.prototype._write = function(t) { var e = this._ctx; return e.error ? e.table._trans(null, qt.bind(null, e.error)) : e.table._trans("readwrite", t, "locked") }, _e.prototype._addAlgorithm = function(t) { var e = this._ctx;
		e.algorithm = ne(e.algorithm, t) }, _e.prototype._iterate = function(t, e) { return xe(this._ctx, t, e, this._ctx.table.core) }, _e.prototype.clone = function(t) { var e = Object.create(this.constructor.prototype),
			i = Object.create(this._ctx); return t && o(i, t), e._ctx = i, e }, _e.prototype.raw = function() { return this._ctx.valueMapper = null, this }, _e.prototype.each = function(t) { var e = this._ctx; return this._read((function(i) { return xe(e, t, i, e.table.core) })) }, _e.prototype.count = function(t) { var e = this; return this._read((function(t) { var i = e._ctx,
				n = i.table.core; if (pe(i, !0)) return n.count({ trans: t, query: { index: ve(i, n.schema), range: i.range } }).then((function(t) { return Math.min(t, i.limit) })); var r = 0; return xe(i, (function() { return ++r, !1 }), t, n).then((function() { return r })) })).then(t) }, _e.prototype.sortBy = function(t, e) { var i = t.split(".").reverse(),
			n = i[0],
			r = i.length - 1;

		function s(t, e) { return e ? s(t[i[e]], e - 1) : t[n] } var o = "next" === this._ctx.dir ? 1 : -1;

		function a(t, e) { return ae(s(t, r), s(e, r)) * o } return this.toArray((function(t) { return t.sort(a) })).then(e) }, _e.prototype.toArray = function(t) { var e = this; return this._read((function(t) { var i = e._ctx; if ("next" === i.dir && pe(i, !0) && 0 < i.limit) { var n = i.valueMapper,
					r = ve(i, i.table.core.schema); return i.table.core.query({ trans: t, limit: i.limit, values: !0, query: { index: r, range: i.range } }).then((function(t) { return t = t.result, n ? t.map(n) : t })) } var s = []; return xe(i, (function(t) { return s.push(t) }), t, i.table.core).then((function() { return s })) }), t) }, _e.prototype.offset = function(t) { var e = this._ctx; return t <= 0 || (e.offset += t, pe(e) ? me(e, (function() { var e = t; return function(t, i) { return 0 === e || (1 === e ? --e : i((function() { t.advance(e), e = 0 })), !1) } })) : me(e, (function() { var e = t; return function() { return --e < 0 } }))), this }, _e.prototype.limit = function(t) { return this._ctx.limit = Math.min(this._ctx.limit, t), me(this._ctx, (function() { var e = t; return function(t, i, n) { return --e <= 0 && i(n), 0 <= e } }), !0), this }, _e.prototype.until = function(t, e) { return ge(this._ctx, (function(i, n, r) { return !t(i.value) || (n(r), e) })), this }, _e.prototype.first = function(t) { return this.limit(1).toArray((function(t) { return t[0] })).then(t) }, _e.prototype.last = function(t) { return this.reverse().first(t) }, _e.prototype.filter = function(t) { var e; return ge(this._ctx, (function(e) { return t(e.value) })), (e = this._ctx).isMatch = ne(e.isMatch, t), this }, _e.prototype.and = function(t) { return this.filter(t) }, _e.prototype.or = function(t) { return new this.db.WhereClause(this._ctx.table, t, this) }, _e.prototype.reverse = function() { return this._ctx.dir = "prev" === this._ctx.dir ? "next" : "prev", this._ondirectionchange && this._ondirectionchange(this._ctx.dir), this }, _e.prototype.desc = function() { return this.reverse() }, _e.prototype.eachKey = function(t) { var e = this._ctx; return e.keysOnly = !e.isMatch, this.each((function(e, i) { t(i.key, i) })) }, _e.prototype.eachUniqueKey = function(t) { return this._ctx.unique = "unique", this.eachKey(t) }, _e.prototype.eachPrimaryKey = function(t) { var e = this._ctx; return e.keysOnly = !e.isMatch, this.each((function(e, i) { t(i.primaryKey, i) })) }, _e.prototype.keys = function(t) { var e = this._ctx;
		e.keysOnly = !e.isMatch; var i = []; return this.each((function(t, e) { i.push(e.key) })).then((function() { return i })).then(t) }, _e.prototype.primaryKeys = function(t) { var e = this._ctx; if ("next" === e.dir && pe(e, !0) && 0 < e.limit) return this._read((function(t) { var i = ve(e, e.table.core.schema); return e.table.core.query({ trans: t, values: !1, limit: e.limit, query: { index: i, range: e.range } }) })).then((function(t) { return t.result })).then(t);
		e.keysOnly = !e.isMatch; var i = []; return this.each((function(t, e) { i.push(e.primaryKey) })).then((function() { return i })).then(t) }, _e.prototype.uniqueKeys = function(t) { return this._ctx.unique = "unique", this.keys(t) }, _e.prototype.firstKey = function(t) { return this.limit(1).keys((function(t) { return t[0] })).then(t) }, _e.prototype.lastKey = function(t) { return this.reverse().firstKey(t) }, _e.prototype.distinct = function() { var t; if (!(t = (t = this._ctx).index && t.table.schema.idxByName[t.index]) || !t.multi) return this; var e = {}; return ge(this._ctx, (function(t) { var i = t.primaryKey.toString(); return t = h(e, i), e[i] = !0, !t })), this }, _e.prototype.modify = function(t) { var e = this,
			i = this._ctx; return this._write((function(n) { var s, o, a;
			a = "function" == typeof t ? t : (s = r(t), o = s.length, function(e) { for (var i = !1, n = 0; n < o; ++n) { var r = s[n],
						a = t[r],
						l = b(e, r);
					a instanceof we ? (w(e, r, a.execute(l)), i = !0) : l !== a && (w(e, r, a), i = !0) } return i }); var l, h = i.table.core,
				u = (l = h.schema.primaryKey).outbound,
				c = l.extractKey,
				d = 200;

			function f(t, e) { var i = e.failures;
				e = e.numFailures, g += t - e; for (var n = 0, s = r(i); n < s.length; n++) { var o = s[n];
					p.push(i[o]) } }(l = e.db._options.modifyChunkSize) && (d = "object" == typeof l ? l[h.name] || l["*"] || 200 : l); var p = [],
				g = 0,
				m = []; return e.clone().primaryKeys().then((function(e) { var r = pe(i) && i.limit === 1 / 0 && ("function" != typeof t || t === Ee) && { index: i.index, range: i.range }; return function i(s) { var o = Math.min(d, e.length - s); return h.getMany({ trans: n, keys: e.slice(s, s + o), cache: "immutable" }).then((function(l) { for (var p = [], g = [], m = u ? [] : null, v = [], y = 0; y < o; ++y) { var x = l[y],
								b = { value: k(x), primKey: e[s + y] };!1 !== a.call(b, b.value, b) && (null == b.value ? v.push(e[s + y]) : u || 0 === ae(c(x), c(b.value)) ? (g.push(b.value), u && m.push(e[s + y])) : (v.push(e[s + y]), p.push(b.value))) } return Promise.resolve(0 < p.length && h.mutate({ trans: n, type: "add", values: p }).then((function(t) { for (var e in t.failures) v.splice(parseInt(e), 1);
							f(p.length, t) }))).then((function() { return (0 < g.length || r && "object" == typeof t) && h.mutate({ trans: n, type: "put", keys: m, values: g, criteria: r, changeSpec: "function" != typeof t && t, isAdditionalChunk: 0 < s }).then((function(t) { return f(g.length, t) })) })).then((function() { return (0 < v.length || r && t === Ee) && h.mutate({ trans: n, type: "delete", keys: v, criteria: r, isAdditionalChunk: 0 < s }).then((function(t) { return f(v.length, t) })) })).then((function() { return e.length > s + o && i(s + d) })) })) }(0).then((function() { if (0 < p.length) throw new Y("Error modifying one or more objects", p, g, m); return e.length })) })) })) }, _e.prototype.delete = function() { var t = this._ctx,
			e = t.range; return pe(t) && (t.isPrimKey || 3 === e.type) ? this._write((function(i) { var n = t.table.core.schema.primaryKey,
				r = e; return t.table.core.count({ trans: i, query: { index: n, range: r } }).then((function(e) { return t.table.core.mutate({ trans: i, type: "deleteRange", range: r }).then((function(t) { var i = t.failures; if (t.lastResult, t.results, t = t.numFailures) throw new Y("Could not delete some values", Object.keys(i).map((function(t) { return i[t] })), e - t); return e - t })) })) })) : this.modify(Ee) }, _e);

	function _e() {} var Ee = function(t, e) { return e.value = null };

	function Ae(t, e) { return t < e ? -1 : t === e ? 0 : 1 }

	function Ce(t, e) { return e < t ? -1 : t === e ? 0 : 1 }

	function ke(t, e, i) { return (t = t instanceof Le ? new t.Collection(t) : t)._ctx.error = new(i || TypeError)(e), t }

	function Pe(t) { return new t.Collection(t, (function() { return Me("") })).limit(0) }

	function Oe(t, e, i, n) { var r, s, o, a, l, h, u, c = i.length; if (!i.every((function(t) { return "string" == typeof t }))) return ke(t, Jt);

		function d(t) { r = "next" === t ? function(t) { return t.toUpperCase() } : function(t) { return t.toLowerCase() }, s = "next" === t ? function(t) { return t.toLowerCase() } : function(t) { return t.toUpperCase() }, o = "next" === t ? Ae : Ce; var e = i.map((function(t) { return { lower: s(t), upper: r(t) } })).sort((function(t, e) { return o(t.lower, e.lower) }));
			a = e.map((function(t) { return t.upper })), l = e.map((function(t) { return t.lower })), u = "next" === (h = t) ? "" : n } d("next"), (t = new t.Collection(t, (function() { return Re(a[0], l[c - 1] + n) })))._ondirectionchange = function(t) { d(t) }; var f = 0; return t._addAlgorithm((function(t, i, n) { var r = t.key; if ("string" != typeof r) return !1; var d = s(r); if (e(d, l, f)) return !0; for (var p = null, g = f; g < c; ++g) { var m = function(t, e, i, n, r, s) { for (var o = Math.min(t.length, n.length), a = -1, l = 0; l < o; ++l) { var h = e[l]; if (h !== n[l]) return r(t[l], i[l]) < 0 ? t.substr(0, l) + i[l] + i.substr(l + 1) : r(t[l], n[l]) < 0 ? t.substr(0, l) + n[l] + i.substr(l + 1) : 0 <= a ? t.substr(0, a) + e[a] + i.substr(a + 1) : null;
						r(t[l], h) < 0 && (a = l) } return o < n.length && "next" === s ? t + i.substr(t.length) : o < t.length && "prev" === s ? t.substr(0, i.length) : a < 0 ? null : t.substr(0, a) + n[a] + i.substr(a + 1) }(r, d, a[g], l[g], o, h);
				null === m && null === p ? f = g + 1 : (null === p || 0 < o(p, m)) && (p = m) } return i(null !== p ? function() { t.continue(p + u) } : n), !1 })), t }

	function Re(t, e, i, n) { return { type: 2, lower: t, upper: e, lowerOpen: i, upperOpen: n } }

	function Me(t) { return { type: 1, lower: t, upper: t } } var Le = (Object.defineProperty(De.prototype, "Collection", { get: function() { return this._ctx.table.db.Collection }, enumerable: !1, configurable: !0 }), De.prototype.between = function(t, e, i, n) { i = !1 !== i, n = !0 === n; try { return 0 < this._cmp(t, e) || 0 === this._cmp(t, e) && (i || n) && (!i || !n) ? Pe(this) : new this.Collection(this, (function() { return Re(t, e, !i, !n) })) } catch (r) { return ke(this, Zt) } }, De.prototype.equals = function(t) { return null == t ? ke(this, Zt) : new this.Collection(this, (function() { return Me(t) })) }, De.prototype.above = function(t) { return null == t ? ke(this, Zt) : new this.Collection(this, (function() { return Re(t, void 0, !0) })) }, De.prototype.aboveOrEqual = function(t) { return null == t ? ke(this, Zt) : new this.Collection(this, (function() { return Re(t, void 0, !1) })) }, De.prototype.below = function(t) { return null == t ? ke(this, Zt) : new this.Collection(this, (function() { return Re(void 0, t, !1, !0) })) }, De.prototype.belowOrEqual = function(t) { return null == t ? ke(this, Zt) : new this.Collection(this, (function() { return Re(void 0, t) })) }, De.prototype.startsWith = function(t) { return "string" != typeof t ? ke(this, Jt) : this.between(t, t + Kt, !0, !0) }, De.prototype.startsWithIgnoreCase = function(t) { return "" === t ? this.startsWith(t) : Oe(this, (function(t, e) { return 0 === t.indexOf(e[0]) }), [t], Kt) }, De.prototype.equalsIgnoreCase = function(t) { return Oe(this, (function(t, e) { return t === e[0] }), [t], "") }, De.prototype.anyOfIgnoreCase = function() { var t = F.apply(D, arguments); return 0 === t.length ? Pe(this) : Oe(this, (function(t, e) { return -1 !== e.indexOf(t) }), t, "") }, De.prototype.startsWithAnyOfIgnoreCase = function() { var t = F.apply(D, arguments); return 0 === t.length ? Pe(this) : Oe(this, (function(t, e) { return e.some((function(e) { return 0 === t.indexOf(e) })) }), t, Kt) }, De.prototype.anyOf = function() { var t = this,
			e = F.apply(D, arguments),
			i = this._cmp; try { e.sort(i) } catch (s) { return ke(this, Zt) } if (0 === e.length) return Pe(this); var n = new this.Collection(this, (function() { return Re(e[0], e[e.length - 1]) }));
		n._ondirectionchange = function(n) { i = "next" === n ? t._ascending : t._descending, e.sort(i) }; var r = 0; return n._addAlgorithm((function(t, n, s) { for (var o = t.key; 0 < i(o, e[r]);)
				if (++r === e.length) return n(s), !1; return 0 === i(o, e[r]) || (n((function() { t.continue(e[r]) })), !1) })), n }, De.prototype.notEqual = function(t) { return this.inAnyRange([
			[-1 / 0, t],
			[t, this.db._maxKey]
		], { includeLowers: !1, includeUppers: !1 }) }, De.prototype.noneOf = function() { var t = F.apply(D, arguments); if (0 === t.length) return new this.Collection(this); try { t.sort(this._ascending) } catch (i) { return ke(this, Zt) } var e = t.reduce((function(t, e) { return t ? t.concat([
				[t[t.length - 1][1], e]
			]) : [
				[-1 / 0, e]
			] }), null); return e.push([t[t.length - 1], this.db._maxKey]), this.inAnyRange(e, { includeLowers: !1, includeUppers: !1 }) }, De.prototype.inAnyRange = function(t, e) { var i = this,
			n = this._cmp,
			r = this._ascending,
			s = this._descending,
			o = this._min,
			a = this._max; if (0 === t.length) return Pe(this); if (!t.every((function(t) { return void 0 !== t[0] && void 0 !== t[1] && r(t[0], t[1]) <= 0 }))) return ke(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", W.InvalidArgument); var l, h = !e || !1 !== e.includeLowers,
			u = e && !0 === e.includeUppers,
			c = r;

		function d(t, e) { return c(t[0], e[0]) } try {
			(l = t.reduce((function(t, e) { for (var i = 0, r = t.length; i < r; ++i) { var s = t[i]; if (n(e[0], s[1]) < 0 && 0 < n(e[1], s[0])) { s[0] = o(s[0], e[0]), s[1] = a(s[1], e[1]); break } } return i === r && t.push(e), t }), [])).sort(d) } catch (v) { return ke(this, Zt) } var f = 0,
			p = u ? function(t) { return 0 < r(t, l[f][1]) } : function(t) { return 0 <= r(t, l[f][1]) },
			g = h ? function(t) { return 0 < s(t, l[f][0]) } : function(t) { return 0 <= s(t, l[f][0]) },
			m = p; return (t = new this.Collection(this, (function() { return Re(l[0][0], l[l.length - 1][1], !h, !u) })))._ondirectionchange = function(t) { c = "next" === t ? (m = p, r) : (m = g, s), l.sort(d) }, t._addAlgorithm((function(t, e, n) { for (var s, o = t.key; m(o);)
				if (++f === l.length) return e(n), !1; return !p(s = o) && !g(s) || (0 === i._cmp(o, l[f][1]) || 0 === i._cmp(o, l[f][0]) || e((function() { c === r ? t.continue(l[f][0]) : t.continue(l[f][1]) })), !1) })), t }, De.prototype.startsWithAnyOf = function() { var t = F.apply(D, arguments); return t.every((function(t) { return "string" == typeof t })) ? 0 === t.length ? Pe(this) : this.inAnyRange(t.map((function(t) { return [t, t + Kt] }))) : ke(this, "startsWithAnyOf() only works with strings") }, De);

	function De() {}

	function Fe(t) { return Mt((function(e) { return Ie(e), t(e.target.error), !1 })) }

	function Ie(t) { t.stopPropagation && t.stopPropagation(), t.preventDefault && t.preventDefault() } var Be = "storagemutated",
		Ne = "x-storagemutated-1",
		ze = de(null, Be),
		Ue = (Ye.prototype._lock = function() { return y(!mt.global), ++this._reculock, 1 !== this._reculock || mt.global || (mt.lockOwnerFor = this), this }, Ye.prototype._unlock = function() { if (y(!mt.global), 0 == --this._reculock)
				for (mt.global || (mt.lockOwnerFor = null); 0 < this._blockedFuncs.length && !this._locked();) { var t = this._blockedFuncs.shift(); try { Vt(t[1], t[0]) } catch (e) {} }
			return this }, Ye.prototype._locked = function() { return this._reculock && mt.lockOwnerFor !== this }, Ye.prototype.create = function(t) { var e = this; if (!this.mode) return this; var i = this.db.idbdb,
				n = this.db._state.dbOpenError; if (y(!this.idbtrans), !t && !i) switch (n && n.name) {
				case "DatabaseClosedError":
					throw new W.DatabaseClosed(n);
				case "MissingAPIError":
					throw new W.MissingAPI(n.message, n);
				default:
					throw new W.OpenFailed(n) }
			if (!this.active) throw new W.TransactionInactive; return y(null === this._completion._state), (t = this.idbtrans = t || (this.db.core || i).transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })).onerror = Mt((function(i) { Ie(i), e._reject(t.error) })), t.onabort = Mt((function(i) { Ie(i), e.active && e._reject(new W.Abort(t.error)), e.active = !1, e.on("abort").fire(i) })), t.oncomplete = Mt((function() { e.active = !1, e._resolve(), "mutatedParts" in t && ze.storagemutated.fire(t.mutatedParts) })), this }, Ye.prototype._promise = function(t, e, i) { var n = this; if ("readwrite" === t && "readwrite" !== this.mode) return qt(new W.ReadOnly("Transaction is readonly")); if (!this.active) return qt(new W.TransactionInactive); if (this._locked()) return new bt((function(r, s) { n._blockedFuncs.push([function() { n._promise(t, e, i).then(r, s) }, mt]) })); if (i) return zt((function() { var t = new bt((function(t, i) { n._lock(); var r = e(t, i, n);
					r && r.then && r.then(t, i) })); return t.finally((function() { return n._unlock() })), t._lib = !0, t })); var r = new bt((function(t, i) { var r = e(t, i, n);
				r && r.then && r.then(t, i) })); return r._lib = !0, r }, Ye.prototype._root = function() { return this.parent ? this.parent._root() : this }, Ye.prototype.waitFor = function(t) { var e, i = this._root(),
				n = bt.resolve(t);
			i._waitingFor ? i._waitingFor = i._waitingFor.then((function() { return n })) : (i._waitingFor = n, i._waitingQueue = [], e = i.idbtrans.objectStore(i.storeNames[0]), function t() { for (++i._spinCount; i._waitingQueue.length;) i._waitingQueue.shift()();
				i._waitingFor && (e.get(-1 / 0).onsuccess = t) }()); var r = i._waitingFor; return new bt((function(t, e) { n.then((function(e) { return i._waitingQueue.push(Mt(t.bind(null, e))) }), (function(t) { return i._waitingQueue.push(Mt(e.bind(null, t))) })).finally((function() { i._waitingFor === r && (i._waitingFor = null) })) })) }, Ye.prototype.abort = function() { this.active && (this.active = !1, this.idbtrans && this.idbtrans.abort(), this._reject(new W.Abort)) }, Ye.prototype.table = function(t) { var e = this._memoizedTables || (this._memoizedTables = {}); if (h(e, t)) return e[t]; var i = this.schema[t]; if (!i) throw new W.NotFound("Table " + t + " not part of transaction"); return (i = new this.db.Table(t, i, this)).core = this.db.core.table(t), e[t] = i }, Ye);

	function Ye() {}

	function Xe(t, e, i, n, r, s, o) { return { name: t, keyPath: e, unique: i, multi: n, auto: r, compound: s, src: (i && !o ? "&" : "") + (n ? "*" : "") + (r ? "++" : "") + Ge(e) } }

	function Ge(t) { return "string" == typeof t ? t : t ? "[" + [].join.call(t, "+") + "]" : "" }

	function He(t, e, i) { return { name: t, primKey: e, indexes: i, mappedClass: null, idxByName: (n = function(t) { return [t.name, t] }, i.reduce((function(t, e, i) { return (i = n(e)) && (t[i[0]] = i[1]), t }), {})) }; var n } var We = function(t) { try { return t.only([
				[]
			]), We = function() { return [
					[]
				] }, [
				[]
			] } catch (e) { return We = function() { return Kt }, Kt } };

	function Ve(t) { return null == t ? function() {} : "string" == typeof t ? 1 === (e = t).split(".").length ? function(t) { return t[e] } : function(t) { return b(t, e) } : function(e) { return b(e, t) }; var e }

	function je(t) { return [].slice.call(t) } var $e = 0;

	function qe(t) { return null == t ? ":id" : "string" == typeof t ? t : "[".concat(t.join("+"), "]") }

	function Ke(t, e, i) {
		function n(t) { if (3 === t.type) return null; if (4 === t.type) throw new Error("Cannot convert never type to IDBKeyRange"); var i = t.lower,
				n = t.upper,
				r = t.lowerOpen; return t = t.upperOpen, void 0 === i ? void 0 === n ? null : e.upperBound(n, !!t) : void 0 === n ? e.lowerBound(i, !!r) : e.bound(i, n, !!r, !!t) } i = (o = i, a = je((r = t).objectStoreNames), h = { schema: { name: r.name, tables: a.map((function(t) { return o.objectStore(t) })).map((function(t) { var e = t.keyPath,
						i = t.autoIncrement,
						n = s(e),
						r = {}; return i = { name: t.name, primaryKey: { name: null, isPrimaryKey: !0, outbound: null == e, compound: n, keyPath: e, autoIncrement: i, unique: !0, extractKey: Ve(e) }, indexes: je(t.indexNames).map((function(e) { return t.index(e) })).map((function(t) { var e = t.name,
								i = t.unique,
								n = t.multiEntry; return t = t.keyPath, n = { name: e, compound: s(t), keyPath: t, unique: i, multiEntry: n, extractKey: Ve(t) }, r[qe(t)] = n })), getIndexByKeyPath: function(t) { return r[qe(t)] } }, r[":id"] = i.primaryKey, null != e && (r[qe(e)] = i.primaryKey), i })) }, hasGetAll: 0 < a.length && "getAll" in o.objectStore(a[0]) && !("undefined" != typeof navigator && /Safari/.test(navigator.userAgent) && !/(Chrome\/|Edge\/)/.test(navigator.userAgent) && [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) }).schema; var r, o, a, l = h.hasGetAll,
			h = i.tables.map((function(t) { var e, i = t.name; return { name: i, schema: t, mutate: function(t) { var e = t.trans,
							r = t.type,
							s = t.keys,
							o = t.values,
							a = t.range; return new Promise((function(t, l) { t = Mt(t); var h = e.objectStore(i),
								u = null == h.keyPath,
								c = "put" === r || "add" === r; if (!c && "delete" !== r && "deleteRange" !== r) throw new Error("Invalid operation type: " + r); var d, f = (s || o || { length: 1 }).length; if (s && o && s.length !== o.length) throw new Error("Given keys array must have same length as given values array."); if (0 === f) return t({ numFailures: 0, failures: {}, results: [], lastResult: void 0 });

							function p(t) {++v, Ie(t) } var g = [],
								m = [],
								v = 0; if ("deleteRange" === r) { if (4 === a.type) return t({ numFailures: v, failures: m, results: [], lastResult: void 0 });
								3 === a.type ? g.push(d = h.clear()) : g.push(d = h.delete(n(a))) } else { var y = (u = c ? u ? [o, s] : [o, null] : [s, null])[0],
									x = u[1]; if (c)
									for (var b = 0; b < f; ++b) g.push(d = x && void 0 !== x[b] ? h[r](y[b], x[b]) : h[r](y[b])), d.onerror = p;
								else
									for (b = 0; b < f; ++b) g.push(d = h[r](y[b])), d.onerror = p }

							function w(e) { e = e.target.result, g.forEach((function(t, e) { return null != t.error && (m[e] = t.error) })), t({ numFailures: v, failures: m, results: "delete" === r ? s : g.map((function(t) { return t.result })), lastResult: e }) } d.onerror = function(t) { p(t), w(t) }, d.onsuccess = w })) }, getMany: function(t) { var e = t.trans,
							n = t.keys; return new Promise((function(t, r) { t = Mt(t); for (var s, o = e.objectStore(i), a = n.length, l = new Array(a), h = 0, u = 0, c = function(e) { e = e.target, l[e._pos] = e.result, ++u === h && t(l) }, d = Fe(r), f = 0; f < a; ++f) null != n[f] && ((s = o.get(n[f]))._pos = f, s.onsuccess = c, s.onerror = d, ++h);
							0 === h && t(l) })) }, get: function(t) { var e = t.trans,
							n = t.key; return new Promise((function(t, r) { t = Mt(t); var s = e.objectStore(i).get(n);
							s.onsuccess = function(e) { return t(e.target.result) }, s.onerror = Fe(r) })) }, query: (e = l, function(t) { return new Promise((function(r, s) { r = Mt(r); var o, a, l, h = t.trans,
								u = t.values,
								c = t.limit,
								d = t.query,
								f = c === 1 / 0 ? void 0 : c,
								p = d.index; if (d = d.range, h = h.objectStore(i), p = p.isPrimaryKey ? h : h.index(p.name), d = n(d), 0 === c) return r({ result: [] });
							e ? ((f = u ? p.getAll(d, f) : p.getAllKeys(d, f)).onsuccess = function(t) { return r({ result: t.target.result }) }, f.onerror = Fe(s)) : (o = 0, a = !u && "openKeyCursor" in p ? p.openKeyCursor(d) : p.openCursor(d), l = [], a.onsuccess = function(t) { var e = a.result; return e ? (l.push(u ? e.value : e.primaryKey), ++o === c ? r({ result: l }) : void e.continue()) : r({ result: l }) }, a.onerror = Fe(s)) })) }), openCursor: function(t) { var e = t.trans,
							r = t.values,
							s = t.query,
							o = t.reverse,
							a = t.unique; return new Promise((function(t, l) { t = Mt(t); var h = s.index,
								u = s.range,
								c = e.objectStore(i),
								d = (c = h.isPrimaryKey ? c : c.index(h.name), h = o ? a ? "prevunique" : "prev" : a ? "nextunique" : "next", !r && "openKeyCursor" in c ? c.openKeyCursor(n(u), h) : c.openCursor(n(u), h));
							d.onerror = Fe(l), d.onsuccess = Mt((function(i) { var n, r, s, o, a = d.result;
								a ? (a.___id = ++$e, a.done = !1, n = a.continue.bind(a), r = (r = a.continuePrimaryKey) && r.bind(a), s = a.advance.bind(a), o = function() { throw new Error("Cursor not stopped") }, a.trans = e, a.stop = a.continue = a.continuePrimaryKey = a.advance = function() { throw new Error("Cursor not started") }, a.fail = Mt(l), a.next = function() { var t = this,
										e = 1; return this.start((function() { return e-- ? t.continue() : t.stop() })).then((function() { return t })) }, a.start = function(t) {
									function e() { if (d.result) try { t() } catch (e) { a.fail(e) } else a.done = !0, a.start = function() { throw new Error("Cursor behind last entry") }, a.stop() } var i = new Promise((function(t, e) { t = Mt(t), d.onerror = Fe(e), a.fail = e, a.stop = function(e) { a.stop = a.continue = a.continuePrimaryKey = a.advance = o, t(e) } })); return d.onsuccess = Mt((function(t) { d.onsuccess = e, e() })), a.continue = n, a.continuePrimaryKey = r, a.advance = s, e(), i }, t(a)) : t(null) }), l) })) }, count: function(t) { var e = t.query,
							r = t.trans,
							s = e.index,
							o = e.range; return new Promise((function(t, e) { var a = r.objectStore(i),
								l = s.isPrimaryKey ? a : a.index(s.name);
							(l = (a = n(o)) ? l.count(a) : l.count()).onsuccess = Mt((function(e) { return t(e.target.result) })), l.onerror = Fe(e) })) } } })),
			u = {}; return h.forEach((function(t) { return u[t.name] = t })), { stack: "dbcore", transaction: t.transaction.bind(t), table: function(t) { if (!u[t]) throw new Error("Table '".concat(t, "' not found")); return u[t] }, MIN_KEY: -1 / 0, MAX_KEY: We(e), schema: i } }

	function Ze(t, i) { var n = i.db;
		i = function(t, i, n, r) { var s = n.IDBKeyRange; return n.indexedDB, { dbcore: (r = Ke(i, s, r), t.dbcore.reduce((function(t, i) { return i = i.create, e(e({}, t), i(t)) }), r)) } }(t._middlewares, n, t._deps, i), t.core = i.dbcore, t.tables.forEach((function(e) { var i = e.name;
			t.core.schema.tables.some((function(t) { return t.name === i })) && (e.core = t.core.table(i), t[i] instanceof t.Table && (t[i].core = e.core)) })) }

	function Je(t, e, i, n) { i.forEach((function(i) { var r = n[i];
			e.forEach((function(e) { var n = function t(e, i) { return p(e, i) || (e = a(e)) && t(e, i) }(e, i);
				(!n || "value" in n && void 0 === n.value) && (e === t.Transaction.prototype || e instanceof t.Transaction ? d(e, i, { get: function() { return this.table(i) }, set: function(t) { c(this, i, { value: t, writable: !0, configurable: !0, enumerable: !0 }) } }) : e[i] = new t.Table(i, r)) })) })) }

	function Qe(t, e) { e.forEach((function(e) { for (var i in e) e[i] instanceof t.Table && delete e[i] })) }

	function ti(t, e) { return t._cfg.version - e._cfg.version }

	function ei(t, e) { var i, n = { del: [], add: [], change: [] }; for (i in t) e[i] || n.del.push(i); for (i in e) { var r = t[i],
				s = e[i]; if (r) { var o = { name: i, def: s, recreate: !1, del: [], add: [], change: [] }; if ("" + (r.primKey.keyPath || "") != "" + (s.primKey.keyPath || "") || r.primKey.auto !== s.primKey.auto) o.recreate = !0, n.change.push(o);
				else { var a = r.idxByName,
						l = s.idxByName,
						h = void 0; for (h in a) l[h] || o.del.push(h); for (h in l) { var u = a[h],
							c = l[h];
						u ? u.src !== c.src && o.change.push(c) : o.add.push(c) }(0 < o.del.length || 0 < o.add.length || 0 < o.change.length) && n.change.push(o) } } else n.add.push([i, s]) } return n }

	function ii(t, e, i, n) { var r = t.db.createObjectStore(e, i.keyPath ? { keyPath: i.keyPath, autoIncrement: i.auto } : { autoIncrement: i.auto }); return n.forEach((function(t) { return ri(r, t) })), r }

	function ni(t, e) { r(t).forEach((function(i) { e.db.objectStoreNames.contains(i) || (nt && console.debug("Dexie: Creating missing table", i), ii(e, i, t[i].primKey, t[i].indexes)) })) }

	function ri(t, e) { t.createIndex(e.name, e.keyPath, { unique: e.unique, multiEntry: e.multi }) }

	function si(t, e, i) { var n = {}; return m(e.objectStoreNames, 0).forEach((function(t) { for (var e = i.objectStore(t), r = Xe(Ge(a = e.keyPath), a || "", !0, !1, !!e.autoIncrement, a && "string" != typeof a, !0), s = [], o = 0; o < e.indexNames.length; ++o) { var a = (l = e.index(e.indexNames[o])).keyPath,
					l = Xe(l.name, a, !!l.unique, !!l.multiEntry, !1, a && "string" != typeof a, !1);
				s.push(l) } n[t] = He(t, r, s) })), n }

	function oi(t, e, i) { for (var r = i.db.objectStoreNames, s = 0; s < r.length; ++s) { var o = r[s],
				a = i.objectStore(o);
			t._hasGetAll = "getAll" in a; for (var l = 0; l < a.indexNames.length; ++l) { var h = a.indexNames[l],
					u = a.index(h).keyPath,
					c = "string" == typeof u ? u : "[" + m(u).join("+") + "]";!e[o] || (u = e[o].idxByName[c]) && (u.name = h, delete e[o].idxByName[c], e[o].idxByName[h] = u) } } "undefined" != typeof navigator && /Safari/.test(navigator.userAgent) && !/(Chrome\/|Edge\/)/.test(navigator.userAgent) && n.WorkerGlobalScope && n instanceof n.WorkerGlobalScope && [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604 && (t._hasGetAll = !1) }

	function ai(t) { return t.split(",").map((function(t, e) { var i = (t = t.trim()).replace(/([&*]|\+\+)/g, ""),
				n = /^\[/.test(i) ? i.match(/^\[(.*)\]$/)[1].split("+") : i; return Xe(i, n || null, /\&/.test(t), /\*/.test(t), /\+\+/.test(t), s(n), 0 === e) })) } var li = (hi.prototype._parseStoresSpec = function(t, e) { r(t).forEach((function(i) { if (null !== t[i]) { var n = ai(t[i]),
					r = n.shift(); if (r.unique = !0, r.multi) throw new W.Schema("Primary key cannot be multi-valued");
				n.forEach((function(t) { if (t.auto) throw new W.Schema("Only primary key can be marked as autoIncrement (++)"); if (!t.keyPath) throw new W.Schema("Index must have a name and cannot be an empty string") })), e[i] = He(i, r, n) } })) }, hi.prototype.stores = function(t) { var e = this.db;
		this._cfg.storesSource = this._cfg.storesSource ? o(this._cfg.storesSource, t) : t, t = e._versions; var i = {},
			n = {}; return t.forEach((function(t) { o(i, t._cfg.storesSource), n = t._cfg.dbschema = {}, t._parseStoresSpec(i, n) })), e._dbSchema = n, Qe(e, [e._allTables, e, e.Transaction.prototype]), Je(e, [e._allTables, e, e.Transaction.prototype, this._cfg.tables], r(n), n), e._storeNames = r(n), this }, hi.prototype.upgrade = function(t) { return this._cfg.contentUpgrade = it(this._cfg.contentUpgrade || $, t), this }, hi);

	function hi() {}

	function ui(t, e) { var i = t._dbNamesDB; return i || (i = t._dbNamesDB = new ji(te, { addons: [], indexedDB: t, IDBKeyRange: e })).version(1).stores({ dbnames: "name" }), i.table("dbnames") }

	function ci(t) { return t && "function" == typeof t.databases }

	function di(t) { return zt((function() { return mt.letThrough = !0, t() })) }

	function fi(t) { return !("from" in t) } var pi = function(t, e) { if (!this) { var i = new pi; return t && "d" in t && o(i, t), i } o(this, arguments.length ? { d: 1, from: t, to: 1 < arguments.length ? e : t } : { d: 0 }) };

	function gi(t, e, i) { var n = ae(e, i); if (!isNaN(n)) { if (0 < n) throw RangeError(); if (fi(t)) return o(t, { from: e, to: i, d: 1 }); var r = t.l; if (n = t.r, ae(i, t.from) < 0) return r ? gi(r, e, i) : t.l = { from: e, to: i, d: 1, l: null, r: null }, xi(t); if (0 < ae(e, t.to)) return n ? gi(n, e, i) : t.r = { from: e, to: i, d: 1, l: null, r: null }, xi(t);
			ae(e, t.from) < 0 && (t.from = e, t.l = null, t.d = n ? n.d + 1 : 1), 0 < ae(i, t.to) && (t.to = i, t.r = null, t.d = t.l ? t.l.d + 1 : 1), i = !t.r, r && !t.l && mi(t, r), n && i && mi(t, n) } }

	function mi(t, e) { fi(e) || function t(e, i) { var n = i.from,
				r = i.to,
				s = i.l;
			i = i.r, gi(e, n, r), s && t(e, s), i && t(e, i) }(t, e) }

	function vi(t, e) { var i = yi(e),
			n = i.next(); if (n.done) return !1; for (var r = n.value, s = yi(t), o = s.next(r.from), a = o.value; !n.done && !o.done;) { if (ae(a.from, r.to) <= 0 && 0 <= ae(a.to, r.from)) return !0;
			ae(r.from, a.from) < 0 ? r = (n = i.next(a.from)).value : a = (o = s.next(r.from)).value } return !1 }

	function yi(t) { var e = fi(t) ? null : { s: 0, n: t }; return { next: function(t) { for (var i = 0 < arguments.length; e;) switch (e.s) {
					case 0:
						if (e.s = 1, i)
							for (; e.n.l && ae(t, e.n.from) < 0;) e = { up: e, n: e.n.l, s: 1 };
						else
							for (; e.n.l;) e = { up: e, n: e.n.l, s: 1 };
					case 1:
						if (e.s = 2, !i || ae(t, e.n.to) <= 0) return { value: e.n, done: !1 };
					case 2:
						if (e.n.r) { e.s = 3, e = { up: e, n: e.n.r, s: 0 }; continue }
					case 3:
						e = e.up }
				return { done: !0 } } } }

	function xi(t) { var i, n, r = ((null === (i = t.r) || void 0 === i ? void 0 : i.d) || 0) - ((null === (n = t.l) || void 0 === n ? void 0 : n.d) || 0),
			s = 1 < r ? "r" : r < -1 ? "l" : "";
		s && (i = "r" == s ? "l" : "r", n = e({}, t), r = t[s], t.from = r.from, t.to = r.to, t[s] = r[s], n[s] = r[i], (t[i] = n).d = bi(n)), t.d = bi(t) }

	function bi(t) { var e = t.r; return t = t.l, (e ? t ? Math.max(e.d, t.d) : e.d : t ? t.d : 0) + 1 }

	function wi(t, e) { return r(e).forEach((function(i) { t[i] ? mi(t[i], e[i]) : t[i] = function t(e) { var i, n, r = {}; for (i in e) h(e, i) && (n = e[i], r[i] = !n || "object" != typeof n || A.has(n.constructor) ? n : t(n)); return r }(e[i]) })), t }

	function Ti(t, e) { return t.all || e.all || Object.keys(t).some((function(i) { return e[i] && vi(e[i], t[i]) })) } u(pi.prototype, ((B = { add: function(t) { return mi(this, t), this }, addKey: function(t) { return gi(this, t, t), this }, addKeys: function(t) { var e = this; return t.forEach((function(t) { return gi(e, t, t) })), this }, hasKey: function(t) { var e = yi(this).next(t).value; return e && ae(e.from, t) <= 0 && 0 <= ae(e.to, t) } })[R] = function() { return yi(this) }, B)); var Si = {},
		_i = {},
		Ei = !1;

	function Ai(t) { wi(_i, t), Ei || (Ei = !0, setTimeout((function() { Ei = !1, Ci(_i, !(_i = {})) }), 0)) }

	function Ci(t, e) { void 0 === e && (e = !1); var i = new Set; if (t.all)
			for (var n = 0, r = Object.values(Si); n < r.length; n++) ki(o = r[n], t, i, e);
		else
			for (var s in t) { var o, a = /^idb\:\/\/(.*)\/(.*)\//.exec(s);
				a && (s = a[1], a = a[2], (o = Si["idb://".concat(s, "/").concat(a)]) && ki(o, t, i, e)) } i.forEach((function(t) { return t() })) }

	function ki(t, e, i, n) { for (var r = [], s = 0, o = Object.entries(t.queries.query); s < o.length; s++) { for (var a = o[s], l = a[0], h = [], u = 0, c = a[1]; u < c.length; u++) { var d = c[u];
				Ti(e, d.obsSet) ? d.subscribers.forEach((function(t) { return i.add(t) })) : n && h.push(d) } n && r.push([l, h]) } if (n)
			for (var f = 0, p = r; f < p.length; f++) { var g = p[f];
				l = g[0], h = g[1], t.queries.query[l] = h } }

	function Pi(t) { var e = t._state,
			i = t._deps.indexedDB; if (e.isBeingOpened || t.idbdb) return e.dbReadyPromise.then((function() { return e.dbOpenError ? qt(e.dbOpenError) : t }));
		e.isBeingOpened = !0, e.dbOpenError = null, e.openComplete = !1; var n = e.openCanceller,
			s = Math.round(10 * t.verno),
			o = !1;

		function a() { if (e.openCanceller !== n) throw new W.DatabaseClosed("db.open() was cancelled") } var l, h = e.dbReadyResolve,
			u = null,
			c = !1; return bt.race([n, ("undefined" == typeof navigator ? bt.resolve() : !navigator.userAgentData && /Safari\//.test(navigator.userAgent) && !/Chrom(e|ium)\//.test(navigator.userAgent) && indexedDB.databases ? new Promise((function(t) {
			function e() { return indexedDB.databases().finally(t) } l = setInterval(e, 100), e() })).finally((function() { return clearInterval(l) })) : Promise.resolve()).then((function n() { return new bt((function(l, h) { if (a(), !i) throw new W.MissingAPI; var d = t.name,
					f = e.autoSchema || !s ? i.open(d) : i.open(d, s); if (!f) throw new W.MissingAPI;
				f.onerror = Fe(h), f.onblocked = Mt(t._fireOnBlocked), f.onupgradeneeded = Mt((function(n) { var s;
					u = f.transaction, e.autoSchema && !t._options.allowEmptyDB ? (f.onerror = Ie, u.abort(), f.result.close(), (s = i.deleteDatabase(d)).onsuccess = s.onerror = Mt((function() { h(new W.NoSuchDatabase("Database ".concat(d, " doesnt exist"))) }))) : (u.onerror = Fe(h), n = n.oldVersion > Math.pow(2, 62) ? 0 : n.oldVersion, c = n < 1, t.idbdb = f.result, o && function(t, e) { ni(t._dbSchema, e), e.db.version % 10 != 0 || e.objectStoreNames.contains("$meta") || e.db.createObjectStore("$meta").add(Math.ceil(e.db.version / 10 - 1), "version"); var i = si(0, t.idbdb, e);
						oi(t, t._dbSchema, e); for (var n = 0, r = ei(i, t._dbSchema).change; n < r.length; n++) { var s = function(t) { if (t.change.length || t.recreate) return console.warn("Unable to patch indexes of table ".concat(t.name, " because it has changes on the type of index or primary key.")), { value: void 0 }; var i = e.objectStore(t.name);
								t.add.forEach((function(e) { nt && console.debug("Dexie upgrade patch: Creating missing index ".concat(t.name, ".").concat(e.src)), ri(i, e) })) }(r[n]); if ("object" == typeof s) return s.value } }(t, u), function(t, e, i, n) { var s = t._dbSchema;
						i.objectStoreNames.contains("$meta") && !s.$meta && (s.$meta = He("$meta", ai("")[0], []), t._storeNames.push("$meta")); var o = t._createTransaction("readwrite", t._storeNames, s);
						o.create(i), o._completion.catch(n); var a = o._reject.bind(o),
							l = mt.transless || mt;
						zt((function() { return mt.trans = o, mt.transless = l, 0 !== e ? (Ze(t, i), h = e, ((n = o).storeNames.includes("$meta") ? n.table("$meta").get("version").then((function(t) { return null != t ? t : h })) : bt.resolve(h)).then((function(e) { return s = e, a = o, l = i, h = [], e = (n = t)._versions, u = n._dbSchema = si(0, n.idbdb, l), 0 !== (e = e.filter((function(t) { return t._cfg.version >= s }))).length ? (e.forEach((function(t) { h.push((function() { var e = u,
											i = t._cfg.dbschema;
										oi(n, e, l), oi(n, i, l), u = n._dbSchema = i; var o = ei(e, i);
										o.add.forEach((function(t) { ii(l, t[0], t[1].primKey, t[1].indexes) })), o.change.forEach((function(t) { if (t.recreate) throw new W.Upgrade("Not yet support for changing primary key"); var e = l.objectStore(t.name);
											t.add.forEach((function(t) { return ri(e, t) })), t.change.forEach((function(t) { e.deleteIndex(t.name), ri(e, t) })), t.del.forEach((function(t) { return e.deleteIndex(t) })) })); var h = t._cfg.contentUpgrade; if (h && t._cfg.version > s) { Ze(n, l), a._memoizedTables = {}; var c = T(i);
											o.del.forEach((function(t) { c[t] = e[t] })), Qe(n, [n.Transaction.prototype]), Je(n, [n.Transaction.prototype], r(c), c), a.schema = c; var d, f = I(h); return f && Ut(), o = bt.follow((function() { var t;
												(d = h(a)) && f && (t = Yt.bind(null, null), d.then(t, t)) })), d && "function" == typeof d.then ? bt.resolve(d) : o.then((function() { return d })) } })), h.push((function(e) { var i, r, s = t._cfg.dbschema;
										i = s, r = e, [].slice.call(r.db.objectStoreNames).forEach((function(t) { return null == i[t] && r.db.deleteObjectStore(t) })), Qe(n, [n.Transaction.prototype]), Je(n, [n.Transaction.prototype], n._storeNames, n._dbSchema), a.schema = n._dbSchema })), h.push((function(e) { n.idbdb.objectStoreNames.contains("$meta") && (Math.ceil(n.idbdb.version / 10) === t._cfg.version ? (n.idbdb.deleteObjectStore("$meta"), delete n._dbSchema.$meta, n._storeNames = n._storeNames.filter((function(t) { return "$meta" !== t }))) : e.objectStore("$meta").put(t._cfg.version, "version")) })) })), function t() { return h.length ? bt.resolve(h.shift()(a.idbtrans)).then(t) : bt.resolve() }().then((function() { ni(u, l) }))) : bt.resolve(); var n, s, a, l, h, u })).catch(a)) : (r(s).forEach((function(t) { ii(i, t, s[t].primKey, s[t].indexes) })), Ze(t, i), void bt.follow((function() { return t.on.populate.fire(o) })).catch(a)); var n, h })) }(t, n / 10, u, h)) }), h), f.onsuccess = Mt((function() { u = null; var i, a, h, p, g, v = t.idbdb = f.result,
						y = m(v.objectStoreNames); if (0 < y.length) try { var x = v.transaction(1 === (p = y).length ? p[0] : p, "readonly"); if (e.autoSchema) a = v, h = x, (i = t).verno = a.version / 10, h = i._dbSchema = si(0, a, h), i._storeNames = m(a.objectStoreNames, 0), Je(i, [i._allTables], r(h), h);
						else if (oi(t, t._dbSchema, x), ((g = ei(si(0, (g = t).idbdb, x), g._dbSchema)).add.length || g.change.some((function(t) { return t.add.length || t.change.length }))) && !o) return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."), v.close(), s = v.version + 1, o = !0, l(n());
						Ze(t, x) } catch (b) {} Qt.push(t), v.onversionchange = Mt((function(i) { e.vcFired = !0, t.on("versionchange").fire(i) })), v.onclose = Mt((function(e) { t.on("close").fire(e) })), c && (g = t._deps, x = d, v = g.indexedDB, g = g.IDBKeyRange, ci(v) || x === te || ui(v, g).put({ name: x }).catch($)), l() }), h) })).catch((function(t) { switch (null == t ? void 0 : t.name) {
					case "UnknownError":
						if (0 < e.PR1398_maxLoop) return e.PR1398_maxLoop--, console.warn("Dexie: Workaround for Chrome UnknownError on open()"), n(); break;
					case "VersionError":
						if (0 < s) return s = 0, n() } return bt.reject(t) })) }))]).then((function() { return a(), e.onReadyBeingFired = [], bt.resolve(di((function() { return t.on.ready.fire(t.vip) }))).then((function i() { if (0 < e.onReadyBeingFired.length) { var n = e.onReadyBeingFired.reduce(it, $); return e.onReadyBeingFired = [], bt.resolve(di((function() { return n(t.vip) }))).then(i) } })) })).finally((function() { e.openCanceller === n && (e.onReadyBeingFired = null, e.isBeingOpened = !1) })).catch((function(i) { e.dbOpenError = i; try { u && u.abort() } catch (r) {} return n === e.openCanceller && t._close(), qt(i) })).finally((function() { e.openComplete = !0, h() })).then((function() { var e; return c && (e = {}, t.tables.forEach((function(i) { i.schema.indexes.forEach((function(n) { n.name && (e["idb://".concat(t.name, "/").concat(i.name, "/").concat(n.name)] = new pi(-1 / 0, [
						[
							[]
						]
					])) })), e["idb://".concat(t.name, "/").concat(i.name, "/")] = e["idb://".concat(t.name, "/").concat(i.name, "/:dels")] = new pi(-1 / 0, [
					[
						[]
					]
				]) })), ze(Be).fire(e), Ci(e, !0)), t })) }

	function Oi(t) {
		function e(e) { return t.next(e) } var i = r(e),
			n = r((function(e) { return t.throw(e) }));

		function r(t) { return function(e) { var r = t(e); return e = r.value, r.done ? e : e && "function" == typeof e.then ? e.then(i, n) : s(e) ? Promise.all(e).then(i, n) : i(e) } } return r(e)() }

	function Ri(t, e, i) { for (var n = s(t) ? t.slice() : [t], r = 0; r < i; ++r) n.push(e); return n } var Mi = { stack: "dbcore", name: "VirtualIndexMiddleware", level: 1, create: function(t) { return e(e({}, t), { table: function(i) { var n = t.table(i),
						r = n.schema,
						s = {},
						o = [];

					function a(t, i, n) { var r = qe(t),
							l = s[r] = s[r] || [],
							h = null == t ? 0 : "string" == typeof t ? 1 : t.length,
							u = 0 < i; return u = e(e({}, n), { name: u ? "".concat(r, "(virtual-from:").concat(n.name, ")") : n.name, lowLevelIndex: n, isVirtual: u, keyTail: i, keyLength: h, extractKey: Ve(t), unique: !u && n.unique }), l.push(u), u.isPrimaryKey || o.push(u), 1 < h && a(2 === h ? t[0] : t.slice(0, h - 1), i + 1, n), l.sort((function(t, e) { return t.keyTail - e.keyTail })), u } i = a(r.primaryKey.keyPath, 0, r.primaryKey), s[":id"] = [i]; for (var l = 0, h = r.indexes; l < h.length; l++) { var u = h[l];
						a(u.keyPath, 0, u) }

					function c(i) { var n, r = i.query.index; return r.isVirtual ? e(e({}, i), { query: { index: r.lowLevelIndex, range: (n = i.query.range, r = r.keyTail, { type: 1 === n.type ? 2 : n.type, lower: Ri(n.lower, n.lowerOpen ? t.MAX_KEY : t.MIN_KEY, r), lowerOpen: !0, upper: Ri(n.upper, n.upperOpen ? t.MIN_KEY : t.MAX_KEY, r), upperOpen: !0 }) } }) : i } return e(e({}, n), { schema: e(e({}, r), { primaryKey: i, indexes: o, getIndexByKeyPath: function(t) { return (t = s[qe(t)]) && t[0] } }), count: function(t) { return n.count(c(t)) }, query: function(t) { return n.query(c(t)) }, openCursor: function(e) { var i = e.query.index,
								r = i.keyTail,
								s = i.isVirtual,
								o = i.keyLength; return s ? n.openCursor(c(e)).then((function(i) { return i && (n = i, Object.create(n, { continue: { value: function(i) { null != i ? n.continue(Ri(i, e.reverse ? t.MAX_KEY : t.MIN_KEY, r)) : e.unique ? n.continue(n.key.slice(0, o).concat(e.reverse ? t.MIN_KEY : t.MAX_KEY, r)) : n.continue() } }, continuePrimaryKey: { value: function(e, i) { n.continuePrimaryKey(Ri(e, t.MAX_KEY, r), i) } }, primaryKey: { get: function() { return n.primaryKey } }, key: { get: function() { var t = n.key; return 1 === o ? t[0] : t.slice(0, o) } }, value: { get: function() { return n.value } } })); var n })) : n.openCursor(e) } }) } }) } };

	function Li(t, e, i, n) { return i = i || {}, n = n || "", r(t).forEach((function(r) { var s, o, a;
			h(e, r) ? (s = t[r], o = e[r], "object" == typeof s && "object" == typeof o && s && o ? (a = O(s)) !== O(o) ? i[n + r] = e[r] : "Object" === a ? Li(s, o, i, n + r + ".") : s !== o && (i[n + r] = e[r]) : s !== o && (i[n + r] = e[r])) : i[n + r] = void 0 })), r(e).forEach((function(r) { h(t, r) || (i[n + r] = e[r]) })), i }

	function Di(t, e) { return "delete" === e.type ? e.keys : e.keys || e.values.map(t.extractKey) } var Fi = { stack: "dbcore", name: "HooksMiddleware", level: 2, create: function(t) { return e(e({}, t), { table: function(n) { var r = t.table(n),
						s = r.schema.primaryKey; return e(e({}, r), { mutate: function(t) { var o = mt.trans,
								a = o.table(n).hook,
								l = a.deleting,
								u = a.creating,
								c = a.updating; switch (t.type) {
								case "add":
									if (u.fire === $) break; return o._promise("readwrite", (function() { return d(t) }), !0);
								case "put":
									if (u.fire === $ && c.fire === $) break; return o._promise("readwrite", (function() { return d(t) }), !0);
								case "delete":
									if (l.fire === $) break; return o._promise("readwrite", (function() { return d(t) }), !0);
								case "deleteRange":
									if (l.fire === $) break; return o._promise("readwrite", (function() { return function t(i, n, o) { return r.query({ trans: i, values: !1, query: { index: s, range: n }, limit: o }).then((function(r) { var s = r.result; return d({ type: "delete", keys: s, trans: i }).then((function(r) { return 0 < r.numFailures ? Promise.reject(r.failures[0]) : s.length < o ? { failures: [], numFailures: 0, lastResult: void 0 } : t(i, e(e({}, n), { lower: s[s.length - 1], lowerOpen: !0 }), o) })) })) }(t.trans, t.range, 1e4) }), !0) } return r.mutate(t);

							function d(t) { var n, o, a, d = mt.trans,
									f = t.keys || Di(s, t); if (!f) throw new Error("Keys missing"); return "delete" !== (t = "add" === t.type || "put" === t.type ? e(e({}, t), { keys: f }) : e({}, t)).type && (t.values = i([], t.values)), t.keys && (t.keys = i([], t.keys)), n = r, a = f, ("add" === (o = t).type ? Promise.resolve([]) : n.getMany({ trans: o.trans, keys: a, cache: "immutable" })).then((function(e) { var i = f.map((function(i, n) { var r, o, a, f = e[n],
											p = { onerror: null, onsuccess: null }; return "delete" === t.type ? l.fire.call(p, i, f, d) : "add" === t.type || void 0 === f ? (r = u.fire.call(p, i, t.values[n], d), null == i && null != r && (t.keys[n] = i = r, s.outbound || w(t.values[n], s.keyPath, i))) : (r = Li(f, t.values[n]), (o = c.fire.call(p, r, i, f, d)) && (a = t.values[n], Object.keys(o).forEach((function(t) { h(a, t) ? a[t] = o[t] : w(a, t, o[t]) })))), p })); return r.mutate(t).then((function(n) { for (var r = n.failures, s = n.results, o = n.numFailures, a = (n = n.lastResult, 0); a < f.length; ++a) { var l = (s || f)[a],
												h = i[a];
											null == l ? h.onerror && h.onerror(r[a]) : h.onsuccess && h.onsuccess("put" === t.type && e[a] ? t.values[a] : l) } return { failures: r, results: s, numFailures: o, lastResult: n } })).catch((function(t) { return i.forEach((function(e) { return e.onerror && e.onerror(t) })), Promise.reject(t) })) })) } } }) } }) } };

	function Ii(t, e, i) { try { if (!e) return null; if (e.keys.length < t.length) return null; for (var n = [], r = 0, s = 0; r < e.keys.length && s < t.length; ++r) 0 === ae(e.keys[r], t[s]) && (n.push(i ? k(e.values[r]) : e.values[r]), ++s); return n.length === t.length ? n : null } catch (o) { return null } } var Bi = { stack: "dbcore", level: -1, create: function(t) { return { table: function(i) { var n = t.table(i); return e(e({}, n), { getMany: function(t) { if (!t.cache) return n.getMany(t); var e = Ii(t.keys, t.trans._cache, "clone" === t.cache); return e ? bt.resolve(e) : n.getMany(t).then((function(e) { return t.trans._cache = { keys: t.keys, values: "clone" === t.cache ? k(e) : e }, e })) }, mutate: function(t) { return "add" !== t.type && (t.trans._cache = null), n.mutate(t) } }) } } } };

	function Ni(t, e) { return "readonly" === t.trans.mode && !!t.subscr && !t.trans.explicit && "disabled" !== t.trans.db._options.cache && !e.schema.primaryKey.outbound }

	function zi(t, e) { switch (t) {
			case "query":
				return e.values && !e.unique;
			case "get":
			case "getMany":
			case "count":
			case "openCursor":
				return !1 } } var Ui = { stack: "dbcore", level: 0, name: "Observability", create: function(t) { var i = t.schema.name,
				n = new pi(t.MIN_KEY, t.MAX_KEY); return e(e({}, t), { transaction: function(e, i, n) { if (mt.subscr && "readonly" !== i) throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(mt.querier)); return t.transaction(e, i, n) }, table: function(o) { var a = t.table(o),
						l = a.schema,
						h = l.primaryKey,
						u = l.indexes,
						c = h.extractKey,
						d = h.outbound,
						f = h.autoIncrement && u.filter((function(t) { return t.compound && t.keyPath.includes(h.keyPath) })),
						p = e(e({}, a), { mutate: function(e) {
								function r(t) { return t = "idb://".concat(i, "/").concat(o, "/").concat(t), g[t] || (g[t] = new pi) } var u, c, d, p = e.trans,
									g = e.mutatedParts || (e.mutatedParts = {}),
									m = r(""),
									v = r(":dels"),
									y = e.type,
									x = (w = "deleteRange" === e.type ? [e.range] : "delete" === e.type ? [e.keys] : e.values.length < 50 ? [Di(h, e).filter((function(t) { return t })), e.values] : [])[0],
									b = w[1],
									w = e.trans._cache; return s(x) ? (m.addKeys(x), (w = "delete" === y || x.length === b.length ? Ii(x, w) : null) || v.addKeys(x), (w || b) && (u = r, c = w, d = b, l.indexes.forEach((function(t) { var e = u(t.name || "");

									function i(e) { return null != e ? t.extractKey(e) : null }

									function n(i) { return t.multiEntry && s(i) ? i.forEach((function(t) { return e.addKey(t) })) : e.addKey(i) }(c || d).forEach((function(t, e) { var r = c && i(c[e]);
										0 !== ae(r, e = d && i(d[e])) && (null != r && n(r), null != e && n(e)) })) })))) : x ? (b = { from: null !== (b = x.lower) && void 0 !== b ? b : t.MIN_KEY, to: null !== (b = x.upper) && void 0 !== b ? b : t.MAX_KEY }, v.add(b), m.add(b)) : (m.add(n), v.add(n), l.indexes.forEach((function(t) { return r(t.name).add(n) }))), a.mutate(e).then((function(t) { return !x || "add" !== e.type && "put" !== e.type || (m.addKeys(t.results), f && f.forEach((function(i) { for (var n = e.values.map((function(t) { return i.extractKey(t) })), s = i.keyPath.findIndex((function(t) { return t === h.keyPath })), o = 0, a = t.results.length; o < a; ++o) n[o][s] = t.results[o];
										r(i.name).addKeys(n) }))), p.mutatedParts = wi(p.mutatedParts || {}, g), t })) } }),
						g = { get: function(t) { return [h, new pi(t.key)] }, getMany: function(t) { return [h, (new pi).addKeys(t.keys)] }, count: u = function(e) { e = (i = e.query).index; var i = i.range; return [e, new pi(null !== (e = i.lower) && void 0 !== e ? e : t.MIN_KEY, null !== (i = i.upper) && void 0 !== i ? i : t.MAX_KEY)] }, query: u, openCursor: u }; return r(g).forEach((function(t) { p[t] = function(r) { var s = !!(p = mt.subscr),
								l = Ni(mt, a) && zi(t, r) ? r.obsSet = {} : p; if (s) { var h = function(t) { return t = "idb://".concat(i, "/").concat(o, "/").concat(t), l[t] || (l[t] = new pi) },
									u = h(""),
									f = h(":dels"),
									p = (s = (p = g[t](r))[0], p[1]); if (("query" === t && s.isPrimaryKey && !r.values ? f : h(s.name || "")).add(p), !s.isPrimaryKey) { if ("count" !== t) { var m = "query" === t && d && r.values && a.query(e(e({}, r), { values: !1 })); return a[t].apply(this, arguments).then((function(e) { if ("query" === t) { if (d && r.values) return m.then((function(t) { return t = t.result, u.addKeys(t), e })); var i = r.values ? e.result.map(c) : e.result;
												(r.values ? u : f).addKeys(i) } else if ("openCursor" === t) { var n = e,
													s = r.values; return n && Object.create(n, { key: { get: function() { return f.addKey(n.primaryKey), n.key } }, primaryKey: { get: function() { var t = n.primaryKey; return f.addKey(t), t } }, value: { get: function() { return s && u.addKey(n.primaryKey), n.value } } }) } return e })) } f.add(n) } } return a[t].apply(this, arguments) } })), p } }) } };

	function Yi(t, i, n) { if (0 === n.numFailures) return i; if ("deleteRange" === i.type) return null; var r = i.keys ? i.keys.length : "values" in i && i.values ? i.values.length : 1; return n.numFailures === r ? null : (i = e({}, i), s(i.keys) && (i.keys = i.keys.filter((function(t, e) { return !(e in n.failures) }))), "values" in i && s(i.values) && (i.values = i.values.filter((function(t, e) { return !(e in n.failures) }))), i) }

	function Xi(t, e) { return i = t, (void 0 === (n = e).lower || (n.lowerOpen ? 0 < ae(i, n.lower) : 0 <= ae(i, n.lower))) && (void 0 === e.upper || (e.upperOpen ? ae(t, e.upper) < 0 : ae(t, e.upper) <= 0)); var i, n }

	function Gi(t, e, i, n, r, o) { if (!i || 0 === i.length) return t; var a = e.query.index,
			l = a.multiEntry,
			h = e.query.range,
			u = n.schema.primaryKey.extractKey,
			c = a.extractKey,
			d = (a.lowLevelIndex || a).extractKey; return (i = i.reduce((function(t, i) { var n = t,
				r = []; if ("add" === i.type || "put" === i.type)
				for (var o = new pi, a = i.values.length - 1; 0 <= a; --a) { var d, f = i.values[a],
						p = u(f);
					o.hasKey(p) || (d = c(f), (l && s(d) ? d.some((function(t) { return Xi(t, h) })) : Xi(d, h)) && (o.addKey(p), r.push(f))) }
			switch (i.type) {
				case "add":
					var g = (new pi).addKeys(e.values ? t.map((function(t) { return u(t) })) : t);
					n = t.concat(e.values ? r.filter((function(t) { return t = u(t), !g.hasKey(t) && (g.addKey(t), !0) })) : r.map((function(t) { return u(t) })).filter((function(t) { return !g.hasKey(t) && (g.addKey(t), !0) }))); break;
				case "put":
					var m = (new pi).addKeys(i.values.map((function(t) { return u(t) })));
					n = t.filter((function(t) { return !m.hasKey(e.values ? u(t) : t) })).concat(e.values ? r : r.map((function(t) { return u(t) }))); break;
				case "delete":
					var v = (new pi).addKeys(i.keys);
					n = t.filter((function(t) { return !v.hasKey(e.values ? u(t) : t) })); break;
				case "deleteRange":
					var y = i.range;
					n = t.filter((function(t) { return !Xi(u(t), y) })) } return n }), t)) === t ? t : (i.sort((function(t, e) { return ae(d(t), d(e)) || ae(u(t), u(e)) })), e.limit && e.limit < 1 / 0 && (i.length > e.limit ? i.length = e.limit : t.length === e.limit && i.length < e.limit && (r.dirty = !0)), o ? Object.freeze(i) : i) }

	function Hi(t, e) { return 0 === ae(t.lower, e.lower) && 0 === ae(t.upper, e.upper) && !!t.lowerOpen == !!e.lowerOpen && !!t.upperOpen == !!e.upperOpen } var Wi = { stack: "dbcore", level: 0, name: "Cache", create: function(t) { var i = t.schema.name; return e(e({}, t), { transaction: function(e, n, r) { var s, o, a = t.transaction(e, n, r); return "readwrite" === n && (o = (s = new AbortController).signal, r = function(r) { return function() { if (s.abort(), "readwrite" === n) { for (var o = new Set, l = 0, h = e; l < h.length; l++) { var u = h[l],
										c = Si["idb://".concat(i, "/").concat(u)]; if (c) { var d = t.table(u),
											f = c.optimisticOps.filter((function(t) { return t.trans === a })); if (a._explicit && r && a.mutatedParts)
											for (var p = 0, g = Object.values(c.queries.query); p < g.length; p++)
												for (var m = 0, v = (b = g[p]).slice(); m < v.length; m++) Ti((w = v[m]).obsSet, a.mutatedParts) && (L(b, w), w.subscribers.forEach((function(t) { return o.add(t) })));
										else if (0 < f.length) { c.optimisticOps = c.optimisticOps.filter((function(t) { return t.trans !== a })); for (var y = 0, x = Object.values(c.queries.query); y < x.length; y++)
												for (var b, w, T, S = 0, _ = (b = x[y]).slice(); S < _.length; S++) null != (w = _[S]).res && a.mutatedParts && (r && !w.dirty ? (T = Object.isFrozen(w.res), T = Gi(w.res, w.req, f, d, w, T), w.dirty ? (L(b, w), w.subscribers.forEach((function(t) { return o.add(t) }))) : T !== w.res && (w.res = T, w.promise = bt.resolve({ result: T }))) : (w.dirty && L(b, w), w.subscribers.forEach((function(t) { return o.add(t) })))) } } } o.forEach((function(t) { return t() })) } } }, a.addEventListener("abort", r(!1), { signal: o }), a.addEventListener("error", r(!1), { signal: o }), a.addEventListener("complete", r(!0), { signal: o })), a }, table: function(n) { var r = t.table(n),
						s = r.schema.primaryKey; return e(e({}, r), { mutate: function(t) { var o = mt.trans; if (s.outbound || "disabled" === o.db._options.cache || o.explicit || "readwrite" !== o.idbtrans.mode) return r.mutate(t); var a = Si["idb://".concat(i, "/").concat(n)]; return a ? (o = r.mutate(t), "add" !== t.type && "put" !== t.type || !(50 <= t.values.length || Di(s, t).some((function(t) { return null == t }))) ? (a.optimisticOps.push(t), t.mutatedParts && Ai(t.mutatedParts), o.then((function(e) { 0 < e.numFailures && (L(a.optimisticOps, t), (e = Yi(0, t, e)) && a.optimisticOps.push(e), t.mutatedParts && Ai(t.mutatedParts)) })), o.catch((function() { L(a.optimisticOps, t), t.mutatedParts && Ai(t.mutatedParts) }))) : o.then((function(i) { var n = Yi(0, e(e({}, t), { values: t.values.map((function(t, n) { var r; return i.failures[n] || w(t = null !== (r = s.keyPath) && void 0 !== r && r.includes(".") ? k(t) : e({}, t), s.keyPath, i.results[n]), t })) }), i);
								a.optimisticOps.push(n), queueMicrotask((function() { return t.mutatedParts && Ai(t.mutatedParts) })) })), o) : r.mutate(t) }, query: function(t) { if (!Ni(mt, r) || !zi("query", t)) return r.query(t); var e = "immutable" === (null === (a = mt.trans) || void 0 === a ? void 0 : a.db._options.cache),
								s = (h = mt).requery,
								o = h.signal,
								a = function(t, e, i, n) { var r = Si["idb://".concat(t, "/").concat(e)]; if (!r) return []; if (!(e = r.queries[i])) return [null, !1, r, null]; var s = e[(n.query ? n.query.index.name : null) || ""]; if (!s) return [null, !1, r, null]; switch (i) {
										case "query":
											var o = s.find((function(t) { return t.req.limit === n.limit && t.req.values === n.values && Hi(t.req.query.range, n.query.range) })); return o ? [o, !0, r, s] : [s.find((function(t) { return ("limit" in t.req ? t.req.limit : 1 / 0) >= n.limit && (!n.values || t.req.values) && function(t, e) { return function(t, e, i, n) { if (void 0 === t) return void 0 !== e ? -1 : 0; if (void 0 === e) return 1; if (0 === (e = ae(t, e))) { if (i && n) return 0; if (i) return 1; if (n) return -1 } return e }(t.lower, e.lower, t.lowerOpen, e.lowerOpen) <= 0 && 0 <= function(t, e, i, n) { if (void 0 === t) return void 0 !== e ? 1 : 0; if (void 0 === e) return -1; if (0 === (e = ae(t, e))) { if (i && n) return 0; if (i) return -1; if (n) return 1 } return e }(t.upper, e.upper, t.upperOpen, e.upperOpen) }(t.req.query.range, n.query.range) })), !1, r, s];
										case "count":
											return [o = s.find((function(t) { return Hi(t.req.query.range, n.query.range) })), !!o, r, s] } }(i, n, "query", t),
								l = a[0],
								h = a[1],
								u = a[2],
								c = a[3]; return l && h ? l.obsSet = t.obsSet : (h = r.query(t).then((function(t) { var i = t.result; if (l && (l.res = i), e) { for (var n = 0, r = i.length; n < r; ++n) Object.freeze(i[n]);
										Object.freeze(i) } else t.result = k(i); return t })).catch((function(t) { return c && l && L(c, l), Promise.reject(t) })), l = { obsSet: t.obsSet, promise: h, subscribers: new Set, type: "query", req: t, dirty: !1 }, c ? c.push(l) : (c = [l], (u = u || (Si["idb://".concat(i, "/").concat(n)] = { queries: { query: {}, count: {} }, objs: new Map, optimisticOps: [], unsignaledParts: {} })).queries.query[t.query.index.name || ""] = c)),
								function(t, e, i, n) { t.subscribers.add(i), n.addEventListener("abort", (function() { var n, r;
										t.subscribers.delete(i), 0 === t.subscribers.size && (n = t, r = e, setTimeout((function() { 0 === n.subscribers.size && L(r, n) }), 3e3)) })) }(l, c, s, o), l.promise.then((function(i) { return { result: Gi(i.result, t, null == u ? void 0 : u.optimisticOps, r, l, e) } })) } }) } }) } };

	function Vi(t, e) { return new Proxy(t, { get: function(t, i, n) { return "db" === i ? e : Reflect.get(t, i, n) } }) } var ji = ($i.prototype.version = function(t) { if (isNaN(t) || t < .1) throw new W.Type("Given version is not a positive number"); if (t = Math.round(10 * t) / 10, this.idbdb || this._state.isBeingOpened) throw new W.Schema("Cannot add version when database is open");
		this.verno = Math.max(this.verno, t); var e = this._versions,
			i = e.filter((function(e) { return e._cfg.version === t }))[0]; return i || (i = new this.Version(t), e.push(i), e.sort(ti), i.stores({}), this._state.autoSchema = !1, i) }, $i.prototype._whenReady = function(t) { var e = this; return this.idbdb && (this._state.openComplete || mt.letThrough || this._vip) ? t() : new bt((function(t, i) { if (e._state.openComplete) return i(new W.DatabaseClosed(e._state.dbOpenError)); if (!e._state.isBeingOpened) { if (!e._state.autoOpen) return void i(new W.DatabaseClosed);
				e.open().catch($) } e._state.dbReadyPromise.then(t, i) })).then(t) }, $i.prototype.use = function(t) { var e = t.stack,
			i = t.create,
			n = t.level,
			r = t.name; return r && this.unuse({ stack: e, name: r }), (t = this._middlewares[e] || (this._middlewares[e] = [])).push({ stack: e, create: i, level: null == n ? 10 : n, name: r }), t.sort((function(t, e) { return t.level - e.level })), this }, $i.prototype.unuse = function(t) { var e = t.stack,
			i = t.name,
			n = t.create; return e && this._middlewares[e] && (this._middlewares[e] = this._middlewares[e].filter((function(t) { return n ? t.create !== n : !!i && t.name !== i }))), this }, $i.prototype.open = function() { var t = this; return Vt(gt, (function() { return Pi(t) })) }, $i.prototype._close = function() { var t = this._state,
			e = Qt.indexOf(this); if (0 <= e && Qt.splice(e, 1), this.idbdb) { try { this.idbdb.close() } catch (i) {} this.idbdb = null } t.isBeingOpened || (t.dbReadyPromise = new bt((function(e) { t.dbReadyResolve = e })), t.openCanceller = new bt((function(e, i) { t.cancelOpen = i }))) }, $i.prototype.close = function(t) { var e = (void 0 === t ? { disableAutoOpen: !0 } : t).disableAutoOpen;
		t = this._state, e ? (t.isBeingOpened && t.cancelOpen(new W.DatabaseClosed), this._close(), t.autoOpen = !1, t.dbOpenError = new W.DatabaseClosed) : (this._close(), t.autoOpen = this._options.autoOpen || t.isBeingOpened, t.openComplete = !1, t.dbOpenError = null) }, $i.prototype.delete = function(t) { var e = this;
		void 0 === t && (t = { disableAutoOpen: !0 }); var i = 0 < arguments.length && "object" != typeof arguments[0],
			n = this._state; return new bt((function(r, s) {
			function o() { e.close(t); var i = e._deps.indexedDB.deleteDatabase(e.name);
				i.onsuccess = Mt((function() { var t, i, n;
					t = e._deps, i = e.name, n = t.indexedDB, t = t.IDBKeyRange, ci(n) || i === te || ui(n, t).delete(i).catch($), r() })), i.onerror = Fe(s), i.onblocked = e._fireOnBlocked } if (i) throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");
			n.isBeingOpened ? n.dbReadyPromise.then(o) : o() })) }, $i.prototype.backendDB = function() { return this.idbdb }, $i.prototype.isOpen = function() { return null !== this.idbdb }, $i.prototype.hasBeenClosed = function() { var t = this._state.dbOpenError; return t && "DatabaseClosed" === t.name }, $i.prototype.hasFailed = function() { return null !== this._state.dbOpenError }, $i.prototype.dynamicallyOpened = function() { return this._state.autoSchema }, Object.defineProperty($i.prototype, "tables", { get: function() { var t = this; return r(this._allTables).map((function(e) { return t._allTables[e] })) }, enumerable: !1, configurable: !0 }), $i.prototype.transaction = function() { var t = function(t, e, i) { var n = arguments.length; if (n < 2) throw new W.InvalidArgument("Too few arguments"); for (var r = new Array(n - 1); --n;) r[n - 1] = arguments[n]; return i = r.pop(), [t, _(r), i] }.apply(this, arguments); return this._transaction.apply(this, t) }, $i.prototype._transaction = function(t, e, i) { var n = this,
			r = mt.trans;
		r && r.db === this && -1 === t.indexOf("!") || (r = null); var s, o, a = -1 !== t.indexOf("?");
		t = t.replace("!", "").replace("?", ""); try { if (o = e.map((function(t) { if ("string" != typeof(t = t instanceof n.Table ? t.name : t)) throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed"); return t })), "r" == t || t === ee) s = ee;
			else { if ("rw" != t && t != ie) throw new W.InvalidArgument("Invalid transaction mode: " + t);
				s = ie } if (r) { if (r.mode === ee && s === ie) { if (!a) throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
					r = null } r && o.forEach((function(t) { if (r && -1 === r.storeNames.indexOf(t)) { if (!a) throw new W.SubTransaction("Table " + t + " not included in parent transaction.");
						r = null } })), a && r && !r.active && (r = null) } } catch (h) { return r ? r._promise(null, (function(t, e) { e(h) })) : qt(h) } var l = function t(e, i, n, r, s) { return bt.resolve().then((function() { var o = mt.transless || mt,
					a = e._createTransaction(i, n, e._dbSchema, r); if (a.explicit = !0, o = { trans: a, transless: o }, r) a.idbtrans = r.idbtrans;
				else try { a.create(), a.idbtrans._explicit = !0, e._state.PR1398_maxLoop = 3 } catch (u) { return u.name === G.InvalidState && e.isOpen() && 0 < --e._state.PR1398_maxLoop ? (console.warn("Dexie: Need to reopen db"), e.close({ disableAutoOpen: !1 }), e.open().then((function() { return t(e, i, n, null, s) }))) : qt(u) }
				var l, h = I(s); return h && Ut(), o = bt.follow((function() { var t;
					(l = s.call(a, a)) && (h ? (t = Yt.bind(null, null), l.then(t, t)) : "function" == typeof l.next && "function" == typeof l.throw && (l = Oi(l))) }), o), (l && "function" == typeof l.then ? bt.resolve(l).then((function(t) { return a.active ? t : qt(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")) })) : o.then((function() { return l }))).then((function(t) { return r && a._resolve(), a._completion.then((function() { return t })) })).catch((function(t) { return a._reject(t), qt(t) })) })) }.bind(null, this, s, o, r, i); return r ? r._promise(s, l, "lock") : mt.trans ? Vt(mt.transless, (function() { return n._whenReady(l) })) : this._whenReady(l) }, $i.prototype.table = function(t) { if (!h(this._allTables, t)) throw new W.InvalidTable("Table ".concat(t, " does not exist")); return this._allTables[t] }, $i);

	function $i(t, i) { var n = this;
		this._middlewares = {}, this.verno = 0; var r = $i.dependencies;
		this._options = i = e({ addons: $i.addons, autoOpen: !0, indexedDB: r.indexedDB, IDBKeyRange: r.IDBKeyRange, cache: "cloned" }, i), this._deps = { indexedDB: i.indexedDB, IDBKeyRange: i.IDBKeyRange }, r = i.addons, this._dbSchema = {}, this._versions = [], this._storeNames = [], this._allTables = {}, this.idbdb = null, this._novip = this; var s, o, a, l, h, u = { dbOpenError: null, isBeingOpened: !1, onReadyBeingFired: null, openComplete: !1, dbReadyResolve: $, dbReadyPromise: null, cancelOpen: $, openCanceller: null, autoSchema: !0, PR1398_maxLoop: 3, autoOpen: i.autoOpen };
		u.dbReadyPromise = new bt((function(t) { u.dbReadyResolve = t })), u.openCanceller = new bt((function(t, e) { u.cancelOpen = e })), this._state = u, this.name = t, this.on = de(this, "populate", "blocked", "versionchange", "close", { ready: [it, $] }), this.on.ready.subscribe = v(this.on.ready.subscribe, (function(t) { return function(e, i) { $i.vip((function() { var r, s = n._state;
					s.openComplete ? (s.dbOpenError || bt.resolve().then(e), i && t(e)) : s.onReadyBeingFired ? (s.onReadyBeingFired.push(e), i && t(e)) : (t(e), r = n, i || t((function t() { r.on.ready.unsubscribe(e), r.on.ready.unsubscribe(t) }))) })) } })), this.Collection = (s = this, fe(Se.prototype, (function(t, e) { this.db = s; var i = re,
				n = null; if (e) try { i = e() } catch (o) { n = o }
			var r = t._ctx;
			t = (e = r.table).hook.reading.fire, this._ctx = { table: e, index: r.index, isPrimKey: !r.index || e.schema.primKey.keyPath && r.index === e.schema.primKey.name, range: i, keysOnly: !1, dir: "next", unique: "", algorithm: null, filter: null, replayFilter: null, justLimit: !0, isMatch: null, offset: 0, limit: 1 / 0, error: n, or: r.or, valueMapper: t !== q ? t : null } }))), this.Table = (o = this, fe(ue.prototype, (function(t, e, i) { this.db = o, this._tx = i, this.name = t, this.schema = e, this.hook = o._allTables[t] ? o._allTables[t].hook : de(null, { creating: [J, $], reading: [K, q], updating: [tt, $], deleting: [Q, $] }) }))), this.Transaction = (a = this, fe(Ue.prototype, (function(t, e, i, n, r) { var s = this;
			this.db = a, this.mode = t, this.storeNames = e, this.schema = i, this.chromeTransactionDurability = n, this.idbtrans = null, this.on = de(this, "complete", "error", "abort"), this.parent = r || null, this.active = !0, this._reculock = 0, this._blockedFuncs = [], this._resolve = null, this._reject = null, this._waitingFor = null, this._waitingQueue = null, this._spinCount = 0, this._completion = new bt((function(t, e) { s._resolve = t, s._reject = e })), this._completion.then((function() { s.active = !1, s.on.complete.fire() }), (function(t) { var e = s.active; return s.active = !1, s.on.error.fire(t), s.parent ? s.parent._reject(t) : e && s.idbtrans && s.idbtrans.abort(), qt(t) })) }))), this.Version = (l = this, fe(li.prototype, (function(t) { this.db = l, this._cfg = { version: t, storesSource: null, dbschema: {}, tables: {}, contentUpgrade: null } }))), this.WhereClause = (h = this, fe(Le.prototype, (function(t, e, i) { if (this.db = h, this._ctx = { table: t, index: ":id" === e ? null : e, or: i }, this._cmp = this._ascending = ae, this._descending = function(t, e) { return ae(e, t) }, this._max = function(t, e) { return 0 < ae(t, e) ? t : e }, this._min = function(t, e) { return ae(t, e) < 0 ? t : e }, this._IDBKeyRange = h._deps.IDBKeyRange, !this._IDBKeyRange) throw new W.MissingAPI }))), this.on("versionchange", (function(t) { 0 < t.newVersion ? console.warn("Another connection wants to upgrade database '".concat(n.name, "'. Closing db now to resume the upgrade.")) : console.warn("Another connection wants to delete database '".concat(n.name, "'. Closing db now to resume the delete request.")), n.close({ disableAutoOpen: !1 }) })), this.on("blocked", (function(t) {!t.newVersion || t.newVersion < t.oldVersion ? console.warn("Dexie.delete('".concat(n.name, "') was blocked")) : console.warn("Upgrade '".concat(n.name, "' blocked by other connection holding version ").concat(t.oldVersion / 10)) })), this._maxKey = We(i.IDBKeyRange), this._createTransaction = function(t, e, i, r) { return new n.Transaction(t, e, i, n._options.chromeTransactionDurability, r) }, this._fireOnBlocked = function(t) { n.on("blocked").fire(t), Qt.filter((function(t) { return t.name === n.name && t !== n && !t._state.vcFired })).map((function(e) { return e.on("versionchange").fire(t) })) }, this.use(Bi), this.use(Wi), this.use(Ui), this.use(Mi), this.use(Fi); var c = new Proxy(this, { get: function(t, e, i) { if ("_vip" === e) return !0; if ("table" === e) return function(t) { return Vi(n.table(t), c) }; var r = Reflect.get(t, e, i); return r instanceof ue ? Vi(r, c) : "tables" === e ? r.map((function(t) { return Vi(t, c) })) : "_createTransaction" === e ? function() { return Vi(r.apply(this, arguments), c) } : r } });
		this.vip = c, r.forEach((function(t) { return t(n) })) } B = "undefined" != typeof Symbol && "observable" in Symbol ? Symbol.observable : "@@observable"; var qi, Ki = (Zi.prototype.subscribe = function(t, e, i) { return this._subscribe(t && "function" != typeof t ? t : { next: t, error: e, complete: i }) }, Zi.prototype[B] = function() { return this }, Zi);

	function Zi(t) { this._subscribe = t } try { qi = { indexedDB: n.indexedDB || n.mozIndexedDB || n.webkitIndexedDB || n.msIndexedDB, IDBKeyRange: n.IDBKeyRange || n.webkitIDBKeyRange } } catch (sn) { qi = { indexedDB: null, IDBKeyRange: null } }

	function Ji(t) { var e, i = !1,
			n = new Ki((function(n) { var r, s = I(t),
					o = !1,
					a = {},
					l = {},
					u = { get closed() { return o }, unsubscribe: function() { o || (o = !0, r && r.abort(), c && ze.storagemutated.unsubscribe(f)) } };
				n.start && n.start(u); var c = !1,
					d = function() { return $t(p) },
					f = function(t) { wi(a, t), Ti(l, a) && d() },
					p = function() { var u, p, g;!o && qi.indexedDB && (a = {}, u = {}, r && r.abort(), r = new AbortController, g = function(e) { var i = kt(); try { s && Ut(); var n = zt(t, e); return n = s ? n.finally(Yt) : n } finally { i && Pt() } }(p = { subscr: u, signal: r.signal, requery: d, querier: t, trans: null }), Promise.resolve(g).then((function(t) { i = !0, e = t, o || p.signal.aborted || (a = {}, function(t) { for (var e in t)
									if (h(t, e)) return; return 1 }(l = u) || c || (ze(Be, f), c = !0), $t((function() { return !o && n.next && n.next(t) }))) }), (function(t) { i = !1, ["DatabaseClosedError", "AbortError"].includes(null == t ? void 0 : t.name) || o || $t((function() { o || n.error && n.error(t) })) }))) }; return setTimeout(d, 0), u })); return n.hasValue = function() { return i }, n.getValue = function() { return e }, n } var Qi = ji;

	function tn(t) { var e = nn; try { nn = !0, ze.storagemutated.fire(t), Ci(t, !0) } finally { nn = e } } u(Qi, e(e({}, j), { delete: function(t) { return new Qi(t, { addons: [] }).delete() }, exists: function(t) { return new Qi(t, { addons: [] }).open().then((function(t) { return t.close(), !0 })).catch("NoSuchDatabaseError", (function() { return !1 })) }, getDatabaseNames: function(t) { try { return i = (e = Qi.dependencies).indexedDB, e = e.IDBKeyRange, (ci(i) ? Promise.resolve(i.databases()).then((function(t) { return t.map((function(t) { return t.name })).filter((function(t) { return t !== te })) })) : ui(i, e).toCollection().primaryKeys()).then(t) } catch (n) { return qt(new W.MissingAPI) } var e, i }, defineClass: function() { return function(t) { o(this, t) } }, ignoreTransaction: function(t) { return mt.trans ? Vt(mt.transless, t) : t() }, vip: di, async: function(t) { return function() { try { var e = Oi(t.apply(this, arguments)); return e && "function" == typeof e.then ? e : bt.resolve(e) } catch (i) { return qt(i) } } }, spawn: function(t, e, i) { try { var n = Oi(t.apply(i, e || [])); return n && "function" == typeof n.then ? n : bt.resolve(n) } catch (r) { return qt(r) } }, currentTransaction: { get: function() { return mt.trans || null } }, waitFor: function(t, e) { return e = bt.resolve("function" == typeof t ? Qi.ignoreTransaction(t) : t).timeout(e || 6e4), mt.trans ? mt.trans.waitFor(e) : e }, Promise: bt, debug: { get: function() { return nt }, set: function(t) { rt(t) } }, derive: f, extend: o, props: u, override: v, Events: de, on: ze, liveQuery: Ji, extendObservabilitySet: wi, getByKeyPath: b, setByKeyPath: w, delByKeyPath: function(t, e) { "string" == typeof e ? w(t, e, void 0) : "length" in e && [].map.call(e, (function(e) { w(t, e, void 0) })) }, shallowClone: T, deepClone: k, getObjectDiff: Li, cmp: ae, asap: x, minKey: -1 / 0, addons: [], connections: Qt, errnames: G, dependencies: qi, cache: Si, semVer: "4.0.10", version: "4.0.10".split(".").map((function(t) { return parseInt(t) })).reduce((function(t, e, i) { return t + e / Math.pow(10, 2 * i) })) })), Qi.maxKey = We(Qi.dependencies.IDBKeyRange), "undefined" != typeof dispatchEvent && "undefined" != typeof addEventListener && (ze(Be, (function(t) { nn || (t = new CustomEvent(Ne, { detail: t }), nn = !0, dispatchEvent(t), nn = !1) })), addEventListener(Ne, (function(t) { t = t.detail, nn || tn(t) }))); var en, nn = !1,
		rn = function() {}; return "undefined" != typeof BroadcastChannel && ((rn = function() {
		(en = new BroadcastChannel(Ne)).onmessage = function(t) { return t.data && tn(t.data) } })(), "function" == typeof en.unref && en.unref(), ze(Be, (function(t) { nn || en.postMessage(t) }))), "undefined" != typeof addEventListener && (addEventListener("pagehide", (function(t) { if (!ji.disableBfCache && t.persisted) { nt && console.debug("Dexie: handling persisted pagehide"), null != en && en.close(); for (var e = 0, i = Qt; e < i.length; e++) i[e].close({ disableAutoOpen: !1 }) } })), addEventListener("pageshow", (function(t) {!ji.disableBfCache && t.persisted && (nt && console.debug("Dexie: handling persisted pageshow"), rn(), tn({ all: new pi(-1 / 0, [
				[]
			]) })) }))), bt.rejectionMapper = function(t, e) { return !t || t instanceof z || t instanceof TypeError || t instanceof SyntaxError || !t.name || !V[t.name] ? t : (e = new V[t.name](e || t.message, t), "stack" in t && d(e, "stack", { get: function() { return this.inner.stack } }), e) }, rt(nt), e(ji, Object.freeze({ __proto__: null, Dexie: ji, liveQuery: Ji, Entity: oe, cmp: ae, PropModSymbol: E, PropModification: we, replacePrefix: function(t, e) { return new we({ replacePrefix: [t, e] }) }, add: function(t) { return new we({ add: t }) }, remove: function(t) { return new we({ remove: t }) }, default: ji, RangeSet: pi, mergeRanges: mi, rangesOverlap: vi }), { default: ji }), ji }();
var dexie_minExports = dexie_min.exports;
const _Dexie = getDefaultExportFromCjs(dexie_minExports),
	DexieSymbol = Symbol.for("Dexie"),
	Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _Dexie);
if (_Dexie.semVer !== Dexie.semVer) throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);
const { liveQuery: liveQuery, mergeRanges: mergeRanges, rangesOverlap: rangesOverlap, RangeSet: RangeSet, cmp: cmp, Entity: Entity, PropModSymbol: PropModSymbol, PropModification: PropModification, replacePrefix: replacePrefix, add: add, remove: remove } = Dexie;
class DB extends Dexie { constructor() { super("skbdgame"), __publicField(this, "config"), this.version(1).stores({ config: "key,value" }), this.config = this.table("config") } }
const db = new DB,
	EMOTES = ["bsidescbr", "paw", "dailies", "yap", "hedgedog", "cake", "artefact", "visitor", "polychrome-cake", "polychrome-hedgedog", "polychrome-dailies", "polychrome-paw", "polychrome-visitor", "polychrome-yap", "eyeballs", "neobeo"];
var InputCommandType = (t => (t[t.Movement = 1] = "Movement", t[t.Ping = 2] = "Ping", t[t.Emote = 3] = "Emote", t[t.ReqExtraData = 4] = "ReqExtraData", t[t.SetSinglePlayerMode = 5] = "SetSinglePlayerMode", t))(InputCommandType || {}),
	ServerMessageType = (t => (t[t.GameStateUpdate = 0] = "GameStateUpdate", t[t.InitPlayers = 1] = "InitPlayers", t[t.PlayerInitExtraData = 2] = "PlayerInitExtraData", t[t.PlayerHomeDataMessage = 3] = "PlayerHomeDataMessage", t[t.PlayerJoin = 4] = "PlayerJoin", t[t.PlayerLeave = 5] = "PlayerLeave", t[t.PlayerPong = 6] = "PlayerPong", t[t.OnlinePlayers = 7] = "OnlinePlayers", t[t.LastAcked = 8] = "LastAcked", t[t.SkinUpdated = 9] = "SkinUpdated", t))(ServerMessageType || {}),
	src = { exports: {} },
	indexLight = { exports: {} },
	indexMinimal = {},
	minimal = {},
	aspromise = asPromise$1;

function asPromise$1(t, e) { for (var i = new Array(arguments.length - 1), n = 0, r = 2, s = !0; r < arguments.length;) i[n++] = arguments[r++]; return new Promise((function(r, o) { i[n] = function(t) { if (s)
				if (s = !1, t) o(t);
				else { for (var e = new Array(arguments.length - 1), i = 0; i < e.length;) e[i++] = arguments[i];
					r.apply(null, e) } }; try { t.apply(e || null, i) } catch (a) { s && (s = !1, o(a)) } })) }
var base64$1 = {};
! function(t) { var e = base64$1;
	e.length = function(t) { var e = t.length; if (!e) return 0; for (var i = 0; --e % 4 > 1 && "=" === t.charAt(e);) ++i; return Math.ceil(3 * t.length) / 4 - i }; for (var i = new Array(64), n = new Array(123), r = 0; r < 64;) n[i[r] = r < 26 ? r + 65 : r < 52 ? r + 71 : r < 62 ? r - 4 : r - 59 | 43] = r++;
	e.encode = function(t, e, n) { for (var r, s = null, o = [], a = 0, l = 0; e < n;) { var h = t[e++]; switch (l) {
				case 0:
					o[a++] = i[h >> 2], r = (3 & h) << 4, l = 1; break;
				case 1:
					o[a++] = i[r | h >> 4], r = (15 & h) << 2, l = 2; break;
				case 2:
					o[a++] = i[r | h >> 6], o[a++] = i[63 & h], l = 0 } a > 8191 && ((s || (s = [])).push(String.fromCharCode.apply(String, o)), a = 0) } return l && (o[a++] = i[r], o[a++] = 61, 1 === l && (o[a++] = 61)), s ? (a && s.push(String.fromCharCode.apply(String, o.slice(0, a))), s.join("")) : String.fromCharCode.apply(String, o.slice(0, a)) }; var s = "invalid encoding";
	e.decode = function(t, e, i) { for (var r, o = i, a = 0, l = 0; l < t.length;) { var h = t.charCodeAt(l++); if (61 === h && a > 1) break; if (void 0 === (h = n[h])) throw Error(s); switch (a) {
				case 0:
					r = h, a = 1; break;
				case 1:
					e[i++] = r << 2 | (48 & h) >> 4, r = h, a = 2; break;
				case 2:
					e[i++] = (15 & r) << 4 | (60 & h) >> 2, r = h, a = 3; break;
				case 3:
					e[i++] = (3 & r) << 6 | h, a = 0 } } if (1 === a) throw Error(s); return i - o }, e.test = function(t) { return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t) } }();
var eventemitter = EventEmitter;

function EventEmitter() { this._listeners = {} } EventEmitter.prototype.on = function(t, e, i) { return (this._listeners[t] || (this._listeners[t] = [])).push({ fn: e, ctx: i || this }), this }, EventEmitter.prototype.off = function(t, e) { if (void 0 === t) this._listeners = {};
	else if (void 0 === e) this._listeners[t] = [];
	else
		for (var i = this._listeners[t], n = 0; n < i.length;) i[n].fn === e ? i.splice(n, 1) : ++n; return this }, EventEmitter.prototype.emit = function(t) { var e = this._listeners[t]; if (e) { for (var i = [], n = 1; n < arguments.length;) i.push(arguments[n++]); for (n = 0; n < e.length;) e[n].fn.apply(e[n++].ctx, i) } return this };
var float = factory(factory);

function factory(t) { return "undefined" != typeof Float32Array ? function() { var e = new Float32Array([-0]),
			i = new Uint8Array(e.buffer),
			n = 128 === i[3];

		function r(t, n, r) { e[0] = t, n[r] = i[0], n[r + 1] = i[1], n[r + 2] = i[2], n[r + 3] = i[3] }

		function s(t, n, r) { e[0] = t, n[r] = i[3], n[r + 1] = i[2], n[r + 2] = i[1], n[r + 3] = i[0] }

		function o(t, n) { return i[0] = t[n], i[1] = t[n + 1], i[2] = t[n + 2], i[3] = t[n + 3], e[0] }

		function a(t, n) { return i[3] = t[n], i[2] = t[n + 1], i[1] = t[n + 2], i[0] = t[n + 3], e[0] } t.writeFloatLE = n ? r : s, t.writeFloatBE = n ? s : r, t.readFloatLE = n ? o : a, t.readFloatBE = n ? a : o }() : function() {
		function e(t, e, i, n) { var r = e < 0 ? 1 : 0; if (r && (e = -e), 0 === e) t(1 / e > 0 ? 0 : 2147483648, i, n);
			else if (isNaN(e)) t(2143289344, i, n);
			else if (e > 34028234663852886e22) t((r << 31 | 2139095040) >>> 0, i, n);
			else if (e < 11754943508222875e-54) t((r << 31 | Math.round(e / 1401298464324817e-60)) >>> 0, i, n);
			else { var s = Math.floor(Math.log(e) / Math.LN2);
				t((r << 31 | s + 127 << 23 | 8388607 & Math.round(e * Math.pow(2, -s) * 8388608)) >>> 0, i, n) } }

		function i(t, e, i) { var n = t(e, i),
				r = 2 * (n >> 31) + 1,
				s = n >>> 23 & 255,
				o = 8388607 & n; return 255 === s ? o ? NaN : r * (1 / 0) : 0 === s ? 1401298464324817e-60 * r * o : r * Math.pow(2, s - 150) * (o + 8388608) } t.writeFloatLE = e.bind(null, writeUintLE), t.writeFloatBE = e.bind(null, writeUintBE), t.readFloatLE = i.bind(null, readUintLE), t.readFloatBE = i.bind(null, readUintBE) }(), "undefined" != typeof Float64Array ? function() { var e = new Float64Array([-0]),
			i = new Uint8Array(e.buffer),
			n = 128 === i[7];

		function r(t, n, r) { e[0] = t, n[r] = i[0], n[r + 1] = i[1], n[r + 2] = i[2], n[r + 3] = i[3], n[r + 4] = i[4], n[r + 5] = i[5], n[r + 6] = i[6], n[r + 7] = i[7] }

		function s(t, n, r) { e[0] = t, n[r] = i[7], n[r + 1] = i[6], n[r + 2] = i[5], n[r + 3] = i[4], n[r + 4] = i[3], n[r + 5] = i[2], n[r + 6] = i[1], n[r + 7] = i[0] }

		function o(t, n) { return i[0] = t[n], i[1] = t[n + 1], i[2] = t[n + 2], i[3] = t[n + 3], i[4] = t[n + 4], i[5] = t[n + 5], i[6] = t[n + 6], i[7] = t[n + 7], e[0] }

		function a(t, n) { return i[7] = t[n], i[6] = t[n + 1], i[5] = t[n + 2], i[4] = t[n + 3], i[3] = t[n + 4], i[2] = t[n + 5], i[1] = t[n + 6], i[0] = t[n + 7], e[0] } t.writeDoubleLE = n ? r : s, t.writeDoubleBE = n ? s : r, t.readDoubleLE = n ? o : a, t.readDoubleBE = n ? a : o }() : function() {
		function e(t, e, i, n, r, s) { var o = n < 0 ? 1 : 0; if (o && (n = -n), 0 === n) t(0, r, s + e), t(1 / n > 0 ? 0 : 2147483648, r, s + i);
			else if (isNaN(n)) t(0, r, s + e), t(2146959360, r, s + i);
			else if (n > 17976931348623157e292) t(0, r, s + e), t((o << 31 | 2146435072) >>> 0, r, s + i);
			else { var a; if (n < 22250738585072014e-324) t((a = n / 5e-324) >>> 0, r, s + e), t((o << 31 | a / 4294967296) >>> 0, r, s + i);
				else { var l = Math.floor(Math.log(n) / Math.LN2);
					1024 === l && (l = 1023), t(4503599627370496 * (a = n * Math.pow(2, -l)) >>> 0, r, s + e), t((o << 31 | l + 1023 << 20 | 1048576 * a & 1048575) >>> 0, r, s + i) } } }

		function i(t, e, i, n, r) { var s = t(n, r + e),
				o = t(n, r + i),
				a = 2 * (o >> 31) + 1,
				l = o >>> 20 & 2047,
				h = 4294967296 * (1048575 & o) + s; return 2047 === l ? h ? NaN : a * (1 / 0) : 0 === l ? 5e-324 * a * h : a * Math.pow(2, l - 1075) * (h + 4503599627370496) } t.writeDoubleLE = e.bind(null, writeUintLE, 0, 4), t.writeDoubleBE = e.bind(null, writeUintBE, 4, 0), t.readDoubleLE = i.bind(null, readUintLE, 0, 4), t.readDoubleBE = i.bind(null, readUintBE, 4, 0) }(), t }

function writeUintLE(t, e, i) { e[i] = 255 & t, e[i + 1] = t >>> 8 & 255, e[i + 2] = t >>> 16 & 255, e[i + 3] = t >>> 24 }

function writeUintBE(t, e, i) { e[i] = t >>> 24, e[i + 1] = t >>> 16 & 255, e[i + 2] = t >>> 8 & 255, e[i + 3] = 255 & t }

function readUintLE(t, e) { return (t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24) >>> 0 }

function readUintBE(t, e) { return (t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3]) >>> 0 }
var inquire_1 = inquire$1;

function inquire$1(moduleName) { try { var mod = eval("quire".replace(/^/, "re"))(moduleName); if (mod && (mod.length || Object.keys(mod).length)) return mod } catch (e) {} return null }
var utf8$2 = {},
	utf82;
utf82 = utf8$2, utf82.length = function(t) { for (var e = 0, i = 0, n = 0; n < t.length; ++n)(i = t.charCodeAt(n)) < 128 ? e += 1 : i < 2048 ? e += 2 : 55296 == (64512 & i) && 56320 == (64512 & t.charCodeAt(n + 1)) ? (++n, e += 4) : e += 3; return e }, utf82.read = function(t, e, i) { if (i - e < 1) return ""; for (var n, r = null, s = [], o = 0; e < i;)(n = t[e++]) < 128 ? s[o++] = n : n > 191 && n < 224 ? s[o++] = (31 & n) << 6 | 63 & t[e++] : n > 239 && n < 365 ? (n = ((7 & n) << 18 | (63 & t[e++]) << 12 | (63 & t[e++]) << 6 | 63 & t[e++]) - 65536, s[o++] = 55296 + (n >> 10), s[o++] = 56320 + (1023 & n)) : s[o++] = (15 & n) << 12 | (63 & t[e++]) << 6 | 63 & t[e++], o > 8191 && ((r || (r = [])).push(String.fromCharCode.apply(String, s)), o = 0); return r ? (o && r.push(String.fromCharCode.apply(String, s.slice(0, o))), r.join("")) : String.fromCharCode.apply(String, s.slice(0, o)) }, utf82.write = function(t, e, i) { for (var n, r, s = i, o = 0; o < t.length; ++o)(n = t.charCodeAt(o)) < 128 ? e[i++] = n : n < 2048 ? (e[i++] = n >> 6 | 192, e[i++] = 63 & n | 128) : 55296 == (64512 & n) && 56320 == (64512 & (r = t.charCodeAt(o + 1))) ? (n = 65536 + ((1023 & n) << 10) + (1023 & r), ++o, e[i++] = n >> 18 | 240, e[i++] = n >> 12 & 63 | 128, e[i++] = n >> 6 & 63 | 128, e[i++] = 63 & n | 128) : (e[i++] = n >> 12 | 224, e[i++] = n >> 6 & 63 | 128, e[i++] = 63 & n | 128); return i - s };
var pool_1 = pool,
	longbits, hasRequiredLongbits, hasRequiredMinimal;

function pool(t, e, i) { var n = i || 8192,
		r = n >>> 1,
		s = null,
		o = n; return function(i) { if (i < 1 || i > r) return t(i);
		o + i > n && (s = t(n), o = 0); var a = e.call(s, o, o += i); return 7 & o && (o = 1 + (7 | o)), a } }

function requireLongbits() { if (hasRequiredLongbits) return longbits;
	hasRequiredLongbits = 1, longbits = e; var t = requireMinimal();

	function e(t, e) { this.lo = t >>> 0, this.hi = e >>> 0 } var i = e.zero = new e(0, 0);
	i.toNumber = function() { return 0 }, i.zzEncode = i.zzDecode = function() { return this }, i.length = function() { return 1 }; var n = e.zeroHash = "\0\0\0\0\0\0\0\0";
	e.fromNumber = function(t) { if (0 === t) return i; var n = t < 0;
		n && (t = -t); var r = t >>> 0,
			s = (t - r) / 4294967296 >>> 0; return n && (s = ~s >>> 0, r = ~r >>> 0, ++r > 4294967295 && (r = 0, ++s > 4294967295 && (s = 0))), new e(r, s) }, e.from = function(n) { if ("number" == typeof n) return e.fromNumber(n); if (t.isString(n)) { if (!t.Long) return e.fromNumber(parseInt(n, 10));
			n = t.Long.fromString(n) } return n.low || n.high ? new e(n.low >>> 0, n.high >>> 0) : i }, e.prototype.toNumber = function(t) { if (!t && this.hi >>> 31) { var e = 1 + ~this.lo >>> 0,
				i = ~this.hi >>> 0; return e || (i = i + 1 >>> 0), -(e + 4294967296 * i) } return this.lo + 4294967296 * this.hi }, e.prototype.toLong = function(e) { return t.Long ? new t.Long(0 | this.lo, 0 | this.hi, Boolean(e)) : { low: 0 | this.lo, high: 0 | this.hi, unsigned: Boolean(e) } }; var r = String.prototype.charCodeAt; return e.fromHash = function(t) { return t === n ? i : new e((r.call(t, 0) | r.call(t, 1) << 8 | r.call(t, 2) << 16 | r.call(t, 3) << 24) >>> 0, (r.call(t, 4) | r.call(t, 5) << 8 | r.call(t, 6) << 16 | r.call(t, 7) << 24) >>> 0) }, e.prototype.toHash = function() { return String.fromCharCode(255 & this.lo, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, 255 & this.hi, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24) }, e.prototype.zzEncode = function() { var t = this.hi >> 31; return this.hi = ((this.hi << 1 | this.lo >>> 31) ^ t) >>> 0, this.lo = (this.lo << 1 ^ t) >>> 0, this }, e.prototype.zzDecode = function() { var t = -(1 & this.lo); return this.lo = ((this.lo >>> 1 | this.hi << 31) ^ t) >>> 0, this.hi = (this.hi >>> 1 ^ t) >>> 0, this }, e.prototype.length = function() { var t = this.lo,
			e = (this.lo >>> 28 | this.hi << 4) >>> 0,
			i = this.hi >>> 24; return 0 === i ? 0 === e ? t < 16384 ? t < 128 ? 1 : 2 : t < 2097152 ? 3 : 4 : e < 16384 ? e < 128 ? 5 : 6 : e < 2097152 ? 7 : 8 : i < 128 ? 9 : 10 }, longbits }

function requireMinimal() { return hasRequiredMinimal || (hasRequiredMinimal = 1, function() { var t = minimal;

		function e(t, e, i) { for (var n = Object.keys(e), r = 0; r < n.length; ++r) void 0 !== t[n[r]] && i || (t[n[r]] = e[n[r]]); return t }

		function i(t) {
			function i(t, n) { if (!(this instanceof i)) return new i(t, n);
				Object.defineProperty(this, "message", { get: function() { return t } }), Error.captureStackTrace ? Error.captureStackTrace(this, i) : Object.defineProperty(this, "stack", { value: (new Error).stack || "" }), n && e(this, n) } return i.prototype = Object.create(Error.prototype, { constructor: { value: i, writable: !0, enumerable: !1, configurable: !0 }, name: { get: function() { return t }, set: void 0, enumerable: !1, configurable: !0 }, toString: { value: function() { return this.name + ": " + this.message }, writable: !0, enumerable: !1, configurable: !0 } }), i } t.asPromise = aspromise, t.base64 = base64$1, t.EventEmitter = eventemitter, t.float = float, t.inquire = inquire_1, t.utf8 = utf8$2, t.pool = pool_1, t.LongBits = requireLongbits(), t.isNode = Boolean(void 0 !== commonjsGlobal && commonjsGlobal && commonjsGlobal.process && commonjsGlobal.process.versions && commonjsGlobal.process.versions.node), t.global = t.isNode && commonjsGlobal || "undefined" != typeof window && window || "undefined" != typeof self && self || commonjsGlobal, t.emptyArray = Object.freeze ? Object.freeze([]) : [], t.emptyObject = Object.freeze ? Object.freeze({}) : {}, t.isInteger = Number.isInteger || function(t) { return "number" == typeof t && isFinite(t) && Math.floor(t) === t }, t.isString = function(t) { return "string" == typeof t || t instanceof String }, t.isObject = function(t) { return t && "object" == typeof t }, t.isset = t.isSet = function(t, e) { var i = t[e]; return !(null == i || !t.hasOwnProperty(e)) && ("object" != typeof i || (Array.isArray(i) ? i.length : Object.keys(i).length) > 0) }, t.Buffer = function() { try { var e = t.inquire("buffer").Buffer; return e.prototype.utf8Write ? e : null } catch (i) { return null } }(), t._Buffer_from = null, t._Buffer_allocUnsafe = null, t.newBuffer = function(e) { return "number" == typeof e ? t.Buffer ? t._Buffer_allocUnsafe(e) : new t.Array(e) : t.Buffer ? t._Buffer_from(e) : "undefined" == typeof Uint8Array ? e : new Uint8Array(e) }, t.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array, t.Long = t.global.dcodeIO && t.global.dcodeIO.Long || t.global.Long || t.inquire("long"), t.key2Re = /^true|false|0|1$/, t.key32Re = /^-?(?:0|[1-9][0-9]*)$/, t.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/, t.longToHash = function(e) { return e ? t.LongBits.from(e).toHash() : t.LongBits.zeroHash }, t.longFromHash = function(e, i) { var n = t.LongBits.fromHash(e); return t.Long ? t.Long.fromBits(n.lo, n.hi, i) : n.toNumber(Boolean(i)) }, t.merge = e, t.lcFirst = function(t) { return t.charAt(0).toLowerCase() + t.substring(1) }, t.newError = i, t.ProtocolError = i("ProtocolError"), t.oneOfGetter = function(t) { for (var e = {}, i = 0; i < t.length; ++i) e[t[i]] = 1; return function() { for (var t = Object.keys(this), i = t.length - 1; i > -1; --i)
					if (1 === e[t[i]] && void 0 !== this[t[i]] && null !== this[t[i]]) return t[i] } }, t.oneOfSetter = function(t) { return function(e) { for (var i = 0; i < t.length; ++i) t[i] !== e && delete this[t[i]] } }, t.toJSONOptions = { longs: String, enums: String, bytes: String, json: !0 }, t._configure = function() { var e = t.Buffer;
			e ? (t._Buffer_from = e.from !== Uint8Array.from && e.from || function(t, i) { return new e(t, i) }, t._Buffer_allocUnsafe = e.allocUnsafe || function(t) { return new e(t) }) : t._Buffer_from = t._Buffer_allocUnsafe = null } }()), minimal }
var writer = Writer$1,
	util$7 = requireMinimal(),
	BufferWriter$1, LongBits$1 = util$7.LongBits,
	base64 = util$7.base64,
	utf8$1 = util$7.utf8;

function Op(t, e, i) { this.fn = t, this.len = e, this.next = void 0, this.val = i }

function noop() {}

function State(t) { this.head = t.head, this.tail = t.tail, this.len = t.len, this.next = t.states }

function Writer$1() { this.len = 0, this.head = new Op(noop, 0, 0), this.tail = this.head, this.states = null }
var create$2 = function() { return util$7.Buffer ? function() { return (Writer$1.create = function() { return new BufferWriter$1 })() } : function() { return new Writer$1 } };

function writeByte(t, e, i) { e[i] = 255 & t }

function writeVarint32(t, e, i) { for (; t > 127;) e[i++] = 127 & t | 128, t >>>= 7;
	e[i] = t }

function VarintOp(t, e) { this.len = t, this.next = void 0, this.val = e }

function writeVarint64(t, e, i) { for (; t.hi;) e[i++] = 127 & t.lo | 128, t.lo = (t.lo >>> 7 | t.hi << 25) >>> 0, t.hi >>>= 7; for (; t.lo > 127;) e[i++] = 127 & t.lo | 128, t.lo = t.lo >>> 7;
	e[i++] = t.lo }

function writeFixed32(t, e, i) { e[i] = 255 & t, e[i + 1] = t >>> 8 & 255, e[i + 2] = t >>> 16 & 255, e[i + 3] = t >>> 24 } Writer$1.create = create$2(), Writer$1.alloc = function(t) { return new util$7.Array(t) }, util$7.Array !== Array && (Writer$1.alloc = util$7.pool(Writer$1.alloc, util$7.Array.prototype.subarray)), Writer$1.prototype._push = function(t, e, i) { return this.tail = this.tail.next = new Op(t, e, i), this.len += e, this }, VarintOp.prototype = Object.create(Op.prototype), VarintOp.prototype.fn = writeVarint32, Writer$1.prototype.uint32 = function(t) { return this.len += (this.tail = this.tail.next = new VarintOp((t >>>= 0) < 128 ? 1 : t < 16384 ? 2 : t < 2097152 ? 3 : t < 268435456 ? 4 : 5, t)).len, this }, Writer$1.prototype.int32 = function(t) { return t < 0 ? this._push(writeVarint64, 10, LongBits$1.fromNumber(t)) : this.uint32(t) }, Writer$1.prototype.sint32 = function(t) { return this.uint32((t << 1 ^ t >> 31) >>> 0) }, Writer$1.prototype.uint64 = function(t) { var e = LongBits$1.from(t); return this._push(writeVarint64, e.length(), e) }, Writer$1.prototype.int64 = Writer$1.prototype.uint64, Writer$1.prototype.sint64 = function(t) { var e = LongBits$1.from(t).zzEncode(); return this._push(writeVarint64, e.length(), e) }, Writer$1.prototype.bool = function(t) { return this._push(writeByte, 1, t ? 1 : 0) }, Writer$1.prototype.fixed32 = function(t) { return this._push(writeFixed32, 4, t >>> 0) }, Writer$1.prototype.sfixed32 = Writer$1.prototype.fixed32, Writer$1.prototype.fixed64 = function(t) { var e = LongBits$1.from(t); return this._push(writeFixed32, 4, e.lo)._push(writeFixed32, 4, e.hi) }, Writer$1.prototype.sfixed64 = Writer$1.prototype.fixed64, Writer$1.prototype.float = function(t) { return this._push(util$7.float.writeFloatLE, 4, t) }, Writer$1.prototype.double = function(t) { return this._push(util$7.float.writeDoubleLE, 8, t) };
var writeBytes = util$7.Array.prototype.set ? function(t, e, i) { e.set(t, i) } : function(t, e, i) { for (var n = 0; n < t.length; ++n) e[i + n] = t[n] };
Writer$1.prototype.bytes = function(t) { var e = t.length >>> 0; if (!e) return this._push(writeByte, 1, 0); if (util$7.isString(t)) { var i = Writer$1.alloc(e = base64.length(t));
		base64.decode(t, i, 0), t = i } return this.uint32(e)._push(writeBytes, e, t) }, Writer$1.prototype.string = function(t) { var e = utf8$1.length(t); return e ? this.uint32(e)._push(utf8$1.write, e, t) : this._push(writeByte, 1, 0) }, Writer$1.prototype.fork = function() { return this.states = new State(this), this.head = this.tail = new Op(noop, 0, 0), this.len = 0, this }, Writer$1.prototype.reset = function() { return this.states ? (this.head = this.states.head, this.tail = this.states.tail, this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new Op(noop, 0, 0), this.len = 0), this }, Writer$1.prototype.ldelim = function() { var t = this.head,
		e = this.tail,
		i = this.len; return this.reset().uint32(i), i && (this.tail.next = t.next, this.tail = e, this.len += i), this }, Writer$1.prototype.finish = function() { for (var t = this.head.next, e = this.constructor.alloc(this.len), i = 0; t;) t.fn(t.val, e, i), i += t.len, t = t.next; return e }, Writer$1._configure = function(t) { BufferWriter$1 = t, Writer$1.create = create$2(), BufferWriter$1._configure() };
var writer_buffer = BufferWriter,
	Writer = writer;
(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;
var util$6 = requireMinimal();

function BufferWriter() { Writer.call(this) }

function writeStringBuffer(t, e, i) { t.length < 40 ? util$6.utf8.write(t, e, i) : e.utf8Write ? e.utf8Write(t, i) : e.write(t, i) } BufferWriter._configure = function() { BufferWriter.alloc = util$6._Buffer_allocUnsafe, BufferWriter.writeBytesBuffer = util$6.Buffer && util$6.Buffer.prototype instanceof Uint8Array && "set" === util$6.Buffer.prototype.set.name ? function(t, e, i) { e.set(t, i) } : function(t, e, i) { if (t.copy) t.copy(e, i, 0, t.length);
		else
			for (var n = 0; n < t.length;) e[i++] = t[n++] } }, BufferWriter.prototype.bytes = function(t) { util$6.isString(t) && (t = util$6._Buffer_from(t, "base64")); var e = t.length >>> 0; return this.uint32(e), e && this._push(BufferWriter.writeBytesBuffer, e, t), this }, BufferWriter.prototype.string = function(t) { var e = util$6.Buffer.byteLength(t); return this.uint32(e), e && this._push(writeStringBuffer, e, t), this }, BufferWriter._configure();
var reader = Reader$1,
	util$5 = requireMinimal(),
	BufferReader$1, LongBits = util$5.LongBits,
	utf8 = util$5.utf8;

function indexOutOfRange(t, e) { return RangeError("index out of range: " + t.pos + " + " + (e || 1) + " > " + t.len) }

function Reader$1(t) { this.buf = t, this.pos = 0, this.len = t.length }
var create_array = "undefined" != typeof Uint8Array ? function(t) { if (t instanceof Uint8Array || Array.isArray(t)) return new Reader$1(t); throw Error("illegal buffer") } : function(t) { if (Array.isArray(t)) return new Reader$1(t); throw Error("illegal buffer") },
	create$1 = function() { return util$5.Buffer ? function(t) { return (Reader$1.create = function(t) { return util$5.Buffer.isBuffer(t) ? new BufferReader$1(t) : create_array(t) })(t) } : create_array };

function readLongVarint() { var t = new LongBits(0, 0),
		e = 0; if (!(this.len - this.pos > 4)) { for (; e < 3; ++e) { if (this.pos >= this.len) throw indexOutOfRange(this); if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128) return t } return t.lo = (t.lo | (127 & this.buf[this.pos++]) << 7 * e) >>> 0, t } for (; e < 4; ++e)
		if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128) return t; if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 28) >>> 0, t.hi = (t.hi | (127 & this.buf[this.pos]) >> 4) >>> 0, this.buf[this.pos++] < 128) return t; if (e = 0, this.len - this.pos > 4) { for (; e < 5; ++e)
			if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128) return t } else
		for (; e < 5; ++e) { if (this.pos >= this.len) throw indexOutOfRange(this); if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128) return t }
	throw Error("invalid varint encoding") }

function readFixed32_end(t, e) { return (t[e - 4] | t[e - 3] << 8 | t[e - 2] << 16 | t[e - 1] << 24) >>> 0 }

function readFixed64() { if (this.pos + 8 > this.len) throw indexOutOfRange(this, 8); return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4)) } Reader$1.create = create$1(), Reader$1.prototype._slice = util$5.Array.prototype.subarray || util$5.Array.prototype.slice, Reader$1.prototype.uint32 = function() { var t = 4294967295; return function() { if (t = (127 & this.buf[this.pos]) >>> 0, this.buf[this.pos++] < 128) return t; if (t = (t | (127 & this.buf[this.pos]) << 7) >>> 0, this.buf[this.pos++] < 128) return t; if (t = (t | (127 & this.buf[this.pos]) << 14) >>> 0, this.buf[this.pos++] < 128) return t; if (t = (t | (127 & this.buf[this.pos]) << 21) >>> 0, this.buf[this.pos++] < 128) return t; if (t = (t | (15 & this.buf[this.pos]) << 28) >>> 0, this.buf[this.pos++] < 128) return t; if ((this.pos += 5) > this.len) throw this.pos = this.len, indexOutOfRange(this, 10); return t } }(), Reader$1.prototype.int32 = function() { return 0 | this.uint32() }, Reader$1.prototype.sint32 = function() { var t = this.uint32(); return t >>> 1 ^ -(1 & t) }, Reader$1.prototype.bool = function() { return 0 !== this.uint32() }, Reader$1.prototype.fixed32 = function() { if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4); return readFixed32_end(this.buf, this.pos += 4) }, Reader$1.prototype.sfixed32 = function() { if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4); return 0 | readFixed32_end(this.buf, this.pos += 4) }, Reader$1.prototype.float = function() { if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4); var t = util$5.float.readFloatLE(this.buf, this.pos); return this.pos += 4, t }, Reader$1.prototype.double = function() { if (this.pos + 8 > this.len) throw indexOutOfRange(this, 4); var t = util$5.float.readDoubleLE(this.buf, this.pos); return this.pos += 8, t }, Reader$1.prototype.bytes = function() { var t = this.uint32(),
		e = this.pos,
		i = this.pos + t; if (i > this.len) throw indexOutOfRange(this, t); if (this.pos += t, Array.isArray(this.buf)) return this.buf.slice(e, i); if (e === i) { var n = util$5.Buffer; return n ? n.alloc(0) : new this.buf.constructor(0) } return this._slice.call(this.buf, e, i) }, Reader$1.prototype.string = function() { var t = this.bytes(); return utf8.read(t, 0, t.length) }, Reader$1.prototype.skip = function(t) { if ("number" == typeof t) { if (this.pos + t > this.len) throw indexOutOfRange(this, t);
		this.pos += t } else
		do { if (this.pos >= this.len) throw indexOutOfRange(this) } while (128 & this.buf[this.pos++]); return this }, Reader$1.prototype.skipType = function(t) { switch (t) {
		case 0:
			this.skip(); break;
		case 1:
			this.skip(8); break;
		case 2:
			this.skip(this.uint32()); break;
		case 3:
			for (; 4 != (t = 7 & this.uint32());) this.skipType(t); break;
		case 5:
			this.skip(4); break;
		default:
			throw Error("invalid wire type " + t + " at offset " + this.pos) } return this }, Reader$1._configure = function(t) { BufferReader$1 = t, Reader$1.create = create$1(), BufferReader$1._configure(); var e = util$5.Long ? "toLong" : "toNumber";
	util$5.merge(Reader$1.prototype, { int64: function() { return readLongVarint.call(this)[e](!1) }, uint64: function() { return readLongVarint.call(this)[e](!0) }, sint64: function() { return readLongVarint.call(this).zzDecode()[e](!1) }, fixed64: function() { return readFixed64.call(this)[e](!0) }, sfixed64: function() { return readFixed64.call(this)[e](!1) } }) };
var reader_buffer = BufferReader,
	Reader = reader;
(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;
var util$4 = requireMinimal();

function BufferReader(t) { Reader.call(this, t) } BufferReader._configure = function() { util$4.Buffer && (BufferReader.prototype._slice = util$4.Buffer.prototype.slice) }, BufferReader.prototype.string = function() { var t = this.uint32(); return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + t, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + t, this.len)) }, BufferReader._configure();
var rpc = {},
	service$1 = Service$1,
	util$3 = requireMinimal();

function Service$1(t, e, i) { if ("function" != typeof t) throw TypeError("rpcImpl must be a function");
	util$3.EventEmitter.call(this), this.rpcImpl = t, this.requestDelimited = Boolean(e), this.responseDelimited = Boolean(i) }(Service$1.prototype = Object.create(util$3.EventEmitter.prototype)).constructor = Service$1, Service$1.prototype.rpcCall = function t(e, i, n, r, s) { if (!r) throw TypeError("request must be specified"); var o = this; if (!s) return util$3.asPromise(t, o, e, i, n, r); if (o.rpcImpl) try { return o.rpcImpl(e, i[o.requestDelimited ? "encodeDelimited" : "encode"](r).finish(), (function(t, i) { if (t) return o.emit("error", t, e), s(t); if (null !== i) { if (!(i instanceof n)) try { i = n[o.responseDelimited ? "decodeDelimited" : "decode"](i) } catch (r) { return o.emit("error", r, e), s(r) }
				return o.emit("data", i, e), s(null, i) } o.end(!0) })) } catch (a) { return o.emit("error", a, e), void setTimeout((function() { s(a) }), 0) } else setTimeout((function() { s(Error("already ended")) }), 0) }, Service$1.prototype.end = function(t) { return this.rpcImpl && (t || this.rpcImpl(null, null, null), this.rpcImpl = null, this.emit("end").off()), this }, rpc.Service = service$1;
var roots = {};
! function(t) { var e = indexMinimal;

	function i() { e.util._configure(), e.Writer._configure(e.BufferWriter), e.Reader._configure(e.BufferReader) } e.build = "minimal", e.Writer = writer, e.BufferWriter = writer_buffer, e.Reader = reader, e.BufferReader = reader_buffer, e.util = requireMinimal(), e.rpc = rpc, e.roots = roots, e.configure = i, i() }();
var types$2 = {},
	util$2 = { exports: {} },
	codegen_1 = codegen;

function codegen(t, e) { "string" == typeof t && (e = t, t = void 0); var i = [];

	function n(t) { if ("string" != typeof t) { var e = r(); if (codegen.verbose && console.log("codegen: " + e), e = "return " + e, t) { for (var s = Object.keys(t), o = new Array(s.length + 1), a = new Array(s.length), l = 0; l < s.length;) o[l] = s[l], a[l] = t[s[l++]]; return o[l] = e, Function.apply(null, o).apply(null, a) } return Function(e)() } for (var h = new Array(arguments.length - 1), u = 0; u < h.length;) h[u] = arguments[++u]; if (u = 0, t = t.replace(/%([%dfijs])/g, (function(t, e) { var i = h[u++]; switch (e) {
					case "d":
					case "f":
						return String(Number(i));
					case "i":
						return String(Math.floor(i));
					case "j":
						return JSON.stringify(i);
					case "s":
						return String(i) } return "%" })), u !== h.length) throw Error("parameter count mismatch"); return i.push(t), n }

	function r(n) { return "function " + (n || e || "") + "(" + (t && t.join(",") || "") + "){\n  " + i.join("\n  ") + "\n}" } return n.toString = r, n } codegen.verbose = !1;
var fetch_1 = fetch$1,
	asPromise = aspromise,
	inquire = inquire_1,
	fs = inquire("fs");

function fetch$1(t, e, i) { return "function" == typeof e ? (i = e, e = {}) : e || (e = {}), i ? !e.xhr && fs && fs.readFile ? fs.readFile(t, (function(n, r) { return n && "undefined" != typeof XMLHttpRequest ? fetch$1.xhr(t, e, i) : n ? i(n) : i(null, e.binary ? r : r.toString("utf8")) })) : fetch$1.xhr(t, e, i) : asPromise(fetch$1, this, t, e) } fetch$1.xhr = function(t, e, i) { var n = new XMLHttpRequest;
	n.onreadystatechange = function() { if (4 === n.readyState) { if (0 !== n.status && 200 !== n.status) return i(Error("status " + n.status)); if (e.binary) { var t = n.response; if (!t) { t = []; for (var r = 0; r < n.responseText.length; ++r) t.push(255 & n.responseText.charCodeAt(r)) } return i(null, "undefined" != typeof Uint8Array ? new Uint8Array(t) : t) } return i(null, n.responseText) } }, e.binary && ("overrideMimeType" in n && n.overrideMimeType("text/plain; charset=x-user-defined"), n.responseType = "arraybuffer"), n.open("GET", t), n.send() };
var path$1 = {},
	path2, isAbsolute, normalize2, namespace, hasRequiredNamespace, mapfield, hasRequiredMapfield, method, hasRequiredMethod, service, hasRequiredService;

function requireNamespace() { if (hasRequiredNamespace) return namespace;
	hasRequiredNamespace = 1, namespace = l; var t = requireObject();
	((l.prototype = Object.create(t.prototype)).constructor = l).className = "Namespace"; var e, i, n, r = requireField(),
		s = requireUtil(),
		o = requireOneof();

	function a(t, e) { if (t && t.length) { for (var i = {}, n = 0; n < t.length; ++n) i[t[n].name] = t[n].toJSON(e); return i } }

	function l(e, i) { t.call(this, e, i), this.nested = void 0, this._nestedArray = null, this._lookupCache = {}, this._needsRecursiveFeatureResolution = !0, this._needsRecursiveResolve = !0 }

	function h(t) { t._nestedArray = null, t._lookupCache = {}; for (var e = t; e = e.parent;) e._lookupCache = {}; return t } return l.fromJSON = function(t, e) { return new l(t, e.options).addJSON(e.nested) }, l.arrayToJSON = a, l.isReservedId = function(t, e) { if (t)
			for (var i = 0; i < t.length; ++i)
				if ("string" != typeof t[i] && t[i][0] <= e && t[i][1] > e) return !0; return !1 }, l.isReservedName = function(t, e) { if (t)
			for (var i = 0; i < t.length; ++i)
				if (t[i] === e) return !0; return !1 }, Object.defineProperty(l.prototype, "nestedArray", { get: function() { return this._nestedArray || (this._nestedArray = s.toArray(this.nested)) } }), l.prototype.toJSON = function(t) { return s.toObject(["options", this.options, "nested", a(this.nestedArray, t)]) }, l.prototype.addJSON = function(t) { if (t)
			for (var s, o = Object.keys(t), a = 0; a < o.length; ++a) s = t[o[a]], this.add((void 0 !== s.fields ? e.fromJSON : void 0 !== s.values ? n.fromJSON : void 0 !== s.methods ? i.fromJSON : void 0 !== s.id ? r.fromJSON : l.fromJSON)(o[a], s)); return this }, l.prototype.get = function(t) { return this.nested && this.nested[t] || null }, l.prototype.getEnum = function(t) { if (this.nested && this.nested[t] instanceof n) return this.nested[t].values; throw Error("no such enum: " + t) }, l.prototype.add = function(t) { if (!(t instanceof r && void 0 !== t.extend || t instanceof e || t instanceof o || t instanceof n || t instanceof i || t instanceof l)) throw TypeError("object must be a valid nested object"); if (this.nested) { var s = this.get(t.name); if (s) { if (!(s instanceof l && t instanceof l) || s instanceof e || s instanceof i) throw Error("duplicate name '" + t.name + "' in " + this); for (var a = s.nestedArray, u = 0; u < a.length; ++u) t.add(a[u]);
				this.remove(s), this.nested || (this.nested = {}), t.setOptions(s.options, !0) } } else this.nested = {};
		this.nested[t.name] = t, this instanceof e || this instanceof i || this instanceof n || this instanceof r || t._edition || (t._edition = t._defaultEdition), this._needsRecursiveFeatureResolution = !0, this._needsRecursiveResolve = !0; for (var c = this; c = c.parent;) c._needsRecursiveFeatureResolution = !0, c._needsRecursiveResolve = !0; return t.onAdd(this), h(this) }, l.prototype.remove = function(e) { if (!(e instanceof t)) throw TypeError("object must be a ReflectionObject"); if (e.parent !== this) throw Error(e + " is not a member of " + this); return delete this.nested[e.name], Object.keys(this.nested).length || (this.nested = void 0), e.onRemove(this), h(this) }, l.prototype.define = function(t, e) { if (s.isString(t)) t = t.split(".");
		else if (!Array.isArray(t)) throw TypeError("illegal path"); if (t && t.length && "" === t[0]) throw Error("path must be relative"); for (var i = this; t.length > 0;) { var n = t.shift(); if (i.nested && i.nested[n]) { if (!((i = i.nested[n]) instanceof l)) throw Error("path conflicts with non-namespace objects") } else i.add(i = new l(n)) } return e && i.addJSON(e), i }, l.prototype.resolveAll = function() { if (!this._needsRecursiveResolve) return this;
		this._resolveFeaturesRecursive(this._edition); var t = this.nestedArray,
			e = 0; for (this.resolve(); e < t.length;) t[e] instanceof l ? t[e++].resolveAll() : t[e++].resolve(); return this._needsRecursiveResolve = !1, this }, l.prototype._resolveFeaturesRecursive = function(e) { return this._needsRecursiveFeatureResolution ? (this._needsRecursiveFeatureResolution = !1, e = this._edition || e, t.prototype._resolveFeaturesRecursive.call(this, e), this.nestedArray.forEach((t => { t._resolveFeaturesRecursive(e) })), this) : this }, l.prototype.lookup = function(t, e, i) { if ("boolean" == typeof e ? (i = e, e = void 0) : e && !Array.isArray(e) && (e = [e]), s.isString(t) && t.length) { if ("." === t) return this.root;
			t = t.split(".") } else if (!t.length) return this; var n = t.join("."); if ("" === t[0]) return this.root.lookup(t.slice(1), e); var r = this.root._fullyQualifiedObjects && this.root._fullyQualifiedObjects["." + n]; if (r && (!e || e.indexOf(r.constructor) > -1)) return r; if ((r = this._lookupImpl(t, n)) && (!e || e.indexOf(r.constructor) > -1)) return r; if (i) return null; for (var o = this; o.parent;) { if ((r = o.parent._lookupImpl(t, n)) && (!e || e.indexOf(r.constructor) > -1)) return r;
			o = o.parent } return null }, l.prototype._lookupImpl = function(t, e) { if (Object.prototype.hasOwnProperty.call(this._lookupCache, e)) return this._lookupCache[e]; var i = this.get(t[0]),
			n = null; if (i) 1 === t.length ? n = i : i instanceof l && (t = t.slice(1), n = i._lookupImpl(t, t.join(".")));
		else
			for (var r = 0; r < this.nestedArray.length; ++r) this._nestedArray[r] instanceof l && (i = this._nestedArray[r]._lookupImpl(t, e)) && (n = i); return this._lookupCache[e] = n, n }, l.prototype.lookupType = function(t) { var i = this.lookup(t, [e]); if (!i) throw Error("no such type: " + t); return i }, l.prototype.lookupEnum = function(t) { var e = this.lookup(t, [n]); if (!e) throw Error("no such Enum '" + t + "' in " + this); return e }, l.prototype.lookupTypeOrEnum = function(t) { var i = this.lookup(t, [e, n]); if (!i) throw Error("no such Type or Enum '" + t + "' in " + this); return i }, l.prototype.lookupService = function(t) { var e = this.lookup(t, [i]); if (!e) throw Error("no such Service '" + t + "' in " + this); return e }, l._configure = function(t, r, s) { e = t, i = r, n = s }, namespace }

function requireMapfield() { if (hasRequiredMapfield) return mapfield;
	hasRequiredMapfield = 1, mapfield = n; var t = requireField();
	((n.prototype = Object.create(t.prototype)).constructor = n).className = "MapField"; var e = requireTypes(),
		i = requireUtil();

	function n(e, n, r, s, o, a) { if (t.call(this, e, n, s, void 0, void 0, o, a), !i.isString(r)) throw TypeError("keyType must be a string");
		this.keyType = r, this.resolvedKeyType = null, this.map = !0 } return n.fromJSON = function(t, e) { return new n(t, e.id, e.keyType, e.type, e.options, e.comment) }, n.prototype.toJSON = function(t) { var e = !!t && Boolean(t.keepComments); return i.toObject(["keyType", this.keyType, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", e ? this.comment : void 0]) }, n.prototype.resolve = function() { if (this.resolved) return this; if (void 0 === e.mapKey[this.keyType]) throw Error("invalid key type: " + this.keyType); return t.prototype.resolve.call(this) }, n.d = function(t, e, r) { return "function" == typeof r ? r = i.decorateType(r).name : r && "object" == typeof r && (r = i.decorateEnum(r).name),
			function(s, o) { i.decorateType(s.constructor).add(new n(o, t, e, r)) } }, mapfield }

function requireMethod() { if (hasRequiredMethod) return method;
	hasRequiredMethod = 1, method = i; var t = requireObject();
	((i.prototype = Object.create(t.prototype)).constructor = i).className = "Method"; var e = requireUtil();

	function i(i, n, r, s, o, a, l, h, u) { if (e.isObject(o) ? (l = o, o = a = void 0) : e.isObject(a) && (l = a, a = void 0), void 0 !== n && !e.isString(n)) throw TypeError("type must be a string"); if (!e.isString(r)) throw TypeError("requestType must be a string"); if (!e.isString(s)) throw TypeError("responseType must be a string");
		t.call(this, i, l), this.type = n || "rpc", this.requestType = r, this.requestStream = !!o || void 0, this.responseType = s, this.responseStream = !!a || void 0, this.resolvedRequestType = null, this.resolvedResponseType = null, this.comment = h, this.parsedOptions = u } return i.fromJSON = function(t, e) { return new i(t, e.type, e.requestType, e.responseType, e.requestStream, e.responseStream, e.options, e.comment, e.parsedOptions) }, i.prototype.toJSON = function(t) { var i = !!t && Boolean(t.keepComments); return e.toObject(["type", "rpc" !== this.type && this.type || void 0, "requestType", this.requestType, "requestStream", this.requestStream, "responseType", this.responseType, "responseStream", this.responseStream, "options", this.options, "comment", i ? this.comment : void 0, "parsedOptions", this.parsedOptions]) }, i.prototype.resolve = function() { return this.resolved ? this : (this.resolvedRequestType = this.parent.lookupType(this.requestType), this.resolvedResponseType = this.parent.lookupType(this.responseType), t.prototype.resolve.call(this)) }, method }

function requireService() { if (hasRequiredService) return service;
	hasRequiredService = 1, service = r; var t = requireNamespace();
	((r.prototype = Object.create(t.prototype)).constructor = r).className = "Service"; var e = requireMethod(),
		i = requireUtil(),
		n = rpc;

	function r(e, i) { t.call(this, e, i), this.methods = {}, this._methodsArray = null }

	function s(t) { return t._methodsArray = null, t } return r.fromJSON = function(t, i) { var n = new r(t, i.options); if (i.methods)
			for (var s = Object.keys(i.methods), o = 0; o < s.length; ++o) n.add(e.fromJSON(s[o], i.methods[s[o]])); return i.nested && n.addJSON(i.nested), i.edition && (n._edition = i.edition), n.comment = i.comment, n._defaultEdition = "proto3", n }, r.prototype.toJSON = function(e) { var n = t.prototype.toJSON.call(this, e),
			r = !!e && Boolean(e.keepComments); return i.toObject(["edition", this._editionToJSON(), "options", n && n.options || void 0, "methods", t.arrayToJSON(this.methodsArray, e) || {}, "nested", n && n.nested || void 0, "comment", r ? this.comment : void 0]) }, Object.defineProperty(r.prototype, "methodsArray", { get: function() { return this._methodsArray || (this._methodsArray = i.toArray(this.methods)) } }), r.prototype.get = function(e) { return this.methods[e] || t.prototype.get.call(this, e) }, r.prototype.resolveAll = function() { if (!this._needsRecursiveResolve) return this;
		t.prototype.resolve.call(this); for (var e = this.methodsArray, i = 0; i < e.length; ++i) e[i].resolve(); return this }, r.prototype._resolveFeaturesRecursive = function(e) { return this._needsRecursiveFeatureResolution ? (e = this._edition || e, t.prototype._resolveFeaturesRecursive.call(this, e), this.methodsArray.forEach((t => { t._resolveFeaturesRecursive(e) })), this) : this }, r.prototype.add = function(i) { if (this.get(i.name)) throw Error("duplicate name '" + i.name + "' in " + this); return i instanceof e ? (this.methods[i.name] = i, i.parent = this, s(this)) : t.prototype.add.call(this, i) }, r.prototype.remove = function(i) { if (i instanceof e) { if (this.methods[i.name] !== i) throw Error(i + " is not a member of " + this); return delete this.methods[i.name], i.parent = null, s(this) } return t.prototype.remove.call(this, i) }, r.prototype.create = function(t, e, r) { for (var s, o = new n.Service(t, e, r), a = 0; a < this.methodsArray.length; ++a) { var l = i.lcFirst((s = this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g, "");
			o[l] = i.codegen(["r", "c"], i.isReserved(l) ? l + "_" : l)("return this.rpcCall(m,q,s,r,c)")({ m: s, q: s.resolvedRequestType.ctor, s: s.resolvedResponseType.ctor }) } return o }, service } path2 = path$1, isAbsolute = path2.isAbsolute = function(t) { return /^(?:\/|\w+:)/.test(t) }, normalize2 = path2.normalize = function(t) { var e = (t = t.replace(/\\/g, "/").replace(/\/{2,}/g, "/")).split("/"),
		i = isAbsolute(t),
		n = "";
	i && (n = e.shift() + "/"); for (var r = 0; r < e.length;) ".." === e[r] ? r > 0 && ".." !== e[r - 1] ? e.splice(--r, 2) : i ? e.splice(r, 1) : ++r : "." === e[r] ? e.splice(r, 1) : ++r; return n + e.join("/") }, path2.resolve = function(t, e, i) { return i || (e = normalize2(e)), isAbsolute(e) ? e : (i || (t = normalize2(t)), (t = t.replace(/(?:\/|^)[^/]+$/, "")).length ? normalize2(t + "/" + e) : e) };
var message = Message,
	util$1 = requireMinimal(),
	decoder_1, hasRequiredDecoder, verifier_1, hasRequiredVerifier;

function Message(t) { if (t)
		for (var e = Object.keys(t), i = 0; i < e.length; ++i) this[e[i]] = t[e[i]] }

function requireDecoder() { if (hasRequiredDecoder) return decoder_1;
	hasRequiredDecoder = 1, decoder_1 = function(r) { for (var s = i.codegen(["r", "l", "e"], r.name + "$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor" + (r.fieldsArray.filter((function(t) { return t.map })).length ? ",k,value" : ""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"), o = 0; o < r.fieldsArray.length; ++o) { var a = r._fieldsArray[o].resolve(),
				l = a.resolvedType instanceof t ? "int32" : a.type,
				h = "m" + i.safeProp(a.name);
			s("case %i: {", a.id), a.map ? (s("if(%s===util.emptyObject)", h)("%s={}", h)("var c2 = r.uint32()+r.pos"), void 0 !== e.defaults[a.keyType] ? s("k=%j", e.defaults[a.keyType]) : s("k=null"), void 0 !== e.defaults[l] ? s("value=%j", e.defaults[l]) : s("value=null"), s("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break", a.keyType)("case 2:"), void 0 === e.basic[l] ? s("value=types[%i].decode(r,r.uint32())", o) : s("value=r.%s()", l), s("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"), void 0 !== e.long[a.keyType] ? s('%s[typeof k==="object"?util.longToHash(k):k]=value', h) : s("%s[k]=value", h)) : a.repeated ? (s("if(!(%s&&%s.length))", h, h)("%s=[]", h), void 0 !== e.packed[l] && s("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())", h, l)("}else"), void 0 === e.basic[l] ? s(a.delimited ? "%s.push(types[%i].decode(r,undefined,((t&~7)|4)))" : "%s.push(types[%i].decode(r,r.uint32()))", h, o) : s("%s.push(r.%s())", h, l)) : void 0 === e.basic[l] ? s(a.delimited ? "%s=types[%i].decode(r,undefined,((t&~7)|4))" : "%s=types[%i].decode(r,r.uint32())", h, o) : s("%s=r.%s()", h, l), s("break")("}") } for (s("default:")("r.skipType(t&7)")("break")("}")("}"), o = 0; o < r._fieldsArray.length; ++o) { var u = r._fieldsArray[o];
			u.required && s("if(!m.hasOwnProperty(%j))", u.name)("throw util.ProtocolError(%j,{instance:m})", n(u)) } return s("return m") }; var t = require_enum(),
		e = requireTypes(),
		i = requireUtil();

	function n(t) { return "missing required '" + t.name + "'" } return decoder_1 }

function requireVerifier() { if (hasRequiredVerifier) return verifier_1;
	hasRequiredVerifier = 1, verifier_1 = function(t) { var s = e.codegen(["m"], t.name + "$verify")('if(typeof m!=="object"||m===null)')("return%j", "object expected"),
			o = {};
		t.oneofsArray.length && s("var p={}"); for (var a = 0; a < t.fieldsArray.length; ++a) { var l = t._fieldsArray[a].resolve(),
				h = "m" + e.safeProp(l.name); if (l.optional && s("if(%s!=null&&m.hasOwnProperty(%j)){", h, l.name), l.map) s("if(!util.isObject(%s))", h)("return%j", i(l, "object"))("var k=Object.keys(%s)", h)("for(var i=0;i<k.length;++i){"), r(s, l, "k[i]"), n(s, l, a, h + "[k[i]]")("}");
			else if (l.repeated) s("if(!Array.isArray(%s))", h)("return%j", i(l, "array"))("for(var i=0;i<%s.length;++i){", h), n(s, l, a, h + "[i]")("}");
			else { if (l.partOf) { var u = e.safeProp(l.partOf.name);
					1 === o[l.partOf.name] && s("if(p%s===1)", u)("return%j", l.partOf.name + ": multiple values"), o[l.partOf.name] = 1, s("p%s=1", u) } n(s, l, a, h) } l.optional && s("}") } return s("return null") }; var t = require_enum(),
		e = requireUtil();

	function i(t, e) { return t.name + ": " + e + (t.repeated && "array" !== e ? "[]" : t.map && "object" !== e ? "{k:" + t.keyType + "}" : "") + " expected" }

	function n(e, n, r, s) { if (n.resolvedType)
			if (n.resolvedType instanceof t) { e("switch(%s){", s)("default:")("return%j", i(n, "enum value")); for (var o = Object.keys(n.resolvedType.values), a = 0; a < o.length; ++a) e("case %i:", n.resolvedType.values[o[a]]);
				e("break")("}") } else e("{")("var e=types[%i].verify(%s);", r, s)("if(e)")("return%j+e", n.name + ".")("}");
		else switch (n.type) {
			case "int32":
			case "uint32":
			case "sint32":
			case "fixed32":
			case "sfixed32":
				e("if(!util.isInteger(%s))", s)("return%j", i(n, "integer")); break;
			case "int64":
			case "uint64":
			case "sint64":
			case "fixed64":
			case "sfixed64":
				e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))", s, s, s, s)("return%j", i(n, "integer|Long")); break;
			case "float":
			case "double":
				e('if(typeof %s!=="number")', s)("return%j", i(n, "number")); break;
			case "bool":
				e('if(typeof %s!=="boolean")', s)("return%j", i(n, "boolean")); break;
			case "string":
				e("if(!util.isString(%s))", s)("return%j", i(n, "string")); break;
			case "bytes":
				e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))', s, s, s)("return%j", i(n, "buffer")) }
		return e }

	function r(t, e, n) { switch (e.keyType) {
			case "int32":
			case "uint32":
			case "sint32":
			case "fixed32":
			case "sfixed32":
				t("if(!util.key32Re.test(%s))", n)("return%j", i(e, "integer key")); break;
			case "int64":
			case "uint64":
			case "sint64":
			case "fixed64":
			case "sfixed64":
				t("if(!util.key64Re.test(%s))", n)("return%j", i(e, "integer|Long key")); break;
			case "bool":
				t("if(!util.key2Re.test(%s))", n)("return%j", i(e, "boolean key")) } return t } return verifier_1 } Message.create = function(t) { return this.$type.create(t) }, Message.encode = function(t, e) { return this.$type.encode(t, e) }, Message.encodeDelimited = function(t, e) { return this.$type.encodeDelimited(t, e) }, Message.decode = function(t) { return this.$type.decode(t) }, Message.decodeDelimited = function(t) { return this.$type.decodeDelimited(t) }, Message.verify = function(t) { return this.$type.verify(t) }, Message.fromObject = function(t) { return this.$type.fromObject(t) }, Message.toObject = function(t, e) { return this.$type.toObject(t, e) }, Message.prototype.toJSON = function() { return this.$type.toObject(this, util$1.toJSONOptions) };
var converter = {},
	hasRequiredConverter;

function requireConverter() { return hasRequiredConverter || (hasRequiredConverter = 1, function() { var t = converter,
			e = require_enum(),
			i = requireUtil();

		function n(t, i, n, r) { var s = !1; if (i.resolvedType)
				if (i.resolvedType instanceof e) { t("switch(d%s){", r); for (var o = i.resolvedType.values, a = Object.keys(o), l = 0; l < a.length; ++l) o[a[l]] !== i.typeDefault || s || (t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}', r, r, r), i.repeated || t("break"), s = !0), t("case%j:", a[l])("case %i:", o[a[l]])("m%s=%j", r, o[a[l]])("break");
					t("}") } else t('if(typeof d%s!=="object")', r)("throw TypeError(%j)", i.fullName + ": object expected")("m%s=types[%i].fromObject(d%s)", r, n, r);
			else { var h = !1; switch (i.type) {
					case "double":
					case "float":
						t("m%s=Number(d%s)", r, r); break;
					case "uint32":
					case "fixed32":
						t("m%s=d%s>>>0", r, r); break;
					case "int32":
					case "sint32":
					case "sfixed32":
						t("m%s=d%s|0", r, r); break;
					case "uint64":
						h = !0;
					case "int64":
					case "sint64":
					case "fixed64":
					case "sfixed64":
						t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j", r, r, h)('else if(typeof d%s==="string")', r)("m%s=parseInt(d%s,10)", r, r)('else if(typeof d%s==="number")', r)("m%s=d%s", r, r)('else if(typeof d%s==="object")', r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)", r, r, r, h ? "true" : ""); break;
					case "bytes":
						t('if(typeof d%s==="string")', r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)", r, r, r)("else if(d%s.length >= 0)", r)("m%s=d%s", r, r); break;
					case "string":
						t("m%s=String(d%s)", r, r); break;
					case "bool":
						t("m%s=Boolean(d%s)", r, r) } } return t }

		function r(t, i, n, r) { if (i.resolvedType) i.resolvedType instanceof e ? t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s", r, n, r, r, n, r, r) : t("d%s=types[%i].toObject(m%s,o)", r, n, r);
			else { var s = !1; switch (i.type) {
					case "double":
					case "float":
						t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s", r, r, r, r); break;
					case "uint64":
						s = !0;
					case "int64":
					case "sint64":
					case "fixed64":
					case "sfixed64":
						t('if(typeof m%s==="number")', r)("d%s=o.longs===String?String(m%s):m%s", r, r, r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s", r, r, r, r, s ? "true" : "", r); break;
					case "bytes":
						t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s", r, r, r, r, r); break;
					default:
						t("d%s=m%s", r, r) } } return t } t.fromObject = function(t) { var r = t.fieldsArray,
				s = i.codegen(["d"], t.name + "$fromObject")("if(d instanceof this.ctor)")("return d"); if (!r.length) return s("return new this.ctor");
			s("var m=new this.ctor"); for (var o = 0; o < r.length; ++o) { var a = r[o].resolve(),
					l = i.safeProp(a.name);
				a.map ? (s("if(d%s){", l)('if(typeof d%s!=="object")', l)("throw TypeError(%j)", a.fullName + ": object expected")("m%s={}", l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){", l), n(s, a, o, l + "[ks[i]]")("}")("}")) : a.repeated ? (s("if(d%s){", l)("if(!Array.isArray(d%s))", l)("throw TypeError(%j)", a.fullName + ": array expected")("m%s=[]", l)("for(var i=0;i<d%s.length;++i){", l), n(s, a, o, l + "[i]")("}")("}")) : (a.resolvedType instanceof e || s("if(d%s!=null){", l), n(s, a, o, l), a.resolvedType instanceof e || s("}")) } return s("return m") }, t.toObject = function(t) { var n = t.fieldsArray.slice().sort(i.compareFieldsById); if (!n.length) return i.codegen()("return {}"); for (var s = i.codegen(["m", "o"], t.name + "$toObject")("if(!o)")("o={}")("var d={}"), o = [], a = [], l = [], h = 0; h < n.length; ++h) n[h].partOf || (n[h].resolve().repeated ? o : n[h].map ? a : l).push(n[h]); if (o.length) { for (s("if(o.arrays||o.defaults){"), h = 0; h < o.length; ++h) s("d%s=[]", i.safeProp(o[h].name));
				s("}") } if (a.length) { for (s("if(o.objects||o.defaults){"), h = 0; h < a.length; ++h) s("d%s={}", i.safeProp(a[h].name));
				s("}") } if (l.length) { for (s("if(o.defaults){"), h = 0; h < l.length; ++h) { var u = l[h],
						c = i.safeProp(u.name); if (u.resolvedType instanceof e) s("d%s=o.enums===String?%j:%j", c, u.resolvedType.valuesById[u.typeDefault], u.typeDefault);
					else if (u.long) s("if(util.Long){")("var n=new util.Long(%i,%i,%j)", u.typeDefault.low, u.typeDefault.high, u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n", c)("}else")("d%s=o.longs===String?%j:%i", c, u.typeDefault.toString(), u.typeDefault.toNumber());
					else if (u.bytes) { var d = "[" + Array.prototype.slice.call(u.typeDefault).join(",") + "]";
						s("if(o.bytes===String)d%s=%j", c, String.fromCharCode.apply(String, u.typeDefault))("else{")("d%s=%s", c, d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)", c, c)("}") } else s("d%s=%j", c, u.typeDefault) } s("}") } var f = !1; for (h = 0; h < n.length; ++h) { u = n[h]; var p = t._fieldsArray.indexOf(u);
				c = i.safeProp(u.name), u.map ? (f || (f = !0, s("var ks2")), s("if(m%s&&(ks2=Object.keys(m%s)).length){", c, c)("d%s={}", c)("for(var j=0;j<ks2.length;++j){"), r(s, u, p, c + "[ks2[j]]")("}")) : u.repeated ? (s("if(m%s&&m%s.length){", c, c)("d%s=[]", c)("for(var j=0;j<m%s.length;++j){", c), r(s, u, p, c + "[j]")("}")) : (s("if(m%s!=null&&m.hasOwnProperty(%j)){", c, u.name), r(s, u, p, c), u.partOf && s("if(o.oneofs)")("d%s=%j", i.safeProp(u.partOf.name), u.name)), s("}") } return s("return d") } }()), converter }
var wrappers = {},
	Message2, type, hasRequiredType, root$p, hasRequiredRoot, hasRequiredUtil, hasRequiredTypes, field, hasRequiredField, oneof, hasRequiredOneof, object, hasRequiredObject, _enum, hasRequired_enum, encoder_1, hasRequiredEncoder;

function requireType() { if (hasRequiredType) return type;
	hasRequiredType = 1, type = g; var t = requireNamespace();
	((g.prototype = Object.create(t.prototype)).constructor = g).className = "Type"; var e = require_enum(),
		i = requireOneof(),
		n = requireField(),
		r = requireMapfield(),
		s = requireService(),
		o = message,
		a = reader,
		l = writer,
		h = requireUtil(),
		u = requireEncoder(),
		c = requireDecoder(),
		d = requireVerifier(),
		f = requireConverter(),
		p = wrappers;

	function g(e, i) { t.call(this, e, i), this.fields = {}, this.oneofs = void 0, this.extensions = void 0, this.reserved = void 0, this.group = void 0, this._fieldsById = null, this._fieldsArray = null, this._oneofsArray = null, this._ctor = null }

	function m(t) { return t._fieldsById = t._fieldsArray = t._oneofsArray = null, delete t.encode, delete t.decode, delete t.verify, t } return Object.defineProperties(g.prototype, { fieldsById: { get: function() { if (this._fieldsById) return this._fieldsById;
				this._fieldsById = {}; for (var t = Object.keys(this.fields), e = 0; e < t.length; ++e) { var i = this.fields[t[e]],
						n = i.id; if (this._fieldsById[n]) throw Error("duplicate id " + n + " in " + this);
					this._fieldsById[n] = i } return this._fieldsById } }, fieldsArray: { get: function() { return this._fieldsArray || (this._fieldsArray = h.toArray(this.fields)) } }, oneofsArray: { get: function() { return this._oneofsArray || (this._oneofsArray = h.toArray(this.oneofs)) } }, ctor: { get: function() { return this._ctor || (this.ctor = g.generateConstructor(this)()) }, set: function(t) { var e = t.prototype;
				e instanceof o || ((t.prototype = new o).constructor = t, h.merge(t.prototype, e)), t.$type = t.prototype.$type = this, h.merge(t, o, !0), this._ctor = t; for (var i = 0; i < this.fieldsArray.length; ++i) this._fieldsArray[i].resolve(); var n = {}; for (i = 0; i < this.oneofsArray.length; ++i) n[this._oneofsArray[i].resolve().name] = { get: h.oneOfGetter(this._oneofsArray[i].oneof), set: h.oneOfSetter(this._oneofsArray[i].oneof) };
				i && Object.defineProperties(t.prototype, n) } } }), g.generateConstructor = function(t) { for (var e, i = h.codegen(["p"], t.name), n = 0; n < t.fieldsArray.length; ++n)(e = t._fieldsArray[n]).map ? i("this%s={}", h.safeProp(e.name)) : e.repeated && i("this%s=[]", h.safeProp(e.name)); return i("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]") }, g.fromJSON = function(o, a) { var l = new g(o, a.options);
		l.extensions = a.extensions, l.reserved = a.reserved; for (var h = Object.keys(a.fields), u = 0; u < h.length; ++u) l.add((void 0 !== a.fields[h[u]].keyType ? r.fromJSON : n.fromJSON)(h[u], a.fields[h[u]])); if (a.oneofs)
			for (h = Object.keys(a.oneofs), u = 0; u < h.length; ++u) l.add(i.fromJSON(h[u], a.oneofs[h[u]])); if (a.nested)
			for (h = Object.keys(a.nested), u = 0; u < h.length; ++u) { var c = a.nested[h[u]];
				l.add((void 0 !== c.id ? n.fromJSON : void 0 !== c.fields ? g.fromJSON : void 0 !== c.values ? e.fromJSON : void 0 !== c.methods ? s.fromJSON : t.fromJSON)(h[u], c)) }
		return a.extensions && a.extensions.length && (l.extensions = a.extensions), a.reserved && a.reserved.length && (l.reserved = a.reserved), a.group && (l.group = !0), a.comment && (l.comment = a.comment), a.edition && (l._edition = a.edition), l._defaultEdition = "proto3", l }, g.prototype.toJSON = function(e) { var i = t.prototype.toJSON.call(this, e),
			n = !!e && Boolean(e.keepComments); return h.toObject(["edition", this._editionToJSON(), "options", i && i.options || void 0, "oneofs", t.arrayToJSON(this.oneofsArray, e), "fields", t.arrayToJSON(this.fieldsArray.filter((function(t) { return !t.declaringField })), e) || {}, "extensions", this.extensions && this.extensions.length ? this.extensions : void 0, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "group", this.group || void 0, "nested", i && i.nested || void 0, "comment", n ? this.comment : void 0]) }, g.prototype.resolveAll = function() { if (!this._needsRecursiveResolve) return this;
		t.prototype.resolveAll.call(this); var e = this.oneofsArray; for (n = 0; n < e.length;) e[n++].resolve(); for (var i = this.fieldsArray, n = 0; n < i.length;) i[n++].resolve(); return this }, g.prototype._resolveFeaturesRecursive = function(e) { return this._needsRecursiveFeatureResolution ? (e = this._edition || e, t.prototype._resolveFeaturesRecursive.call(this, e), this.oneofsArray.forEach((t => { t._resolveFeatures(e) })), this.fieldsArray.forEach((t => { t._resolveFeatures(e) })), this) : this }, g.prototype.get = function(t) { return this.fields[t] || this.oneofs && this.oneofs[t] || this.nested && this.nested[t] || null }, g.prototype.add = function(e) { if (this.get(e.name)) throw Error("duplicate name '" + e.name + "' in " + this); if (e instanceof n && void 0 === e.extend) { if (this._fieldsById ? this._fieldsById[e.id] : this.fieldsById[e.id]) throw Error("duplicate id " + e.id + " in " + this); if (this.isReservedId(e.id)) throw Error("id " + e.id + " is reserved in " + this); if (this.isReservedName(e.name)) throw Error("name '" + e.name + "' is reserved in " + this); return e.parent && e.parent.remove(e), this.fields[e.name] = e, e.message = this, e.onAdd(this), m(this) } return e instanceof i ? (this.oneofs || (this.oneofs = {}), this.oneofs[e.name] = e, e.onAdd(this), m(this)) : t.prototype.add.call(this, e) }, g.prototype.remove = function(e) { if (e instanceof n && void 0 === e.extend) { if (!this.fields || this.fields[e.name] !== e) throw Error(e + " is not a member of " + this); return delete this.fields[e.name], e.parent = null, e.onRemove(this), m(this) } if (e instanceof i) { if (!this.oneofs || this.oneofs[e.name] !== e) throw Error(e + " is not a member of " + this); return delete this.oneofs[e.name], e.parent = null, e.onRemove(this), m(this) } return t.prototype.remove.call(this, e) }, g.prototype.isReservedId = function(e) { return t.isReservedId(this.reserved, e) }, g.prototype.isReservedName = function(e) { return t.isReservedName(this.reserved, e) }, g.prototype.create = function(t) { return new this.ctor(t) }, g.prototype.setup = function() { for (var t = this.fullName, e = [], i = 0; i < this.fieldsArray.length; ++i) e.push(this._fieldsArray[i].resolve().resolvedType);
		this.encode = u(this)({ Writer: l, types: e, util: h }), this.decode = c(this)({ Reader: a, types: e, util: h }), this.verify = d(this)({ types: e, util: h }), this.fromObject = f.fromObject(this)({ types: e, util: h }), this.toObject = f.toObject(this)({ types: e, util: h }); var n = p[t]; if (n) { var r = Object.create(this);
			r.fromObject = this.fromObject, this.fromObject = n.fromObject.bind(r), r.toObject = this.toObject, this.toObject = n.toObject.bind(r) } return this }, g.prototype.encode = function(t, e) { return this.setup().encode(t, e) }, g.prototype.encodeDelimited = function(t, e) { return this.encode(t, e && e.len ? e.fork() : e).ldelim() }, g.prototype.decode = function(t, e) { return this.setup().decode(t, e) }, g.prototype.decodeDelimited = function(t) { return t instanceof a || (t = a.create(t)), this.decode(t, t.uint32()) }, g.prototype.verify = function(t) { return this.setup().verify(t) }, g.prototype.fromObject = function(t) { return this.setup().fromObject(t) }, g.prototype.toObject = function(t, e) { return this.setup().toObject(t, e) }, g.d = function(t) { return function(e) { h.decorateType(e, t) } }, type }

function requireRoot() { if (hasRequiredRoot) return root$p;
	hasRequiredRoot = 1, root$p = l; var t = requireNamespace();
	((l.prototype = Object.create(t.prototype)).constructor = l).className = "Root"; var e, i, n, r = requireField(),
		s = require_enum(),
		o = requireOneof(),
		a = requireUtil();

	function l(e) { t.call(this, "", e), this.deferred = [], this.files = [], this._edition = "proto2", this._fullyQualifiedObjects = {} }

	function h() {} l.fromJSON = function(t, e) { return e || (e = new l), t.options && e.setOptions(t.options), e.addJSON(t.nested).resolveAll() }, l.prototype.resolvePath = a.path.resolve, l.prototype.fetch = a.fetch, l.prototype.load = function t(e, r, s) { "function" == typeof r && (s = r, r = void 0); var o = this; if (!s) return a.asPromise(t, o, e, r); var l = s === h;

		function u(t, e) { if (s) { if (l) throw t;
				e && e.resolveAll(); var i = s;
				s = null, i(t, e) } }

		function c(t) { var e = t.lastIndexOf("google/protobuf/"); if (e > -1) { var i = t.substring(e); if (i in n) return i } return null }

		function d(t, e) { try { if (a.isString(e) && "{" === e.charAt(0) && (e = JSON.parse(e)), a.isString(e)) { i.filename = t; var n, s = i(e, o, r),
						h = 0; if (s.imports)
						for (; h < s.imports.length; ++h)(n = c(s.imports[h]) || o.resolvePath(t, s.imports[h])) && f(n); if (s.weakImports)
						for (h = 0; h < s.weakImports.length; ++h)(n = c(s.weakImports[h]) || o.resolvePath(t, s.weakImports[h])) && f(n, !0) } else o.setOptions(e.options).addJSON(e.nested) } catch (d) { u(d) } l || p || u(null, o) }

		function f(t, e) { if (t = c(t) || t, !(o.files.indexOf(t) > -1))
				if (o.files.push(t), t in n) l ? d(t, n[t]) : (++p, setTimeout((function() {--p, d(t, n[t]) })));
				else if (l) { var i; try { i = a.fs.readFileSync(t).toString("utf8") } catch (r) { return void(e || u(r)) } d(t, i) } else ++p, o.fetch(t, (function(i, n) {--p, s && (i ? e ? p || u(null, o) : u(i) : d(t, n)) })) } var p = 0;
		a.isString(e) && (e = [e]); for (var g, m = 0; m < e.length; ++m)(g = o.resolvePath("", e[m])) && f(g); return l ? (o.resolveAll(), o) : (p || u(null, o), o) }, l.prototype.loadSync = function(t, e) { if (!a.isNode) throw Error("not supported"); return this.load(t, e, h) }, l.prototype.resolveAll = function() { if (!this._needsRecursiveResolve) return this; if (this.deferred.length) throw Error("unresolvable extensions: " + this.deferred.map((function(t) { return "'extend " + t.extend + "' in " + t.parent.fullName })).join(", ")); return t.prototype.resolveAll.call(this) }; var u = /^[A-Z]/;

	function c(t, e) { var i = e.parent.lookup(e.extend); if (i) { var n = new r(e.fullName, e.id, e.type, e.rule, void 0, e.options); return i.get(n.name) || (n.declaringField = e, e.extensionField = n, i.add(n)), !0 } return !1 } return l.prototype._handleAdd = function(t) { if (t instanceof r) void 0 === t.extend || t.extensionField || c(0, t) || this.deferred.push(t);
		else if (t instanceof s) u.test(t.name) && (t.parent[t.name] = t.values);
		else if (!(t instanceof o)) { if (t instanceof e)
				for (var i = 0; i < this.deferred.length;) c(0, this.deferred[i]) ? this.deferred.splice(i, 1) : ++i; for (var n = 0; n < t.nestedArray.length; ++n) this._handleAdd(t._nestedArray[n]);
			u.test(t.name) && (t.parent[t.name] = t) }(t instanceof e || t instanceof s || t instanceof r) && (this._fullyQualifiedObjects[t.fullName] = t) }, l.prototype._handleRemove = function(e) { if (e instanceof r) { if (void 0 !== e.extend)
				if (e.extensionField) e.extensionField.parent.remove(e.extensionField), e.extensionField = null;
				else { var i = this.deferred.indexOf(e);
					i > -1 && this.deferred.splice(i, 1) } } else if (e instanceof s) u.test(e.name) && delete e.parent[e.name];
		else if (e instanceof t) { for (var n = 0; n < e.nestedArray.length; ++n) this._handleRemove(e._nestedArray[n]);
			u.test(e.name) && delete e.parent[e.name] } delete this._fullyQualifiedObjects[e.fullName] }, l._configure = function(t, r, s) { e = t, i = r, n = s }, root$p }

function requireUtil() { if (hasRequiredUtil) return util$2.exports;
	hasRequiredUtil = 1; var t, e, i = util$2.exports = requireMinimal(),
		n = roots;
	i.codegen = codegen_1, i.fetch = fetch_1, i.path = path$1, i.fs = i.inquire("fs"), i.toArray = function(t) { if (t) { for (var e = Object.keys(t), i = new Array(e.length), n = 0; n < e.length;) i[n] = t[e[n++]]; return i } return [] }, i.toObject = function(t) { for (var e = {}, i = 0; i < t.length;) { var n = t[i++],
				r = t[i++];
			void 0 !== r && (e[n] = r) } return e }; var r = /\\/g,
		s = /"/g;
	i.isReserved = function(t) { return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t) }, i.safeProp = function(t) { return !/^[$\w_]+$/.test(t) || i.isReserved(t) ? '["' + t.replace(r, "\\\\").replace(s, '\\"') + '"]' : "." + t }, i.ucFirst = function(t) { return t.charAt(0).toUpperCase() + t.substring(1) }; var o = /_([a-z])/g;
	i.camelCase = function(t) { return t.substring(0, 1) + t.substring(1).replace(o, (function(t, e) { return e.toUpperCase() })) }, i.compareFieldsById = function(t, e) { return t.id - e.id }, i.decorateType = function(e, n) { if (e.$type) return n && e.$type.name !== n && (i.decorateRoot.remove(e.$type), e.$type.name = n, i.decorateRoot.add(e.$type)), e.$type;
		t || (t = requireType()); var r = new t(n || e.name); return i.decorateRoot.add(r), r.ctor = e, Object.defineProperty(e, "$type", { value: r, enumerable: !1 }), Object.defineProperty(e.prototype, "$type", { value: r, enumerable: !1 }), r }; var a = 0; return i.decorateEnum = function(t) { if (t.$type) return t.$type;
		e || (e = require_enum()); var n = new e("Enum" + a++, t); return i.decorateRoot.add(n), Object.defineProperty(t, "$type", { value: n, enumerable: !1 }), n }, i.setProperty = function(t, e, i, n) { if ("object" != typeof t) throw TypeError("dst must be an object"); if (!e) throw TypeError("path must be specified"); return function t(e, i, r) { var s = i.shift(); if ("__proto__" === s || "prototype" === s) return e; if (i.length > 0) e[s] = t(e[s] || {}, i, r);
			else { var o = e[s]; if (o && n) return e;
				o && (r = [].concat(o).concat(r)), e[s] = r } return e }(t, e = e.split("."), i) }, Object.defineProperty(i, "decorateRoot", { get: function() { return n.decorated || (n.decorated = new(requireRoot())) } }), util$2.exports }

function requireTypes() { return hasRequiredTypes || (hasRequiredTypes = 1, function() { var t = types$2,
			e = requireUtil(),
			i = ["double", "float", "int32", "uint32", "sint32", "fixed32", "sfixed32", "int64", "uint64", "sint64", "fixed64", "sfixed64", "bool", "string", "bytes"];

		function n(t, e) { var n = 0,
				r = {}; for (e |= 0; n < t.length;) r[i[n + e]] = t[n++]; return r } t.basic = n([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2, 2]), t.defaults = n([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, !1, "", e.emptyArray, null]), t.long = n([0, 0, 0, 1, 1], 7), t.mapKey = n([0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2], 2), t.packed = n([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0]) }()), types$2 }

function requireField() { if (hasRequiredField) return field;
	hasRequiredField = 1, field = o; var t = requireObject();
	((o.prototype = Object.create(t.prototype)).constructor = o).className = "Field"; var e, i = require_enum(),
		n = requireTypes(),
		r = requireUtil(),
		s = /^required|optional|repeated$/;

	function o(e, i, o, a, l, h, u) { if (r.isObject(a) ? (u = l, h = a, a = l = void 0) : r.isObject(l) && (u = h, h = l, l = void 0), t.call(this, e, h), !r.isInteger(i) || i < 0) throw TypeError("id must be a non-negative integer"); if (!r.isString(o)) throw TypeError("type must be a string"); if (void 0 !== a && !s.test(a = a.toString().toLowerCase())) throw TypeError("rule must be a string rule"); if (void 0 !== l && !r.isString(l)) throw TypeError("extend must be a string"); "proto3_optional" === a && (a = "optional"), this.rule = a && "optional" !== a ? a : void 0, this.type = o, this.id = i, this.extend = l || void 0, this.repeated = "repeated" === a, this.map = !1, this.message = null, this.partOf = null, this.typeDefault = null, this.defaultValue = null, this.long = !!r.Long && void 0 !== n.long[o], this.bytes = "bytes" === o, this.resolvedType = null, this.extensionField = null, this.declaringField = null, this.comment = u } return o.fromJSON = function(t, e) { var i = new o(t, e.id, e.type, e.rule, e.extend, e.options, e.comment); return e.edition && (i._edition = e.edition), i._defaultEdition = "proto3", i }, Object.defineProperty(o.prototype, "required", { get: function() { return "LEGACY_REQUIRED" === this._features.field_presence } }), Object.defineProperty(o.prototype, "optional", { get: function() { return !this.required } }), Object.defineProperty(o.prototype, "delimited", { get: function() { return this.resolvedType instanceof e && "DELIMITED" === this._features.message_encoding } }), Object.defineProperty(o.prototype, "packed", { get: function() { return "PACKED" === this._features.repeated_field_encoding } }), Object.defineProperty(o.prototype, "hasPresence", { get: function() { return !this.repeated && !this.map && (this.partOf || this.declaringField || this.extensionField || "IMPLICIT" !== this._features.field_presence) } }), o.prototype.setOption = function(e, i, n) { return t.prototype.setOption.call(this, e, i, n) }, o.prototype.toJSON = function(t) { var e = !!t && Boolean(t.keepComments); return r.toObject(["edition", this._editionToJSON(), "rule", "optional" !== this.rule && this.rule || void 0, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", e ? this.comment : void 0]) }, o.prototype.resolve = function() { if (this.resolved) return this; if (void 0 === (this.typeDefault = n.defaults[this.type]) ? (this.resolvedType = (this.declaringField ? this.declaringField.parent : this.parent).lookupTypeOrEnum(this.type), this.resolvedType instanceof e ? this.typeDefault = null : this.typeDefault = this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]) : this.options && this.options.proto3_optional && (this.typeDefault = null), this.options && null != this.options.default && (this.typeDefault = this.options.default, this.resolvedType instanceof i && "string" == typeof this.typeDefault && (this.typeDefault = this.resolvedType.values[this.typeDefault])), this.options && (void 0 === this.options.packed || !this.resolvedType || this.resolvedType instanceof i || delete this.options.packed, Object.keys(this.options).length || (this.options = void 0)), this.long) this.typeDefault = r.Long.fromNumber(this.typeDefault, "u" === this.type.charAt(0)), Object.freeze && Object.freeze(this.typeDefault);
		else if (this.bytes && "string" == typeof this.typeDefault) { var s;
			r.base64.test(this.typeDefault) ? r.base64.decode(this.typeDefault, s = r.newBuffer(r.base64.length(this.typeDefault)), 0) : r.utf8.write(this.typeDefault, s = r.newBuffer(r.utf8.length(this.typeDefault)), 0), this.typeDefault = s } return this.map ? this.defaultValue = r.emptyObject : this.repeated ? this.defaultValue = r.emptyArray : this.defaultValue = this.typeDefault, this.parent instanceof e && (this.parent.ctor.prototype[this.name] = this.defaultValue), t.prototype.resolve.call(this) }, o.prototype._inferLegacyProtoFeatures = function(t) { if ("proto2" !== t && "proto3" !== t) return {}; var i = {}; if ("required" === this.rule && (i.field_presence = "LEGACY_REQUIRED"), this.parent && void 0 === n.defaults[this.type]) { var r = this.parent.get(this.type.split(".").pop());
			r && r instanceof e && r.group && (i.message_encoding = "DELIMITED") } return !0 === this.getOption("packed") ? i.repeated_field_encoding = "PACKED" : !1 === this.getOption("packed") && (i.repeated_field_encoding = "EXPANDED"), i }, o.prototype._resolveFeatures = function(e) { return t.prototype._resolveFeatures.call(this, this._edition || e) }, o.d = function(t, e, i, n) { return "function" == typeof e ? e = r.decorateType(e).name : e && "object" == typeof e && (e = r.decorateEnum(e).name),
			function(s, a) { r.decorateType(s.constructor).add(new o(a, t, e, i, { default: n })) } }, o._configure = function(t) { e = t }, field }

function requireOneof() { if (hasRequiredOneof) return oneof;
	hasRequiredOneof = 1, oneof = n; var t = requireObject();
	((n.prototype = Object.create(t.prototype)).constructor = n).className = "OneOf"; var e = requireField(),
		i = requireUtil();

	function n(e, i, n, r) { if (Array.isArray(i) || (n = i, i = void 0), t.call(this, e, n), void 0 !== i && !Array.isArray(i)) throw TypeError("fieldNames must be an Array");
		this.oneof = i || [], this.fieldsArray = [], this.comment = r }

	function r(t) { if (t.parent)
			for (var e = 0; e < t.fieldsArray.length; ++e) t.fieldsArray[e].parent || t.parent.add(t.fieldsArray[e]) } return n.fromJSON = function(t, e) { return new n(t, e.oneof, e.options, e.comment) }, n.prototype.toJSON = function(t) { var e = !!t && Boolean(t.keepComments); return i.toObject(["options", this.options, "oneof", this.oneof, "comment", e ? this.comment : void 0]) }, n.prototype.add = function(t) { if (!(t instanceof e)) throw TypeError("field must be a Field"); return t.parent && t.parent !== this.parent && t.parent.remove(t), this.oneof.push(t.name), this.fieldsArray.push(t), t.partOf = this, r(this), this }, n.prototype.remove = function(t) { if (!(t instanceof e)) throw TypeError("field must be a Field"); var i = this.fieldsArray.indexOf(t); if (i < 0) throw Error(t + " is not a member of " + this); return this.fieldsArray.splice(i, 1), (i = this.oneof.indexOf(t.name)) > -1 && this.oneof.splice(i, 1), t.partOf = null, this }, n.prototype.onAdd = function(e) { t.prototype.onAdd.call(this, e); for (var i = 0; i < this.oneof.length; ++i) { var n = e.get(this.oneof[i]);
			n && !n.partOf && (n.partOf = this, this.fieldsArray.push(n)) } r(this) }, n.prototype.onRemove = function(e) { for (var i, n = 0; n < this.fieldsArray.length; ++n)(i = this.fieldsArray[n]).parent && i.parent.remove(i);
		t.prototype.onRemove.call(this, e) }, Object.defineProperty(n.prototype, "isProto3Optional", { get: function() { if (null == this.fieldsArray || 1 !== this.fieldsArray.length) return !1; var t = this.fieldsArray[0]; return null != t.options && !0 === t.options.proto3_optional } }), n.d = function() { for (var t = new Array(arguments.length), e = 0; e < arguments.length;) t[e] = arguments[e++]; return function(e, r) { i.decorateType(e.constructor).add(new n(r, t)), Object.defineProperty(e, r, { get: i.oneOfGetter(t), set: i.oneOfSetter(t) }) } }, oneof }

function requireObject() { if (hasRequiredObject) return object;
	hasRequiredObject = 1, object = o, o.className = "ReflectionObject"; const t = requireOneof(); var e, i = requireUtil(),
		n = { enum_type: "OPEN", field_presence: "EXPLICIT", json_format: "ALLOW", message_encoding: "LENGTH_PREFIXED", repeated_field_encoding: "PACKED", utf8_validation: "VERIFY" },
		r = { enum_type: "CLOSED", field_presence: "EXPLICIT", json_format: "LEGACY_BEST_EFFORT", message_encoding: "LENGTH_PREFIXED", repeated_field_encoding: "EXPANDED", utf8_validation: "NONE" },
		s = { enum_type: "OPEN", field_presence: "IMPLICIT", json_format: "ALLOW", message_encoding: "LENGTH_PREFIXED", repeated_field_encoding: "PACKED", utf8_validation: "VERIFY" };

	function o(t, e) { if (!i.isString(t)) throw TypeError("name must be a string"); if (e && !i.isObject(e)) throw TypeError("options must be an object");
		this.options = e, this.parsedOptions = null, this.name = t, this._edition = null, this._defaultEdition = "proto2", this._features = {}, this._featuresResolved = !1, this.parent = null, this.resolved = !1, this.comment = null, this.filename = null } return Object.defineProperties(o.prototype, { root: { get: function() { for (var t = this; null !== t.parent;) t = t.parent; return t } }, fullName: { get: function() { for (var t = [this.name], e = this.parent; e;) t.unshift(e.name), e = e.parent; return t.join(".") } } }), o.prototype.toJSON = function() { throw Error() }, o.prototype.onAdd = function(t) { this.parent && this.parent !== t && this.parent.remove(this), this.parent = t, this.resolved = !1; var i = t.root;
		i instanceof e && i._handleAdd(this) }, o.prototype.onRemove = function(t) { var i = t.root;
		i instanceof e && i._handleRemove(this), this.parent = null, this.resolved = !1 }, o.prototype.resolve = function() { return this.resolved || this.root instanceof e && (this.resolved = !0), this }, o.prototype._resolveFeaturesRecursive = function(t) { return this._resolveFeatures(this._edition || t) }, o.prototype._resolveFeatures = function(e) { if (!this._featuresResolved) { var i = {}; if (!e) throw new Error("Unknown edition for " + this.fullName); var o = Object.assign(this.options ? Object.assign({}, this.options.features) : {}, this._inferLegacyProtoFeatures(e)); if (this._edition) { if ("proto2" === e) i = Object.assign({}, r);
				else if ("proto3" === e) i = Object.assign({}, s);
				else { if ("2023" !== e) throw new Error("Unknown edition: " + e);
					i = Object.assign({}, n) } return this._features = Object.assign(i, o || {}), void(this._featuresResolved = !0) } if (this.partOf instanceof t) { var a = Object.assign({}, this.partOf._features);
				this._features = Object.assign(a, o || {}) } else if (this.declaringField);
			else { if (!this.parent) throw new Error("Unable to find a parent for " + this.fullName); var l = Object.assign({}, this.parent._features);
				this._features = Object.assign(l, o || {}) } this.extensionField && (this.extensionField._features = this._features), this._featuresResolved = !0 } }, o.prototype._inferLegacyProtoFeatures = function() { return {} }, o.prototype.getOption = function(t) { if (this.options) return this.options[t] }, o.prototype.setOption = function(t, e, n) { return this.options || (this.options = {}), /^features\./.test(t) ? i.setProperty(this.options, t, e, n) : n && void 0 !== this.options[t] || (this.getOption(t) !== e && (this.resolved = !1), this.options[t] = e), this }, o.prototype.setParsedOption = function(t, e, n) { this.parsedOptions || (this.parsedOptions = []); var r = this.parsedOptions; if (n) { var s = r.find((function(e) { return Object.prototype.hasOwnProperty.call(e, t) })); if (s) { var o = s[t];
				i.setProperty(o, n, e) } else(s = {})[t] = i.setProperty({}, n, e), r.push(s) } else { var a = {};
			a[t] = e, r.push(a) } return this }, o.prototype.setOptions = function(t, e) { if (t)
			for (var i = Object.keys(t), n = 0; n < i.length; ++n) this.setOption(i[n], t[i[n]], e); return this }, o.prototype.toString = function() { var t = this.constructor.className,
			e = this.fullName; return e.length ? t + " " + e : t }, o.prototype._editionToJSON = function() { if (this._edition && "proto3" !== this._edition) return this._edition }, o._configure = function(t) { e = t }, object }

function require_enum() { if (hasRequired_enum) return _enum;
	hasRequired_enum = 1, _enum = n; var t = requireObject();
	((n.prototype = Object.create(t.prototype)).constructor = n).className = "Enum"; var e = requireNamespace(),
		i = requireUtil();

	function n(e, i, n, r, s, o) { if (t.call(this, e, n), i && "object" != typeof i) throw TypeError("values must be an object"); if (this.valuesById = {}, this.values = Object.create(this.valuesById), this.comment = r, this.comments = s || {}, this.valuesOptions = o, this._valuesFeatures = {}, this.reserved = void 0, i)
			for (var a = Object.keys(i), l = 0; l < a.length; ++l) "number" == typeof i[a[l]] && (this.valuesById[this.values[a[l]] = i[a[l]]] = a[l]) } return n.prototype._resolveFeatures = function(e) { return e = this._edition || e, t.prototype._resolveFeatures.call(this, e), Object.keys(this.values).forEach((t => { var e = Object.assign({}, this._features);
			this._valuesFeatures[t] = Object.assign(e, this.valuesOptions && this.valuesOptions[t] && this.valuesOptions[t].features) })), this }, n.fromJSON = function(t, e) { var i = new n(t, e.values, e.options, e.comment, e.comments); return i.reserved = e.reserved, e.edition && (i._edition = e.edition), i._defaultEdition = "proto3", i }, n.prototype.toJSON = function(t) { var e = !!t && Boolean(t.keepComments); return i.toObject(["edition", this._editionToJSON(), "options", this.options, "valuesOptions", this.valuesOptions, "values", this.values, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "comment", e ? this.comment : void 0, "comments", e ? this.comments : void 0]) }, n.prototype.add = function(t, e, n, r) { if (!i.isString(t)) throw TypeError("name must be a string"); if (!i.isInteger(e)) throw TypeError("id must be an integer"); if (void 0 !== this.values[t]) throw Error("duplicate name '" + t + "' in " + this); if (this.isReservedId(e)) throw Error("id " + e + " is reserved in " + this); if (this.isReservedName(t)) throw Error("name '" + t + "' is reserved in " + this); if (void 0 !== this.valuesById[e]) { if (!this.options || !this.options.allow_alias) throw Error("duplicate id " + e + " in " + this);
			this.values[t] = e } else this.valuesById[this.values[t] = e] = t; return r && (void 0 === this.valuesOptions && (this.valuesOptions = {}), this.valuesOptions[t] = r || null), this.comments[t] = n || null, this }, n.prototype.remove = function(t) { if (!i.isString(t)) throw TypeError("name must be a string"); var e = this.values[t]; if (null == e) throw Error("name '" + t + "' does not exist in " + this); return delete this.valuesById[e], delete this.values[t], delete this.comments[t], this.valuesOptions && delete this.valuesOptions[t], this }, n.prototype.isReservedId = function(t) { return e.isReservedId(this.reserved, t) }, n.prototype.isReservedName = function(t) { return e.isReservedName(this.reserved, t) }, _enum }

function requireEncoder() { if (hasRequiredEncoder) return encoder_1;
	hasRequiredEncoder = 1, encoder_1 = function(r) { for (var s, o = i.codegen(["m", "w"], r.name + "$encode")("if(!w)")("w=Writer.create()"), a = r.fieldsArray.slice().sort(i.compareFieldsById), l = 0; l < a.length; ++l) { var h = a[l].resolve(),
				u = r._fieldsArray.indexOf(h),
				c = h.resolvedType instanceof t ? "int32" : h.type,
				d = e.basic[c];
			s = "m" + i.safeProp(h.name), h.map ? (o("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){", s, h.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){", s)("w.uint32(%i).fork().uint32(%i).%s(ks[i])", (h.id << 3 | 2) >>> 0, 8 | e.mapKey[h.keyType], h.keyType), void 0 === d ? o("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()", u, s) : o(".uint32(%i).%s(%s[ks[i]]).ldelim()", 16 | d, c, s), o("}")("}")) : h.repeated ? (o("if(%s!=null&&%s.length){", s, s), h.packed && void 0 !== e.packed[c] ? o("w.uint32(%i).fork()", (h.id << 3 | 2) >>> 0)("for(var i=0;i<%s.length;++i)", s)("w.%s(%s[i])", c, s)("w.ldelim()") : (o("for(var i=0;i<%s.length;++i)", s), void 0 === d ? n(o, h, u, s + "[i]") : o("w.uint32(%i).%s(%s[i])", (h.id << 3 | d) >>> 0, c, s)), o("}")) : (h.optional && o("if(%s!=null&&Object.hasOwnProperty.call(m,%j))", s, h.name), void 0 === d ? n(o, h, u, s) : o("w.uint32(%i).%s(%s)", (h.id << 3 | d) >>> 0, c, s)) } return o("return w") }; var t = require_enum(),
		e = requireTypes(),
		i = requireUtil();

	function n(t, e, i, n) { return e.delimited ? t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)", i, n, (e.id << 3 | 3) >>> 0, (e.id << 3 | 4) >>> 0) : t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()", i, n, (e.id << 3 | 2) >>> 0) } return encoder_1 } Message2 = message, wrappers[".google.protobuf.Any"] = { fromObject: function(t) { if (t && t["@type"]) { var e = t["@type"].substring(t["@type"].lastIndexOf("/") + 1),
				i = this.lookup(e); if (i) { var n = "." === t["@type"].charAt(0) ? t["@type"].slice(1) : t["@type"]; return -1 === n.indexOf("/") && (n = "/" + n), this.create({ type_url: n, value: i.encode(i.fromObject(t)).finish() }) } } return this.fromObject(t) }, toObject: function(t, e) { var i = "",
			n = ""; if (e && e.json && t.type_url && t.value) { n = t.type_url.substring(t.type_url.lastIndexOf("/") + 1), i = t.type_url.substring(0, t.type_url.lastIndexOf("/") + 1); var r = this.lookup(n);
			r && (t = r.decode(t.value)) } if (!(t instanceof this.ctor) && t instanceof Message2) { var s = t.$type.toObject(t, e); return "" === i && (i = "type.googleapis.com/"), n = i + ("." === t.$type.fullName[0] ? t.$type.fullName.slice(1) : t.$type.fullName), s["@type"] = n, s } return this.toObject(t, e) } };
var protobuf$2 = indexLight.exports = indexMinimal;

function load(t, e, i) { return "function" == typeof e ? (i = e, e = new protobuf$2.Root) : e || (e = new protobuf$2.Root), e.load(t, i) }

function loadSync(t, e) { return e || (e = new protobuf$2.Root), e.loadSync(t) } protobuf$2.build = "light", protobuf$2.load = load, protobuf$2.loadSync = loadSync, protobuf$2.encoder = requireEncoder(), protobuf$2.decoder = requireDecoder(), protobuf$2.verifier = requireVerifier(), protobuf$2.converter = requireConverter(), protobuf$2.ReflectionObject = requireObject(), protobuf$2.Namespace = requireNamespace(), protobuf$2.Root = requireRoot(), protobuf$2.Enum = require_enum(), protobuf$2.Type = requireType(), protobuf$2.Field = requireField(), protobuf$2.OneOf = requireOneof(), protobuf$2.MapField = requireMapfield(), protobuf$2.Service = requireService(), protobuf$2.Method = requireMethod(), protobuf$2.Message = message, protobuf$2.wrappers = wrappers, protobuf$2.types = requireTypes(), protobuf$2.util = requireUtil(), protobuf$2.ReflectionObject._configure(protobuf$2.Root), protobuf$2.Namespace._configure(protobuf$2.Type, protobuf$2.Service, protobuf$2.Enum), protobuf$2.Root._configure(protobuf$2.Type), protobuf$2.Field._configure(protobuf$2.Type);
var indexLightExports = indexLight.exports,
	tokenize_1 = tokenize$1,
	delimRe = /[\s{}=;:[\],'"()<>]/g,
	stringDoubleRe = /(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,
	stringSingleRe = /(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,
	setCommentRe = /^ *[*/]+ */,
	setCommentAltRe = /^\s*\*?\/*/,
	setCommentSplitRe = /\n/g,
	whitespaceRe = /\s/,
	unescapeRe = /\\(.?)/g,
	unescapeMap = { 0: "\0", r: "\r", n: "\n", t: "\t" };

function unescape(t) { return t.replace(unescapeRe, (function(t, e) { switch (e) {
			case "\\":
			case "":
				return e;
			default:
				return unescapeMap[e] || "" } })) }

function tokenize$1(t, e) { t = t.toString(); var i = 0,
		n = t.length,
		r = 1,
		s = 0,
		o = {},
		a = [],
		l = null;

	function h(t) { return Error("illegal " + t + " (line " + r + ")") }

	function u(e) { return t.charAt(e) }

	function c(i, n, a) { var l, h = { type: t.charAt(i++), lineEmpty: !1, leading: a },
			u = i - (e ? 2 : 3);
		do { if (--u < 0 || "\n" === (l = t.charAt(u))) { h.lineEmpty = !0; break } } while (" " === l || "\t" === l); for (var c = t.substring(i, n).split(setCommentSplitRe), d = 0; d < c.length; ++d) c[d] = c[d].replace(e ? setCommentAltRe : setCommentRe, "").trim();
		h.text = c.join("\n").trim(), o[r] = h, s = r }

	function d(e) { var i = f(e),
			n = t.substring(e, i); return /^\s*\/\//.test(n) }

	function f(t) { for (var e = t; e < n && "\n" !== u(e);) e++; return e }

	function p() { if (a.length > 0) return a.shift(); if (l) return function() { var e = "'" === l ? stringSingleRe : stringDoubleRe;
			e.lastIndex = i - 1; var n = e.exec(t); if (!n) throw h("string"); return i = e.lastIndex, g(l), l = null, unescape(n[1]) }(); var s, o, p, m, v, y = 0 === i;
		do { if (i === n) return null; for (s = !1; whitespaceRe.test(p = u(i));)
				if ("\n" === p && (y = !0, ++r), ++i === n) return null; if ("/" === u(i)) { if (++i === n) throw h("comment"); if ("/" === u(i))
					if (e) { if (m = i, v = !1, d(i - 1)) { v = !0;
							do { if ((i = f(i)) === n) break; if (i++, !y) break } while (d(i)) } else i = Math.min(n, f(i) + 1);
						v && (c(m, i, y), y = !0), r++, s = !0 } else { for (v = "/" === u(m = i + 1);
							"\n" !== u(++i);)
							if (i === n) return null;++i, v && (c(m, i - 1, y), y = !0), ++r, s = !0 } else { if ("*" !== (p = u(i))) return "/";
					m = i + 1, v = e || "*" === u(m);
					do { if ("\n" === p && ++r, ++i === n) throw h("comment");
						o = p, p = u(i) } while ("*" !== o || "/" !== p);++i, v && (c(m, i - 2, y), y = !0), s = !0 } } } while (s); var x = i; if (delimRe.lastIndex = 0, !delimRe.test(u(x++)))
			for (; x < n && !delimRe.test(u(x));) ++x; var b = t.substring(i, i = x); return '"' !== b && "'" !== b || (l = b), b }

	function g(t) { a.push(t) }

	function m() { if (!a.length) { var t = p(); if (null === t) return null;
			g(t) } return a[0] } return Object.defineProperty({ next: p, peek: m, push: g, skip: function(t, e) { var i = m(); if (i === t) return p(), !0; if (!e) throw h("token '" + i + "', '" + t + "' expected"); return !1 }, cmnt: function(t) { var i, n = null; return void 0 === t ? (i = o[r - 1], delete o[r - 1], i && (e || "*" === i.type || i.lineEmpty) && (n = i.leading ? i.text : null)) : (s < t && m(), i = o[t], delete o[t], !i || i.lineEmpty || !e && "/" !== i.type || (n = i.leading ? null : i.text)), n } }, "line", { get: function() { return r } }) } tokenize$1.unescape = unescape;
var parse_1 = parse$1;
parse$1.filename = null, parse$1.defaults = { keepCase: !1 };
var tokenize = tokenize_1,
	Root = requireRoot(),
	Type = requireType(),
	Field = requireField(),
	MapField = requireMapfield(),
	OneOf = requireOneof(),
	Enum = require_enum(),
	Service = requireService(),
	Method = requireMethod(),
	ReflectionObject = requireObject(),
	types$1 = requireTypes(),
	util = requireUtil(),
	base10Re = /^[1-9][0-9]*$/,
	base10NegRe = /^-?[1-9][0-9]*$/,
	base16Re = /^0[x][0-9a-fA-F]+$/,
	base16NegRe = /^-?0[x][0-9a-fA-F]+$/,
	base8Re = /^0[0-7]+$/,
	base8NegRe = /^-?0[0-7]+$/,
	numberRe = /^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,
	nameRe = /^[a-zA-Z_][a-zA-Z_0-9]*$/,
	typeRefRe = /^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;

function parse$1(t, e, i) { e instanceof Root || (i = e, e = new Root), i || (i = parse$1.defaults); var n, r, s, o, a = i.preferTrailingComment || !1,
		l = tokenize(t, i.alternateCommentMode || !1),
		h = l.next,
		u = l.push,
		c = l.peek,
		d = l.skip,
		f = l.cmnt,
		p = !0,
		g = "proto2",
		m = e,
		v = [],
		y = {},
		x = i.keepCase ? function(t) { return t } : util.camelCase;

	function b(t, e, i) { var n = parse$1.filename; return i || (parse$1.filename = null), Error("illegal " + (e || "token") + " '" + t + "' (" + (n ? n + ", " : "") + "line " + l.line + ")") }

	function w() { var t, e = [];
		do { if ('"' !== (t = h()) && "'" !== t) throw b(t);
			e.push(h()), d(t), t = c() } while ('"' === t || "'" === t); return e.join("") }

	function T(t) { var e = h(); switch (e) {
			case "'":
			case '"':
				return u(e), w();
			case "true":
			case "TRUE":
				return !0;
			case "false":
			case "FALSE":
				return !1 } try { return function(t) { var e = 1; switch ("-" === t.charAt(0) && (e = -1, t = t.substring(1)), t) {
					case "inf":
					case "INF":
					case "Inf":
						return e * (1 / 0);
					case "nan":
					case "NAN":
					case "Nan":
					case "NaN":
						return NaN;
					case "0":
						return 0 } if (base10Re.test(t)) return e * parseInt(t, 10); if (base16Re.test(t)) return e * parseInt(t, 16); if (base8Re.test(t)) return e * parseInt(t, 8); if (numberRe.test(t)) return e * parseFloat(t); throw b(t, "number", !0) }(e) } catch (i) { if (typeRefRe.test(e)) return e; throw b(e, "value") } }

	function S(t, e) { var i, n;
		do { if (!e || '"' !== (i = c()) && "'" !== i) try { t.push([n = _(h()), d("to", !0) ? _(h()) : n]) } catch (o) { if (!(e && typeRefRe.test(i) && g >= 2023)) throw o;
				t.push(i) } else { var r = w(); if (t.push(r), g >= 2023) throw b(r, "id") } } while (d(",", !0)); var s = { options: void 0, setOption: function(t, e) { void 0 === this.options && (this.options = {}), this.options[t] = e } };
		O(s, (function(t) { if ("option" !== t) throw b(t);
			D(s, t), d(";") }), (function() { B(s) })) }

	function _(t, e) { switch (t) {
			case "max":
			case "MAX":
			case "Max":
				return 536870911;
			case "0":
				return 0 } if (!e && "-" === t.charAt(0)) throw b(t, "id"); if (base10NegRe.test(t)) return parseInt(t, 10); if (base16NegRe.test(t)) return parseInt(t, 16); if (base8NegRe.test(t)) return parseInt(t, 8); throw b(t, "id") }

	function E() { if (void 0 !== n) throw b("package"); if (n = h(), !typeRefRe.test(n)) throw b(n, "name");
		m = m.define(n), d(";") }

	function A() { var t, e = c(); switch (e) {
			case "weak":
				t = s || (s = []), h(); break;
			case "public":
				h();
			default:
				t = r || (r = []) } e = w(), d(";"), t.push(e) }

	function C() { if (d("="), (g = w()) < 2023) throw b(g, "syntax");
		d(";") }

	function k() { if (d("="), g = w(), !["2023"].includes(g)) throw b(g, "edition");
		d(";") }

	function P(t, e) { switch (e) {
			case "option":
				return D(t, e), d(";"), !0;
			case "message":
				return R(t, e), !0;
			case "enum":
				return L(t, e), !0;
			case "service":
				return function(t, e) { if (!nameRe.test(e = h())) throw b(e, "service name"); var i = new Service(e);
					O(i, (function(t) { if (!P(i, t)) { if ("rpc" !== t) throw b(t);! function(t, e) { var i = f(),
									n = e; if (!nameRe.test(e = h())) throw b(e, "name"); var r, s, o, a, l = e; if (d("("), d("stream", !0) && (s = !0), !typeRefRe.test(e = h())) throw b(e); if (r = e, d(")"), d("returns"), d("("), d("stream", !0) && (a = !0), !typeRefRe.test(e = h())) throw b(e);
								o = e, d(")"); var u = new Method(l, n, r, o, s, a);
								u.comment = i, O(u, (function(t) { if ("option" !== t) throw b(t);
									D(u, t), d(";") })), t.add(u) }(i, t) } })), t.add(i), t === m && v.push(i) }(t, e), !0;
			case "extend":
				return function(t, e) { if (!typeRefRe.test(e = h())) throw b(e, "reference"); var i = e;
					O(null, (function(e) { switch (e) {
							case "required":
							case "repeated":
								M(t, e, i); break;
							case "optional":
								M(t, "proto3" === g ? "proto3_optional" : "optional", i); break;
							default:
								if ("proto2" === g || !typeRefRe.test(e)) throw b(e);
								u(e), M(t, "optional", i) } })) }(t, e), !0 } return !1 }

	function O(t, e, i) { var n = l.line; if (t && ("string" != typeof t.comment && (t.comment = f()), t.filename = parse$1.filename), d("{", !0)) { for (var r;
				"}" !== (r = h());) e(r);
			d(";", !0) } else i && i(), d(";"), t && ("string" != typeof t.comment || a) && (t.comment = f(n) || t.comment) }

	function R(t, e) { if (!nameRe.test(e = h())) throw b(e, "type name"); var i = new Type(e);
		O(i, (function(t) { if (!P(i, t)) switch (t) {
				case "map":
					! function(t) { d("<"); var e = h(); if (void 0 === types$1.mapKey[e]) throw b(e, "type");
						d(","); var i = h(); if (!typeRefRe.test(i)) throw b(i, "type");
						d(">"); var n = h(); if (!nameRe.test(n)) throw b(n, "name");
						d("="); var r = new MapField(x(n), _(h()), e, i);
						O(r, (function(t) { if ("option" !== t) throw b(t);
							D(r, t), d(";") }), (function() { B(r) })), t.add(r) }(i); break;
				case "required":
					if ("proto2" !== g) throw b(t);
				case "repeated":
					M(i, t); break;
				case "optional":
					if ("proto3" === g) M(i, "proto3_optional");
					else { if ("proto2" !== g) throw b(t);
						M(i, "optional") } break;
				case "oneof":
					! function(t, e) { if (!nameRe.test(e = h())) throw b(e, "name"); var i = new OneOf(x(e));
						O(i, (function(t) { "option" === t ? (D(i, t), d(";")) : (u(t), M(i, "optional")) })), t.add(i) }(i, t); break;
				case "extensions":
					S(i.extensions || (i.extensions = [])); break;
				case "reserved":
					S(i.reserved || (i.reserved = []), !0); break;
				default:
					if ("proto2" === g || !typeRefRe.test(t)) throw b(t);
					u(t), M(i, "optional") } })), t.add(i), t === m && v.push(i) }

	function M(t, e, i) { var n = h(); if ("group" !== n) { for (; n.endsWith(".") || c().startsWith(".");) n += h(); if (!typeRefRe.test(n)) throw b(n, "type"); var r = h(); if (!nameRe.test(r)) throw b(r, "name");
			r = x(r), d("="); var s = new Field(r, _(h()), n, e, i); if (O(s, (function(t) { if ("option" !== t) throw b(t);
					D(s, t), d(";") }), (function() { B(s) })), "proto3_optional" === e) { var o = new OneOf("_" + r);
				s.setOption("proto3_optional", !0), o.add(s), t.add(o) } else t.add(s);
			t === m && v.push(s) } else ! function(t, e) { if (g >= 2023) throw b("group"); var i = h(); if (!nameRe.test(i)) throw b(i, "name"); var n = util.lcFirst(i);
			i === n && (i = util.ucFirst(i)), d("="); var r = _(h()),
				s = new Type(i);
			s.group = !0; var o = new Field(n, r, i, e);
			o.filename = parse$1.filename, O(s, (function(t) { switch (t) {
					case "option":
						D(s, t), d(";"); break;
					case "required":
					case "repeated":
						M(s, t); break;
					case "optional":
						M(s, "proto3" === g ? "proto3_optional" : "optional"); break;
					case "message":
						R(s, t); break;
					case "enum":
						L(s, t); break;
					case "reserved":
						S(s.reserved || (s.reserved = []), !0); break;
					default:
						throw b(t) } })), t.add(s).add(o) }(t, e) }

	function L(t, e) { if (!nameRe.test(e = h())) throw b(e, "name"); var i = new Enum(e);
		O(i, (function(t) { switch (t) {
				case "option":
					D(i, t), d(";"); break;
				case "reserved":
					S(i.reserved || (i.reserved = []), !0), void 0 === i.reserved && (i.reserved = []); break;
				default:
					! function(t, e) { if (!nameRe.test(e)) throw b(e, "name");
						d("="); var i = _(h(), !0),
							n = { options: void 0, getOption: function(t) { return this.options[t] }, setOption: function(t, e) { ReflectionObject.prototype.setOption.call(n, t, e) }, setParsedOption: function() {} };
						O(n, (function(t) { if ("option" !== t) throw b(t);
							D(n, t), d(";") }), (function() { B(n) })), t.add(e, i, n.comment, n.parsedOptions || n.options) }(i, t) } })), t.add(i), t === m && v.push(i) }

	function D(t, e) { var i, n, r = !0; for ("option" === e && (e = h());
			"=" !== e;) { if ("(" === e) { var s = h();
				d(")"), e = "(" + s + ")" } if (r) { if (r = !1, e.includes(".") && !e.includes("(")) { var o = e.split(".");
					i = o[0] + ".", e = o[1]; continue } i = e } else n = n ? n += e : e;
			e = h() } var a = F(t, n ? i.concat(n) : i);
		n = n && "." === n[0] ? n.slice(1) : n,
			function(t, e, i, n) { t.setParsedOption && t.setParsedOption(e, i, n) }(t, i = i && "." === i[i.length - 1] ? i.slice(0, -1) : i, a, n) }

	function F(t, e) { if (d("{", !0)) { for (var i = {}; !d("}", !0);) { if (!nameRe.test(o = h())) throw b(o, "name"); if (null === o) throw b(o, "end of input"); var n, r = o; if (d(":", !0), "{" === c()) n = F(t, e + "." + o);
				else if ("[" === c()) { var s; if (n = [], d("[", !0)) { do { s = T(), n.push(s) } while (d(",", !0));
						d("]"), void 0 !== s && I(t, e + "." + o, s) } } else n = T(), I(t, e + "." + o, n); var a = i[r];
				a && (n = [].concat(a).concat(n)), i[r] = n, d(",", !0), d(";", !0) } return i } var l = T(); return I(t, e, l), l }

	function I(t, e, i) { m === t && /^features\./.test(e) ? y[e] = i : t.setOption && t.setOption(e, i) }

	function B(t) { if (d("[", !0)) { do { D(t, "option") } while (d(",", !0));
			d("]") } return t } for (; null !== (o = h());) switch (o) {
		case "package":
			if (!p) throw b(o);
			E(); break;
		case "import":
			if (!p) throw b(o);
			A(); break;
		case "syntax":
			if (!p) throw b(o);
			C(); break;
		case "edition":
			if (!p) throw b(o);
			k(); break;
		case "option":
			D(m, o), d(";", !0); break;
		default:
			if (P(m, o)) { p = !1; continue } throw b(o) }
	return v.forEach((t => { t._edition = g, Object.keys(y).forEach((e => { void 0 === t.getOption(e) && t.setOption(e, y[e], !0) })) })), parse$1.filename = null, { package: n, imports: r, weakImports: s, root: e } }
var common_1 = common,
	commonRe = /\/|\./,
	timeType;

function common(t, e) { commonRe.test(t) || (t = "google/protobuf/" + t + ".proto", e = { nested: { google: { nested: { protobuf: { nested: e } } } } }), common[t] = e } common("any", { Any: { fields: { type_url: { type: "string", id: 1 }, value: { type: "bytes", id: 2 } } } }), common("duration", { Duration: timeType = { fields: { seconds: { type: "int64", id: 1 }, nanos: { type: "int32", id: 2 } } } }), common("timestamp", { Timestamp: timeType }), common("empty", { Empty: { fields: {} } }), common("struct", { Struct: { fields: { fields: { keyType: "string", type: "Value", id: 1 } } }, Value: { oneofs: { kind: { oneof: ["nullValue", "numberValue", "stringValue", "boolValue", "structValue", "listValue"] } }, fields: { nullValue: { type: "NullValue", id: 1 }, numberValue: { type: "double", id: 2 }, stringValue: { type: "string", id: 3 }, boolValue: { type: "bool", id: 4 }, structValue: { type: "Struct", id: 5 }, listValue: { type: "ListValue", id: 6 } } }, NullValue: { values: { NULL_VALUE: 0 } }, ListValue: { fields: { values: { rule: "repeated", type: "Value", id: 1 } } } }), common("wrappers", { DoubleValue: { fields: { value: { type: "double", id: 1 } } }, FloatValue: { fields: { value: { type: "float", id: 1 } } }, Int64Value: { fields: { value: { type: "int64", id: 1 } } }, UInt64Value: { fields: { value: { type: "uint64", id: 1 } } }, Int32Value: { fields: { value: { type: "int32", id: 1 } } }, UInt32Value: { fields: { value: { type: "uint32", id: 1 } } }, BoolValue: { fields: { value: { type: "bool", id: 1 } } }, StringValue: { fields: { value: { type: "string", id: 1 } } }, BytesValue: { fields: { value: { type: "bytes", id: 1 } } } }), common("field_mask", { FieldMask: { fields: { paths: { rule: "repeated", type: "string", id: 1 } } } }), common.get = function(t) { return common[t] || null };
var protobuf$1 = src.exports = indexLightExports;
protobuf$1.build = "full", protobuf$1.tokenize = tokenize_1, protobuf$1.parse = parse_1, protobuf$1.common = common_1, protobuf$1.Root._configure(protobuf$1.Type, protobuf$1.parse, protobuf$1.common);
var srcExports = src.exports,
	protobufjs = srcExports;
const protobuf = getDefaultExportFromCjs(protobufjs),
	inputCommandSchema = { nested: { InputCommand: { oneofs: { command: { oneof: ["movement", "ping", "emote", "reqExtraData", "setSinglePlayerMode"] } }, fields: { movement: { type: "MovementCommand", id: 1 }, ping: { type: "PingCommand", id: 2 }, emote: { type: "EmoteCommand", id: 3 }, reqExtraData: { type: "ReqExtraDataCommand", id: 4 }, setSinglePlayerMode: { type: "SetSinglePlayerModeCommand", id: 5 } } }, MovementCommand: { fields: { direction: { type: "uint32", id: 1 }, seqNum: { type: "uint32", id: 2, options: { proto3_optional: !0 } } } }, PingCommand: { fields: { seqNum: { type: "uint32", id: 1, options: { proto3_optional: !0 } } } }, EmoteCommand: { fields: { emote: { type: "string", id: 1 } } }, ReqExtraDataCommand: { fields: {} }, SetSinglePlayerModeCommand: { fields: { enabled: { type: "bool", id: 1 } } } } },
	serverMessageSchema = { nested: { ServerMessage: { oneofs: { message: { oneof: ["gameStateUpdate", "initPlayers", "playerInitExtraData", "playerHomeData", "playerJoin", "playerLeave", "playerPong", "onlinePlayers", "lastAcked", "skinUpdated"] } }, fields: { gameStateUpdate: { type: "GameStateUpdateMessage", id: 1 }, initPlayers: { type: "InitPlayersMessage", id: 2 }, playerInitExtraData: { type: "PlayerInitExtraDataMessage", id: 3 }, playerHomeData: { type: "PlayerHomeDataMessage", id: 4 }, playerJoin: { type: "PlayerJoinMessage", id: 5 }, playerLeave: { type: "PlayerLeaveMessage", id: 6 }, playerPong: { type: "PlayerPongMessage", id: 7 }, onlinePlayers: { type: "OnlinePlayersMessage", id: 8 }, lastAcked: { type: "LastAckedMessage", id: 9 }, skinUpdated: { type: "SkinUpdatedMessage", id: 10 } } }, GameStateUpdateMessage: { fields: { timestamp: { type: "uint64", id: 1 }, playerUpdates: { rule: "repeated", type: "IdAndPlayerUpdate", id: 2 } } }, InitPlayersMessage: { fields: { players: { rule: "repeated", type: "IdAndPlayerInitData", id: 1 } } }, PlayerInitExtraDataMessage: { fields: { extraData: { type: "PlayerInitExtraData", id: 1 } } }, PlayerHomeDataMessage: { fields: { name: { type: "string", id: 1 }, playerId: { type: "uint32", id: 2 }, paintings: { rule: "repeated", type: "string", id: 3 } } }, PlayerJoinMessage: { fields: { playerId: { type: "uint32", id: 1 }, player: { type: "PlayerInitData", id: 2 } } }, PlayerLeaveMessage: { fields: { playerId: { type: "uint32", id: 1 } } }, PlayerPongMessage: { fields: { seqNum: { type: "uint32", id: 1, options: { proto3_optional: !0 } } } }, OnlinePlayersMessage: { fields: { players: { rule: "repeated", type: "OnlinePlayer", id: 1 } } }, IdAndPlayerUpdate: { fields: { id: { type: "uint32", id: 1 }, update: { type: "PlayerUpdate", id: 2 } } }, PlayerUpdate: { fields: { position: { type: "Position", id: 1 }, emote: { type: "string", id: 2, options: { proto3_optional: !0 } } } }, Position: { fields: { x: { type: "int32", id: 1 }, y: { type: "int32", id: 2 }, direction: { type: "uint32", id: 3 } } }, IdAndPlayerInitData: { fields: { id: { type: "uint32", id: 1 }, data: { type: "PlayerInitData", id: 2 } } }, PlayerInitData: { fields: { name: { type: "string", id: 1 }, team_name: { type: "string", id: 2 }, team_emoji: { type: "string", id: 3 }, sprite: { type: "string", id: 4 }, position: { type: "Position", id: 5 }, area: { type: "string", id: 6 }, boardColour: { type: "uint32", id: 7 }, wheelColour: { type: "uint32", id: 8 }, visiting: { type: "uint32", id: 9, options: { proto3_optional: !0 } }, firstTime: { type: "bool", id: 10, options: { proto3_optional: !0 } }, skinId: { type: "string", id: 11, options: { proto3_optional: !0 } } } }, PlayerInitExtraData: { fields: { emotes: { rule: "repeated", type: "string", id: 1 }, items: { rule: "repeated", type: "PlayerItem", id: 2 }, paintings: { rule: "repeated", type: "string", id: 3 } } }, PlayerItem: { fields: { item: { type: "string", id: 1 }, quantity: { type: "uint32", id: 2 } } }, OnlinePlayer: { fields: { id: { type: "uint32", id: 1 }, name: { type: "string", id: 2 }, team_name: { type: "string", id: 3 }, team_emoji: { type: "string", id: 4 } } }, LastAckedMessage: { fields: { lastAcked: { type: "uint32", id: 1 } } }, SkinUpdatedMessage: { fields: { playerId: { type: "uint32", id: 1 }, skinId: { type: "string", id: 2, options: { proto3_optional: !0 } } } } } },
	inputCommandRoot = protobuf.Root.fromJSON(inputCommandSchema),
	serverMessageRoot = protobuf.Root.fromJSON(serverMessageSchema),
	InputCommandProto = inputCommandRoot.lookupType("InputCommand"),
	ServerMessageProto = serverMessageRoot.lookupType("ServerMessage"),
	INPUT_COMMAND_MAP = {
		[InputCommandType.Movement]: "movement", [InputCommandType.Ping]: "ping", [InputCommandType.Emote]: "emote", [InputCommandType.ReqExtraData]: "reqExtraData", [InputCommandType.SetSinglePlayerMode]: "setSinglePlayerMode" },
	INPUT_COMMAND_MAP_REV = Object.fromEntries(Object.entries(INPUT_COMMAND_MAP).map((([t, e]) => [e, parseInt(t)]))),
	SERVER_MSG_MAP = {
		[ServerMessageType.GameStateUpdate]: "gameStateUpdate", [ServerMessageType.InitPlayers]: "initPlayers", [ServerMessageType.PlayerInitExtraData]: "playerInitExtraData", [ServerMessageType.PlayerHomeDataMessage]: "playerHomeData", [ServerMessageType.PlayerJoin]: "playerJoin", [ServerMessageType.PlayerLeave]: "playerLeave", [ServerMessageType.PlayerPong]: "playerPong", [ServerMessageType.OnlinePlayers]: "onlinePlayers", [ServerMessageType.LastAcked]: "lastAcked", [ServerMessageType.SkinUpdated]: "skinUpdated" },
	SERVER_MSG_MAP_REV = Object.fromEntries(Object.entries(SERVER_MSG_MAP).map((([t, e]) => [e, parseInt(t)])));

function createProtobufInputCommandSerializer() { return { serialize(t) { const e = INPUT_COMMAND_MAP[t.type]; if (!e) throw new Error(`Unknown input command type found while serializing: ${t.type}`); const i = {
					[e]: t },
				n = InputCommandProto.create(i),
				r = InputCommandProto.encode(n).finish(); return r.buffer.slice(r.byteOffset, r.byteOffset + r.byteLength) }, deserialize(t) { const e = InputCommandProto.decode(new Uint8Array(t)),
				i = InputCommandProto.toObject(e),
				n = Object.keys(i)[0],
				r = INPUT_COMMAND_MAP_REV[n]; if (void 0 === !r) throw new Error(`Unknown input command type found while deserializing: ${n}`); return { type: r, ...i[n] } } } }

function createProtobufServerMessageSerializer() { return { serialize(t) { const e = SERVER_MSG_MAP[t.type]; if (!e) throw new Error(`Unknown server message type found while serializing: ${t.type}`); const i = {
					[e]: t },
				n = ServerMessageProto.create(i),
				r = ServerMessageProto.encode(n).finish(); return r.buffer.slice(r.byteOffset, r.byteOffset + r.byteLength) }, deserialize(t) { const e = ServerMessageProto.decode(new Uint8Array(t)),
				i = ServerMessageProto.toObject(e),
				n = Object.keys(i)[0],
				r = SERVER_MSG_MAP_REV[n]; if (void 0 === r) throw new Error(`Unknown server message type found while deserializing: ${n}`); return { type: r, ...i[n] } } } }
const ProtobufInputCommandSerializer = createProtobufInputCommandSerializer(),
	ProtobufServerMessageSerializer = createProtobufServerMessageSerializer(),
	InputCommandSerializer = ProtobufInputCommandSerializer,
	ServerMessageSerializer = ProtobufServerMessageSerializer,
	CLIENT_CONFIG = { SERVER_WS_ADDRESS: `${API_BASE_URL}/ws`, ARTIFICIAL_LAG: 0, DEBUG_RENDER: !1 },
	PING_INTERVAL = 5e3;
class NetworkClient { constructor(t) { __publicField(this, "ws"), __publicField(this, "seqNum"), __publicField(this, "inputCommandSerializer"), __publicField(this, "serverMessageSerializer"), __publicField(this, "gameStateUpdateMessagesQueue"), __publicField(this, "pendingGameStateUpdate"), __publicField(this, "playerJoinLeaveMessagesQueue"), __publicField(this, "skinUpdatedMessagesQueue"), __publicField(this, "initPlayersMessage"), __publicField(this, "playerInitExtraDataMessage"), __publicField(this, "playerHomeDataMessage"), __publicField(this, "sentMovementCommands"), __publicField(this, "pingSendTime"), __publicField(this, "pingInterval"), __publicField(this, "ping"), __publicField(this, "lastAcked"), console.log("init network client"), this.ws = new WebSocket(t), this.ws.binaryType = "arraybuffer", this.inputCommandSerializer = InputCommandSerializer, this.serverMessageSerializer = ServerMessageSerializer, this.seqNum = 1, this.gameStateUpdateMessagesQueue = [], this.pendingGameStateUpdate = null, this.playerJoinLeaveMessagesQueue = [], this.skinUpdatedMessagesQueue = [], this.sentMovementCommands = [], this.initPlayersMessage = void 0, this.playerInitExtraDataMessage = void 0, this.pingInterval = void 0, this.lastAcked = 0, this.ws.addEventListener("open", this.onOpen.bind(this)), this.ws.addEventListener("error", this.onError.bind(this)), this.ws.addEventListener("close", this.onClose.bind(this)), this.ws.addEventListener("message", this.onMessage.bind(this)) } onOpen() { console.log("ws opened"), uiState.connectionStatus = ConnectionStatus.Connected, this.pingInterval = setInterval(this.checkPing.bind(this), PING_INTERVAL) } onError() { console.error("ws error"), uiState.connectionStatus = ConnectionStatus.Disconnected } onClose() { console.log("ws close"), uiState.connectionStatus = ConnectionStatus.Disconnected, clearInterval(this.pingInterval) } onMessage(t) { const e = Date.now();
		setTimeout((() => { const i = this.serverMessageSerializer.deserialize(t.data); switch (i.type) {
				case ServerMessageType.GameStateUpdate:
					const t = i;
					this.pendingGameStateUpdate && this.gameStateUpdateMessagesQueue.push(this.pendingGameStateUpdate), this.pendingGameStateUpdate = t; break;
				case ServerMessageType.InitPlayers:
					this.initPlayersMessage = i; break;
				case ServerMessageType.PlayerInitExtraData:
					this.playerInitExtraDataMessage = i; break;
				case ServerMessageType.PlayerHomeDataMessage:
					this.playerHomeDataMessage = i; break;
				case ServerMessageType.PlayerJoin:
				case ServerMessageType.PlayerLeave:
					this.playerJoinLeaveMessagesQueue.push(i); break;
				case ServerMessageType.PlayerPong:
					uiState.ping = e - this.pingSendTime; break;
				case ServerMessageType.OnlinePlayers:
					const n = i;
					uiState.onlinePlayers = n.players; break;
				case ServerMessageType.LastAcked:
					const r = i;
					this.lastAcked = r.lastAcked, this.pendingGameStateUpdate && (this.gameStateUpdateMessagesQueue.push(this.pendingGameStateUpdate), this.pendingGameStateUpdate = null); break;
				case ServerMessageType.SkinUpdated:
					this.skinUpdatedMessagesQueue.push(i) } }), CLIENT_CONFIG.ARTIFICIAL_LAG) } sendMovement(t) { this.ws.readyState === WebSocket.OPEN ? (t.seqNum = this.seqNum++, this.sentMovementCommands.push(t), setTimeout((() => { this.ws.send(this.inputCommandSerializer.serialize(t)) }), CLIENT_CONFIG.ARTIFICIAL_LAG)) : console.error("ws not open yet, cannot send") } checkPing() { this.ws.readyState === WebSocket.OPEN ? (this.pingSendTime = Date.now(), this.ws.send(this.inputCommandSerializer.serialize({ type: InputCommandType.Ping, seq: 1 }))) : console.error("ws not open yet, unable to check ping") } sendEmote(t) { if (this.ws.readyState === WebSocket.OPEN) { const e = { type: InputCommandType.Emote, emote: t };
			setTimeout((() => { this.ws.send(this.inputCommandSerializer.serialize(e)) }), CLIENT_CONFIG.ARTIFICIAL_LAG) } else console.error("ws not open yet, cannot send emote") } sendReqExtraData() { if (this.ws.readyState === WebSocket.OPEN) { const t = { type: InputCommandType.ReqExtraData };
			setTimeout((() => { this.ws.send(this.inputCommandSerializer.serialize(t)) }), CLIENT_CONFIG.ARTIFICIAL_LAG) } else console.error("ws not open yet, cannot send req extra data") } sendSetSinglePlayerMode(t) { if (this.ws.readyState === WebSocket.OPEN) { const e = { type: InputCommandType.SetSinglePlayerMode, enabled: t };
			setTimeout((() => { this.ws.send(this.inputCommandSerializer.serialize(e)) }), CLIENT_CONFIG.ARTIFICIAL_LAG) } else console.error("ws not open yet, cannot send single player mode") } }
const PLAYER_SPEED = 3;
class PlayerState { constructor({ id: t, name: e, team_name: i, team_emoji: n, sprite: r, x: s, y: o, direction: a = Direction.DOWN, boardColour: l, wheelColour: h }) { __publicField(this, "id"), __publicField(this, "name"), __publicField(this, "team_name"), __publicField(this, "team_emoji"), __publicField(this, "area"), __publicField(this, "visiting"), __publicField(this, "sprite"), __publicField(this, "x"), __publicField(this, "y"), __publicField(this, "direction"), __publicField(this, "boardColour"), __publicField(this, "wheelColour"), __publicField(this, "skinId"), __publicField(this, "emotes"), __publicField(this, "paintings"), __publicField(this, "items"), __publicField(this, "singlePlayerMode", !1), this.id = t, this.name = e, this.team_name = i, this.team_emoji = n, this.sprite = r, this.x = s, this.y = o, this.direction = a, this.boardColour = l, this.wheelColour = h } toInitData() { return { name: this.name, team_name: this.team_name, team_emoji: this.team_emoji, sprite: this.sprite, position: this.getPosition(), area: this.area, boardColour: this.boardColour, wheelColour: this.wheelColour, skinId: this.skinId } } updateMovement(t) { const e = this.afterMovement(t);
		this.x = e.x, this.y = e.y, this.direction = e.direction } afterMovement(t) { const e = t.direction,
			i = PLAYER_SPEED; let n = 0,
			r = 0; return e == Direction.LEFT ? n = -i : e == Direction.RIGHT ? n = i : e == Direction.UP ? r = -i : e == Direction.DOWN && (r = i), { x: this.x + n, y: this.y + r, direction: e } } getPlayerBbox(t) { const e = PLAYER_BBOX,
			i = (null == t ? void 0 : t.x) ?? this.x,
			n = (null == t ? void 0 : t.y) ?? this.y; return { x: i + e.x, y: n + e.y, width: e.width, height: e.height } } setPosition(t) { this.x = t.x, this.y = t.y, this.direction = t.direction } getPosition() { return { x: this.x, y: this.y, direction: this.direction } } }
const ANIMATION_DEFAULT_FRAMERATE = 4,
	IDLE_TIME_THRESHOLD = 1e3;

function generatePlayerSpriteAnimations() { return Object.fromEntries(PLAYER_SPRITES.map((t => [t, { moving: { down: { key: `${t}-moving-down`, texture: `${t}`, frames: [0, 1, 2, 0] }, up: { key: `${t}-moving-up`, texture: `${t}`, frames: [5, 6, 7, 5] }, left: { key: `${t}-moving-left`, texture: `${t}`, frames: [10, 11, 12, 10] }, right: { key: `${t}-moving-right`, texture: `${t}`, frames: [15, 16, 17, 15] } }, idle: { down: { key: `${t}-idle-down`, texture: `${t}`, frames: [0, 0, 3, 4] }, up: { key: `${t}-idle-up`, texture: `${t}`, frames: [5, 5, 8, 9] }, left: { key: `${t}-idle-left`, texture: `${t}`, frames: [10, 10, 13, 14] }, right: { key: `${t}-idle-right`, texture: `${t}`, frames: [15, 15, 18, 19] } } }]))) }
const PLAYER_SPRITE_ANIMATION_CONFIGS = generatePlayerSpriteAnimations();

function getPlayerSpriteAnimationConfig(t) { return PLAYER_SPRITE_ANIMATION_CONFIGS[t] }

function createAnimations(t) { const e = e => { Object.values(e).forEach((e => { Object.values(e).forEach((e => { Object.values(e).forEach((e => { t.create({ key: e.key, frames: t.generateFrameNumbers(e.texture, { frames: e.frames }), repeat: e.repeat ?? 0, frameRate: e.frameRate ?? ANIMATION_DEFAULT_FRAMERATE }) })) })) })) };
	e(PLAYER_SPRITE_ANIMATION_CONFIGS), e(SKIN_ANIMATION_CONFIGS), EMOTES.forEach((e => { "paw" === e || "polychrome-paw" === e ? t.create({ key: e, frames: t.generateFrameNames(e, { frames: [0, 1, 2, 3, 4, 5] }), repeat: 1, frameRate: 8 }) : e.startsWith("polychrome-") ? t.create({ key: e, frames: t.generateFrameNames(e, { frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11] }), repeat: 2, frameRate: 6 }) : t.create({ key: e, frames: t.generateFrameNames(e, { frames: [0] }), repeat: 3, frameRate: 1 }) })) }

function generateSkinAnimations() { return Object.fromEntries(SKINS.map((t => [t, { moving: { down: { key: `${t}-moving-down`, texture: `${t}`, frames: [0, 1, 2, 0] }, up: { key: `${t}-moving-up`, texture: `${t}`, frames: [5, 6, 7, 5] }, left: { key: `${t}-moving-left`, texture: `${t}`, frames: [10, 11, 12, 10] }, right: { key: `${t}-moving-right`, texture: `${t}`, frames: [15, 16, 17, 15] } }, idle: { down: { key: `${t}-idle-down`, texture: `${t}`, frames: [0, 0, 3, 4] }, up: { key: `${t}-idle-up`, texture: `${t}`, frames: [5, 5, 8, 9] }, left: { key: `${t}-idle-left`, texture: `${t}`, frames: [10, 10, 13, 14] }, right: { key: `${t}-idle-right`, texture: `${t}`, frames: [15, 15, 18, 19] } } }]))) }
const SKIN_ANIMATION_CONFIGS = generateSkinAnimations();

function getSkinAnimationConfig(t) { return SKIN_ANIMATION_CONFIGS[t] }

function loadSprites(t) { PLAYER_SPRITES.forEach((e => { t.load.spritesheet(e, `sprites/${e}-32-sheet-4-directions.png`, { frameWidth: 64, frameHeight: 64 }) })), t.load.spritesheet("board", "sprites/board.png", { frameWidth: 64, frameHeight: 64 }), t.load.spritesheet("wheels", "sprites/wheels.png", { frameWidth: 64, frameHeight: 64 }), SKINS.forEach((e => { t.load.spritesheet(e, `sprites/skins/${e}.png`, { frameWidth: 64, frameHeight: 64 }) })), EMOTES.forEach((e => { "bsidescbr" === e ? t.load.spritesheet("bsidescbr", "emotes/bsidescbr.webp", { frameWidth: 132, frameHeight: 80 }) : "paw" === e || "polychrome-paw" === e || e.startsWith("polychrome-") ? t.load.spritesheet(e, `emotes/${e}.png`, { frameWidth: 64, frameHeight: 64 }) : t.load.spritesheet(e, `emotes/${e}.webp`, { frameWidth: 64, frameHeight: 64 }) })), Object.values(ItemConfigs).forEach((({ sprite: e }) => { t.load.spritesheet(e, `items/${e}.png`, { frameWidth: 64, frameHeight: 64 }) })), Object.values(PaintingConfigs).forEach((({ sprite: e }) => { t.load.spritesheet(e, `paintings/${e}.png`, { frameWidth: 60, frameHeight: 40 }) })) }
const BOARD_COLOURS = [16269121, 5944789, 15220712, 4188246, 14397256, 3882308, 13817312],
	WHEEL_COLOURS = [4765403, 5593947, 11687253, 1974571, 8640670];
class DogBoard extends Phaser.GameObjects.Container { constructor(t, e, i, n, r, s) { super(t), __publicField(this, "scene"), __publicField(this, "sprite"), __publicField(this, "dog"), __publicField(this, "board"), __publicField(this, "wheels"), __publicField(this, "skinSprite"), __publicField(this, "skinId"), this.scene = t, this.sprite = e, this.skinId = s, this.board = this.scene.add.sprite(r || 0, r || 0, "board"), this.dog = this.scene.add.sprite(r || 0, r || 0, e), this.wheels = this.scene.add.sprite(r || 0, r || 0, "wheels"), this.dog.setOrigin(0, 0), this.board.setOrigin(0, 0), this.wheels.setOrigin(0, 0), this.dog.texture.setFilter(Phaser.Textures.NEAREST), this.board.texture.setFilter(Phaser.Textures.NEAREST), this.wheels.texture.setFilter(Phaser.Textures.NEAREST), this.board.setTint(i), this.wheels.setTint(n), s && (this.skinSprite = this.scene.add.sprite(r || 0, r || 0, s), this.skinSprite.setOrigin(0, 0), this.skinSprite.texture.setFilter(Phaser.Textures.NEAREST)), this.setSize(64, 64); const o = [this.board, this.wheels, this.dog];
		this.skinSprite && o.push(this.skinSprite), this.add(o), this.scene.add.existing(this) } playAnimations(t, e) { const i = getPlayerSpriteAnimationConfig(this.sprite),
			n = DIRECTIONS.indexOf(directionToString(e)); if (this.dog.anims.play(i[t][directionToString(e)], !0), this.board.setFrame(n), this.wheels.setFrame(n), this.skinSprite && this.skinId) { const i = getSkinAnimationConfig(this.skinId);
			this.skinSprite.anims.play(i[t][directionToString(e)], !0) } } setSkin(t, e, i) { if (this.skinSprite && (this.remove(this.skinSprite), this.skinSprite.destroy(), this.skinSprite = void 0), this.skinId = t, t && (this.skinSprite = this.scene.add.sprite(0, 0, t), this.skinSprite.setOrigin(0, 0), this.skinSprite.texture.setFilter(Phaser.Textures.NEAREST), this.add(this.skinSprite), void 0 !== e && void 0 !== i)) { const n = getSkinAnimationConfig(t),
				r = i ? "moving" : "idle";
			this.skinSprite.anims.play(n[r][directionToString(e)], !0) } } } class Character extends Phaser$1.GameObjects.Container { constructor(t, e, i) { super(t, i.position.x, i.position.y), __publicField(this, "id"), __publicField(this, "prevPosition"), __publicField(this, "playerState"), __publicField(this, "label"), __publicField(this, "serverUpdateTime"), __publicField(this, "prevServerUpdateTime"), __publicField(this, "timeSinceNewServerUpdate"), __publicField(this, "movementAnimations"), __publicField(this, "idleTime"), __publicField(this, "isIdling"), __publicField(this, "dogBoard"), __publicField(this, "emoteSprite"), this.id = e, this.playerState = new PlayerState({ id: e, name: i.name, team_name: i.team_name, team_emoji: i.team_emoji, sprite: i.sprite, x: i.position.x, y: i.position.y, direction: i.position.direction, boardColour: i.boardColour, wheelColour: i.wheelColour }), this.prevPosition = this.playerState.getPosition(), this.serverUpdateTime = 0, this.prevServerUpdateTime = 0, this.timeSinceNewServerUpdate = 0, this.dogBoard = new DogBoard(this.scene, i.sprite, i.boardColour, i.wheelColour, 0, i.skinId), this.add(this.dogBoard), this.scene.add.existing(this), this.scene.physics.world.enable(this, 0), this.idleTime = 0, this.isIdling = !0, this.label = this.scene.add.text(this.x, this.y, `${i.name} ${i.team_emoji}`), this.label.setOrigin(.5, .5).setFontSize(16).setFontFamily('"Pixel Operator"').setPadding(16, 16).setDepth(1e4), this.label.texture.setFilter(Phaser$1.Textures.NEAREST) } playEmote(t) { this.emoteSprite || (this.emoteSprite = this.scene.add.sprite(this.x + 32, this.y - 48, t, 0).setOrigin(.5, .5), this.emoteSprite.texture.setFilter(Phaser$1.Textures.NEAREST), this.emoteSprite.setDepth(20001)), this.emoteSprite.anims.play(t, !0) } update(t) { var e, i; if (this.timeSinceNewServerUpdate += t, this.prevPosition.x == this.playerState.x && this.prevPosition.y == this.playerState.y) this.idleTime += t, this.idleTime > IDLE_TIME_THRESHOLD && !this.isIdling && (this.isIdling = !0, (null == (e = this.dogBoard.dog.anims.currentAnim) ? void 0 : e.key.includes("moving")) && this.dogBoard.dog.anims.stop(), this.dogBoard.playAnimations("idle", this.playerState.direction));
		else { this.idleTime = 0, this.isIdling = !1, this.dogBoard.playAnimations("moving", this.playerState.direction); { let t = this.timeSinceNewServerUpdate / (this.serverUpdateTime - this.prevServerUpdateTime);
				t == 1 / 0 && (t = 1), this.x = this.prevPosition.x + t * (this.playerState.x - this.prevPosition.x), this.y = this.prevPosition.y + t * (this.playerState.y - this.prevPosition.y) } } this.setDepth(this.playerState.y + this.dogBoard.height), this.label.setDepth(this.playerState.y + this.dogBoard.height), this.label.setPosition(this.x + 32, this.y - 4), this.label.setVisible(uiState.showPlayerLabels), (null == (i = this.emoteSprite) ? void 0 : i.anims.isPlaying) ? this.emoteSprite.setPosition(this.x + 32, this.y - 48).setOrigin(.5, .5) : this.emoteSprite && (this.emoteSprite.destroy(), this.emoteSprite = void 0) } destroy() { var t;
		this.label.destroy(), null == (t = this.emoteSprite) || t.destroy(), this.dogBoard.destroy(), super.destroy() } }
const INTERACTION_COOLDOWN = 2e3,
	EMOTE_COOLDOWN = 2e3;
class Player extends Phaser$1.GameObjects.Container { constructor(t, e, i, n) { super(t, n.position.x, n.position.y), __publicField(this, "id"), __publicField(this, "playerState"), __publicField(this, "networkClient"), __publicField(this, "cursors"), __publicField(this, "interactKey"), __publicField(this, "emoteKey"), __publicField(this, "label"), __publicField(this, "dogBoard"), __publicField(this, "idleTime"), __publicField(this, "isIdling"), __publicField(this, "lastInteractTime"), __publicField(this, "lastEmoteTime"), __publicField(this, "emoteSprite"), __publicField(this, "debugBoundingBox"), this.id = i, this.networkClient = e, this.playerState = new PlayerState({ id: i, name: n.name, team_name: n.team_name, team_emoji: n.team_emoji, sprite: n.sprite, x: n.position.x, y: n.position.y, direction: n.position.direction, boardColour: n.boardColour, wheelColour: n.wheelColour }), this.dogBoard = new DogBoard(this.scene, n.sprite, n.boardColour, n.wheelColour, 0, n.skinId), this.dogBoard.playAnimations("idle", n.position.direction), this.add(this.dogBoard), this.setDepth(9999), this.scene.physics.world.enable(this, 0), this.scene.add.existing(this), this.idleTime = 0, this.isIdling = !0, this.lastInteractTime = 0, this.lastEmoteTime = 0, this.label = this.scene.add.text(this.x, this.y, `${n.name} ${n.team_emoji}`), this.label.setOrigin(.5, .5).setFontSize(16).setFontFamily('"Pixel Operator"').setPadding(16, 16).setDepth(1e4), this.label.texture.setFilter(Phaser$1.Textures.NEAREST), this.initInput() } initInput() { this.cursors = {
			[Direction.UP]: this.scene.input.keyboard.addKey("W"), [Direction.DOWN]: this.scene.input.keyboard.addKey("S"), [Direction.LEFT]: this.scene.input.keyboard.addKey("A"), [Direction.RIGHT]: this.scene.input.keyboard.addKey("D") }, this.interactKey = this.scene.input.keyboard.addKey("F"), this.emoteKey = this.scene.input.keyboard.addKey("E") } updateMovement(t) { var e; const i = DIRECTIONS.find((t => this.cursors[stringToDirection(t)].isDown)); if (i) { const t = stringToDirection(i),
				e = { type: InputCommandType.Movement, direction: t },
				n = this.playerState.getPlayerBbox(this.playerState.afterMovement(e)); return this.scene.collisionLayer.didCollide(n) ? null : (this.idleTime = 0, this.isIdling = !1, this.networkClient.sendMovement(e), e) } return this.body.setVelocity(0, 0), this.idleTime += t, this.idleTime > IDLE_TIME_THRESHOLD && !this.isIdling && (this.isIdling = !0, (null == (e = this.dogBoard.dog.anims.currentAnim) ? void 0 : e.key.includes("moving")) && this.dogBoard.dog.anims.stop(), this.dogBoard.playAnimations("idle", this.playerState.direction)), null } applyInput(t, e) { this.playerState.updateMovement(t), e && this.dogBoard.playAnimations("moving", this.playerState.direction) } update(t) { var e; if (uiState.stopUpdates) return; const i = this.updateMovement(t);
		i && this.applyInput(i, !0), this.setDepth(this.playerState.y + this.dogBoard.height), this.label.setDepth(this.playerState.y + this.dogBoard.height), this.x = this.playerState.x, this.y = this.playerState.y, this.label.setPosition(this.x + 32, this.y - 4); const n = this.playerState.getPlayerBbox();
		this.scene.collisionLayer.update(n), this.interactKey.isDown && Date.now() - this.lastInteractTime > INTERACTION_COOLDOWN ? this.scene.interactionsLayer.update(n, !0) && (this.lastInteractTime = Date.now()) : this.scene.interactionsLayer.update(n, !1), uiState.availableEmotes.includes(uiState.selectedEmote) && (this.emoteKey.isDown && Date.now() - this.lastEmoteTime > EMOTE_COOLDOWN && (this.lastEmoteTime = Date.now(), this.emoteSprite || (this.emoteSprite = this.scene.add.sprite(this.x + 32, this.y - 48, uiState.selectedEmote, 0).setOrigin(.5, .5), this.emoteSprite.setDepth(20001), this.emoteSprite.texture.setFilter(Phaser$1.Textures.NEAREST), this.networkClient.sendEmote(uiState.selectedEmote)), this.emoteSprite.anims.play(uiState.selectedEmote, !0)), (null == (e = this.emoteSprite) ? void 0 : e.anims.isPlaying) ? this.emoteSprite.setPosition(this.x + 32, this.y - 48).setOrigin(.5, .5) : this.emoteSprite && (this.emoteSprite.destroy(), this.emoteSprite = void 0)) } shutdown() { this.scene.input.keyboard && (this.scene.input.keyboard.enabled = !1, this.scene.input.keyboard.removeAllKeys()) } destroy() { var t;
		this.label.destroy(), null == (t = this.emoteSprite) || t.destroy(), this.dogBoard.destroy(), super.destroy() } } class SceneNetworkManager { constructor(t) { __publicField(this, "scene"), __publicField(this, "networkClient"), __publicField(this, "playerId"), __publicField(this, "player"), __publicField(this, "otherCharacters"), __publicField(this, "hasInitialized"), this.scene = t, this.playerId = uiState.playerId, this.networkClient = new NetworkClient(CLIENT_CONFIG.SERVER_WS_ADDRESS), this.otherCharacters = new Map, this.hasInitialized = !1, uiState.sceneNetworkManager = this } init(t = void 0) { if (this.initPlayers(), this.initPlayerExtraData(), t) { const e = setInterval((() => { if (null == this.networkClient.playerHomeDataMessage) return; const i = this.networkClient.playerHomeDataMessage;
				t(i), clearInterval(e) }), 100) } } setSinglePlayerMode(t) { this.networkClient.sendSetSinglePlayerMode(t), !0 === t ? (this.otherCharacters.forEach((t => t.destroy())), this.otherCharacters.clear()) : (this.hasInitialized = !1, this.initPlayers()) } initPlayers() { const t = setInterval((() => { null != this.networkClient.initPlayersMessage && (this.networkClient.initPlayersMessage.players.forEach((({ id: t, data: e }) => { var i;
				t == this.playerId ? this.player || (this.player = new Player(this.scene, this.networkClient, t, e), uiState.currentSkinId = e.skinId || null) : (this.otherCharacters.has(t) && (null == (i = this.otherCharacters.get(t)) || i.destroy()), this.otherCharacters.set(t, new Character(this.scene, t, e))) })), this.networkClient.initPlayersMessage = void 0, this.hasInitialized = !0, clearInterval(t)) }), 100) } initPlayerExtraData(t = !1) { t && (this.networkClient.playerInitExtraDataMessage = void 0, this.networkClient.sendReqExtraData()); const e = setInterval((() => { if (null == this.networkClient.playerInitExtraDataMessage) return; const t = this.networkClient.playerInitExtraDataMessage;
			uiState.availableEmotes = t.extraData.emotes || [], uiState.havePaintings = t.extraData.paintings || [], uiState.availableItems = new Map((t.extraData.items || []).map((({ item: t, quantity: e }) => [t, e]))), uiState.haveShopItems = t.extraData.items.filter((({ item: t, quantity: e }) => e > 0 && SHOP_ITEMS.includes(t))).map((({ item: t }) => t)), clearInterval(e) }), 100) } handleGameStateUpdate(t) { const e = new Set;
		(t.playerUpdates || []).forEach((({ id: i, update: n }) => { const { position: r, emote: s } = n; if (this.player && i == this.playerId) return this.player.playerState.setPosition(r), this.networkClient.sentMovementCommands = this.networkClient.sentMovementCommands.filter((t => t.seqNum && t.seqNum > this.networkClient.lastAcked)), void this.networkClient.sentMovementCommands.forEach((t => { this.player.applyInput(t, !1) })); const o = this.otherCharacters.get(i);
			null == o ? console.warn(`got player position update for un-tracked player: ${i}`) : (o.prevPosition = o.playerState.getPosition(), o.prevServerUpdateTime = o.serverUpdateTime, o.playerState.setPosition(r), o.serverUpdateTime = t.timestamp, o.timeSinceNewServerUpdate = 0, s && o.playEmote(s), e.add(i)) })), this.otherCharacters.forEach(((i, n) => { e.has(n) || (i.prevPosition = i.playerState.getPosition(), i.prevServerUpdateTime = i.serverUpdateTime, i.serverUpdateTime = t.timestamp, i.timeSinceNewServerUpdate = 0) })) } processJoinsLeaves() { const t = this.networkClient.playerJoinLeaveMessagesQueue.splice(0);
		uiState.isSinglePlayerMode || t.forEach((t => { if (t.type == ServerMessageType.PlayerJoin) { const e = t; if (this.playerId === e.playerId) return; const i = this.otherCharacters.get(e.playerId);
				i && (i.destroy(), this.otherCharacters.delete(e.playerId)), this.otherCharacters.set(e.playerId, new Character(this.scene, e.playerId, e.player)) } else if (t.type == ServerMessageType.PlayerLeave) { const e = t; if (this.playerId === e.playerId) return; const i = this.otherCharacters.get(e.playerId);
				i ? (i.destroy(), this.otherCharacters.delete(e.playerId)) : console.warn(`got leave notification for un-tracked player: ${e.playerId}`) } })) } processGameStateUpdates() { this.networkClient.gameStateUpdateMessagesQueue.splice(0).forEach((t => this.handleGameStateUpdate(t))) } processSkinUpdates() { this.networkClient.skinUpdatedMessagesQueue.splice(0).forEach((t => this.handleSkinUpdate(t))) } handleSkinUpdate(t) { if (t.playerId === this.playerId && this.player) { const e = !this.player.isIdling;
			this.player.dogBoard.setSkin(t.skinId, this.player.playerState.direction, e), uiState.currentSkinId = t.skinId || null } else { const e = this.otherCharacters.get(t.playerId); if (e) { const i = !e.isIdling;
				e.dogBoard.setSkin(t.skinId, e.playerState.direction, i) } } } update(t) { this.hasInitialized && (this.processJoinsLeaves(), this.processGameStateUpdates(), this.processSkinUpdates(), this.player.update(t), this.otherCharacters.forEach((e => e.update(t)))) } }
const AreaConfigs = { OpenArea: { mapFile: "maps/OpenArea/map.json" }, Home: { mapFile: "maps/Home/map.json" } };
var InteractionObjectType = (t => (t[t.Generic = 0] = "Generic", t[t.NPC = 1] = "NPC", t[t.Portal = 2] = "Portal", t[t.Painting = 3] = "Painting", t))(InteractionObjectType || {});
const OpenAreaInteractionSprites = { barksy: { name: "barksy", path: "dogs/barksy.png", x: 99, y: 199, width: 106, height: 52 }, bud: { name: "bud", path: "dogs/bud.png", x: 897, y: 820, width: 96, height: 74 }, "art-dog": { name: "art-dog", path: "dogs/art-dog.png", x: 1306, y: 498, width: 38, height: 56 }, "shop-dog": { name: "shop-dog", path: "dogs/shop-dog.png", x: 1590, y: 492, width: 30, height: 52 }, "witch-dog": { name: "witch-dog", path: "dogs/witch-dog.png", x: 1751, y: 479, width: 56, height: 80 }, "wiz-dog": { name: "wiz-dog", path: "dogs/wiz-dog.png", x: 1841, y: 480, width: 36, height: 52 }, "flag-dog": { name: "flag-dog", path: "dogs/flag-dog.png", x: 1476, y: 209, width: 26, height: 52 }, "touch-grass": { name: "touch-grass", path: "flags/touch-grass.png", x: 152, y: 599, width: 94, height: 118 }, "dandelion-map": { name: "dandelion-map", path: "dandelion-map.png", x: 1290, y: 152, width: 16, height: 19 } },
	OpenAreaInteractionBBoxes = { barksy: { x: 95, y: 194, width: 115, height: 90 }, bud: { x: 876, y: 836, width: 104, height: 57 }, "art-dog": { x: 1300, y: 545, width: 68, height: 56 }, "shop-dog": { x: 1517, y: 545, width: 116, height: 62 }, "witch-dog": { x: 1743, y: 545, width: 68, height: 72 }, "wiz-dog": { x: 1841, y: 480, width: 68, height: 140 }, "flag-dog": { x: 1465, y: 242, width: 45, height: 72 }, "touch-grass": { x: 119, y: 635, width: 133, height: 93 }, "dandelion-map": { x: 1260, y: 152, width: 120, height: 90 } },
	OpenAreaInteractionObjects = Object.values(OpenAreaInteractionSprites).map((t => ({ id: t.name, type: 1, sprite: t.name, spriteX: t.x, spriteY: t.y, bbox: OpenAreaInteractionBBoxes[t.name] }))),
	InteractionLayerConfigs = { OpenArea: OpenAreaInteractionObjects.concat([{ id: "skatepark-exit", type: 2 }]), Home: [{ id: "home-room-exit", type: 2 }, { id: "home-pot-plant", type: 0, sprite: "plant", spriteX: 410, spriteY: 66, bbox: { x: 375, y: 92, width: 95, height: 68 } }, { id: "painting-the-starry-night", type: 3 }, { id: "painting-flag", type: 3 }, { id: "painting-not-pipe", type: 3 }, { id: "home-ipad", type: 0, sprite: "ipad", spriteX: 128, spriteY: 74, bbox: { x: 108, y: 74, width: 40, height: 90 } }, { id: "home-computer", type: 0, sprite: "computer", spriteX: 154, spriteY: 36, bbox: { x: 152, y: 36, width: 60, height: 120 } }] };

function boxHash(t) { return `${t.x},${t.y},${t.width},${t.height}` }

function tileHash(t) { return `${t.x},${t.y}` }

function tileHash2(t, e) { return `${t},${e}` } new Map(Object.values(InteractionLayerConfigs).flatMap((t => t.map((t => [t.id, t])))));
const TILE_SIZE = 64;

function nearestTile(t, e) { return { x: TILE_SIZE * Math.floor(t / TILE_SIZE), y: TILE_SIZE * Math.floor(e / TILE_SIZE) } }

function checkBoxCollision(t, e) { return t.x < e.x + e.width && t.x + t.width > e.x && t.y < e.y + e.height && t.y + t.height > e.y }

function allOverlappingTiles(t) { const { x: e, y: i, width: n, height: r } = t, s = nearestTile(e, i), o = nearestTile(e + n, i + r), a = []; for (let l = s.x; l <= o.x; l += TILE_SIZE)
		for (let t = s.y; t <= o.y; t += TILE_SIZE) a.push({ x: l, y: t }); return a } class CollisionLayer { constructor(t, e = "collision") { __publicField(this, "objectsByTile"), __publicField(this, "objects"), this.objectsByTile = new Map, this.objects = [], this.extractCollisionLayer(t, e) } extractCollisionLayer(t, e) { const i = t.layers.find((({ name: t }) => t == e)); if (!i) throw Error(`could not find collision layer named ${e} in Tiled map data`);
		i.objects.forEach((t => { const { x: e, y: i, width: n, height: r } = t, s = { x: e, y: i, width: n, height: r };
			this.objects.push(s); const o = nearestTile(e, i),
				a = nearestTile(e + n, i + r); for (let l = o.x; l <= a.x; l += TILE_SIZE)
				for (let t = o.y; t <= a.y; t += TILE_SIZE) { const e = this.objectsByTile.get(tileHash2(l, t));
					null == e ? this.objectsByTile.set(tileHash2(l, t), [s]) : e.push(s) } })) } findNearbyCollisionBoxes(t) { const e = []; return allOverlappingTiles(t).forEach((t => { const i = this.objectsByTile.get(tileHash(t)); if (i)
				for (const n of i) e.push(n) })), e } didCollide(t) { const e = [],
			i = new Set; if (allOverlappingTiles(t).forEach((t => { const n = this.objectsByTile.get(tileHash(t)); if (n)
					for (const r of n) { const t = boxHash(r);
						i.has(t) || (i.add(t), e.push(r)) } })), 0 == e.length) return !1; for (const n of e)
			if (checkBoxCollision(t, n)) return !0; return !1 } } class InteractionLayer { constructor(t, e, i = "interaction") { __publicField(this, "objectsByTile"), __publicField(this, "objects"), this.objectsByTile = new Map, this.objects = [], this.preprocessConfig(t, e, i) } preprocessConfig(t, e, i) { const n = e.layers.find((({ name: t }) => t == i));
		t.map((t => { if ("bbox" in t) return t; const { id: e } = t, i = null == n ? void 0 : n.objects.find((({ name: t }) => e == t)); if (null == i) throw Error(`could not find interaction object ${e} in Tiled map data`); const r = { x: i.x, y: i.y, width: i.width, height: i.height }; return { ...t, bbox: r } })).forEach((t => { const { x: e, y: i, width: n, height: r } = t.bbox;
			this.objects.push(t); const s = nearestTile(e, i),
				o = nearestTile(e + n, i + r); for (let a = s.x; a <= o.x; a += TILE_SIZE)
				for (let e = s.y; e <= o.y; e += TILE_SIZE) { const i = this.objectsByTile.get(tileHash2(a, e));
					null == i ? this.objectsByTile.set(tileHash2(a, e), [t]) : i.push(t) } })) } findNearbyObjects(t) { const e = [],
			i = new Set; return allOverlappingTiles(t).forEach((t => { const n = this.objectsByTile.get(tileHash(t)); if (n)
				for (const r of n) { const t = boxHash(r.bbox);
					i.has(t) || (i.add(t), e.push(r)) } })), 0 == e.length ? [] : e.filter((e => checkBoxCollision(t, e.bbox))) } isNearbyObject(t, e) { return this.findNearbyObjects(t).map((({ id: t }) => t)).includes(e) } } class InteractionObjectBase extends Phaser.GameObjects.GameObject { constructor(t, e, i) { super(t, "interactionObject"), __publicField(this, "interactionObjectData"), __publicField(this, "clientInteractionLayer"), __publicField(this, "isNearby"), __publicField(this, "sprite"), __publicField(this, "nearbyDebugBox"), this.interactionObjectData = i, this.clientInteractionLayer = e, this.isNearby = !1, i.sprite && i.spriteX && i.spriteY && (this.sprite = this.scene.add.sprite(i.spriteX, i.spriteY, i.sprite, 0).setOrigin(0, 0), this.sprite.setDepth(i.spriteY + this.sprite.height)) } renderDebugBox() { this.scene.add.rectangle(this.interactionObjectData.bbox.x, this.interactionObjectData.bbox.y, this.interactionObjectData.bbox.width, this.interactionObjectData.bbox.height, 16711935, .3).setOrigin(0, 0) } onNearbyEnter() { this.sprite && this.sprite.setPostPipeline("outline") } onNearbyLeave() { this.nearbyDebugBox && this.nearbyDebugBox.destroy(), this.sprite && this.sprite.resetPostPipeline() } onInteract() {} destroy() { var t, e;
		null == (t = this.sprite) || t.destroy(), null == (e = this.nearbyDebugBox) || e.destroy(), super.destroy() } } class InteractionNPC extends InteractionObjectBase { onInteract() { console.log("hi") } } class InteractionPortal extends InteractionObjectBase { constructor() { super(...arguments), __publicField(this, "teleportTimeout") } onNearbyEnter() { this.teleportTimeout = setTimeout((() => { uiState.switchArea(this.interactionObjectData.id) }), 500) } onNearbyLeave() { this.teleportTimeout && clearTimeout(this.teleportTimeout) } } class InteractionPlant extends InteractionObjectBase { constructor(t, e, i) { var n, r;
		super(t, e, i), null == (n = this.sprite) || n.play({ key: "sparkle", repeat: -1 }), null == (r = this.sprite) || r.setData("outlineThickness", .5) } async onInteract() { uiState.selfHome && (uiState.availableItems.has("home-key") ? dialogState.showDialog({ message: "You look inside the pot, curious why it's still sparkling after you've taken the key out...", autoClose: 3e3 }) : (dialogState.showDialog({ message: "You look inside the pot...", autoClose: 1e3 }), await new Promise((t => setTimeout(t, 1e3))), 204 == (await api.game.inspectPotPlant()).status && (dialogState.showDialog({ title: "Home key acquired!", message: "...and find a shiny key!", autoClose: 3e3 }), uiState.availableItems.set("home-key", 1)))) } } class InteractionTouchGrassFlag extends InteractionObjectBase { constructor(t, e, i) { var n, r;
		super(t, e, i), null == (n = this.sprite) || n.play({ key: "touch-grass-anim", repeat: -1 }), null == (r = this.sprite) || r.setData("outlineThickness", .5) } async onInteract() { const t = await api.game.touchGrassFlag();
		dialogState.showDialog({ message: "Skateboarding on grass feels illegal, but something about the flag's presence fills you with determination...", autoClose: 3e3 }), await new Promise((t => setTimeout(t, 3e3))), 200 == t.status && dialogState.showDialog({ title: "Flag", message: t.body.flag, dismissable: !0 }) } } class InteractionPaintingShopNPC extends InteractionObjectBase { onInteract() { uiState.isPaintingShopOpen = !0 } } class InteractionShopNPC extends InteractionObjectBase { onInteract() { uiState.isShopOpen = !0 } } class InteractionPainting extends InteractionObjectBase { onInteract() { const t = this.interactionObjectData.id; if (uiState.currentHomePaintings.includes(t))
			if ("painting-flag" === t) uiState.isFlagPaintingOpen = !0;
			else { const e = `It's a painting of ${PaintingConfigs[t].name}`;
				dialogState.showDialog({ title: "Painting", message: e, autoClose: 2500 }) } } } class InteractionPixelServiceNPC extends InteractionObjectBase { onInteract() { uiState.isPixelServiceOpen = !0 } }
const DATA = Uint8Array.from(atob("fDeXIuVA4R8f2nZBFfdgKgGclTmOOow9NbWkCSuACAwLwNiTEpGddz6fDdv7Yhjl6NLFebTZdGXlGGvyIQ2SAL+hFfGdB+hCV4/7nCQwchEzN1pgKSvprJ22L9fUXx6tsV8V89DEDIDy7KRRQxwpjaOKZ7N4F7i80GJkWgUiojAAJYg8KbxSsY/mP3HVPVWquUcJTwzzT/FQk8RNJPPD9b+A/bu8W8WE0elD/Ncsc3WuFVNpnl3Qf8afj0gjR+p9mMxtB86rBYkH5L6F42wiogrMpegfOYkaNv+4EYxLK84lRhFt+BP9utu05s8GFp6oMJRVkINJQ40SWtGLwbsERATj/fqEPKgRW84ZNkSm9DAexhuJ5XEAkClCYMq6HYh1tFYkr5EOfUuuW7mza+Gp53TpCwr9xi0N/Jd+CQZAQmV8EDmzP4xGZcww4XY0nyUrCiJIFYtoLYLr+ZDcTW0+DcLYQ3vLD8+V5Qis8lV8tsCMMn3TYyLUrlwin2ThMoU/6K/gjYrH6kVQfi+3HhcaZWyR5Snqaf9XEZ+49Jqs2ObgXO4buvbR5WVg/AjctnBmrXt1AZNav/96RwqyteNgs9xR/MI7e6Mn8c+RaDD5fV9IyPHGUOb3/t99UDr0m1F7SdFXCPvzh3V8gZ9kC3xFaUuZMZhGqIXlGhp4ae0Qj0ngXeTZGMYJXlGVV8inKY94UX8yV/I5tJmXV3LxAOhoOgVHwwpUt+GkvURVxd1ZMoA/dslyxIBfFiWn7b2oYkurf5K0JKP/0mdwRf75IGgy/DV/jTDr8+eD76D4kVY8u/jY3JjRwmGe8BocWVMgq3cR/1/jM7YqIL1QpflqZC3Ln7moAkKS7WpRPlrZYHLECQqcmQSEcQztNfvg5t0PncgEh0RlwJqVi4zHdVoEPuGutOsWYZsV9DXVhH3IOFxtnc53ngxXcXVhBtgxZegVbINE/+zNnfdHWdjgv9g/24AjA8YMU0S2PyTmIazozP8K5jYa69s39XN1Eudt+nJAUn5FIGz4ZNTGn6QflYKUOHlOmzBZSMxjX/VmN+GMsxrZj1zSioKO9Gr/S6/sAfoQ4ReCLKRfQJv4eurNkGOkZetTOg2rtThbPeD2qLt3OwBpBSXYfU24b1pZq0hg/FzY9LIkrprWH50O0vufaAd/VpjjPs+nz1RdDk0sgm1p2nA0idhTKWhkqakWJLXB/ichJ48Hczhx2QtVQVMVesR6Q5FSBSuNpPghmd70yY8qLuLUky2WDrvQ4ususY1ja1vYG/UEd7VEpfZhYUo/52R+iJ+QvwaKjNFSIQcCw9yyvY3HBnsjn9hWRT7ulLBxF5j1wmpjL7TkAqMndEYp/QZ+vEX2Qa5XXhtGyqkiucEPttSIDJ1rDFGayi8uUyJ0ONRwra1TvJrSy8YxFGQgbcaJPKRv2YKJVlGzPiWxsBR7072n3GiJZvJwimL/OmlGtsdLIrwIAOf67GMN1SEZhUe0ucBij3h7HghQXU7qfz9OTkzaIHexvkcdyBtF5Rx2GfSGk1rTnf4zC+HAgmqMDr29OkpaKafMfXpzP4cacgMiQiWdzu5J+hKHDY4fkNFL7zjBZzdDV8dAt3pxHlsb5+WkOgHFA70rzHpBuzEvcqCwkaw1QN+FAyxy3IQCGb9bKBJwZHVL6ODDg5dcnNUt+kpBfomFnY52Ukp+HVHSQ7gPPDroN/s5KOZqXIp2Ljry0+zfmGeeQqpDVdBozUMUusGti/i61Hm5g+uymzQHnbD4ZX01kDnZsabfvu198XyZqf35Q8xNXGke2uweP/9yMSqm7kiWNSOEbL2/koZPepFnYJE0KK4CtFCIMG1UDRmqpp1ihEoRCrngLSF/VtJjMrDuW0RgMJ/CRN2AMk6ZLUEcMV7TIAbs22v82Z8rdhcOQQ4BYJhKop3G1syKetURBnqAAxin/cLbTpz0uNTP14OVCm9ZPGvoFu6FLNnLCDibRYr7qRTFQGMplVpwvRMLQ5X1+Q6J3wSVR397sWMGBWvx6a0V8zWjayPa2fNxkTVB5w/sgO7mWlJ27eDJcrWoIaFA8PAN5wPU5aFjSi3vGZ5+0ZfUVBJTtzetQcqqJ8zhTt8mTzsaOQtOpmLVWkSEo4JafP56mA8qmF/TcK2K7wSQ3Kq1h8SshjFJwxWdlSlGXRY0YPrXSX0Ar+hvv6QIYqFsQSoWwKVJLfkXAxJhZLmwJZDiuD/phVttCLPy0jECThHpgzhgdcSTUC2RaGL56bAWOWl48vAjnq3a9hwzL0xc/SlIxrYPG2gs4pfCT1x6wG6vNwl/shO2fmm/A4TW9N4KyxHu6LQUeKsuyEt4k3TPtkMYn7lFNSuL1g/B9HIwD8c/ll60Y1zqypTPqbpe7Ti2HuUDsg3MF4s2hNZ8WswjD0+Bpp+IYE/7aCtPgRANy9WCBOxMVIUUvugZ/HUxrfr5U3Bc3RQ5VS8w6gDkliVOV2MWlPo4QDW+CLeKp9AauKM/H8urWFLYuxTYrYIepYBxUP1CAxkllNdjB5vJkdkGN0fgcXsXKmHi2RPDuzY9iblxgFD5awpFdE8GKECTxMGW5Oq1OxgTDCChm53Y5Hi0Kf+JHigYIT8wBOPTV/68HFFoZEXto4nIU4i/mL6m7qwS6XuLsVixVH1s5ljTFDZ56MwYNRAGPTFWC2/BqghV4ptQIu/x26ElD6R3Ve6Bw1uoDp7gPzaYXb506xCq7PTk3CbQahgkdbrOfhuFkz0xWK++GinfiRAmFUJDoOqUV0dCzKUDyPiyeI/IfWMJ37LHAy4POyAOU1jRycOxZn6euWKYbgF7bcYmcdnjgh9WRXPNXMTGxFS0PyQp7059BxkkO5PeHoQdJO4t7RZLsF1aMtd6vJA1i9qEAzZGhKWX/LHEt9JS+9tAEJPPWZcp5YVPKu9DEJqjug24sgtQcLtNAiPHV9UrYTkBUEyooig9Q0jsYex4moPto+cMO7H321OHKajbId0KBdz052mhWhmYuiytSNAcrm5DB6tm8d8f8wuz6i4a/D+QHCHLpYi3jF+iey0LOMZklaqfJ4YVw2LDW7YG+ND3xt4e8SIR0t7sTxgvxGsoNIJNNYF14VVtHchCNbpRlDej7Nj1eoGCkUe+LGPcWVOqCNb5YexU0L1ycoQTsNDY4v7Uf9JVWw8OC53OZaMGouiBPylqcHbeQnZQ6IQc86OFGBp4nq5DAGAWE4TLZByFB95NAeIi0Z1MAQ/p/L+Rhu0Pwm2MN3uvh4iYH/5kDrKss011pU4EwWd3j48PGB/GuW+Vb6QIGYTtukBe80LgeLeERwXbBI5qZFBvRJEz+S96cfu7GdDjiN0ce0yIM4akG+k/Fba/83UiZVvAoVEtdHlGhddNZ1W8sX+FlyVyHFGNx4ABGU7X1nsr/cDybOk5b+7Lm4NA/c/26YrxjdXR8niNhiZxZYAGB58Pm4QJKZuS5eO5y+WF5+QCpcjynV7WmUBdX71dHMu6QoaN4+UQw2SKsAZp7oNDCQiPnRGBZpb1usPM+OX4mzZc9XS+cUnQO3n37hTfbExqn9ZktydDEDuVDrCyrxNhHZFqNvRe4m8KKFynV8QR3xhFYdHB8cvAi7PxzEw4uX/W0ZDmrctuJooZRlq9D33MCIj4TYx06dsCzBOrlUen58HPQajX7t5mdO5JkEw8VuLBqnu7MhZLLBa8zpwEK/6LRME0Gu4L/pKGscUgr/+x63LJ2kZtYrx4a0lBORGmtkpsBS2xqO+0XECiBtGV+ViF16h8NWlR5Gcror0VORO3Gf4fXFBubcFElvxV0N/3GKWA33VDDcJXsbfQLV7W3hVuRfcKNPWj/ZSsJkiDZhTXmQAvAtMpHO4JEjBGTV0pcd3h4ObKRooak7nbMP6tYXMUu9ae6bLJ6YvaGfuCRM3e11OGVPBI5Svt9zOxFudA023yLIPP6gQUiNYZkVIHywpjoKn7RyuHgDlQvwf2TVUouJ9Ki/qeC5QNvv0JR8k6S9A7Mmo24kyysaqiZbmu0pVXQVm+rHTGN+Armbwhdp4Ci1fxge7YmqySjWi/1RxJ/L9Oo6vm5HBLlq0D5yc05heju2hbfufBedNUN4lzXEHc0BKauhr9cnazHhcKpn2Zmmo0Ef3UBupWhFaNi7j9yPbUnyrz8gm5ykPI1ryuSu2JrT4Ddc7iN/i3cXjRD1UDeQ+STjFfCnnmTAJXvwOaFO7VXW7/fTOavpZRF5pSRDoBKsoqoGjdMB2dxOnob5aIJMKi5rFAo/Sp+Bpv+l2cK4j69R4ofOQVLv7kF/jQ44K2119jJjx1osSC4ocJow8ZK7L8nzpwirf1JhGf1EeLJ1vPyTJ4db9eCx4omi7vTYJcrxPTtuauuu1+gSfAfUDtQvZ9kTlPAHUNm1N7z39YIwMJTTC3eXI6vIdm8661WFv9fhJSctdQXS0a3HcrrkUayIW9noWC7n+//bj6doUP6zpsIVAZrEndTWDrvqCo/KA8vLGglphJrv6jNe2iqdb8d5/DyN1notxB+SVV7EXTjj43ZxuLHds8qJ2iSAOhz2xnx48mETlgzjswwkPjmTEGiQBHf1RmGv8uP+Z1M2/3RhqBdXedwXsJdgrkttdPdTa04d4lEescjwKRkfyGrXM4na0tS4w9CCZ1Q8HQJiIxmt1ygdZnwvXf7vp6mQozsiraM87OjwuzaC46oMUUauftEwYhC6yR0D7GOPCVgp38W3TCZtVs9cOEHuW/zv0CfreKXRC3WUXy4F4rP3zhQwZTdZFg5jqTjj4OflvhCjskFl27MxQ200VTei1B").split("").map((t => t.charCodeAt(0)))),
	ENCRYPTED_FLAG = Uint8Array.from(atob("lYLlXdDqUMRvPPrzUcCt4/cGgXVmZsHB1L5bg1Vrylnx8G2rvIxhrfIWuRx2KPC28TW1LlMqwchfbootLTNwnaW6jw==").split("").map((t => t.charCodeAt(0)))),
	YAP = ["You know, trees like that one, where there's just one tree by itself on some turf, they're called lollipop trees", "If your park has a bunch of lollipop trees and no other vegetation, you've got yourself a lollipop park", "You might be thinking, well, it's a native tree, it's probably doing some good for the wildlife around these parts, but you'd be wrong.", "Trees like those are actually doing more harm than good, because there's really only one kind of bird that prefers to nest in them", "And those birds are extremely territorial, so it endangers all the little guys that prefer to live in the bushes", "There are so many native birds that you just don't see in big cities anymore", "There aren't nearly enough wild shrubs being grown in these parks if you ask me", "It's hard to propose a landscaping change if it doesn't provide some benefit", "Like how a tall tree can give us shade, and how some denser bushes can be used for partitioning", "But we are phenomenally bad at understanding how something provides for us until it's gone", "I worked in landscaping once", "I remember this one property had these decorative shrubs, and they wanted to know if I could cut them to look like us!", "There was no way I could pull off something like that, so I told them to look for an actual sculptor", "It seemed like they would be able to afford someone more professional too", "I mean when I was there, they had just bought some massive hedges to put around their house", "Those super dense ones that you don't get unless you have something to worry about", "They seemed to be worried about strangers wandering onto their property", "But I think there was a bit more going on than that", "I didn't want to ask too many questions though", "Actually, yesterday I dug up something really cool - Some kind of figurine", "And wasn't there a building here before the skate park? All of this area must have been paved over", "Now that I think about it, this place has only been a public park for some time, but the figurine was buried way deep", "It totally looks like something that one of the kids here would carry around though", "Like those little collectible toys", "The hype around those capsule toy things is really taking off", "Even my favourite dessert place is giving out capsule toys if you spend enough!", "Well, I for one don't need any more incentives to spend money on dessert", "Anyway, I'm a bit stumped on today's crossword", 'It\'s got all of these "hackers" related clues, apparently today is the 30th anniversary of that movie', "But I saw that movie ages ago, and I'm really no good with this kind of stuff"];
class InteractionBuddyNPC extends InteractionObjectBase { constructor() { super(...arguments), __publicField(this, "st"), __publicField(this, "choices") } onInteract() { this.st = Uint8Array.from(Array(30).fill(0)), this.choices = [], dialogState.showDialog({ title: "Buddy", message: "Nice weather we're having huh?", choices: [{ text: "Yeah, I love the sun.", action: () => { dialogState.showDialog({ title: "Buddy", message: "Nice." }) } }, { text: "Actually I don't like this weather.", action: () => { dialogState.showDialog({ title: "Buddy", message: "Oh okay then." }) } }, { text: "Yep. By the way, could you grab that flag in the tree for me?", action: () => { dialogState.showDialog({ title: "Buddy", message: "Sure thing! The one behind me...?", choices: [{ text: "Yup", action: () => this.doYap(0) }] }) } }], dismissable: !0 }) } onNearbyLeave() { super.onNearbyLeave(), dialogState.closeDialog() } handleYapResponse(t, e) { this.choices.push(t); const i = 30 * (4 * e + t),
			n = DATA.subarray(i, i + 30); for (let r = 0; r < 30; r++) this.st[r] ^= n[r]; return this.st.every((t => 255 == t)) } async endYap(t) { if (!t) return void dialogState.showDialog({ title: "Buddy", message: "Hey are you even listening anymore?" }); const e = await crypto.subtle.digest("SHA-256", (new TextEncoder).encode(this.choices.toString())),
			i = await crypto.subtle.importKey("raw", e, { name: "AES-GCM" }, !1, ["decrypt"]),
			n = await crypto.subtle.decrypt({ name: "AES-GCM", iv: Uint8Array.from(Array(12).fill(0)) }, i, ENCRYPTED_FLAG),
			r = (new TextDecoder).decode(n);
		dialogState.showDialog({ title: "Buddy", message: "Oh right, the flag in the tree. Let me grab that for you...: " + r }) } doYap(t) { dialogState.showDialog({ title: "Buddy", message: YAP[t], choices: ["Interesting...", "Right...", "Yeah...", "I see..."].map(((e, i) => ({ text: e, action: () => { const e = this.handleYapResponse(i, t);
					t === YAP.length - 1 ? this.endYap(e) : this.doYap(t + 1) } }))), dismissable: !0 }) } } class InteractionWitchDogNPC extends InteractionObjectBase { constructor() { super(...arguments), __publicField(this, "scheduleData", null), __publicField(this, "testTime", null) } onInteract() { dialogState.showDialog({ title: "Witch Dog", message: "This magic orb allows us to peer into the mystical creatures speaking about computer security at BSides Canberra...", dismissable: !0 }), this.scheduleData ? this.showTrackSelection() : this.downloadAndShowSchedule() } onNearbyLeave() { super.onNearbyLeave(), dialogState.closeDialog() } async downloadAndShowSchedule() { try { const t = await fetch("https://cfp.bsidescbr.com.au/bsides-canberra-2025/schedule/v/0.60/widgets/schedule.json"); if (!t.ok) throw new Error(`Failed to fetch schedule: ${t.status}`);
			this.scheduleData = await t.json(), await new Promise((t => setTimeout((() => t(!0)), 2500))), this.showTrackSelection() } catch (t) { dialogState.showDialog({ title: "Witch Dog", message: "The orb seems to be malfunctioning... Maybe try again later?", dismissable: !0 }), console.error("Failed to fetch schedule:", t) } } showTrackSelection() { if (!this.scheduleData) return; const t = this.scheduleData.tracks.map((t => ({ text: t.name.en, action: () => this.showCurrentEventForTrack(t.id) })));
		t.push({ text: "Never mind", action: () => dialogState.closeDialog() }), dialogState.showDialog({ title: "Witch Dog", message: "The creatures speak on multiple different tracks. Which are you interested in?", choices: t, dismissable: !0, size: "large", markdown: !1 }) } showCurrentEventForTrack(t) { if (!this.scheduleData) return; const e = this.scheduleData.tracks.find((e => e.id === t)); if (!e) return; const i = this.testTime || new Date,
			n = this.getCurrentEventsForTrack(t, i),
			r = this.getNextEventsForTrack(t, i); let s = `*Gazing into the magic orb for ${e.name.en}...*\n\n`;
		n.length > 0 ? (s += "# 🔮 Currently happening\n\n", n.forEach(((t, e) => { e > 0 && (s += "\n"), s += this.formatEventInfo(t), e < n.length - 1 && (s += "\n") }))) : s += "🔮 **No events currently happening in this track**"; const o = [];
		o.push({ text: "What's happening next?", action: () => this.showNextEvents(e, r) }), o.push({ text: "Check another track", action: () => this.showTrackSelection() }, { text: "Good bye", action: () => dialogState.closeDialog() }), dialogState.showDialog({ title: "Witch Dog", message: s, choices: o, dismissable: !0, size: "large", markdown: !0 }) } showNextEvents(t, e) { let i = `*The magic orb reveals the future of ${t.name.en}...*\n\n`;
		0 === e.length ? (i += "🔮 **Nothing more scheduled for today in this track**\n\n", i += "The creatures seem to be resting. Perhaps check another track or return tomorrow!") : (i += "🔮 **Coming up next**\n\n", e.forEach(((t, n) => { n > 0 && (i += "\n"), i += this.formatEventInfo(t), n < e.length - 1 && (i += "\n") }))), dialogState.showDialog({ title: "Witch Dog", message: i, choices: [{ text: "Check another track", action: () => this.showTrackSelection() }, { text: "Back to current events", action: () => this.showCurrentEventForTrack(t.id) }, { text: "Good bye", action: () => dialogState.closeDialog() }], dismissable: !0, size: "large", markdown: !0 }) } getCurrentEventsForTrack(t, e) { if (!this.scheduleData) return []; const i = this.scheduleData.talks.filter((e => e.track === t)),
			n = []; for (const r of i) { const t = new Date(r.start),
				i = new Date(r.end);
			e >= t && e <= i && n.push({ title: r.title, speakers: r.speakers || [], start: r.start, end: r.end }) } return n } getNextEventsForTrack(t, e) { if (!this.scheduleData) return []; const i = this.scheduleData.talks.filter((e => e.track === t)).sort(((t, e) => new Date(t.start).getTime() - new Date(e.start).getTime())),
			n = new Date(e.getFullYear(), e.getMonth(), e.getDate()),
			r = new Date(n.getTime() + 864e5); let s = null; for (const a of i) { const t = new Date(a.start); if (t > e && t >= n && t < r) { s = t; break } } if (!s) return []; const o = []; for (const a of i) new Date(a.start).getTime() === s.getTime() && o.push({ title: a.title, speakers: a.speakers || [], start: a.start, end: a.end }); return o } formatEventInfo(t) { const e = new Date(t.start).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit", timeZone: "Australia/Sydney" }),
			i = new Date(t.end).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit", timeZone: "Australia/Sydney" }); let n = `**"${t.title}"**\\\n`; return t.speakers.length > 0 && (n += `🗣 by ${this.resolveSpeakerNames(t.speakers).join(", ")}\\\n`), n += `⏰ ${e} - ${i}`, n } resolveSpeakerNames(t) { return this.scheduleData ? t.map((t => { const e = this.scheduleData.speakers.find((e => e.code === t)); return e ? e.name : t })) : t } } class InteractionWizDogNPC extends InteractionObjectBase { onInteract() { this.showMainDialog() } onNearbyLeave() { super.onNearbyLeave(), dialogState.closeDialog() } showMainDialog() { dialogState.showDialog({ title: "Druid Dog", message: "With this magic orb, I can summon a mystical creature from another world and have it say stuff.", choices: [{ text: "Show me this mystical creature!", action: () => this.summonCreature("password") }], dismissable: !0 }) } summonCreature(t) { uiState.currentHeadType = t, uiState.isHeadDisplayOpen = !0, dialogState.closeDialog() } } class InteractionFlagDogNPC extends InteractionObjectBase { onInteract() { dialogState.showDialog({ title: "Flag Dog", message: "Phew, it sure was tiring hanging up all of those flags.", dismissable: !0 }) } onNearbyLeave() { super.onNearbyLeave(), dialogState.closeDialog() } } class InteractionDandelion extends InteractionObjectBase { constructor(t, e, i) { var n;
		super(t, e, i), null == (n = this.sprite) || n.setData("outlineThickness", .03) } async onInteract() { var t; try { const e = await api.game.interactDandelion(); if (200 === e.status) { const { receivedItem: i, message: n } = e.body;
				dialogState.showDialog({ title: i ? "Dandelion Collected!" : "Dandelion", message: n, dismissable: !0 }), i && (await new Promise((t => setTimeout(t, 500))), null == (t = uiState.sceneNetworkManager) || t.initPlayerExtraData(!0)) } else dialogState.showDialog({ title: "Error", message: "Something went wrong while interacting with the dandelion.", dismissable: !0 }) } catch (e) { console.error("Failed to interact with dandelion:", e), dialogState.showDialog({ title: "Error", message: "Failed to interact with the dandelion. Please try again.", dismissable: !0 }) } } onNearbyLeave() { super.onNearbyLeave(), dialogState.closeDialog() } } class InteractionIPad extends InteractionObjectBase { constructor(t, e, i) { var n;
		super(t, e, i), null == (n = this.sprite) || n.setData("outlineThickness", .04) } async onInteract() { dialogState.showDialog({ title: "iPad", message: "Go to cyanide for iOS hacking?", choices: [{ text: "Yes", action: () => { open("https://cyanide.sk8boarding.dog") } }, { text: "No" }], dismissable: !0 }) } onNearbyLeave() { super.onNearbyLeave(), dialogState.closeDialog() } } class InteractionComputer extends InteractionObjectBase { constructor(t, e, i) { var n;
		super(t, e, i), null == (n = this.sprite) || n.setData("outlineThickness", .08) } async onInteract() { dialogState.showDialog({ title: "Computer", message: "Go to CTF platform?", choices: [{ text: "Yes", action: () => { open("https://2025.sk8.dog") } }, { text: "No" }], dismissable: !0 }) } onNearbyLeave() { super.onNearbyLeave(), dialogState.closeDialog() } }
const OBJECT_MAP = { "home-pot-plant": InteractionPlant, "touch-grass": InteractionTouchGrassFlag, "art-dog": InteractionPaintingShopNPC, "shop-dog": InteractionShopNPC, barksy: InteractionPixelServiceNPC, bud: InteractionBuddyNPC, "witch-dog": InteractionWitchDogNPC, "wiz-dog": InteractionWizDogNPC, "flag-dog": InteractionFlagDogNPC, "dandelion-map": InteractionDandelion, "home-ipad": InteractionIPad, "home-computer": InteractionComputer };
class ClientInteractionLayer extends InteractionLayer { constructor(t, e, i) { super(e, i), __publicField(this, "scene"), __publicField(this, "gameObjects"), this.scene = t, this.gameObjects = new Map, this.objects.forEach((t => { let e;
			t.id in OBJECT_MAP ? e = new OBJECT_MAP[t.id](this.scene, this, t) : t.type === InteractionObjectType.NPC ? e = new InteractionNPC(this.scene, this, t) : t.type === InteractionObjectType.Portal ? e = new InteractionPortal(this.scene, this, t) : t.type === InteractionObjectType.Painting && (e = new InteractionPainting(this.scene, this, t)), e ? this.gameObjects.set(t.id, e) : console.error(`Could not find appropriate game object for interaction object type: ${t.type} (${t.id})`) })) } update(t, e) { let i = !1; const n = this.findNearbyObjects(t).map((({ id: t }) => this.gameObjects.get(t))).filter((t => !!t)),
			r = new Set; return n.forEach((t => { r.add(t.interactionObjectData.id), t.isNearby || (t.isNearby = !0, t.onNearbyEnter()), e && (t.onInteract(), i = !0) })), this.gameObjects.forEach((t => { r.has(t.interactionObjectData.id) || t.isNearby && (t.onNearbyLeave(), t.isNearby = !1) })), i } } class ClientCollisionLayer extends CollisionLayer { constructor(t, e, i = "collision") { super(e, i), __publicField(this, "scene"), __publicField(this, "debugNearbyBoxes"), this.debugNearbyBoxes = new Map, this.scene = t } update(t) {} } class Home extends phaserExports.Scene { constructor() { super("Home"), __publicField(this, "background"), __publicField(this, "networkManager"), __publicField(this, "collisionLayer"), __publicField(this, "interactionsLayer"), __publicField(this, "houseMusic") } preload() { this.load.setPath("assets"), this.load.tilemapTiledJSON("home-tilemap", AreaConfigs.Home.mapFile), this.load.image("home-bg", "maps/Home/bg.png"), this.load.aseprite("plant", "maps/Home/plant.png", "maps/Home/plant.json"), this.load.spritesheet("ipad", "maps/Home/ipad.png", { frameWidth: 26, frameHeight: 20 }), this.load.spritesheet("computer", "maps/Home/computer.png", { frameWidth: 56, frameHeight: 60 }), this.load.audio("house-music", "audio/house.ogg") } create() { this.networkManager = new SceneNetworkManager(this), this.networkManager.init(this.onHomeData.bind(this)), this.anims.createFromAseprite("plant"); const t = this.make.tilemap({ key: "home-tilemap" }),
			e = t.images.find((t => "bg" == t.name));
		this.add.image(e.x, e.y, "home-bg").setOrigin(0, 0).setDepth(-1e6); const i = this.cache.tilemap.get("home-tilemap").data;
		this.collisionLayer = new ClientCollisionLayer(this, i), this.interactionsLayer = new ClientInteractionLayer(this, InteractionLayerConfigs.Home, i), this.cameras.main.setBackgroundColor(2236962), this.cameras.main.roundPixels = !0, this.cameras.main.centerOn(t.widthInPixels / 2, t.heightInPixels / 2), this.cameras.main.setZoom(1.2), this.houseMusic = this.sound.add("house-music", { loop: !0, volume: .5 }), this.houseMusic.play(), uiState.setCurrentMusic(this.houseMusic), uiState.isMusicMuted && this.houseMusic.pause() } renderDebugCollisionBoxes() { this.collisionLayer.objects.forEach((t => { this.add.rectangle(t.x, t.y, t.width, t.height, 16711680, .2).setOrigin(0, 0) })) } onHomeData(t) { dialogState.showDialog({ message: `${t.name}'s Home`, autoClose: 2500 }), uiState.selfHome = t.playerId === uiState.playerId, (t.paintings || []).forEach((t => { const e = PaintingConfigs[t];
			uiState.currentHomePaintings.push(t), this.add.sprite(e.position.x, e.position.y, e.sprite) })) } update(t, e) { this.networkManager.update(e) } destroy() { this.houseMusic && (this.houseMusic.stop(), this.houseMusic.destroy()), uiState.setCurrentMusic(void 0), this.networkManager.networkClient.ws.close() } }
const staticSprites = [{ name: "fence-front", path: "fence-front.png", x: 903, y: 643, width: 1097, height: 190 }, { name: "skate-bark", path: "skate-bark.png", x: 31, y: 735, width: 288, height: 70 }, { name: "bushes-mid", path: "bushes-mid.png", x: 1219, y: 406, width: 781, height: 111 }, { name: "bushes-back", path: "bushes-back.png", x: 1300, y: 144, width: 48, height: 65 }, { name: "shed", path: "shed.png", x: 206, y: 99, width: 208, height: 144 }, { name: "tents-back", path: "tents-back.png", x: 1248, y: 466, width: 648, height: 76 }, { name: "orb", path: "orb.png", x: 1811, y: 497, width: 34, height: 58 }, { name: "tents-front", path: "tents-front.png", x: 1236, y: 366, width: 676, height: 197 }, { name: "excavator", path: "excavator.png", x: 1232, y: 786, width: 368, height: 182 }, { name: "big-tree", path: "big-tree.png", x: 944, y: 534, width: 280, height: 334 }, { name: "tree-flag", path: "flags/tree-flag.png", x: 1147, y: 701, width: 23, height: 44 }, { name: "flag_00", path: "flags/string-of-flags/flag_00.png", x: 1403, y: 153, width: 24, height: 44 }, { name: "flag_01", path: "flags/string-of-flags/flag_01.png", x: 1458, y: 155, width: 24, height: 44 }, { name: "flag_02", path: "flags/string-of-flags/flag_02.png", x: 1513, y: 156, width: 24, height: 44 }, { name: "flag_03", path: "flags/string-of-flags/flag_03.png", x: 1568, y: 157, width: 24, height: 44 }, { name: "flag_04", path: "flags/string-of-flags/flag_04.png", x: 1623, y: 157, width: 24, height: 44 }, { name: "flag_05", path: "flags/string-of-flags/flag_05.png", x: 1678, y: 156, width: 24, height: 44 }, { name: "flag_06", path: "flags/string-of-flags/flag_06.png", x: 1733, y: 155, width: 24, height: 44 }, { name: "flag_07", path: "flags/string-of-flags/flag_07.png", x: 1788, y: 153, width: 24, height: 44 }, { name: "flag_08", path: "flags/string-of-flags/flag_08.png", x: 1878, y: 154, width: 24, height: 44 }, { name: "flag_09", path: "flags/string-of-flags/flag_09.png", x: 1933, y: 156, width: 24, height: 44 }, { name: "flag_10", path: "flags/string-of-flags/flag_10.png", x: 1988, y: 157, width: 24, height: 44 }, { name: "flag_11", path: "flags/string-of-flags/flag_11.png", x: 2043, y: 156, width: 24, height: 44 }, { name: "flag_12", path: "flags/string-of-flags/flag_12.png", x: 2098, y: 155, width: 24, height: 44 }, { name: "flag_13", path: "flags/string-of-flags/flag_13.png", x: 2153, y: 154, width: 24, height: 44 }, { name: "flag_14", path: "flags/string-of-flags/flag_14.png", x: 2208, y: 153, width: 24, height: 44 }, { name: "flag_15", path: "flags/string-of-flags/flag_15.png", x: 2263, y: 154, width: 24, height: 44 }, { name: "flag_16", path: "flags/string-of-flags/flag_16.png", x: 2318, y: 156, width: 24, height: 44 }, { name: "flag_17", path: "flags/string-of-flags/flag_17.png", x: 2373, y: 157, width: 24, height: 44 }, { name: "flag_18", path: "flags/string-of-flags/flag_18.png", x: 2428, y: 157, width: 24, height: 44 }, { name: "flag_19", path: "flags/string-of-flags/flag_19.png", x: 2483, y: 156, width: 24, height: 44 }, { name: "flag_20", path: "flags/string-of-flags/flag_20.png", x: 2538, y: 155, width: 24, height: 44 }, { name: "flag_21", path: "flags/string-of-flags/flag_21.png", x: 2593, y: 153, width: 24, height: 44 }, { name: "flag_22", path: "flags/string-of-flags/flag_22.png", x: 2683, y: 154, width: 24, height: 44 }, { name: "flag_23", path: "flags/string-of-flags/flag_23.png", x: 2738, y: 156, width: 24, height: 44 }, { name: "flag_24", path: "flags/string-of-flags/flag_24.png", x: 2793, y: 157, width: 24, height: 44 }, { name: "flag_25", path: "flags/string-of-flags/flag_25.png", x: 2848, y: 156, width: 24, height: 44 }, { name: "flag_26", path: "flags/string-of-flags/flag_26.png", x: 2903, y: 155, width: 24, height: 44 }, { name: "flag_27", path: "flags/string-of-flags/flag_27.png", x: 2958, y: 154, width: 24, height: 44 }, { name: "flag_28", path: "flags/string-of-flags/flag_28.png", x: 3013, y: 153, width: 24, height: 44 }, { name: "flag_29", path: "flags/string-of-flags/flag_29.png", x: 3068, y: 155, width: 24, height: 44 }, { name: "flag_30", path: "flags/string-of-flags/flag_30.png", x: 3123, y: 157, width: 24, height: 44 }, { name: "flag_31", path: "flags/string-of-flags/flag_31.png", x: 3213, y: 156, width: 24, height: 44 }, { name: "flag_32", path: "flags/string-of-flags/flag_32.png", x: 3268, y: 154, width: 24, height: 44 }, { name: "flag_33", path: "flags/string-of-flags/flag_33.png", x: 3323, y: 153, width: 24, height: 44 }, { name: "flag_34", path: "flags/string-of-flags/flag_34.png", x: 3378, y: 155, width: 24, height: 44 }, { name: "flag_35", path: "flags/string-of-flags/flag_35.png", x: 3433, y: 157, width: 24, height: 44 }];
class OpenArea extends phaserExports.Scene { constructor() { super("OpenArea"), __publicField(this, "background"), __publicField(this, "networkManager"), __publicField(this, "collisionLayer"), __publicField(this, "interactionsLayer"), __publicField(this, "parkMusic") } preload() { this.load.setPath("assets"), this.load.tilemapTiledJSON("open-area-tilemap", AreaConfigs.OpenArea.mapFile), this.load.image("open-area-bg", "maps/OpenArea/bg.png"), staticSprites.concat(Object.values(OpenAreaInteractionSprites)).forEach((t => { this.load.spritesheet(t.name, `maps/OpenArea/${t.path}`, { frameWidth: t.width, frameHeight: t.height }) })), this.load.aseprite("touch-grass-anim", "maps/OpenArea/flags/touch-grass.png", "maps/OpenArea/flags/touch-grass.json"), this.load.aseprite("tree-flag-anim", "maps/OpenArea/flags/tree-flag.png", "maps/OpenArea/flags/tree-flag.json"), this.load.aseprite("orb-anim", "maps/OpenArea/orb.png", "maps/OpenArea/orb.json"); for (let t = 0; t < 36; t++) { const e = t.toString().padStart(2, "0");
			this.load.aseprite(`flag_${e}-anim`, `maps/OpenArea/flags/string-of-flags/flag_${e}.png`, `maps/OpenArea/flags/string-of-flags/flag_${e}.json`) } this.load.audio("park-music", "audio/park.ogg") } create() { this.networkManager = new SceneNetworkManager(this), this.networkManager.init(); const t = this.make.tilemap({ key: "open-area-tilemap" });
		this.anims.createFromAseprite("touch-grass-anim"), this.anims.createFromAseprite("tree-flag-anim"), this.anims.createFromAseprite("orb-anim"); for (let r = 0; r < 36; r++) { const t = r.toString().padStart(2, "0");
			this.anims.createFromAseprite(`flag_${t}-anim`) } const e = t.images.find((t => "bg" == t.name));
		this.add.image(e.x, e.y, "open-area-bg").setOrigin(0, 0).setDepth(-1e5), staticSprites.forEach((t => { const e = this.add.sprite(t.x, t.y, t.name).setOrigin(0, 0).setDepth(t.y + t.height); if (t.name.startsWith("flag_")) { const i = t.name.split("flag_")[1];
				e.play({ key: `flag_${i}-anim`, repeat: -1, delay: parseInt(i) % 4 * 200 }) } "tree-flag" === t.name && (e.play({ key: "tree-flag-anim", repeat: -1 }), e.setDepth(99999)), "orb" === t.name && e.play({ key: "orb-anim", repeat: -1 }) })); const i = this.cache.tilemap.get("open-area-tilemap").data;
		this.collisionLayer = new ClientCollisionLayer(this, i), this.interactionsLayer = new ClientInteractionLayer(this, InteractionLayerConfigs.OpenArea, i), this.cameras.main.setBackgroundColor(2236962), this.cameras.main.roundPixels = !0, this.cameras.main.setZoom(1.5); const n = setInterval((() => { this.networkManager.player && (this.cameras.main.setBounds(0, 0, 2e3, 1240), this.cameras.main.startFollow(this.networkManager.player), clearInterval(n)) }), 100);
		this.parkMusic = this.sound.add("park-music", { loop: !0, volume: .5 }), this.parkMusic.play(), uiState.setCurrentMusic(this.parkMusic), uiState.isMusicMuted && this.parkMusic.pause() } renderDebugCollisionBoxes() { this.collisionLayer.objects.forEach((t => { this.add.rectangle(t.x, t.y, t.width, t.height, 16711680, .2).setOrigin(0, 0) })) } update(t, e) { this.networkManager.update(e) } destroy() { this.parkMusic && (this.parkMusic.stop(), this.parkMusic.destroy()), uiState.setCurrentMusic(void 0), this.networkManager.networkClient.ws.close() } }
const SCENE_MAP = { Home: Home, OpenArea: OpenArea };
class DialogState { constructor() { __privateAdd(this, _isOpen, state(!1)), __privateAdd(this, _preventMovement, state(!1)), __privateAdd(this, _currentDialog, state(null)), __publicField(this, "keypressHandler", this._keypressHandler.bind(this)) } get isOpen() { return get(__privateGet(this, _isOpen)) } set isOpen(t) { set(__privateGet(this, _isOpen), proxy(t)) } get preventMovement() { return get(__privateGet(this, _preventMovement)) } set preventMovement(t) { set(__privateGet(this, _preventMovement), proxy(t)) } get currentDialog() { return get(__privateGet(this, _currentDialog)) } set currentDialog(t) { set(__privateGet(this, _currentDialog), proxy(t)) } showDialog(t) { this.currentDialog = t, this.isOpen = !0, this.preventMovement = t.preventMovement || !1, t.autoClose && setTimeout((() => { this.closeDialog() }), t.autoClose) } closeDialog() { var t;
		(null == (t = this.currentDialog) ? void 0 : t.onClose) && this.currentDialog.onClose(), this.isOpen = !1, this.currentDialog = null, this.preventMovement = !1 } async handleChoice(t) { const e = this.currentDialog;
		t.action && await t.action(), this.currentDialog === e && this.closeDialog() } _keypressHandler(t) { if (this.isOpen && this.currentDialog)
			if ("Escape" !== t.key || !1 === this.currentDialog.dismissable) { if (this.currentDialog.choices && this.currentDialog.choices.length > 0) { const e = parseInt(t.key); if (e >= 1 && e <= this.currentDialog.choices.length) { const i = this.currentDialog.choices[e - 1];
						i.disabled || (t.preventDefault(), this.handleChoice(i)) } } } else this.closeDialog() } } _isOpen = new WeakMap, _preventMovement = new WeakMap, _currentDialog = new WeakMap;
const dialogState = new DialogState;
var ConnectionStatus = (t => (t[t.Loading = 0] = "Loading", t[t.Switching = 1] = "Switching", t[t.Connected = 2] = "Connected", t[t.Disconnected = 3] = "Disconnected", t))(ConnectionStatus || {});
class UIState { constructor() { __publicField(this, "game"), __publicField(this, "playerId"), __privateAdd(this, _area, state()), __publicField(this, "sceneNetworkManager"), __privateAdd(this, _selfHome, state(!1)), __privateAdd(this, _availableEmotes, state(proxy([EMOTES[0]]))), __privateAdd(this, _selectedEmote, state(proxy(EMOTES[0]))), __privateAdd(this, _availableItems, state(proxy(new Map))), __privateAdd(this, _havePaintings, state(proxy([]))), __privateAdd(this, _currentHomePaintings, state(proxy([]))), __privateAdd(this, _isFlagPaintingOpen, state(!1)), __privateAdd(this, _haveShopItems, state(proxy([]))), __privateAdd(this, _currentSkinId, state(null)), __privateAdd(this, _isMenuOpen, state(!1)), __privateAdd(this, _isPaintingShopOpen, state(!1)), __privateAdd(this, _isShopOpen, state(!1)), __privateAdd(this, _isPixelServiceOpen, state(!1)), __privateAdd(this, _isHowToPlayOpen, state(!1)), __privateAdd(this, _isHeadDisplayOpen, state(!1)), __privateAdd(this, _currentHeadType, state(null)), __privateAdd(this, _ping, state()), __privateAdd(this, __connectionStatus, state(0)), __privateAdd(this, _onlinePlayers, state(proxy([]))), __privateAdd(this, _isSinglePlayerMode, state(!1)), __privateAdd(this, _showPlayerLabels, state(!0)), __privateAdd(this, _isMusicMuted, state(!1)), __privateAdd(this, _currentMusic, state()), __privateAdd(this, _stopUpdates, derived((() => this.isMenuOpen || this.isPaintingShopOpen || this.isShopOpen || this.isHowToPlayOpen || this.isFlagPaintingOpen || this.isHeadDisplayOpen || dialogState.preventMovement && dialogState.isOpen || 3 == this.connectionStatus || 1 == this.connectionStatus))), __publicField(this, "keypressHandler", this._keypressHandler.bind(this)), liveQuery((async () => { const t = await db.config.get("selectedEmote"); return (null == t ? void 0 : t.value) ?? EMOTES[0] })).subscribe((t => this.selectedEmote = t)), liveQuery((async () => { const t = await db.config.get("isMusicMuted"); return "true" === (null == t ? void 0 : t.value) })).subscribe((t => { this.isMusicMuted = t, this.currentMusic && (this.isMusicMuted ? this.currentMusic.pause() : this.currentMusic.resume()) })) } get area() { return get(__privateGet(this, _area)) } set area(t) { set(__privateGet(this, _area), proxy(t)) } get selfHome() { return get(__privateGet(this, _selfHome)) } set selfHome(t) { set(__privateGet(this, _selfHome), proxy(t)) } get availableEmotes() { return get(__privateGet(this, _availableEmotes)) } set availableEmotes(t) { set(__privateGet(this, _availableEmotes), proxy(t)) } get selectedEmote() { return get(__privateGet(this, _selectedEmote)) } set selectedEmote(t) { set(__privateGet(this, _selectedEmote), proxy(t)) } get availableItems() { return get(__privateGet(this, _availableItems)) } set availableItems(t) { set(__privateGet(this, _availableItems), proxy(t)) } get havePaintings() { return get(__privateGet(this, _havePaintings)) } set havePaintings(t) { set(__privateGet(this, _havePaintings), proxy(t)) } get currentHomePaintings() { return get(__privateGet(this, _currentHomePaintings)) } set currentHomePaintings(t) { set(__privateGet(this, _currentHomePaintings), proxy(t)) } get isFlagPaintingOpen() { return get(__privateGet(this, _isFlagPaintingOpen)) } set isFlagPaintingOpen(t) { set(__privateGet(this, _isFlagPaintingOpen), proxy(t)) } get haveShopItems() { return get(__privateGet(this, _haveShopItems)) } set haveShopItems(t) { set(__privateGet(this, _haveShopItems), proxy(t)) } get currentSkinId() { return get(__privateGet(this, _currentSkinId)) } set currentSkinId(t) { set(__privateGet(this, _currentSkinId), proxy(t)) } get isMenuOpen() { return get(__privateGet(this, _isMenuOpen)) } set isMenuOpen(t) { set(__privateGet(this, _isMenuOpen), proxy(t)) } get isPaintingShopOpen() { return get(__privateGet(this, _isPaintingShopOpen)) } set isPaintingShopOpen(t) { set(__privateGet(this, _isPaintingShopOpen), proxy(t)) } get isShopOpen() { return get(__privateGet(this, _isShopOpen)) } set isShopOpen(t) { set(__privateGet(this, _isShopOpen), proxy(t)) } get isPixelServiceOpen() { return get(__privateGet(this, _isPixelServiceOpen)) } set isPixelServiceOpen(t) { set(__privateGet(this, _isPixelServiceOpen), proxy(t)) } get isHowToPlayOpen() { return get(__privateGet(this, _isHowToPlayOpen)) } set isHowToPlayOpen(t) { set(__privateGet(this, _isHowToPlayOpen), proxy(t)) } get isHeadDisplayOpen() { return get(__privateGet(this, _isHeadDisplayOpen)) } set isHeadDisplayOpen(t) { set(__privateGet(this, _isHeadDisplayOpen), proxy(t)) } get currentHeadType() { return get(__privateGet(this, _currentHeadType)) } set currentHeadType(t) { set(__privateGet(this, _currentHeadType), proxy(t)) } get ping() { return get(__privateGet(this, _ping)) } set ping(t) { set(__privateGet(this, _ping), proxy(t)) } get _connectionStatus() { return get(__privateGet(this, __connectionStatus)) } set _connectionStatus(t) { set(__privateGet(this, __connectionStatus), proxy(t)) } get onlinePlayers() { return get(__privateGet(this, _onlinePlayers)) } set onlinePlayers(t) { set(__privateGet(this, _onlinePlayers), proxy(t)) } get isSinglePlayerMode() { return get(__privateGet(this, _isSinglePlayerMode)) } set isSinglePlayerMode(t) { set(__privateGet(this, _isSinglePlayerMode), proxy(t)) } get showPlayerLabels() { return get(__privateGet(this, _showPlayerLabels)) } set showPlayerLabels(t) { set(__privateGet(this, _showPlayerLabels), proxy(t)) } get isMusicMuted() { return get(__privateGet(this, _isMusicMuted)) } set isMusicMuted(t) { set(__privateGet(this, _isMusicMuted), proxy(t)) } get currentMusic() { return get(__privateGet(this, _currentMusic)) } set currentMusic(t) { set(__privateGet(this, _currentMusic), proxy(t)) } get stopUpdates() { return get(__privateGet(this, _stopUpdates)) } set connectionStatus(t) { 1 == this.connectionStatus && 3 == t || (this._connectionStatus = t) } get connectionStatus() { return this._connectionStatus } async switchArea(t, e = 0) { var i, n, r, s; if ("home-room-exit" == t && !this.availableItems.has("home-key")) return void dialogState.showDialog({ message: "You can't leave the house without your key!", autoClose: 3e3 });
		uiState.connectionStatus = 1; const o = await api.game.usePortal({ body: { portal: t } }); if (204 == o.status) { const e = null == (i = this.game) ? void 0 : i.scene.getAt(1).scene.key; if (e) { const t = null == (n = this.game) ? void 0 : n.scene.getScene(e);
				t && ("destroy" in t && "function" == typeof t.destroy && (null == t || t.destroy()), null == (r = this.game) || r.scene.remove(e)) } const o = PortalConfigs[t].areaTo;
			this.area = o, null == (s = this.game) || s.scene.add(o, SCENE_MAP[o], !0) } else 400 == o.status && e <= 3 && setTimeout((() => { this.switchArea(t, e + 1) }), 250 + 250 * e) } _keypressHandler(t) { 3 != this.connectionStatus && ("m" === t.key ? this.isMenuOpen = !this.isMenuOpen : "?" === t.key ? this.isHowToPlayOpen = !0 : "Escape" === t.key && (this.isMenuOpen = !1, this.isPaintingShopOpen = !1, this.isHowToPlayOpen = !1, this.isFlagPaintingOpen = !1, this.isPixelServiceOpen = !1, this.isShopOpen = !1, this.isHeadDisplayOpen = !1, this.currentHeadType = null, dialogState.closeDialog())) } async toggleMusic() { this.isMusicMuted = !this.isMusicMuted, await db.config.put({ key: "isMusicMuted", value: this.isMusicMuted.toString() }), this.currentMusic && (this.isMusicMuted ? this.currentMusic.pause() : this.currentMusic.resume()) } setCurrentMusic(t) { this.currentMusic = t } } _area = new WeakMap, _selfHome = new WeakMap, _availableEmotes = new WeakMap, _selectedEmote = new WeakMap, _availableItems = new WeakMap, _havePaintings = new WeakMap, _currentHomePaintings = new WeakMap, _isFlagPaintingOpen = new WeakMap, _haveShopItems = new WeakMap, _currentSkinId = new WeakMap, _isMenuOpen = new WeakMap, _isPaintingShopOpen = new WeakMap, _isShopOpen = new WeakMap, _isPixelServiceOpen = new WeakMap, _isHowToPlayOpen = new WeakMap, _isHeadDisplayOpen = new WeakMap, _currentHeadType = new WeakMap, _ping = new WeakMap, __connectionStatus = new WeakMap, _onlinePlayers = new WeakMap, _isSinglePlayerMode = new WeakMap, _showPlayerLabels = new WeakMap, _isMusicMuted = new WeakMap, _currentMusic = new WeakMap, _stopUpdates = new WeakMap;
const uiState = new UIState;
class OutlinePipeline extends Phaser$1.Renderer.WebGL.Pipelines.PostFXPipeline { constructor(t) { super({ game: t, fragShader: "\n            precision mediump float;\n            uniform sampler2D uMainSampler;\n            uniform vec2 uTextureSize;\n            uniform float uThickness;\n            varying vec2 outTexCoord;\n\n            void main() {\n                vec4 color = texture2D(uMainSampler, outTexCoord);\n\n                if (color.a > 0.0) {\n                    gl_FragColor = color;\n                    return;\n                }\n\n                float pixelX = uThickness / uTextureSize.x;\n                float pixelY = uThickness / uTextureSize.y;\n\n                float alpha = 0.0;\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x - pixelX, outTexCoord.y)).a; // Left\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x + pixelX, outTexCoord.y)).a; // Right\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x, outTexCoord.y - pixelY)).a; // Bottom\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x, outTexCoord.y + pixelY)).a; // Top\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x - pixelX, outTexCoord.y - pixelY)).a; // Top-Left\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x + pixelX, outTexCoord.y - pixelY)).a; // Top-Right\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x - pixelX, outTexCoord.y + pixelY)).a; // Bottom-Left\n                alpha += texture2D(uMainSampler, vec2(outTexCoord.x + pixelX, outTexCoord.y + pixelY)).a; // Bottom-Right\n\n                if (alpha > 0.0) {\n                    gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n                } else {\n                    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n                }\n            }\n        " }) } onPreRender() { const t = this.gameObject; if (t) { const e = t; if (!e.texture || !e.texture.source || !e.texture.source[0]) return; const i = e.texture.source[0].width,
				n = e.texture.source[0].height; if (0 === i || 0 === n) return; const r = e.getData("outlineThickness") || .12;
			this.set2f("uTextureSize", i, n), this.set1f("uThickness", r) } else console.warn("OutlinePipeline: onPreRender called without a specific gameObject. This usually means it was applied to a camera.") } } class Preloader extends phaserExports.Scene { constructor() { super("Preloader") } preload() { this.load.setPath("assets"), loadSprites(this) } async create() { createAnimations(this.game.anims), this.renderer.pipelines.addPostPipeline("outline", OutlinePipeline); const t = await api.user.me(); if (403 == t.status) return alert("Please login first!"), void(window.location.href = "/"); if (200 == t.status) { uiState.playerId = t.body.id; const e = t.body.area;
			uiState.area = e, this.scene.add(e, SCENE_MAP[e], !0) } } }
const config = { type: Phaser.WEBGL, backgroundColor: "#028af8", pixelArt: !0, roundPixels: !0, scale: { width: 1600, height: 900, parent: "game-canvas", mode: Phaser.Scale.FIT, autoCenter: Phaser.Scale.CENTER_BOTH }, physics: { default: "arcade", arcade: { debug: CLIENT_CONFIG.DEBUG_RENDER, fps: 60 } }, fps: { forceSetTimeOut: !0, target: parseInt(new URLSearchParams(window.location.search).get("fps") || "60") }, input: { keyboard: !0 }, scene: [Preloader] };

function startGame(t) { const e = new phaserExports.Game({ ...config, parent: t }); return uiState.game = e, e }
const linear = t => t;

function fade(t, { delay: e = 0, duration: i = 400, easing: n = linear } = {}) { const r = +getComputedStyle(t).opacity; return { delay: e, duration: i, easing: n, css: t => "opacity: " + t * r } }
var root$o = template('<div class="flex flex-col gap-0 px-4 py-1 pixel-corners-b-ui-light bg-ui-shade"><div class="text-2xl -mb-2"></div> <div class="text-xl text-ui-light"></div></div>');

function PlayerCard(t, e) { let { name: i, team_name: n, team_emoji: r } = e.player; var s = root$o(),
		o = child(s);
	o.textContent = `${i??""} ${r??""}`, sibling(o, 2).textContent = n, reset(s), append(t, s) }
var root$n = template('<div class="flex flex-col gap-2 pt-4 px-4 h-full overflow-y-auto"><div class="text-3xl"><!></div> <div class="flex flex-row gap-2 flex-wrap"></div></div>');

function Players(t, e) { push$1(e, !0); const i = derived((() => uiState.onlinePlayers.length)); var n = root$n(),
		r = child(n),
		s = child(r);
	if_block(s, (() => 1 == get(i)), (t => { var e = text$6("There is 1 player online");
		append(t, e) }), (t => { var e = text$6();
		template_effect((() => set_text(e, `There are ${get(i)??""} players online`))), append(t, e) })), reset(r); var o = sibling(r, 2);
	each(o, 21, (() => uiState.onlinePlayers), index$1, ((t, e) => { PlayerCard(t, { get player() { return get(e) } }) })), reset(o), reset(n), append(t, n), pop() }
var on_click$9 = (t, e, i) => e(get(i)),
	root_1$e = template('<button><img class="w-9/12 h-9/12 m-auto" style="image-rendering: pixelated;"> <div class="absolute bottom-0 right-2 text-xl"> </div></button>'),
	root_3$5 = template('<span class="text-lg text-green-400">(Equipped)</span>'),
	on_click_1$4 = (t, e) => e(),
	root_5$5 = template('<button class="px-6 py-3 bg-red-600 hover:bg-red-700 pixel-corners text-ui-light font-bold">Unequip</button>'),
	on_click_2$2 = (t, e, i) => e(get(i)),
	root_6$4 = template('<button class="px-6 py-3 bg-ui-primary hover:bg-ui-dark pixel-corners text-ui-light font-bold">Equip</button>'),
	root_4$3 = template('<div class="flex justify-end mt-2"><!></div>'),
	root_2$a = template('<div class="min-h-32 max-h-48 bg-ui-shade pixel-corners flex flex-col gap-3 p-4 text-ui-light mt-4"><div class="flex flex-row gap-4 items-start"><div class="p-2 min-w-16 h-16 pixel-corners bg-ui-primary flex-shrink-0"><img class="w-full h-full object-contain" style="image-rendering: pixelated;"></div> <div class="flex flex-col flex-grow min-w-0"><div class="text-2xl font-bold mb-1"> <!></div> <div class="text-lg text-gray-200 overflow-y-auto max-h-20 pr-2"> </div></div></div> <!></div>'),
	root$m = template('<div class="flex flex-col h-full"><div class="flex flex-col gap-4 flex-grow min-h-0"><h3 class="font-pixel-default text-3xl">Select an item to view details</h3> <div class="flex gap-2 font-pixel-default text-4xl w-full flex-wrap overflow-y-auto flex-grow"></div></div> <!></div>');

function Items(t, e) { push$1(e, !0); const i = derived((() => uiState.availableItems.keys().toArray().filter((t => "ball-bearing" === t || uiState.availableItems.get(t) > 0)))),
		n = derived((() => Object.fromEntries(get(i).map((t => { var e; return [t, null == (e = uiState.game) ? void 0 : e.textures.getBase64(ItemConfigs[t].sprite)] }))))); let r = state(void 0),
		s = state(void 0); const o = async t => { set(r, proxy(t)), "shiny-flag" === t && await (async () => { if (uiState.haveShopItems.includes("shiny-flag")) try { const t = await api.game.getShinyFlagDescription();
				200 === t.status && set(s, proxy(t.body.description)) } catch (t) { console.error("Failed to fetch shiny flag description:", t), set(s, void 0) } else set(s, void 0) })() }, a = t => t in ITEM_SKIN_MAPPING, l = t => { if (!a(t)) return !1; const e = ITEM_SKIN_MAPPING[t]; return uiState.currentSkinId === e }, h = async t => { if (a(t)) try { await api.game.equipSkin({ body: { item: t } }) } catch (e) { console.error("Failed to equip skin:", e) } }, u = async () => { try { await api.game.equipSkin({ body: { item: null } }) } catch (t) { console.error("Failed to unequip skin:", t) } }; var c = root$m(),
		d = child(c),
		f = sibling(child(d), 2);
	each(f, 21, (() => get(i)), index$1, ((t, e) => { var i = root_1$e();
		i.__click = [on_click$9, o, e]; var s = child(i),
			a = sibling(s, 2),
			l = child(a, !0);
		template_effect((() => set_text(l, uiState.availableItems.get(get(e))))), reset(a), reset(i), template_effect((() => { set_class(i, `p-1 w-2/12 relative h-max aspect-square ${get(e)==get(r)?"pixel-corners-b-ui-light":"pixel-corners"} hover:bg-ui-dark bg-ui-primary`), set_attribute(s, "src", get(n)[get(e)] ?? "#"), set_attribute(s, "alt", ItemConfigs[get(e)].name) })), append(t, i) })), reset(f), reset(d); var p = sibling(d, 2);
	if_block(p, (() => get(r)), (t => { var e = root_2$a(); const i = derived((() => get(r))); var o = child(e),
			c = child(o),
			d = child(c);
		reset(c); var f = sibling(c, 2),
			p = child(f),
			g = child(p),
			m = sibling(g);
		if_block(m, (() => l(get(r))), (t => { var e = root_3$5();
			append(t, e) })), reset(p); var v = sibling(p, 2),
			y = child(v, !0);
		template_effect((() => set_text(y, (t => "shiny-flag" === t && get(s) ? get(s) : ItemConfigs[t].description)(get(r))))), reset(v), reset(f), reset(o); var x = sibling(o, 2);
		if_block(x, (() => a(get(r))), (t => { var e = root_4$3(),
				i = child(e);
			if_block(i, (() => l(get(r))), (t => { var e = root_5$5();
				e.__click = [on_click_1$4, u], append(t, e) }), (t => { var e = root_6$4();
				e.__click = [on_click_2$2, h, r], append(t, e) })), reset(e), append(t, e) })), reset(e), template_effect((() => { set_attribute(d, "src", get(n)[get(i)] ?? "#"), set_attribute(d, "alt", ItemConfigs[get(i)].name), set_text(g, `${ItemConfigs[get(r)].name??""} `) })), append(t, e) })), reset(c), append(t, c), pop() } delegate(["click"]);
var on_click$8 = (t, e, i) => e(get(i)),
	root_1$d = template('<button><img class="w-9/12 h-9/12 m-auto" style="image-rendering: pixelated;"></button>'),
	root$l = template('<div class="flex flex-col px-4 py-2 gap-2 text-ui-lighter h-full overflow-y-auto"><h3 class="font-pixel-default text-3xl">Select an emote and press e in game to show it off!</h3> <div class="flex gap-2 font-pixel-default text-4xl w-full flex-wrap"></div></div>');

function Emotes(t, e) { push$1(e, !0); let i = state(void 0);
	liveQuery((async () => { const t = await db.config.get("selectedEmote"); return (null == t ? void 0 : t.value) ?? EMOTES[0] })).subscribe((t => set(i, proxy(t)))); let n = derived((() => Object.fromEntries(uiState.availableEmotes.map((t => { var e; return [t, null == (e = uiState.game) ? void 0 : e.textures.getBase64(t)] })))));
	async function r(t) { await db.config.put({ key: "selectedEmote", value: t }) }
	var s = root$l(),
		o = sibling(child(s), 2);
	each(o, 21, (() => EMOTES), index$1, ((t, e) => { var s = root_1$d(); const o = derived((() => uiState.availableEmotes.includes(get(e))));
		s.__click = [on_click$8, r, e]; var a = child(s);
		template_effect((() => set_attribute(a, "alt", uiState.availableEmotes.includes(get(e)) ? get(e) : "?"))), reset(s), template_effect((() => { set_class(s, `p-1 w-2/12 h-max aspect-square ${get(e)==get(i)?"pixel-corners-b-ui-light":"pixel-corners"} ${get(o)?"hover:bg-ui-dark bg-ui-primary":"bg-ui-shade"}`), s.disabled = !get(o), set_attribute(a, "src", get(n)[get(e)] ?? "#") })), append(t, s) })), reset(o), reset(s), append(t, s), pop() } delegate(["click"]);
var root$k = template('<div class="flex flex-col gap-6 pt-4 px-4 h-full overflow-y-auto font-pixel-default"><div class="text-3xl text-ui-light uppercase">Settings</div> <div class="flex flex-col gap-6"><div class="pixel-corners bg-ui-shade p-6"><div class="text-2xl text-ui-light uppercase mb-4">Game Mode</div> <div class="flex items-start gap-6"><button aria-label="Toggle single player mode" style="image-rendering: pixelated;"><div style="image-rendering: pixelated;"></div></button> <div class="flex-1"><div class="text-xl text-ui-light uppercase mb-2" style="line-height: 1rem;">Single Player Mode - Toggle this to show/hide other\n                        players. Enabling this might help if your network\n                        connection is slow.</div> <div class="text-lg text-ui-lighter leading-relaxed"> </div></div></div></div> <div class="pixel-corners bg-ui-shade p-6"><div class="text-2xl text-ui-light uppercase mb-4">Name Display</div> <div class="flex items-start gap-6"><button aria-label="Toggle player name labels" style="image-rendering: pixelated;"><div style="image-rendering: pixelated;"></div></button> <div class="flex-1"><div class="text-xl text-ui-light uppercase mb-2" style="line-height: 1rem;">Show Player Names - Toggle this to show/hide name labels\n                        above all players.</div> <div class="text-lg text-ui-lighter leading-relaxed"> </div></div></div></div></div></div>');

function Settings(t, e) { push$1(e, !0); let i = state(!1); var n = root$k(),
		r = sibling(child(n), 2),
		s = child(r),
		o = sibling(child(s), 2),
		a = child(o);
	a.__click = function() { var t;
		get(i) || (set(i, !0), uiState.isSinglePlayerMode = !uiState.isSinglePlayerMode, null == (t = uiState.sceneNetworkManager) || t.setSinglePlayerMode(uiState.isSinglePlayerMode), setTimeout((() => { set(i, !1) }), 2e3)) }; var l = sibling(a, 2),
		h = sibling(child(l), 2),
		u = child(h, !0);
	reset(h), reset(l), reset(o), reset(s); var c = sibling(s, 2),
		d = sibling(child(c), 2),
		f = child(d);
	f.__click = function() { uiState.showPlayerLabels = !uiState.showPlayerLabels }; var p = sibling(f, 2),
		g = sibling(child(p), 2),
		m = child(g, !0);
	reset(g), reset(p), reset(d), reset(c), reset(r), reset(n), template_effect((() => { a.disabled = get(i), set_class(a, `relative w-20 h-10 pixel-corners transition-all duration-200 ${uiState.isSinglePlayerMode?"bg-green-600 pixel-corners-b-green-400":"bg-gray-600 pixel-corners-b-gray-400"} ${get(i)?"opacity-50 cursor-not-allowed":"hover:brightness-110 active:brightness-90"}`), set_text(u, uiState.isSinglePlayerMode ? "Playing alone - you won't see other players and other players won't see you" : "Playing with others - you'll see other players and other players will see you"), set_class(f, `relative w-20 h-10 pixel-corners transition-all duration-200 ${uiState.showPlayerLabels?"bg-green-600 pixel-corners-b-green-400":"bg-gray-600 pixel-corners-b-gray-400"} hover:brightness-110 active:brightness-90`), set_text(m, uiState.showPlayerLabels ? "Showing player names - name labels are visible above all characters" : "Hiding player names - name labels are hidden") })), append(t, n), pop() } delegate(["click"]);
var root$j = template('<div class="relative w-[calc(100%-4rem)] mx-8 h-[calc(100%-8rem)] mt-24 text-ui-lighter"><div class="absolute top-6 left-1/2 -translate-x-1/2 w-fit px-4 h-12 z-10 text-3xl xl:text-4xl text-center pixel-corners-b-ui-darker bg-ui-dark"> </div> <div><!></div></div>');

function UIPanel(t, e) { push$1(e, !0); var i = root$j(),
		n = child(i),
		r = child(n, !0);
	reset(n); var s = sibling(n, 2);
	snippet(child(s), (() => e.children)), reset(s), reset(i), template_effect((() => { set_text(r, e.title), set_class(s, `absolute top-10 left-1/2 -translate-x-1/2 w-full h-5/6 pixel-corners pixel-corners-b-ui-dark bg-ui-base border-ui-darker border-8 flex flex-col text-xl xl:text-2xl ${e.containerClass??""}`) })), append(t, i), pop() }
var on_click$7 = (t, e, i) => set(e, proxy(get(i))),
	root_2$9 = template('<button style="image-rendering: pixelated;"> </button>'),
	root_1$c = template('<div class="flex h-full w-full relative"><button class="absolute top-4 right-4 font-pixel-default text-2xl pixel-button w-8 h-8 z-10"><div class="ml-1 -mt-1">x</div></button> <div class="flex flex-col w-48 bg-ui-shade p-4 gap-3"><!> <div class="flex-grow"></div> <div class="font-pixel-default text-center text-ui-lighter mt-4 px-2">skateboarding dog</div></div> <div class="flex-1 bg-ui-base p-6 overflow-auto"><!></div></div>');

function Menu(t, e) { push$1(e, !0); const i = ["players", "items", "emotes", "settings"]; let n = state("players");
	UIPanel(t, { title: "Menu", containerClass: "max-w-5xl max-h-[600px]", children: (t, e) => { var r = root_1$c(),
				s = child(r);
			s.__click = () => uiState.isMenuOpen = !1; var o = sibling(s, 2);
			each(child(o), 17, (() => i), index$1, ((t, e) => { var i = root_2$9();
				i.__click = [on_click$7, n, e]; var r = child(i, !0);
				reset(i), template_effect((() => { set_class(i, "w-full h-14 font-pixel-default uppercase text-xl text-ui-light pixel-button transition-all duration-150 " + (get(n) == get(e) ? "pixel-corners-b-ui-light bg-ui-shade" : "pixel-corners hover:bg-ui-primary")), set_text(r, get(e)) })), append(t, i) })), next(4), reset(o); var a = sibling(o, 2),
				l = child(a);
			if_block(l, (() => "players" == get(n)), (t => { Players(t, {}) }), (t => { var e = comment$1(),
					i = first_child(e);
				if_block(i, (() => "items" == get(n)), (t => { Items(t, {}) }), (t => { var e = comment$1(),
						i = first_child(e);
					if_block(i, (() => "emotes" == get(n)), (t => { Emotes(t, {}) }), (t => { var e = comment$1(),
							i = first_child(e);
						if_block(i, (() => "settings" == get(n)), (t => { Settings(t, {}) }), null, !0), append(t, e) }), !0), append(t, e) }), !0), append(t, e) })), reset(a), reset(r), append(t, r) }, $$slots: { default: !0 } }), pop() } delegate(["click"]);
const fetchLink = async (t, e, i) => { set(e, !0); const n = await api.game.getVisitLink();
	200 === n.status && set(i, proxy(n.body.link)) };
var root_1$b = template('<div class="px-4 py-2 pixel-corners-b-ui-light bg-ui-primary font-pixel-default text-ui-lighter"><span class="text-ui-light">Share the following link with a friend to invite them to your\n                home:</span> <br> </div>'),
	root_2$8 = template('<button class="btn flex flex-row gap-4 px-4 py-2 pixel-corners-b-ui-light bg-ui-primary font-pixel-default text-ui-light" title="Invite friends to your home!"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M17.5 19h1v-2.5H21v-1h-2.5V13h-1v2.5H15v1h2.5zm.5 2q-2.075 0-3.537-1.463T13 16t1.463-3.537T18 11t3.538 1.463T23 16t-1.463 3.538T18 21M4 19V7l8-6l8 6v2.3q-.5-.15-1-.225T18 9q-2.925 0-4.962 2.038T11 16q0 .8.163 1.55t.512 1.45z"></path></svg> <span class="text-2xl">Invite</span></button>'),
	root$i = template('<div class="absolute left-1/2 -translate-x-1/2 top-12 z-0"><!></div>');

function HomeOverlay(t, e) { push$1(e, !0); let i = state(!1),
		n = state(void 0); var r = root$i(),
		s = child(r);
	if_block(s, (() => get(n)), (t => { var e = root_1$b(),
			i = sibling(child(e), 3);
		reset(e), template_effect((() => set_text(i, ` ${get(n)??""}`))), append(t, e) }), (t => { var e = root_2$8();
		e.__click = [fetchLink, i, n], template_effect((() => e.disabled = get(i))), append(t, e) })), reset(r), append(t, r), pop() } delegate(["click"]);
const imgSrc = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAm5JREFUWIXFWM1KAlEU/swWFVEMCBaIRC2CNkGvILhzZwsX+gw9QIsCH8Bn0IWL3LkTfIA2booWbQIRQhDmDbJNZzz3zLk/MwZ+KxnvPfe73/mdKSAn7luttfb8ZTgs5LG3n/fwerNjW5asyUIqaCERcByuYjLqBxPyLrhvtdYagdl0rK6/qzVUQj4y1j81FcqVKgBg0OuiFEXqvlUco/3wCABYLuYGGcCujvpQqjAZ9dF+eEwZlmSIhFwnbWlk9nwkbC7IAm6j3uyoGefMGjJQiiIMet3kZvKWHHIdqTabjtX4IRgScTU0JVZxHJw5muuATTBLFyU/fCS4EX4YhyTps8PJqK5ZxTEAGDfiJBwZYGTaXa0RHGMFwFSDMgTYpKkk4asJtoDnF5SqpBTh6SelDiEBJEqtuTI8wKVLgQy9JpSEjUy92UkKohbw+zJIs2RGHpDapNDfWetUQStFESajviFfVjUIL8NhgdvhJGRqq66x9ZFtQaQ0+5nmkW3humDKNbtCEBFbo/LBNsuoRHhAyRL+H53XZstb0AhUBQmUZqHZI9XQ2gaH6hqqJfVmx0jjUBdpgxXZkxckqN0X2IyFy8VcnbKAdNPTxkvay+3x/5zdV24AzMGGHWSo4xsDpE0O62DEWdvGARc4Ca1tWAcjjYxtynIRsmUaJ6O1DGcdcdWA2XSc6keudPfVk6J88PH+/nxQ/Hm6urkFAJxfXuP76zO1kW5YrlRxfHKKs8oF3mavODo8TK0NGazUYKVZgm5ChrQbuwIwcLwEsOUrp/S7HCs5idyvnJIMsOOXcI2QixQP4H//LOEjxZH3Q80vGcexgDQlGR4AAAAASUVORK5CYII=";
var root$h = template("<img>");

function BallBearing(t, e) { let i = rest_props(e, ["$$slots", "$$events", "$$legacy"]); var n = root$h(); let r;
	template_effect((() => r = set_attributes(n, r, { src: imgSrc, alt: "$", ...i }))), handle_lazy_img(n), replay_events(n), append(t, n) }
var on_click$6 = (t, e, i) => e(i()),
	root_5$4 = template(" <!>)", 1),
	root_1$a = template('<div class="flex flex-col w-64 gap-2 flex-shrink-0"><img class="w-48 h-auto m-auto" style="image-rendering: pixelated;"> <div class="pixel-corners-b-ui-darker bg-ui-shade text-center text-wrap"><div class="px-4 py-2 bg-ui-dark truncate"> </div> <div class="text-xl px-4 py-2 h-64 overflow-y-auto"> </div></div> <button><!></button></div>'),
	root_6$3 = template('<button class="absolute top-0 right-2 font-pixel-default text-xl"><div>x</div></button> <div class="mt-8 text-center text-3xl w-full flex-shrink-0">Purchase a painting for your home. While stocks last!</div> <div class="flex flex-row justify-around p-8 gap-4 overflow-x-auto h-fit items-center"></div> <div class="text-red-500 w-full text-center"> </div>', 1);

function PaintingShop(t, e) { push$1(e, !0); let i = state(void 0),
		n = state(!1); const r = derived((() => Object.fromEntries(Object.keys(PaintingConfigs).map((t => { var e; return [t, null == (e = uiState.game) ? void 0 : e.textures.getBase64(PaintingConfigs[t].sprite)] }))))),
		s = async t => { var e, r; if (!get(n)) { set(n, !0); try { const n = await api.game.buyPainting({ body: { painting: t } });
					204 === n.status ? (uiState.havePaintings.push(t), await new Promise((t => setTimeout(t, 500))), null == (e = uiState.sceneNetworkManager) || e.initPlayerExtraData(!0)) : set(i, proxy(null == (r = n.body) ? void 0 : r.error)) } finally { set(n, !1) } } };
	UIPanel(t, { title: "Painting Shop", containerClass: "max-w-[60rem] h-fit py-4", children: (t, e) => { var o = root_6$3(),
				a = first_child(o);
			a.__click = () => uiState.isPaintingShopOpen = !1; var l = sibling(a, 4);
			each(l, 21, (() => Object.keys(PaintingConfigs)), index$1, ((t, e) => {
				((t, e = noop$1) => { var i = root_1$a(); const o = derived((() => PaintingConfigs[e()])),
						a = derived((() => get(o).outOfStock || uiState.havePaintings.includes(e()))); var l = child(i),
						h = sibling(l, 2),
						u = child(h),
						c = child(u, !0);
					reset(u); var d = sibling(u, 2),
						f = child(d, !0);
					reset(d), reset(h); var p = sibling(h, 2);
					p.__click = [on_click$6, s, e]; var g = child(p);
					if_block(g, (() => get(o).outOfStock), (t => { var e = text$6("Out of Stock");
						append(t, e) }), (t => { var i = comment$1(),
							n = first_child(i);
						if_block(n, (() => uiState.havePaintings.includes(e())), (t => { var e = text$6("Owned");
							append(t, e) }), (t => { var e = root_5$4(),
								i = first_child(e);
							BallBearing(sibling(i), { class: "span w-4 inline -mt-0.5" }), next(), template_effect((() => set_text(i, `Buy (${get(o).cost??""} `))), append(t, e) }), !0), append(t, i) })), reset(p), reset(i), template_effect((() => { set_attribute(l, "src", get(r)[e()] ?? "#"), set_attribute(l, "alt", e()), set_attribute(u, "title", get(o).name), set_text(c, get(o).name), set_text(f, get(o).description), set_class(p, `btn pixel-button py-2 pixel-corners-b-ui-darker ${(get(a)||get(n)?"grayscale hover:!grayscale":"hover:bg-ui-dark")??""}`), p.disabled = get(a) || get(n), set_attribute(p, "title", get(o).outOfStock ? "Out of stock" : get(a) ? "You own this painting" : `Buy for ${get(o).cost} ball bearings`) })), append(t, i) })(t, (() => get(e))) })), reset(l); var h = sibling(l, 2),
				u = child(h, !0);
			reset(h), template_effect((() => set_text(u, get(i)))), append(t, o) }, $$slots: { default: !0 } }), pop() } delegate(["click"]);
var on_click$5 = (t, e, i) => e(i()),
	root_2$7 = template('<div class="absolute -top-1 -right-1 bg-green-600 text-white text-xs px-1 py-0.5 pixel-corners text-[10px] z-20 shadow-md">OWNED</div>'),
	root_1$9 = template('<div class="relative"><button><img style="image-rendering: pixelated;"> <div class="text-center text-sm mt-1 truncate"> </div></button> <!></div>'),
	on_click_1$3 = (t, e, i) => e(get(i)),
	root_7$3 = template(" <!>)", 1),
	on_click_2$1 = (t, e, i) => e(get(i)),
	root_8$2 = template("<button> <!>)</button>"),
	root_9 = template('<div class="text-red-500 text-center px-8 py-2 bg-ui-shade"> </div>'),
	root_5$3 = template('<div class="flex flex-row gap-6 items-start"><img class="w-20 h-20 object-contain flex-shrink-0" style="image-rendering: pixelated;"> <div class="flex-1"><h3 class="text-xl font-bold mb-2"> </h3> <p class="text-base mb-4"> </p> <div class="flex flex-row gap-4 items-center"><button><!></button> <!> <!></div></div></div>'),
	root_10 = template('<div class="text-center py-8">Select an item above to see its details</div>'),
	root_3$4 = template('<button class="absolute top-0 right-2 font-pixel-default text-xl"><div>x</div></button> <div class="mt-8 text-center text-2xl w-full flex-shrink-0 mb-4 px-4">These items have been through some ruff times. Luckily, they\'re 100%\n        refundable...</div> <div class="flex-1 px-8"><div class="grid grid-cols-6 gap-3"></div></div> <div class="px-8 mt-0 py-4 border-t-2 border-ui-dark bg-ui-shade flex-shrink-0"><!></div>', 1);

function Shop(t, e) { push$1(e, !0); let i = state(void 0),
		n = state(void 0),
		r = state(!1); const s = derived((() => Object.fromEntries(Object.keys(ShopItemConfigs).map((t => { var e; return [t, null == (e = uiState.game) ? void 0 : e.textures.getBase64(ItemConfigs[t].sprite)] }))))),
		o = async t => { var e; if (t && !get(r)) { set(r, !0); try { const n = await api.game.buyShopItem({ body: { item: t } });
					204 === n.status ? (uiState.haveShopItems.push(t), set(i, void 0), await new Promise((t => setTimeout(t, 500))), null == (e = uiState.sceneNetworkManager) || e.initPlayerExtraData(!0)) : set(i, proxy(n.body.error || "Failed to buy item")) } finally { set(r, !1) } } }, a = async t => { var e, n; if (t && !get(r)) { set(r, !0); try { const r = await api.game.refundShopItem({ body: { item: t } }); if (204 === r.status) { const n = uiState.haveShopItems.indexOf(t);
						n > -1 && uiState.haveShopItems.splice(n, 1), set(i, void 0), await new Promise((t => setTimeout(t, 500))), null == (e = uiState.sceneNetworkManager) || e.initPlayerExtraData(!0) } else set(i, proxy(null == (n = r.body) ? void 0 : n.error)) } finally { set(r, !1) } } }, l = t => { set(n, proxy(t)), set(i, void 0) };
	UIPanel(t, { title: "Ruff-undable Goods", containerClass: "max-w-[50rem] h-[28rem] flex flex-col", children: (t, e) => { var h = root_3$4(),
				u = first_child(h);
			u.__click = () => uiState.isShopOpen = !1; var c = sibling(u, 4),
				d = child(c);
			each(d, 21, (() => Object.keys(ShopItemConfigs)), index$1, ((t, e) => {
				((t, e = noop$1) => { var i = root_1$9(); const r = derived((() => ShopItemConfigs[e()])),
						o = derived((() => uiState.haveShopItems.includes(e()))),
						a = derived((() => get(n) === e())); var h = child(i);
					h.__click = [on_click$5, l, e]; var u = child(h),
						c = sibling(u, 2),
						d = child(c, !0);
					reset(c), reset(h); var f = sibling(h, 2);
					if_block(f, (() => get(o)), (t => { var e = root_2$7();
						append(t, e) })), reset(i), template_effect((() => { set_class(h, `relative cursor-pointer pixel-corners hover:bg-ui-dark transition-colors duration-200 p-2 w-full ${(get(a)?"bg-ui-dark":"bg-ui-shade ")??""}`), set_attribute(h, "aria-label", `Select ${get(r).name} for details`), set_attribute(u, "src", get(s)[e()] ?? "#"), set_attribute(u, "alt", get(r).name), set_class(u, `w-16 h-16 object-contain m-auto ${(get(a)?"brightness-110":"")??""}`), set_attribute(c, "title", get(r).name), set_text(d, get(r).name) })), append(t, i) })(t, (() => get(e))) })), reset(d), reset(c); var f = sibling(c, 2),
				p = child(f);
			if_block(p, (() => get(n)), (t => { var e = root_5$3(); const l = derived((() => ShopItemConfigs[get(n)])),
					h = derived((() => uiState.haveShopItems.includes(get(n)))); var u = child(e),
					c = sibling(u, 2),
					d = child(c),
					f = child(d, !0);
				reset(d); var p = sibling(d, 2),
					g = child(p, !0);
				reset(p); var m = sibling(p, 2),
					v = child(m);
				v.__click = [on_click_1$3, o, n]; var y = child(v);
				if_block(y, (() => get(h)), (t => { var e = text$6("Owned");
					append(t, e) }), (t => { var e = root_7$3(),
						i = first_child(e);
					BallBearing(sibling(i), { class: "w-4 inline -mt-0.5" }), next(), template_effect((() => set_text(i, `Buy (${get(l).cost??""} `))), append(t, e) })), reset(v); var x = sibling(v, 2);
				if_block(x, (() => get(h)), (t => { var e = root_8$2();
					e.__click = [on_click_2$1, a, n]; var i = child(e);
					BallBearing(sibling(i), { class: "w-4 inline -mt-0.5" }), next(), reset(e), template_effect((() => { set_class(e, `btn pixel-button py-2 px-4 pixel-corners-b-ui-darker ${(get(r)?"grayscale hover:!grayscale cursor-not-allowed":"hover:bg-red-600 bg-red-500 text-white")??""}`), e.disabled = get(r), set_attribute(e, "title", get(r) ? "Processing..." : `Refund for ${get(l).cost} ball bearings`), set_text(i, `Refund (${get(l).cost??""} `) })), append(t, e) })); var b = sibling(x, 2);
				if_block(b, (() => get(i)), (t => { var e = root_9(),
						n = child(e, !0);
					reset(e), template_effect((() => set_text(n, get(i)))), append(t, e) })), reset(m), reset(c), reset(e), template_effect((() => { set_attribute(u, "src", get(s)[get(n)] ?? "#"), set_attribute(u, "alt", get(l).name), set_text(f, get(l).name), set_text(g, get(l).description), set_class(v, `btn pixel-button py-2 px-4 pixel-corners-b-ui-darker ${(get(h)||get(r)?"grayscale hover:!grayscale cursor-not-allowed":"hover:bg-green-600 bg-green-500 text-white")??""}`), v.disabled = get(h) || get(r), set_attribute(v, "title", get(h) ? "You own this item" : `Buy for ${get(l).cost} ball bearings`) })), append(t, e) }), (t => { var e = root_10();
				append(t, e) })), reset(f), append(t, h) }, $$slots: { default: !0 } }), pop() } delegate(["click"]);
const handleFileSelect = (t, e, i) => { var n; const r = null == (n = t.target.files) ? void 0 : n[0]; if (r) { if (!r.type.startsWith("image/")) return void set(e, "Please select an image file");
			set(i, proxy(r)), set(e, void 0) } },
	doPixelize = async (t, e, i, n, r, s) => { if (get(e)) { set(n, !0), set(i, void 0); try { const t = new FormData;
				t.append("file", get(e)), t.append("pixelSize", get(r)); const n = await fetch(`${API_BASE_URL}/game/pixelize`, { method: "POST", body: t, credentials: "include" }); if (n.ok) { get(s) && URL.revokeObjectURL(get(s)); const t = await n.blob();
					set(s, proxy(URL.createObjectURL(t))) } else { const t = await n.text();
					set(i, `Failed to process image (status: ${n.status}): ${t}`), console.error("API error response:", n.status, t) } } catch (o) { set(i, "Failed to process image"), console.error("Pixelize error:", o) } finally { set(n, !1) } } else set(i, "Please select a file first") };
var root_2$6 = template('<p class="text-ui-light mt-2 text-center"> </p>'),
	on_click$4 = (t, e) => set(e, proxy(t.target.getAttribute("data-pixel-size") || "2")),
	root_3$3 = template("<button> </button>"),
	root_4$2 = template('<div class="text-center"><h3 class="text-xl mb-4 font-pixel-default text-ui-light">Pixelized Result:</h3> <div class="flex justify-center"><img alt="Pixelized result" style="image-rendering: pixelated;" class="w-[256px] h-[256px]"></div></div>'),
	root_5$2 = template('<div class="flex items-center justify-center h-full text-ui-light text-center"><div><div class="text-2xl mb-2">🖼️</div></div></div>'),
	root_6$2 = template('<div class="text-red-500 w-full text-center mt-4 font-pixel-default"> </div>'),
	root_1$8 = template('<button class="absolute top-0 right-2 font-pixel-default text-xl"><div>x</div></button> <div class="mt-8 text-center text-3xl w-full flex-shrink-0 font-pixel-default">Give me an image and I\'ll pixelize it for you!</div> <div class="flex flex-row gap-6 p-4 font-pixel-default h-full"><div class="flex flex-col space-y-6 w-1/2"><div class="pixel-corners pixel-corners-b-ui-dark bg-ui-shade p-4"><div class="text-center mb-2 text-ui-light">Select Image:</div> <input type="file" accept="image/*" class="w-full p-2 pixel-corners pixel-corners-b-ui-darker bg-ui-light file:pixel-corners file:border-0 file:bg-ui-primary file:text-ui-light file:px-4 file:py-2 file:mr-4"> <!></div> <div class="pixel-corners pixel-corners-b-ui-dark bg-ui-shade p-4"><div class="text-center mb-2 text-ui-light">Pixel Size:</div> <div class="flex gap-2 justify-center"></div></div> <div class="flex justify-center"><button class="px-6 py-3 pixel-corners pixel-corners-b-ui-darker bg-ui-dark hover:bg-ui-darker disabled:bg-ui-shade disabled:cursor-not-allowed text-ui-light font-pixel-default text-xl"> </button></div></div> <div class="w-1/2"><div class="pixel-corners pixel-corners-b-ui-dark bg-ui-shade p-4 h-full"><!></div></div></div> <!>', 1);

function PixelService(t, e) { push$1(e, !0); let i = state(void 0),
		n = state(void 0),
		r = state(void 0),
		s = state(!1),
		o = state("2");
	UIPanel(t, { title: "Pixelize as a Service", containerClass: "max-w-[60rem] h-fit py-4", children: (t, e) => { var a = root_1$8(),
				l = first_child(a);
			l.__click = () => uiState.isPixelServiceOpen = !1; var h = sibling(l, 4),
				u = child(h),
				c = child(u),
				d = sibling(child(c), 2);
			d.__change = [handleFileSelect, i, n]; var f = sibling(d, 2);
			if_block(f, (() => get(n)), (t => { var e = root_2$6(),
					i = child(e);
				reset(e), template_effect((() => set_text(i, `Selected: ${get(n).name??""}`))), append(t, e) })), reset(c); var p = sibling(c, 2),
				g = sibling(child(p), 2);
			each(g, 20, (() => ["1", "2", "4"]), index$1, ((t, e) => { var i = root_3$3();
				i.__click = [on_click$4, o]; var n = child(i);
				reset(i), template_effect((() => { set_attribute(i, "data-pixel-size", e), set_class(i, `px-4 py-2 pixel-corners ${(get(o)===e?"pixel-corners-b-ui-light bg-ui-primary":"pixel-corners-b-ui-darker bg-ui-dark hover:bg-ui-darker")??""} text-ui-light`), set_text(n, `${e??""}x`) })), append(t, i) })), reset(g), reset(p); var m = sibling(p, 2),
				v = child(m);
			v.__click = [doPixelize, n, i, s, o, r]; var y = child(v, !0);
			reset(v), reset(m), reset(u); var x = sibling(u, 2),
				b = child(x),
				w = child(b);
			if_block(w, (() => get(r)), (t => { var e = root_4$2(),
					i = sibling(child(e), 2),
					n = child(i);
				reset(i), reset(e), template_effect((() => set_attribute(n, "src", get(r)))), append(t, e) }), (t => { var e = root_5$2();
				append(t, e) })), reset(b), reset(x), reset(h); var T = sibling(h, 2);
			if_block(T, (() => get(i)), (t => { var e = root_6$2(),
					n = child(e, !0);
				reset(e), template_effect((() => set_text(n, get(i)))), append(t, e) })), template_effect((() => { v.disabled = !get(n) || get(s), set_text(y, get(s) ? "Processing..." : "Pixelize") })), append(t, a) }, $$slots: { default: !0 } }), pop() } delegate(["click", "change"]);
var $$_import_uiState$1 = reactive_import((() => uiState)),
	root_1$7 = template('<div class="w-10 h-10 text-2xl text-center bg-[#c8c8d8] pixel-corners-b-[#9898a8] text-[#9898a8]"> </div>'),
	root_2$5 = template('<button class="absolute top-0 right-2 font-pixel-default text-xl"><div>x</div></button> <div class="mt-12 text-center text-2xl w-full">Ride around on your skateboard and capture some flags!</div> <div class="flex flex-row h-full justify-around items-center"><div class="flex flex-col items-center"><div class="p-4 grid grid-cols-3 grid-rows-2 w-fit"><span></span> <!> <span></span> <!> <!> <!></div> Movement</div> <div class="flex flex-col items-center"><div class="p-4 grid grid-cols-3 grid-rows-2 w-fit"><span></span> <span></span> <span></span> <span></span> <!></div> Interact with things</div> <div class="flex flex-col items-center"><div class="p-4 grid grid-cols-3 grid-rows-2 w-fit"><span></span> <span></span> <span></span> <span></span> <!></div> Menu</div></div>', 1);

function HowToPlay(t, e) { push$1(e, !1); const i = (t, e = noop$1) => { var i = root_1$7(),
			n = child(i, !0);
		template_effect((() => set_text(n, e().toUpperCase()))), reset(i), append(t, i) };
	init(), UIPanel(t, { title: "How To Play", containerClass: "max-w-2xl max-h-[400px]", children: (t, e) => { var n = root_2$5(),
				r = first_child(n);
			r.__click = () => $$_import_uiState$1($$_import_uiState$1().isHowToPlayOpen = !1); var s = sibling(r, 4),
				o = child(s),
				a = child(o),
				l = sibling(child(a), 2);
			i(l, (() => "w")); var h = sibling(l, 4);
			i(h, (() => "a")); var u = sibling(h, 2);
			i(u, (() => "s")); var c = sibling(u, 2);
			i(c, (() => "d")), reset(a), next(), reset(o); var d = sibling(o, 2),
				f = child(d),
				p = sibling(child(f), 8);
			i(p, (() => "f")), reset(f), next(), reset(d); var g = sibling(d, 2),
				m = child(g),
				v = sibling(child(m), 8);
			i(v, (() => "m")), reset(m), next(), reset(g), reset(s), append(t, n) }, $$slots: { default: !0 } }), pop() } delegate(["click"]);
var root_1$6 = template(`<img class="w-full h-full" style="image-rendering: pixelated;"${attr("src",`${API_BASE_URL}/game/viewFlagPainting`)} alt="flag-painting">`);

function FlagPainting(t) { UIPanel(t, { title: "The Flag", containerClass: "max-w-[600px] max-h-[400px]", children: (t, e) => { var i = root_1$6();
			append(t, i) }, $$slots: { default: !0 } }) }

function areEqualSets(t, e) { if (t.size !== e.size) return !1; const i = new Set(t),
		n = new Set(e); for (const r of i)
		if (n.add(r), n.size !== e.size) return !1; for (const r of n)
		if (i.add(r), i.size !== t.size) return !1; return !0 }

function mergeDefaultInterface(t, e) { if (!t) return e; const i = { ...e }; return Object.entries(t).forEach((([t, e]) => { i[t] = e })), i }
let CustomEvent$1 = class extends Event { constructor(t, e) { super(t, e), __publicField(this, "detail"), this.detail = e.detail } };

function Diff() {}

function buildValues(t, e, i, n, r) { for (var s, o = []; e;) o.push(e), s = e.previousComponent, delete e.previousComponent, e = s;
	o.reverse(); for (var a = 0, l = o.length, h = 0, u = 0; a < l; a++) { var c = o[a]; if (c.removed) { if (c.value = t.join(n.slice(u, u + c.count)), u += c.count, a && o[a - 1].added) { var d = o[a - 1];
				o[a - 1] = o[a], o[a] = d } } else { if (!c.added && r) { var f = i.slice(h, h + c.count);
				f = f.map((function(t, e) { var i = n[u + e]; return i.length > t.length ? i : t })), c.value = t.join(f) } else c.value = t.join(i.slice(h, h + c.count));
			h += c.count, c.added || (u += c.count) } } var p = o[l - 1]; return l > 1 && "string" == typeof p.value && (p.added || p.removed) && t.equals("", p.value) && (o[l - 2].value += p.value, o.pop()), o } Diff.prototype = { diff: function(t, e) { var i, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
			r = n.callback; "function" == typeof n && (r = n, n = {}), this.options = n; var s = this;

		function o(t) { return r ? (setTimeout((function() { r(void 0, t) }), 0), !0) : t } t = this.castInput(t), e = this.castInput(e), t = this.removeEmpty(this.tokenize(t)); var a = (e = this.removeEmpty(this.tokenize(e))).length,
			l = t.length,
			h = 1,
			u = a + l;
		n.maxEditLength && (u = Math.min(u, n.maxEditLength)); var c = null !== (i = n.timeout) && void 0 !== i ? i : 1 / 0,
			d = Date.now() + c,
			f = [{ oldPos: -1, lastComponent: void 0 }],
			p = this.extractCommon(f[0], e, t, 0); if (f[0].oldPos + 1 >= l && p + 1 >= a) return o([{ value: this.join(e), count: e.length }]); var g = -1 / 0,
			m = 1 / 0;

		function v() { for (var i = Math.max(g, -h); i <= Math.min(m, h); i += 2) { var n = void 0,
					r = f[i - 1],
					u = f[i + 1];
				r && (f[i - 1] = void 0); var c = !1; if (u) { var d = u.oldPos - i;
					c = u && 0 <= d && d < a } var v = r && r.oldPos + 1 < l; if (c || v) { if (n = !v || c && r.oldPos + 1 < u.oldPos ? s.addToPath(u, !0, void 0, 0) : s.addToPath(r, void 0, !0, 1), p = s.extractCommon(n, e, t, i), n.oldPos + 1 >= l && p + 1 >= a) return o(buildValues(s, n.lastComponent, e, t, s.useLongestToken));
					f[i] = n, n.oldPos + 1 >= l && (m = Math.min(m, i - 1)), p + 1 >= a && (g = Math.max(g, i + 1)) } else f[i] = void 0 } h++ } if (r) ! function t() { setTimeout((function() { if (h > u || Date.now() > d) return r();
				v() || t() }), 0) }();
		else
			for (; h <= u && Date.now() <= d;) { var y = v(); if (y) return y } }, addToPath: function(t, e, i, n) { var r = t.lastComponent; return r && r.added === e && r.removed === i ? { oldPos: t.oldPos + n, lastComponent: { count: r.count + 1, added: e, removed: i, previousComponent: r.previousComponent } } : { oldPos: t.oldPos + n, lastComponent: { count: 1, added: e, removed: i, previousComponent: r } } }, extractCommon: function(t, e, i, n) { for (var r = e.length, s = i.length, o = t.oldPos, a = o - n, l = 0; a + 1 < r && o + 1 < s && this.equals(e[a + 1], i[o + 1]);) a++, o++, l++; return l && (t.lastComponent = { count: l, previousComponent: t.lastComponent }), t.oldPos = o, a }, equals: function(t, e) { return this.options.comparator ? this.options.comparator(t, e) : t === e || this.options.ignoreCase && t.toLowerCase() === e.toLowerCase() }, removeEmpty: function(t) { for (var e = [], i = 0; i < t.length; i++) t[i] && e.push(t[i]); return e }, castInput: function(t) { return t }, tokenize: function(t) { return t.split("") }, join: function(t) { return t.join("") } };
var extendedWordChars = /^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,
	reWhitespace = /\S/,
	wordDiff = new Diff;
wordDiff.equals = function(t, e) { return this.options.ignoreCase && (t = t.toLowerCase(), e = e.toLowerCase()), t === e || this.options.ignoreWhitespace && !reWhitespace.test(t) && !reWhitespace.test(e) }, wordDiff.tokenize = function(t) { for (var e = t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/), i = 0; i < e.length - 1; i++) !e[i + 1] && e[i + 2] && extendedWordChars.test(e[i]) && extendedWordChars.test(e[i + 2]) && (e[i] += e[i + 2], e.splice(i + 1, 2), i--); return e };
var lineDiff = new Diff;
lineDiff.tokenize = function(t) { this.options.stripTrailingCr && (t = t.replace(/\r\n/g, "\n")); var e = [],
		i = t.split(/(\n|\r\n)/);
	i[i.length - 1] || i.pop(); for (var n = 0; n < i.length; n++) { var r = i[n];
		n % 2 && !this.options.newlineIsToken ? e[e.length - 1] += r : (this.options.ignoreWhitespace && (r = r.trim()), e.push(r)) } return e };
var sentenceDiff = new Diff;
sentenceDiff.tokenize = function(t) { return t.split(/(\S.+?[.!?])(?=\s+|$)/) };
var cssDiff = new Diff;

function _typeof(t) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) { return typeof t } : function(t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } cssDiff.tokenize = function(t) { return t.split(/([{}:;,]|\s+)/) };
var objectPrototypeToString = Object.prototype.toString,
	jsonDiff = new Diff;

function canonicalize(t, e, i, n, r) { var s, o; for (e = e || [], i = i || [], n && (t = n(r, t)), s = 0; s < e.length; s += 1)
		if (e[s] === t) return i[s]; if ("[object Array]" === objectPrototypeToString.call(t)) { for (e.push(t), o = new Array(t.length), i.push(o), s = 0; s < t.length; s += 1) o[s] = canonicalize(t[s], e, i, n, r); return e.pop(), i.pop(), o } if (t && t.toJSON && (t = t.toJSON()), "object" === _typeof(t) && null !== t) { e.push(t), o = {}, i.push(o); var a, l = []; for (a in t) t.hasOwnProperty(a) && l.push(a); for (l.sort(), s = 0; s < l.length; s += 1) o[a = l[s]] = canonicalize(t[a], e, i, n, a);
		e.pop(), i.pop() } else o = t; return o } jsonDiff.useLongestToken = !0, jsonDiff.tokenize = lineDiff.tokenize, jsonDiff.castInput = function(t) { var e = this.options,
		i = e.undefinedReplacement,
		n = e.stringifyReplacer,
		r = void 0 === n ? function(t, e) { return void 0 === e ? i : e } : n; return "string" == typeof t ? t : JSON.stringify(canonicalize(t, null, null, r), r, "  ") }, jsonDiff.equals = function(t, e) { return Diff.prototype.equals.call(jsonDiff, t.replace(/,([\r\n])/g, "$1"), e.replace(/,([\r\n])/g, "$1")) };
var arrayDiff = new Diff;

function bail(t) { if (t) throw t } arrayDiff.tokenize = function(t) { return t.slice() }, arrayDiff.join = arrayDiff.removeEmpty = function(t) { return t }, delegate(["click", "keydown"]), template(`<button type="button" tabindex="0"> </button> <button type="button"${attr("tabindex",-1)}> </button>`, 1), template(`<button class="carta-icon svelte-1c77udu"${attr("tabindex",-1)}><!></button>`), delegate(["click", "keydown"]);
var hasOwn = Object.prototype.hasOwnProperty,
	toStr = Object.prototype.toString,
	defineProperty = Object.defineProperty,
	gOPD = Object.getOwnPropertyDescriptor,
	isArray = function(t) { return "function" == typeof Array.isArray ? Array.isArray(t) : "[object Array]" === toStr.call(t) },
	isPlainObject$1 = function(t) { if (!t || "[object Object]" !== toStr.call(t)) return !1; var e, i = hasOwn.call(t, "constructor"),
			n = t.constructor && t.constructor.prototype && hasOwn.call(t.constructor.prototype, "isPrototypeOf"); if (t.constructor && !i && !n) return !1; for (e in t); return void 0 === e || hasOwn.call(t, e) },
	setProperty = function(t, e) { defineProperty && "__proto__" === e.name ? defineProperty(t, e.name, { enumerable: !0, configurable: !0, value: e.newValue, writable: !0 }) : t[e.name] = e.newValue },
	getProperty = function(t, e) { if ("__proto__" === e) { if (!hasOwn.call(t, e)) return; if (gOPD) return gOPD(t, e).value } return t[e] },
	extend = function t() { var e, i, n, r, s, o, a = arguments[0],
			l = 1,
			h = arguments.length,
			u = !1; for ("boolean" == typeof a && (u = a, a = arguments[1] || {}, l = 2), (null == a || "object" != typeof a && "function" != typeof a) && (a = {}); l < h; ++l)
			if (null != (e = arguments[l]))
				for (i in e) n = getProperty(a, i), a !== (r = getProperty(e, i)) && (u && r && (isPlainObject$1(r) || (s = isArray(r))) ? (s ? (s = !1, o = n && isArray(n) ? n : []) : o = n && isPlainObject$1(n) ? n : {}, setProperty(a, { name: i, newValue: t(u, o, r) })) : void 0 !== r && setProperty(a, { name: i, newValue: r })); return a };
const extend$1 = getDefaultExportFromCjs(extend);

function ok$1() {}

function isPlainObject(t) { if ("object" != typeof t || null === t) return !1; const e = Object.getPrototypeOf(t); return !(null !== e && e !== Object.prototype && null !== Object.getPrototypeOf(e) || Symbol.toStringTag in t || Symbol.iterator in t) }

function trough() { const t = [],
		e = { run: function(...e) { let i = -1; const n = e.pop(); if ("function" != typeof n) throw new TypeError("Expected function as last argument, not " + n);! function r(s, ...o) { const a = t[++i]; let l = -1; if (s) n(s);
					else { for (; ++l < e.length;) null !== o[l] && void 0 !== o[l] || (o[l] = e[l]);
						e = o, a ? wrap$1(a, r)(...o) : n(null, ...o) } }(null, ...e) }, use: function(i) { if ("function" != typeof i) throw new TypeError("Expected `middelware` to be a function, not " + i); return t.push(i), e } }; return e }

function wrap$1(t, e) { let i; return function(...e) { const s = t.length > e.length; let o;
		s && e.push(n); try { o = t.apply(this, e) } catch (a) { if (s && i) throw a; return n(a) } s || (o && o.then && "function" == typeof o.then ? o.then(r, n) : o instanceof Error ? n(o) : r(o)) };

	function n(t, ...n) { i || (i = !0, e(t, ...n)) }

	function r(t) { n(null, t) } }

function stringifyPosition(t) { return t && "object" == typeof t ? "position" in t || "type" in t ? position$1(t.position) : "start" in t || "end" in t ? position$1(t) : "line" in t || "column" in t ? point$2(t) : "" : "" }

function point$2(t) { return index(t && t.line) + ":" + index(t && t.column) }

function position$1(t) { return point$2(t && t.start) + "-" + point$2(t && t.end) }

function index(t) { return t && "number" == typeof t ? t : 1 } class VFileMessage extends Error { constructor(t, e, i) { super(), "string" == typeof e && (i = e, e = void 0); let n = "",
			r = {},
			s = !1; if (e && (r = "line" in e && "column" in e || "start" in e && "end" in e ? { place: e } : "type" in e ? { ancestors: [e], place: e.position } : { ...e }), "string" == typeof t ? n = t : !r.cause && t && (s = !0, n = t.message, r.cause = t), !r.ruleId && !r.source && "string" == typeof i) { const t = i.indexOf(":"); - 1 === t ? r.ruleId = i : (r.source = i.slice(0, t), r.ruleId = i.slice(t + 1)) } if (!r.place && r.ancestors && r.ancestors) { const t = r.ancestors[r.ancestors.length - 1];
			t && (r.place = t.position) } const o = r.place && "start" in r.place ? r.place.start : r.place;
		this.ancestors = r.ancestors || void 0, this.cause = r.cause || void 0, this.column = o ? o.column : void 0, this.fatal = void 0, this.file = "", this.message = n, this.line = o ? o.line : void 0, this.name = stringifyPosition(r.place) || "1:1", this.place = r.place || void 0, this.reason = this.message, this.ruleId = r.ruleId || void 0, this.source = r.source || void 0, this.stack = s && r.cause && "string" == typeof r.cause.stack ? r.cause.stack : "", this.actual = void 0, this.expected = void 0, this.note = void 0, this.url = void 0 } } VFileMessage.prototype.file = "", VFileMessage.prototype.name = "", VFileMessage.prototype.reason = "", VFileMessage.prototype.message = "", VFileMessage.prototype.stack = "", VFileMessage.prototype.column = void 0, VFileMessage.prototype.line = void 0, VFileMessage.prototype.ancestors = void 0, VFileMessage.prototype.cause = void 0, VFileMessage.prototype.fatal = void 0, VFileMessage.prototype.place = void 0, VFileMessage.prototype.ruleId = void 0, VFileMessage.prototype.source = void 0;
const minpath = { basename: basename, dirname: dirname, extname: extname, join: join, sep: "/" };

function basename(t, e) { if (void 0 !== e && "string" != typeof e) throw new TypeError('"ext" argument must be a string');
	assertPath$1(t); let i, n = 0,
		r = -1,
		s = t.length; if (void 0 === e || 0 === e.length || e.length > t.length) { for (; s--;)
			if (47 === t.codePointAt(s)) { if (i) { n = s + 1; break } } else r < 0 && (i = !0, r = s + 1); return r < 0 ? "" : t.slice(n, r) } if (e === t) return ""; let o = -1,
		a = e.length - 1; for (; s--;)
		if (47 === t.codePointAt(s)) { if (i) { n = s + 1; break } } else o < 0 && (i = !0, o = s + 1), a > -1 && (t.codePointAt(s) === e.codePointAt(a--) ? a < 0 && (r = s) : (a = -1, r = o)); return n === r ? r = o : r < 0 && (r = t.length), t.slice(n, r) }

function dirname(t) { if (assertPath$1(t), 0 === t.length) return "."; let e, i = -1,
		n = t.length; for (; --n;)
		if (47 === t.codePointAt(n)) { if (e) { i = n; break } } else e || (e = !0); return i < 0 ? 47 === t.codePointAt(0) ? "/" : "." : 1 === i && 47 === t.codePointAt(0) ? "//" : t.slice(0, i) }

function extname(t) { assertPath$1(t); let e, i = t.length,
		n = -1,
		r = 0,
		s = -1,
		o = 0; for (; i--;) { const a = t.codePointAt(i); if (47 !== a) n < 0 && (e = !0, n = i + 1), 46 === a ? s < 0 ? s = i : 1 !== o && (o = 1) : s > -1 && (o = -1);
		else if (e) { r = i + 1; break } } return s < 0 || n < 0 || 0 === o || 1 === o && s === n - 1 && s === r + 1 ? "" : t.slice(s, n) }

function join(...t) { let e, i = -1; for (; ++i < t.length;) assertPath$1(t[i]), t[i] && (e = void 0 === e ? t[i] : e + "/" + t[i]); return void 0 === e ? "." : normalize$1(e) }

function normalize$1(t) { assertPath$1(t); const e = 47 === t.codePointAt(0); let i = normalizeString(t, !e); return 0 !== i.length || e || (i = "."), i.length > 0 && 47 === t.codePointAt(t.length - 1) && (i += "/"), e ? "/" + i : i }

function normalizeString(t, e) { let i, n, r = "",
		s = 0,
		o = -1,
		a = 0,
		l = -1; for (; ++l <= t.length;) { if (l < t.length) i = t.codePointAt(l);
		else { if (47 === i) break;
			i = 47 } if (47 === i) { if (o === l - 1 || 1 === a);
			else if (o !== l - 1 && 2 === a) { if (r.length < 2 || 2 !== s || 46 !== r.codePointAt(r.length - 1) || 46 !== r.codePointAt(r.length - 2))
					if (r.length > 2) { if (n = r.lastIndexOf("/"), n !== r.length - 1) { n < 0 ? (r = "", s = 0) : (r = r.slice(0, n), s = r.length - 1 - r.lastIndexOf("/")), o = l, a = 0; continue } } else if (r.length > 0) { r = "", s = 0, o = l, a = 0; continue } e && (r = r.length > 0 ? r + "/.." : "..", s = 2) } else r.length > 0 ? r += "/" + t.slice(o + 1, l) : r = t.slice(o + 1, l), s = l - o - 1;
			o = l, a = 0 } else 46 === i && a > -1 ? a++ : a = -1 } return r }

function assertPath$1(t) { if ("string" != typeof t) throw new TypeError("Path must be a string. Received " + JSON.stringify(t)) }
const minproc = { cwd: cwd };

function cwd() { return "/" }

function isUrl(t) { return Boolean(null !== t && "object" == typeof t && "href" in t && t.href && "protocol" in t && t.protocol && void 0 === t.auth) }

function urlToPath(t) { if ("string" == typeof t) t = new URL(t);
	else if (!isUrl(t)) { const e = new TypeError('The "path" argument must be of type string or an instance of URL. Received `' + t + "`"); throw e.code = "ERR_INVALID_ARG_TYPE", e } if ("file:" !== t.protocol) { const t = new TypeError("The URL must be of scheme file"); throw t.code = "ERR_INVALID_URL_SCHEME", t } return getPathFromURLPosix(t) }

function getPathFromURLPosix(t) { if ("" !== t.hostname) { const t = new TypeError('File URL host must be "localhost" or empty on darwin'); throw t.code = "ERR_INVALID_FILE_URL_HOST", t } const e = t.pathname; let i = -1; for (; ++i < e.length;)
		if (37 === e.codePointAt(i) && 50 === e.codePointAt(i + 1)) { const t = e.codePointAt(i + 2); if (70 === t || 102 === t) { const t = new TypeError("File URL path must not include encoded / characters"); throw t.code = "ERR_INVALID_FILE_URL_PATH", t } } return decodeURIComponent(e) }
const order = ["history", "path", "basename", "stem", "extname", "dirname"];
class VFile { constructor(t) { let e;
		e = t ? isUrl(t) ? { path: t } : "string" == typeof t || isUint8Array$1(t) ? { value: t } : t : {}, this.cwd = "cwd" in e ? "" : minproc.cwd(), this.data = {}, this.history = [], this.messages = [], this.value, this.map, this.result, this.stored; let i, n = -1; for (; ++n < order.length;) { const t = order[n];
			t in e && void 0 !== e[t] && null !== e[t] && (this[t] = "history" === t ? [...e[t]] : e[t]) } for (i in e) order.includes(i) || (this[i] = e[i]) } get basename() { return "string" == typeof this.path ? minpath.basename(this.path) : void 0 } set basename(t) { assertNonEmpty(t, "basename"), assertPart(t, "basename"), this.path = minpath.join(this.dirname || "", t) } get dirname() { return "string" == typeof this.path ? minpath.dirname(this.path) : void 0 } set dirname(t) { assertPath(this.basename, "dirname"), this.path = minpath.join(t || "", this.basename) } get extname() { return "string" == typeof this.path ? minpath.extname(this.path) : void 0 } set extname(t) { if (assertPart(t, "extname"), assertPath(this.dirname, "extname"), t) { if (46 !== t.codePointAt(0)) throw new Error("`extname` must start with `.`"); if (t.includes(".", 1)) throw new Error("`extname` cannot contain multiple dots") } this.path = minpath.join(this.dirname, this.stem + (t || "")) } get path() { return this.history[this.history.length - 1] } set path(t) { isUrl(t) && (t = urlToPath(t)), assertNonEmpty(t, "path"), this.path !== t && this.history.push(t) } get stem() { return "string" == typeof this.path ? minpath.basename(this.path, this.extname) : void 0 } set stem(t) { assertNonEmpty(t, "stem"), assertPart(t, "stem"), this.path = minpath.join(this.dirname || "", t + (this.extname || "")) } fail(t, e, i) { const n = this.message(t, e, i); throw n.fatal = !0, n } info(t, e, i) { const n = this.message(t, e, i); return n.fatal = void 0, n } message(t, e, i) { const n = new VFileMessage(t, e, i); return this.path && (n.name = this.path + ":" + n.name, n.file = this.path), n.fatal = !1, this.messages.push(n), n } toString(t) { return void 0 === this.value ? "" : "string" == typeof this.value ? this.value : new TextDecoder(t || void 0).decode(this.value) } }

function assertPart(t, e) { if (t && t.includes(minpath.sep)) throw new Error("`" + e + "` cannot be a path: did not expect `" + minpath.sep + "`") }

function assertNonEmpty(t, e) { if (!t) throw new Error("`" + e + "` cannot be empty") }

function assertPath(t, e) { if (!t) throw new Error("Setting `" + e + "` requires `path` to be set too") }

function isUint8Array$1(t) { return Boolean(t && "object" == typeof t && "byteLength" in t && "byteOffset" in t) }
const CallableInstance = function(t) { const e = this.constructor.prototype,
			i = e[t],
			n = function() { return i.apply(n, arguments) }; return Object.setPrototypeOf(n, e), n },
	own$5 = {}.hasOwnProperty;
class Processor extends CallableInstance { constructor() { super("copy"), this.Compiler = void 0, this.Parser = void 0, this.attachers = [], this.compiler = void 0, this.freezeIndex = -1, this.frozen = void 0, this.namespace = {}, this.parser = void 0, this.transformers = trough() } copy() { const t = new Processor; let e = -1; for (; ++e < this.attachers.length;) { const i = this.attachers[e];
			t.use(...i) } return t.data(extend$1(!0, {}, this.namespace)), t } data(t, e) { return "string" == typeof t ? 2 === arguments.length ? (assertUnfrozen("data", this.frozen), this.namespace[t] = e, this) : own$5.call(this.namespace, t) && this.namespace[t] || void 0 : t ? (assertUnfrozen("data", this.frozen), this.namespace = t, this) : this.namespace } freeze() { if (this.frozen) return this; const t = this; for (; ++this.freezeIndex < this.attachers.length;) { const [e, ...i] = this.attachers[this.freezeIndex]; if (!1 === i[0]) continue;!0 === i[0] && (i[0] = void 0); const n = e.call(t, ...i); "function" == typeof n && this.transformers.use(n) } return this.frozen = !0, this.freezeIndex = Number.POSITIVE_INFINITY, this } parse(t) { this.freeze(); const e = vfile(t),
			i = this.parser || this.Parser; return assertParser("parse", i), i(String(e), e) } process(t, e) { const i = this; return this.freeze(), assertParser("process", this.parser || this.Parser), assertCompiler("process", this.compiler || this.Compiler), e ? n(void 0, e) : new Promise(n);

		function n(n, r) { const s = vfile(t),
				o = i.parse(s);

			function a(t, i) { t || !i ? r(t) : n ? n(i) : e(void 0, i) } i.run(o, s, (function(t, e, n) { if (t || !e || !n) return a(t); const r = e,
					s = i.stringify(r, n);
				looksLikeAValue(s) ? n.value = s : n.result = s, a(t, n) })) } } processSync(t) { let e, i = !1; return this.freeze(), assertParser("processSync", this.parser || this.Parser), assertCompiler("processSync", this.compiler || this.Compiler), this.process(t, (function(t, n) { i = !0, bail(t), e = n })), assertDone("processSync", "process", i), e } run(t, e, i) { assertNode(t), this.freeze(); const n = this.transformers; return i || "function" != typeof e || (i = e, e = void 0), i ? r(void 0, i) : new Promise(r);

		function r(r, s) { const o = vfile(e);
			n.run(t, o, (function(e, n, o) { const a = n || t;
				e ? s(e) : r ? r(a) : i(void 0, a, o) })) } } runSync(t, e) { let i, n = !1; return this.run(t, e, (function(t, e) { bail(t), i = e, n = !0 })), assertDone("runSync", "run", n), i } stringify(t, e) { this.freeze(); const i = vfile(e),
			n = this.compiler || this.Compiler; return assertCompiler("stringify", n), assertNode(t), n(t, i) } use(t, ...e) { const i = this.attachers,
			n = this.namespace; if (assertUnfrozen("use", this.frozen), null == t);
		else if ("function" == typeof t) a(t, e);
		else { if ("object" != typeof t) throw new TypeError("Expected usable value, not `" + t + "`");
			Array.isArray(t) ? o(t) : s(t) } return this;

		function r(t) { if ("function" == typeof t) a(t, []);
			else { if ("object" != typeof t) throw new TypeError("Expected usable value, not `" + t + "`"); if (Array.isArray(t)) { const [e, ...i] = t;
					a(e, i) } else s(t) } }

		function s(t) { if (!("plugins" in t) && !("settings" in t)) throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");
			o(t.plugins), t.settings && (n.settings = extend$1(!0, n.settings, t.settings)) }

		function o(t) { let e = -1; if (null == t);
			else { if (!Array.isArray(t)) throw new TypeError("Expected a list of plugins, not `" + t + "`"); for (; ++e < t.length;) r(t[e]) } }

		function a(t, e) { let n = -1,
				r = -1; for (; ++n < i.length;)
				if (i[n][0] === t) { r = n; break } if (-1 === r) i.push([t, ...e]);
			else if (e.length > 0) { let [n, ...s] = e; const o = i[r][1];
				isPlainObject(o) && isPlainObject(n) && (n = extend$1(!0, o, n)), i[r] = [t, n, ...s] } } } }
const unified = (new Processor).freeze();

function assertParser(t, e) { if ("function" != typeof e) throw new TypeError("Cannot `" + t + "` without `parser`") }

function assertCompiler(t, e) { if ("function" != typeof e) throw new TypeError("Cannot `" + t + "` without `compiler`") }

function assertUnfrozen(t, e) { if (e) throw new Error("Cannot call `" + t + "` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.") }

function assertNode(t) { if (!isPlainObject(t) || "string" != typeof t.type) throw new TypeError("Expected node, got `" + t + "`") }

function assertDone(t, e, i) { if (!i) throw new Error("`" + t + "` finished async. Use `" + e + "` instead") }

function vfile(t) { return looksLikeAVFile(t) ? t : new VFile(t) }

function looksLikeAVFile(t) { return Boolean(t && "object" == typeof t && "message" in t && "messages" in t) }

function looksLikeAValue(t) { return "string" == typeof t || isUint8Array(t) }

function isUint8Array(t) { return Boolean(t && "object" == typeof t && "byteLength" in t && "byteOffset" in t) }
const emptyOptions$3 = {};

function toString$2(t, e) { const i = emptyOptions$3; return one$1(t, "boolean" != typeof i.includeImageAlt || i.includeImageAlt, "boolean" != typeof i.includeHtml || i.includeHtml) }

function one$1(t, e, i) { if (node(t)) { if ("value" in t) return "html" !== t.type || i ? t.value : ""; if (e && "alt" in t && t.alt) return t.alt; if ("children" in t) return all$1(t.children, e, i) } return Array.isArray(t) ? all$1(t, e, i) : "" }

function all$1(t, e, i) { const n = []; let r = -1; for (; ++r < t.length;) n[r] = one$1(t[r], e, i); return n.join("") }

function node(t) { return Boolean(t && "object" == typeof t) }
const element$1 = document.createElement("i");

function decodeNamedCharacterReference(t) { const e = "&" + t + ";";
	element$1.innerHTML = e; const i = element$1.textContent; return (59 !== i.charCodeAt(i.length - 1) || "semi" === t) && i !== e && i }

function splice(t, e, i, n) { const r = t.length; let s, o = 0; if (e = e < 0 ? -e > r ? 0 : r + e : e > r ? r : e, i = i > 0 ? i : 0, n.length < 1e4) s = Array.from(n), s.unshift(e, i), t.splice(...s);
	else
		for (i && t.splice(e, i); o < n.length;) s = n.slice(o, o + 1e4), s.unshift(e, 0), t.splice(...s), o += 1e4, e += 1e4 }

function push(t, e) { return t.length > 0 ? (splice(t, t.length, 0, e), t) : e }
const hasOwnProperty = {}.hasOwnProperty;

function combineExtensions(t) { const e = {}; let i = -1; for (; ++i < t.length;) syntaxExtension(e, t[i]); return e }

function syntaxExtension(t, e) { let i; for (i in e) { const n = (hasOwnProperty.call(t, i) ? t[i] : void 0) || (t[i] = {}),
			r = e[i]; let s; if (r)
			for (s in r) { hasOwnProperty.call(n, s) || (n[s] = []); const t = r[s];
				constructs(n[s], Array.isArray(t) ? t : t ? [t] : []) } } }

function constructs(t, e) { let i = -1; const n = []; for (; ++i < e.length;)("after" === e[i].add ? t : n).push(e[i]);
	splice(t, 0, 0, n) }

function decodeNumericCharacterReference(t, e) { const i = Number.parseInt(t, e); return i < 9 || 11 === i || i > 13 && i < 32 || i > 126 && i < 160 || i > 55295 && i < 57344 || i > 64975 && i < 65008 || !(65535 & ~i) || 65534 == (65535 & i) || i > 1114111 ? "�" : String.fromCodePoint(i) }

function normalizeIdentifier(t) { return t.replace(/[\t\n\r ]+/g, " ").replace(/^ | $/g, "").toLowerCase().toUpperCase() }
const asciiAlpha = regexCheck(/[A-Za-z]/),
	asciiAlphanumeric = regexCheck(/[\dA-Za-z]/),
	asciiAtext = regexCheck(/[#-'*+\--9=?A-Z^-~]/);

function asciiControl(t) { return null !== t && (t < 32 || 127 === t) }
const asciiDigit = regexCheck(/\d/),
	asciiHexDigit = regexCheck(/[\dA-Fa-f]/),
	asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/);

function markdownLineEnding(t) { return null !== t && t < -2 }

function markdownLineEndingOrSpace(t) { return null !== t && (t < 0 || 32 === t) }

function markdownSpace(t) { return -2 === t || -1 === t || 32 === t }
const unicodePunctuation = regexCheck(new RegExp("\\p{P}|\\p{S}", "u")),
	unicodeWhitespace = regexCheck(/\s/);

function regexCheck(t) { return function(e) { return null !== e && e > -1 && t.test(String.fromCharCode(e)) } }

function normalizeUri(t) { const e = []; let i = -1,
		n = 0,
		r = 0; for (; ++i < t.length;) { const s = t.charCodeAt(i); let o = ""; if (37 === s && asciiAlphanumeric(t.charCodeAt(i + 1)) && asciiAlphanumeric(t.charCodeAt(i + 2))) r = 2;
		else if (s < 128) /[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s)) || (o = String.fromCharCode(s));
		else if (s > 55295 && s < 57344) { const e = t.charCodeAt(i + 1);
			s < 56320 && e > 56319 && e < 57344 ? (o = String.fromCharCode(s, e), r = 1) : o = "�" } else o = String.fromCharCode(s);
		o && (e.push(t.slice(n, i), encodeURIComponent(o)), n = i + r + 1, o = ""), r && (i += r, r = 0) } return e.join("") + t.slice(n) }

function factorySpace(t, e, i, n) { const r = n ? n - 1 : Number.POSITIVE_INFINITY; let s = 0; return function(n) { return markdownSpace(n) ? (t.enter(i), o(n)) : e(n) };

	function o(n) { return markdownSpace(n) && s++ < r ? (t.consume(n), o) : (t.exit(i), e(n)) } }
const content$1 = { tokenize: initializeContent };

function initializeContent(t) { const e = t.attempt(this.parser.constructs.contentInitial, (function(i) { if (null !== i) return t.enter("lineEnding"), t.consume(i), t.exit("lineEnding"), factorySpace(t, e, "linePrefix");
		t.consume(i) }), (function(e) { return t.enter("paragraph"), n(e) })); let i; return e;

	function n(e) { const n = t.enter("chunkText", { contentType: "text", previous: i }); return i && (i.next = n), i = n, r(e) }

	function r(e) { return null === e ? (t.exit("chunkText"), t.exit("paragraph"), void t.consume(e)) : markdownLineEnding(e) ? (t.consume(e), t.exit("chunkText"), n) : (t.consume(e), r) } }
const document$2 = { tokenize: initializeDocument },
	containerConstruct = { tokenize: tokenizeContainer };

function initializeDocument(t) { const e = this,
		i = []; let n, r, s, o = 0; return a;

	function a(n) { if (o < i.length) { const r = i[o]; return e.containerState = r[1], t.attempt(r[0].continuation, l, h)(n) } return h(n) }

	function l(t) { if (o++, e.containerState._closeFlow) { e.containerState._closeFlow = void 0, n && y(); const i = e.events.length; let r, s = i; for (; s--;)
				if ("exit" === e.events[s][0] && "chunkFlow" === e.events[s][1].type) { r = e.events[s][1].end; break } v(o); let a = i; for (; a < e.events.length;) e.events[a][1].end = { ...r }, a++; return splice(e.events, s + 1, 0, e.events.slice(i)), e.events.length = a, h(t) } return a(t) }

	function h(r) { if (o === i.length) { if (!n) return d(r); if (n.currentConstruct && n.currentConstruct.concrete) return p(r);
			e.interrupt = Boolean(n.currentConstruct && !n._gfmTableDynamicInterruptHack) } return e.containerState = {}, t.check(containerConstruct, u, c)(r) }

	function u(t) { return n && y(), v(o), d(t) }

	function c(t) { return e.parser.lazy[e.now().line] = o !== i.length, s = e.now().offset, p(t) }

	function d(i) { return e.containerState = {}, t.attempt(containerConstruct, f, p)(i) }

	function f(t) { return o++, i.push([e.currentConstruct, e.containerState]), d(t) }

	function p(i) { return null === i ? (n && y(), v(0), void t.consume(i)) : (n = n || e.parser.flow(e.now()), t.enter("chunkFlow", { _tokenizer: n, contentType: "flow", previous: r }), g(i)) }

	function g(i) { return null === i ? (m(t.exit("chunkFlow"), !0), v(0), void t.consume(i)) : markdownLineEnding(i) ? (t.consume(i), m(t.exit("chunkFlow")), o = 0, e.interrupt = void 0, a) : (t.consume(i), g) }

	function m(t, i) { const a = e.sliceStream(t); if (i && a.push(null), t.previous = r, r && (r.next = t), r = t, n.defineSkip(t.start), n.write(a), e.parser.lazy[t.start.line]) { let t = n.events.length; for (; t--;)
				if (n.events[t][1].start.offset < s && (!n.events[t][1].end || n.events[t][1].end.offset > s)) return; const i = e.events.length; let r, a, l = i; for (; l--;)
				if ("exit" === e.events[l][0] && "chunkFlow" === e.events[l][1].type) { if (r) { a = e.events[l][1].end; break } r = !0 } for (v(o), t = i; t < e.events.length;) e.events[t][1].end = { ...a }, t++;
			splice(e.events, l + 1, 0, e.events.slice(i)), e.events.length = t } }

	function v(n) { let r = i.length; for (; r-- > n;) { const n = i[r];
			e.containerState = n[1], n[0].exit.call(e, t) } i.length = n }

	function y() { n.write([null]), r = void 0, n = void 0, e.containerState._closeFlow = void 0 } }

function tokenizeContainer(t, e, i) { return factorySpace(t, t.attempt(this.parser.constructs.document, e, i), "linePrefix", this.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4) }

function classifyCharacter(t) { return null === t || markdownLineEndingOrSpace(t) || unicodeWhitespace(t) ? 1 : unicodePunctuation(t) ? 2 : void 0 }

function resolveAll(t, e, i) { const n = []; let r = -1; for (; ++r < t.length;) { const s = t[r].resolveAll;
		s && !n.includes(s) && (e = s(e, i), n.push(s)) } return e }
const attention = { name: "attention", resolveAll: resolveAllAttention, tokenize: tokenizeAttention };

function resolveAllAttention(t, e) { let i, n, r, s, o, a, l, h, u = -1; for (; ++u < t.length;)
		if ("enter" === t[u][0] && "attentionSequence" === t[u][1].type && t[u][1]._close)
			for (i = u; i--;)
				if ("exit" === t[i][0] && "attentionSequence" === t[i][1].type && t[i][1]._open && e.sliceSerialize(t[i][1]).charCodeAt(0) === e.sliceSerialize(t[u][1]).charCodeAt(0)) { if ((t[i][1]._close || t[u][1]._open) && (t[u][1].end.offset - t[u][1].start.offset) % 3 && !((t[i][1].end.offset - t[i][1].start.offset + t[u][1].end.offset - t[u][1].start.offset) % 3)) continue;
					a = t[i][1].end.offset - t[i][1].start.offset > 1 && t[u][1].end.offset - t[u][1].start.offset > 1 ? 2 : 1; const c = { ...t[i][1].end },
						d = { ...t[u][1].start };
					movePoint(c, -a), movePoint(d, a), s = { type: a > 1 ? "strongSequence" : "emphasisSequence", start: c, end: { ...t[i][1].end } }, o = { type: a > 1 ? "strongSequence" : "emphasisSequence", start: { ...t[u][1].start }, end: d }, r = { type: a > 1 ? "strongText" : "emphasisText", start: { ...t[i][1].end }, end: { ...t[u][1].start } }, n = { type: a > 1 ? "strong" : "emphasis", start: { ...s.start }, end: { ...o.end } }, t[i][1].end = { ...s.start }, t[u][1].start = { ...o.end }, l = [], t[i][1].end.offset - t[i][1].start.offset && (l = push(l, [
						["enter", t[i][1], e],
						["exit", t[i][1], e]
					])), l = push(l, [
						["enter", n, e],
						["enter", s, e],
						["exit", s, e],
						["enter", r, e]
					]), l = push(l, resolveAll(e.parser.constructs.insideSpan.null, t.slice(i + 1, u), e)), l = push(l, [
						["exit", r, e],
						["enter", o, e],
						["exit", o, e],
						["exit", n, e]
					]), t[u][1].end.offset - t[u][1].start.offset ? (h = 2, l = push(l, [
						["enter", t[u][1], e],
						["exit", t[u][1], e]
					])) : h = 0, splice(t, i - 1, u - i + 3, l), u = i + l.length - h - 2; break } for (u = -1; ++u < t.length;) "attentionSequence" === t[u][1].type && (t[u][1].type = "data"); return t }

function tokenizeAttention(t, e) { const i = this.parser.constructs.attentionMarkers.null,
		n = this.previous,
		r = classifyCharacter(n); let s; return function(e) { return s = e, t.enter("attentionSequence"), o(e) };

	function o(a) { if (a === s) return t.consume(a), o; const l = t.exit("attentionSequence"),
			h = classifyCharacter(a),
			u = !h || 2 === h && r || i.includes(a),
			c = !r || 2 === r && h || i.includes(n); return l._open = Boolean(42 === s ? u : u && (r || !c)), l._close = Boolean(42 === s ? c : c && (h || !u)), e(a) } }

function movePoint(t, e) { t.column += e, t.offset += e, t._bufferIndex += e }
const autolink = { name: "autolink", tokenize: tokenizeAutolink };

function tokenizeAutolink(t, e, i) { let n = 0; return function(e) { return t.enter("autolink"), t.enter("autolinkMarker"), t.consume(e), t.exit("autolinkMarker"), t.enter("autolinkProtocol"), r };

	function r(e) { return asciiAlpha(e) ? (t.consume(e), s) : 64 === e ? i(e) : l(e) }

	function s(t) { return 43 === t || 45 === t || 46 === t || asciiAlphanumeric(t) ? (n = 1, o(t)) : l(t) }

	function o(e) { return 58 === e ? (t.consume(e), n = 0, a) : (43 === e || 45 === e || 46 === e || asciiAlphanumeric(e)) && n++ < 32 ? (t.consume(e), o) : (n = 0, l(e)) }

	function a(n) { return 62 === n ? (t.exit("autolinkProtocol"), t.enter("autolinkMarker"), t.consume(n), t.exit("autolinkMarker"), t.exit("autolink"), e) : null === n || 32 === n || 60 === n || asciiControl(n) ? i(n) : (t.consume(n), a) }

	function l(e) { return 64 === e ? (t.consume(e), h) : asciiAtext(e) ? (t.consume(e), l) : i(e) }

	function h(t) { return asciiAlphanumeric(t) ? u(t) : i(t) }

	function u(i) { return 46 === i ? (t.consume(i), n = 0, h) : 62 === i ? (t.exit("autolinkProtocol").type = "autolinkEmail", t.enter("autolinkMarker"), t.consume(i), t.exit("autolinkMarker"), t.exit("autolink"), e) : c(i) }

	function c(e) { if ((45 === e || asciiAlphanumeric(e)) && n++ < 63) { const i = 45 === e ? c : u; return t.consume(e), i } return i(e) } }
const blankLine = { partial: !0, tokenize: tokenizeBlankLine };

function tokenizeBlankLine(t, e, i) { return function(e) { return markdownSpace(e) ? factorySpace(t, n, "linePrefix")(e) : n(e) };

	function n(t) { return null === t || markdownLineEnding(t) ? e(t) : i(t) } }
const blockQuote = { continuation: { tokenize: tokenizeBlockQuoteContinuation }, exit: exit$1, name: "blockQuote", tokenize: tokenizeBlockQuoteStart };

function tokenizeBlockQuoteStart(t, e, i) { const n = this; return function(e) { if (62 === e) { const i = n.containerState; return i.open || (t.enter("blockQuote", { _container: !0 }), i.open = !0), t.enter("blockQuotePrefix"), t.enter("blockQuoteMarker"), t.consume(e), t.exit("blockQuoteMarker"), r } return i(e) };

	function r(i) { return markdownSpace(i) ? (t.enter("blockQuotePrefixWhitespace"), t.consume(i), t.exit("blockQuotePrefixWhitespace"), t.exit("blockQuotePrefix"), e) : (t.exit("blockQuotePrefix"), e(i)) } }

function tokenizeBlockQuoteContinuation(t, e, i) { const n = this; return function(e) { return markdownSpace(e) ? factorySpace(t, r, "linePrefix", n.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(e) : r(e) };

	function r(n) { return t.attempt(blockQuote, e, i)(n) } }

function exit$1(t) { t.exit("blockQuote") }
const characterEscape = { name: "characterEscape", tokenize: tokenizeCharacterEscape };

function tokenizeCharacterEscape(t, e, i) { return function(e) { return t.enter("characterEscape"), t.enter("escapeMarker"), t.consume(e), t.exit("escapeMarker"), n };

	function n(n) { return asciiPunctuation(n) ? (t.enter("characterEscapeValue"), t.consume(n), t.exit("characterEscapeValue"), t.exit("characterEscape"), e) : i(n) } }
const characterReference = { name: "characterReference", tokenize: tokenizeCharacterReference };

function tokenizeCharacterReference(t, e, i) { const n = this; let r, s, o = 0; return function(e) { return t.enter("characterReference"), t.enter("characterReferenceMarker"), t.consume(e), t.exit("characterReferenceMarker"), a };

	function a(e) { return 35 === e ? (t.enter("characterReferenceMarkerNumeric"), t.consume(e), t.exit("characterReferenceMarkerNumeric"), l) : (t.enter("characterReferenceValue"), r = 31, s = asciiAlphanumeric, h(e)) }

	function l(e) { return 88 === e || 120 === e ? (t.enter("characterReferenceMarkerHexadecimal"), t.consume(e), t.exit("characterReferenceMarkerHexadecimal"), t.enter("characterReferenceValue"), r = 6, s = asciiHexDigit, h) : (t.enter("characterReferenceValue"), r = 7, s = asciiDigit, h(e)) }

	function h(a) { if (59 === a && o) { const r = t.exit("characterReferenceValue"); return s !== asciiAlphanumeric || decodeNamedCharacterReference(n.sliceSerialize(r)) ? (t.enter("characterReferenceMarker"), t.consume(a), t.exit("characterReferenceMarker"), t.exit("characterReference"), e) : i(a) } return s(a) && o++ < r ? (t.consume(a), h) : i(a) } }
const nonLazyContinuation = { partial: !0, tokenize: tokenizeNonLazyContinuation },
	codeFenced = { concrete: !0, name: "codeFenced", tokenize: tokenizeCodeFenced };

function tokenizeCodeFenced(t, e, i) { const n = this,
		r = { partial: !0, tokenize: function(t, e, i) { let r = 0; return function(e) { return t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), o };

				function o(e) { return t.enter("codeFencedFence"), markdownSpace(e) ? factorySpace(t, l, "linePrefix", n.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(e) : l(e) }

				function l(e) { return e === s ? (t.enter("codeFencedFenceSequence"), h(e)) : i(e) }

				function h(e) { return e === s ? (r++, t.consume(e), h) : r >= a ? (t.exit("codeFencedFenceSequence"), markdownSpace(e) ? factorySpace(t, u, "whitespace")(e) : u(e)) : i(e) }

				function u(n) { return null === n || markdownLineEnding(n) ? (t.exit("codeFencedFence"), e(n)) : i(n) } } }; let s, o = 0,
		a = 0; return function(e) { return function(e) { const i = n.events[n.events.length - 1]; return o = i && "linePrefix" === i[1].type ? i[2].sliceSerialize(i[1], !0).length : 0, s = e, t.enter("codeFenced"), t.enter("codeFencedFence"), t.enter("codeFencedFenceSequence"), l(e) }(e) };

	function l(e) { return e === s ? (a++, t.consume(e), l) : a < 3 ? i(e) : (t.exit("codeFencedFenceSequence"), markdownSpace(e) ? factorySpace(t, h, "whitespace")(e) : h(e)) }

	function h(i) { return null === i || markdownLineEnding(i) ? (t.exit("codeFencedFence"), n.interrupt ? e(i) : t.check(nonLazyContinuation, f, y)(i)) : (t.enter("codeFencedFenceInfo"), t.enter("chunkString", { contentType: "string" }), u(i)) }

	function u(e) { return null === e || markdownLineEnding(e) ? (t.exit("chunkString"), t.exit("codeFencedFenceInfo"), h(e)) : markdownSpace(e) ? (t.exit("chunkString"), t.exit("codeFencedFenceInfo"), factorySpace(t, c, "whitespace")(e)) : 96 === e && e === s ? i(e) : (t.consume(e), u) }

	function c(e) { return null === e || markdownLineEnding(e) ? h(e) : (t.enter("codeFencedFenceMeta"), t.enter("chunkString", { contentType: "string" }), d(e)) }

	function d(e) { return null === e || markdownLineEnding(e) ? (t.exit("chunkString"), t.exit("codeFencedFenceMeta"), h(e)) : 96 === e && e === s ? i(e) : (t.consume(e), d) }

	function f(e) { return t.attempt(r, y, p)(e) }

	function p(e) { return t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), g }

	function g(e) { return o > 0 && markdownSpace(e) ? factorySpace(t, m, "linePrefix", o + 1)(e) : m(e) }

	function m(e) { return null === e || markdownLineEnding(e) ? t.check(nonLazyContinuation, f, y)(e) : (t.enter("codeFlowValue"), v(e)) }

	function v(e) { return null === e || markdownLineEnding(e) ? (t.exit("codeFlowValue"), m(e)) : (t.consume(e), v) }

	function y(i) { return t.exit("codeFenced"), e(i) } }

function tokenizeNonLazyContinuation(t, e, i) { const n = this; return function(e) { return null === e ? i(e) : (t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), r) };

	function r(t) { return n.parser.lazy[n.now().line] ? i(t) : e(t) } }
const codeIndented = { name: "codeIndented", tokenize: tokenizeCodeIndented },
	furtherStart = { partial: !0, tokenize: tokenizeFurtherStart };

function tokenizeCodeIndented(t, e, i) { const n = this; return function(e) { return t.enter("codeIndented"), factorySpace(t, r, "linePrefix", 5)(e) };

	function r(t) { const e = n.events[n.events.length - 1]; return e && "linePrefix" === e[1].type && e[2].sliceSerialize(e[1], !0).length >= 4 ? s(t) : i(t) }

	function s(e) { return null === e ? a(e) : markdownLineEnding(e) ? t.attempt(furtherStart, s, a)(e) : (t.enter("codeFlowValue"), o(e)) }

	function o(e) { return null === e || markdownLineEnding(e) ? (t.exit("codeFlowValue"), s(e)) : (t.consume(e), o) }

	function a(i) { return t.exit("codeIndented"), e(i) } }

function tokenizeFurtherStart(t, e, i) { const n = this; return r;

	function r(e) { return n.parser.lazy[n.now().line] ? i(e) : markdownLineEnding(e) ? (t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), r) : factorySpace(t, s, "linePrefix", 5)(e) }

	function s(t) { const s = n.events[n.events.length - 1]; return s && "linePrefix" === s[1].type && s[2].sliceSerialize(s[1], !0).length >= 4 ? e(t) : markdownLineEnding(t) ? r(t) : i(t) } }
const codeText = { name: "codeText", previous: previous$1, resolve: resolveCodeText, tokenize: tokenizeCodeText };

function resolveCodeText(t) { let e, i, n = t.length - 4,
		r = 3; if (!("lineEnding" !== t[r][1].type && "space" !== t[r][1].type || "lineEnding" !== t[n][1].type && "space" !== t[n][1].type))
		for (e = r; ++e < n;)
			if ("codeTextData" === t[e][1].type) { t[r][1].type = "codeTextPadding", t[n][1].type = "codeTextPadding", r += 2, n -= 2; break } for (e = r - 1, n++; ++e <= n;) void 0 === i ? e !== n && "lineEnding" !== t[e][1].type && (i = e) : e !== n && "lineEnding" !== t[e][1].type || (t[i][1].type = "codeTextData", e !== i + 2 && (t[i][1].end = t[e - 1][1].end, t.splice(i + 2, e - i - 2), n -= e - i - 2, e = i + 2), i = void 0); return t }

function previous$1(t) { return 96 !== t || "characterEscape" === this.events[this.events.length - 1][1].type }

function tokenizeCodeText(t, e, i) { let n, r, s = 0; return function(e) { return t.enter("codeText"), t.enter("codeTextSequence"), o(e) };

	function o(e) { return 96 === e ? (t.consume(e), s++, o) : (t.exit("codeTextSequence"), a(e)) }

	function a(e) { return null === e ? i(e) : 32 === e ? (t.enter("space"), t.consume(e), t.exit("space"), a) : 96 === e ? (r = t.enter("codeTextSequence"), n = 0, h(e)) : markdownLineEnding(e) ? (t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), a) : (t.enter("codeTextData"), l(e)) }

	function l(e) { return null === e || 32 === e || 96 === e || markdownLineEnding(e) ? (t.exit("codeTextData"), a(e)) : (t.consume(e), l) }

	function h(i) { return 96 === i ? (t.consume(i), n++, h) : n === s ? (t.exit("codeTextSequence"), t.exit("codeText"), e(i)) : (r.type = "codeTextData", l(i)) } } class SpliceBuffer { constructor(t) { this.left = t ? [...t] : [], this.right = [] } get(t) { if (t < 0 || t >= this.left.length + this.right.length) throw new RangeError("Cannot access index `" + t + "` in a splice buffer of size `" + (this.left.length + this.right.length) + "`"); return t < this.left.length ? this.left[t] : this.right[this.right.length - t + this.left.length - 1] } get length() { return this.left.length + this.right.length } shift() { return this.setCursor(0), this.right.pop() } slice(t, e) { const i = null == e ? Number.POSITIVE_INFINITY : e; return i < this.left.length ? this.left.slice(t, i) : t > this.left.length ? this.right.slice(this.right.length - i + this.left.length, this.right.length - t + this.left.length).reverse() : this.left.slice(t).concat(this.right.slice(this.right.length - i + this.left.length).reverse()) } splice(t, e, i) { const n = e || 0;
		this.setCursor(Math.trunc(t)); const r = this.right.splice(this.right.length - n, Number.POSITIVE_INFINITY); return i && chunkedPush(this.left, i), r.reverse() } pop() { return this.setCursor(Number.POSITIVE_INFINITY), this.left.pop() } push(t) { this.setCursor(Number.POSITIVE_INFINITY), this.left.push(t) } pushMany(t) { this.setCursor(Number.POSITIVE_INFINITY), chunkedPush(this.left, t) } unshift(t) { this.setCursor(0), this.right.push(t) } unshiftMany(t) { this.setCursor(0), chunkedPush(this.right, t.reverse()) } setCursor(t) { if (!(t === this.left.length || t > this.left.length && 0 === this.right.length || t < 0 && 0 === this.left.length))
			if (t < this.left.length) { const e = this.left.splice(t, Number.POSITIVE_INFINITY);
				chunkedPush(this.right, e.reverse()) } else { const e = this.right.splice(this.left.length + this.right.length - t, Number.POSITIVE_INFINITY);
				chunkedPush(this.left, e.reverse()) } } }

function chunkedPush(t, e) { let i = 0; if (e.length < 1e4) t.push(...e);
	else
		for (; i < e.length;) t.push(...e.slice(i, i + 1e4)), i += 1e4 }

function subtokenize(t) { const e = {}; let i, n, r, s, o, a, l, h = -1; const u = new SpliceBuffer(t); for (; ++h < u.length;) { for (; h in e;) h = e[h]; if (i = u.get(h), h && "chunkFlow" === i[1].type && "listItemPrefix" === u.get(h - 1)[1].type && (a = i[1]._tokenizer.events, r = 0, r < a.length && "lineEndingBlank" === a[r][1].type && (r += 2), r < a.length && "content" === a[r][1].type))
			for (; ++r < a.length && "content" !== a[r][1].type;) "chunkText" === a[r][1].type && (a[r][1]._isInFirstContentOfListItem = !0, r++); if ("enter" === i[0]) i[1].contentType && (Object.assign(e, subcontent(u, h)), h = e[h], l = !0);
		else if (i[1]._container) { for (r = h, n = void 0; r--;)
				if (s = u.get(r), "lineEnding" === s[1].type || "lineEndingBlank" === s[1].type) "enter" === s[0] && (n && (u.get(n)[1].type = "lineEndingBlank"), s[1].type = "lineEnding", n = r);
				else if ("linePrefix" !== s[1].type && "listItemIndent" !== s[1].type) break;
			n && (i[1].end = { ...u.get(n)[1].start }, o = u.slice(n, h), o.unshift(i), u.splice(n, h - n + 1, o)) } } return splice(t, 0, Number.POSITIVE_INFINITY, u.slice(0)), !l }

function subcontent(t, e) { const i = t.get(e)[1],
		n = t.get(e)[2]; let r = e - 1; const s = []; let o = i._tokenizer;
	o || (o = n.parser[i.contentType](i.start), i._contentTypeTextTrailing && (o._contentTypeTextTrailing = !0)); const a = o.events,
		l = [],
		h = {}; let u, c, d = -1,
		f = i,
		p = 0,
		g = 0; const m = [g]; for (; f;) { for (; t.get(++r)[1] !== f;);
		s.push(r), f._tokenizer || (u = n.sliceStream(f), f.next || u.push(null), c && o.defineSkip(f.start), f._isInFirstContentOfListItem && (o._gfmTasklistFirstContentOfListItem = !0), o.write(u), f._isInFirstContentOfListItem && (o._gfmTasklistFirstContentOfListItem = void 0)), c = f, f = f.next } for (f = i; ++d < a.length;) "exit" === a[d][0] && "enter" === a[d - 1][0] && a[d][1].type === a[d - 1][1].type && a[d][1].start.line !== a[d][1].end.line && (g = d + 1, m.push(g), f._tokenizer = void 0, f.previous = void 0, f = f.next); for (o.events = [], f ? (f._tokenizer = void 0, f.previous = void 0) : m.pop(), d = m.length; d--;) { const e = a.slice(m[d], m[d + 1]),
			i = s.pop();
		l.push([i, i + e.length - 1]), t.splice(i, 2, e) } for (l.reverse(), d = -1; ++d < l.length;) h[p + l[d][0]] = p + l[d][1], p += l[d][1] - l[d][0] - 1; return h }
const content = { resolve: resolveContent, tokenize: tokenizeContent },
	continuationConstruct = { partial: !0, tokenize: tokenizeContinuation };

function resolveContent(t) { return subtokenize(t), t }

function tokenizeContent(t, e) { let i; return function(e) { return t.enter("content"), i = t.enter("chunkContent", { contentType: "content" }), n(e) };

	function n(e) { return null === e ? r(e) : markdownLineEnding(e) ? t.check(continuationConstruct, s, r)(e) : (t.consume(e), n) }

	function r(i) { return t.exit("chunkContent"), t.exit("content"), e(i) }

	function s(e) { return t.consume(e), t.exit("chunkContent"), i.next = t.enter("chunkContent", { contentType: "content", previous: i }), i = i.next, n } }

function tokenizeContinuation(t, e, i) { const n = this; return function(e) { return t.exit("chunkContent"), t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), factorySpace(t, r, "linePrefix") };

	function r(r) { if (null === r || markdownLineEnding(r)) return i(r); const s = n.events[n.events.length - 1]; return !n.parser.constructs.disable.null.includes("codeIndented") && s && "linePrefix" === s[1].type && s[2].sliceSerialize(s[1], !0).length >= 4 ? e(r) : t.interrupt(n.parser.constructs.flow, i, e)(r) } }

function factoryDestination(t, e, i, n, r, s, o, a, l) { const h = l || Number.POSITIVE_INFINITY; let u = 0; return function(e) { return 60 === e ? (t.enter(n), t.enter(r), t.enter(s), t.consume(e), t.exit(s), c) : null === e || 32 === e || 41 === e || asciiControl(e) ? i(e) : (t.enter(n), t.enter(o), t.enter(a), t.enter("chunkString", { contentType: "string" }), p(e)) };

	function c(i) { return 62 === i ? (t.enter(s), t.consume(i), t.exit(s), t.exit(r), t.exit(n), e) : (t.enter(a), t.enter("chunkString", { contentType: "string" }), d(i)) }

	function d(e) { return 62 === e ? (t.exit("chunkString"), t.exit(a), c(e)) : null === e || 60 === e || markdownLineEnding(e) ? i(e) : (t.consume(e), 92 === e ? f : d) }

	function f(e) { return 60 === e || 62 === e || 92 === e ? (t.consume(e), d) : d(e) }

	function p(r) { return u || null !== r && 41 !== r && !markdownLineEndingOrSpace(r) ? u < h && 40 === r ? (t.consume(r), u++, p) : 41 === r ? (t.consume(r), u--, p) : null === r || 32 === r || 40 === r || asciiControl(r) ? i(r) : (t.consume(r), 92 === r ? g : p) : (t.exit("chunkString"), t.exit(a), t.exit(o), t.exit(n), e(r)) }

	function g(e) { return 40 === e || 41 === e || 92 === e ? (t.consume(e), p) : p(e) } }

function factoryLabel(t, e, i, n, r, s) { const o = this; let a, l = 0; return function(e) { return t.enter(n), t.enter(r), t.consume(e), t.exit(r), t.enter(s), h };

	function h(c) { return l > 999 || null === c || 91 === c || 93 === c && !a || 94 === c && !l && "_hiddenFootnoteSupport" in o.parser.constructs ? i(c) : 93 === c ? (t.exit(s), t.enter(r), t.consume(c), t.exit(r), t.exit(n), e) : markdownLineEnding(c) ? (t.enter("lineEnding"), t.consume(c), t.exit("lineEnding"), h) : (t.enter("chunkString", { contentType: "string" }), u(c)) }

	function u(e) { return null === e || 91 === e || 93 === e || markdownLineEnding(e) || l++ > 999 ? (t.exit("chunkString"), h(e)) : (t.consume(e), a || (a = !markdownSpace(e)), 92 === e ? c : u) }

	function c(e) { return 91 === e || 92 === e || 93 === e ? (t.consume(e), l++, u) : u(e) } }

function factoryTitle(t, e, i, n, r, s) { let o; return function(e) { return 34 === e || 39 === e || 40 === e ? (t.enter(n), t.enter(r), t.consume(e), t.exit(r), o = 40 === e ? 41 : e, a) : i(e) };

	function a(i) { return i === o ? (t.enter(r), t.consume(i), t.exit(r), t.exit(n), e) : (t.enter(s), l(i)) }

	function l(e) { return e === o ? (t.exit(s), a(o)) : null === e ? i(e) : markdownLineEnding(e) ? (t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), factorySpace(t, l, "linePrefix")) : (t.enter("chunkString", { contentType: "string" }), h(e)) }

	function h(e) { return e === o || null === e || markdownLineEnding(e) ? (t.exit("chunkString"), l(e)) : (t.consume(e), 92 === e ? u : h) }

	function u(e) { return e === o || 92 === e ? (t.consume(e), h) : h(e) } }

function factoryWhitespace(t, e) { let i; return function n(r) { return markdownLineEnding(r) ? (t.enter("lineEnding"), t.consume(r), t.exit("lineEnding"), i = !0, n) : markdownSpace(r) ? factorySpace(t, n, i ? "linePrefix" : "lineSuffix")(r) : e(r) } }
const definition$1 = { name: "definition", tokenize: tokenizeDefinition },
	titleBefore = { partial: !0, tokenize: tokenizeTitleBefore };

function tokenizeDefinition(t, e, i) { const n = this; let r; return function(e) { return t.enter("definition"),
			function(e) { return factoryLabel.call(n, t, s, i, "definitionLabel", "definitionLabelMarker", "definitionLabelString")(e) }(e) };

	function s(e) { return r = normalizeIdentifier(n.sliceSerialize(n.events[n.events.length - 1][1]).slice(1, -1)), 58 === e ? (t.enter("definitionMarker"), t.consume(e), t.exit("definitionMarker"), o) : i(e) }

	function o(e) { return markdownLineEndingOrSpace(e) ? factoryWhitespace(t, a)(e) : a(e) }

	function a(e) { return factoryDestination(t, l, i, "definitionDestination", "definitionDestinationLiteral", "definitionDestinationLiteralMarker", "definitionDestinationRaw", "definitionDestinationString")(e) }

	function l(e) { return t.attempt(titleBefore, h, h)(e) }

	function h(e) { return markdownSpace(e) ? factorySpace(t, u, "whitespace")(e) : u(e) }

	function u(s) { return null === s || markdownLineEnding(s) ? (t.exit("definition"), n.parser.defined.push(r), e(s)) : i(s) } }

function tokenizeTitleBefore(t, e, i) { return function(e) { return markdownLineEndingOrSpace(e) ? factoryWhitespace(t, n)(e) : i(e) };

	function n(e) { return factoryTitle(t, r, i, "definitionTitle", "definitionTitleMarker", "definitionTitleString")(e) }

	function r(e) { return markdownSpace(e) ? factorySpace(t, s, "whitespace")(e) : s(e) }

	function s(t) { return null === t || markdownLineEnding(t) ? e(t) : i(t) } }
const hardBreakEscape = { name: "hardBreakEscape", tokenize: tokenizeHardBreakEscape };

function tokenizeHardBreakEscape(t, e, i) { return function(e) { return t.enter("hardBreakEscape"), t.consume(e), n };

	function n(n) { return markdownLineEnding(n) ? (t.exit("hardBreakEscape"), e(n)) : i(n) } }
const headingAtx = { name: "headingAtx", resolve: resolveHeadingAtx, tokenize: tokenizeHeadingAtx };

function resolveHeadingAtx(t, e) { let i, n, r = t.length - 2,
		s = 3; return "whitespace" === t[s][1].type && (s += 2), r - 2 > s && "whitespace" === t[r][1].type && (r -= 2), "atxHeadingSequence" === t[r][1].type && (s === r - 1 || r - 4 > s && "whitespace" === t[r - 2][1].type) && (r -= s + 1 === r ? 2 : 4), r > s && (i = { type: "atxHeadingText", start: t[s][1].start, end: t[r][1].end }, n = { type: "chunkText", start: t[s][1].start, end: t[r][1].end, contentType: "text" }, splice(t, s, r - s + 1, [
		["enter", i, e],
		["enter", n, e],
		["exit", n, e],
		["exit", i, e]
	])), t }

function tokenizeHeadingAtx(t, e, i) { let n = 0; return function(e) { return t.enter("atxHeading"),
			function(e) { return t.enter("atxHeadingSequence"), r(e) }(e) };

	function r(e) { return 35 === e && n++ < 6 ? (t.consume(e), r) : null === e || markdownLineEndingOrSpace(e) ? (t.exit("atxHeadingSequence"), s(e)) : i(e) }

	function s(i) { return 35 === i ? (t.enter("atxHeadingSequence"), o(i)) : null === i || markdownLineEnding(i) ? (t.exit("atxHeading"), e(i)) : markdownSpace(i) ? factorySpace(t, s, "whitespace")(i) : (t.enter("atxHeadingText"), a(i)) }

	function o(e) { return 35 === e ? (t.consume(e), o) : (t.exit("atxHeadingSequence"), s(e)) }

	function a(e) { return null === e || 35 === e || markdownLineEndingOrSpace(e) ? (t.exit("atxHeadingText"), s(e)) : (t.consume(e), a) } }
const htmlBlockNames = ["address", "article", "aside", "base", "basefont", "blockquote", "body", "caption", "center", "col", "colgroup", "dd", "details", "dialog", "dir", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "frame", "frameset", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hr", "html", "iframe", "legend", "li", "link", "main", "menu", "menuitem", "nav", "noframes", "ol", "optgroup", "option", "p", "param", "search", "section", "summary", "table", "tbody", "td", "tfoot", "th", "thead", "title", "tr", "track", "ul"],
	htmlRawNames = ["pre", "script", "style", "textarea"],
	htmlFlow = { concrete: !0, name: "htmlFlow", resolveTo: resolveToHtmlFlow, tokenize: tokenizeHtmlFlow },
	blankLineBefore = { partial: !0, tokenize: tokenizeBlankLineBefore },
	nonLazyContinuationStart = { partial: !0, tokenize: tokenizeNonLazyContinuationStart };

function resolveToHtmlFlow(t) { let e = t.length; for (; e-- && ("enter" !== t[e][0] || "htmlFlow" !== t[e][1].type);); return e > 1 && "linePrefix" === t[e - 2][1].type && (t[e][1].start = t[e - 2][1].start, t[e + 1][1].start = t[e - 2][1].start, t.splice(e - 2, 2)), t }

function tokenizeHtmlFlow(t, e, i) { const n = this; let r, s, o, a, l; return function(e) { return function(e) { return t.enter("htmlFlow"), t.enter("htmlFlowData"), t.consume(e), h }(e) };

	function h(a) { return 33 === a ? (t.consume(a), u) : 47 === a ? (t.consume(a), s = !0, f) : 63 === a ? (t.consume(a), r = 3, n.interrupt ? e : D) : asciiAlpha(a) ? (t.consume(a), o = String.fromCharCode(a), p) : i(a) }

	function u(s) { return 45 === s ? (t.consume(s), r = 2, c) : 91 === s ? (t.consume(s), r = 5, a = 0, d) : asciiAlpha(s) ? (t.consume(s), r = 4, n.interrupt ? e : D) : i(s) }

	function c(r) { return 45 === r ? (t.consume(r), n.interrupt ? e : D) : i(r) }

	function d(r) { return r === "CDATA[".charCodeAt(a++) ? (t.consume(r), 6 === a ? n.interrupt ? e : A : d) : i(r) }

	function f(e) { return asciiAlpha(e) ? (t.consume(e), o = String.fromCharCode(e), p) : i(e) }

	function p(a) { if (null === a || 47 === a || 62 === a || markdownLineEndingOrSpace(a)) { const l = 47 === a,
				h = o.toLowerCase(); return l || s || !htmlRawNames.includes(h) ? htmlBlockNames.includes(o.toLowerCase()) ? (r = 6, l ? (t.consume(a), g) : n.interrupt ? e(a) : A(a)) : (r = 7, n.interrupt && !n.parser.lazy[n.now().line] ? i(a) : s ? m(a) : v(a)) : (r = 1, n.interrupt ? e(a) : A(a)) } return 45 === a || asciiAlphanumeric(a) ? (t.consume(a), o += String.fromCharCode(a), p) : i(a) }

	function g(r) { return 62 === r ? (t.consume(r), n.interrupt ? e : A) : i(r) }

	function m(e) { return markdownSpace(e) ? (t.consume(e), m) : _(e) }

	function v(e) { return 47 === e ? (t.consume(e), _) : 58 === e || 95 === e || asciiAlpha(e) ? (t.consume(e), y) : markdownSpace(e) ? (t.consume(e), v) : _(e) }

	function y(e) { return 45 === e || 46 === e || 58 === e || 95 === e || asciiAlphanumeric(e) ? (t.consume(e), y) : x(e) }

	function x(e) { return 61 === e ? (t.consume(e), b) : markdownSpace(e) ? (t.consume(e), x) : v(e) }

	function b(e) { return null === e || 60 === e || 61 === e || 62 === e || 96 === e ? i(e) : 34 === e || 39 === e ? (t.consume(e), l = e, w) : markdownSpace(e) ? (t.consume(e), b) : T(e) }

	function w(e) { return e === l ? (t.consume(e), l = null, S) : null === e || markdownLineEnding(e) ? i(e) : (t.consume(e), w) }

	function T(e) { return null === e || 34 === e || 39 === e || 47 === e || 60 === e || 61 === e || 62 === e || 96 === e || markdownLineEndingOrSpace(e) ? x(e) : (t.consume(e), T) }

	function S(t) { return 47 === t || 62 === t || markdownSpace(t) ? v(t) : i(t) }

	function _(e) { return 62 === e ? (t.consume(e), E) : i(e) }

	function E(e) { return null === e || markdownLineEnding(e) ? A(e) : markdownSpace(e) ? (t.consume(e), E) : i(e) }

	function A(e) { return 45 === e && 2 === r ? (t.consume(e), O) : 60 === e && 1 === r ? (t.consume(e), R) : 62 === e && 4 === r ? (t.consume(e), F) : 63 === e && 3 === r ? (t.consume(e), D) : 93 === e && 5 === r ? (t.consume(e), L) : !markdownLineEnding(e) || 6 !== r && 7 !== r ? null === e || markdownLineEnding(e) ? (t.exit("htmlFlowData"), C(e)) : (t.consume(e), A) : (t.exit("htmlFlowData"), t.check(blankLineBefore, I, C)(e)) }

	function C(e) { return t.check(nonLazyContinuationStart, k, I)(e) }

	function k(e) { return t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), P }

	function P(e) { return null === e || markdownLineEnding(e) ? C(e) : (t.enter("htmlFlowData"), A(e)) }

	function O(e) { return 45 === e ? (t.consume(e), D) : A(e) }

	function R(e) { return 47 === e ? (t.consume(e), o = "", M) : A(e) }

	function M(e) { if (62 === e) { const i = o.toLowerCase(); return htmlRawNames.includes(i) ? (t.consume(e), F) : A(e) } return asciiAlpha(e) && o.length < 8 ? (t.consume(e), o += String.fromCharCode(e), M) : A(e) }

	function L(e) { return 93 === e ? (t.consume(e), D) : A(e) }

	function D(e) { return 62 === e ? (t.consume(e), F) : 45 === e && 2 === r ? (t.consume(e), D) : A(e) }

	function F(e) { return null === e || markdownLineEnding(e) ? (t.exit("htmlFlowData"), I(e)) : (t.consume(e), F) }

	function I(i) { return t.exit("htmlFlow"), e(i) } }

function tokenizeNonLazyContinuationStart(t, e, i) { const n = this; return function(e) { return markdownLineEnding(e) ? (t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), r) : i(e) };

	function r(t) { return n.parser.lazy[n.now().line] ? i(t) : e(t) } }

function tokenizeBlankLineBefore(t, e, i) { return function(n) { return t.enter("lineEnding"), t.consume(n), t.exit("lineEnding"), t.attempt(blankLine, e, i) } }
const htmlText = { name: "htmlText", tokenize: tokenizeHtmlText };

function tokenizeHtmlText(t, e, i) { const n = this; let r, s, o; return function(e) { return t.enter("htmlText"), t.enter("htmlTextData"), t.consume(e), a };

	function a(e) { return 33 === e ? (t.consume(e), l) : 47 === e ? (t.consume(e), b) : 63 === e ? (t.consume(e), y) : asciiAlpha(e) ? (t.consume(e), S) : i(e) }

	function l(e) { return 45 === e ? (t.consume(e), h) : 91 === e ? (t.consume(e), s = 0, f) : asciiAlpha(e) ? (t.consume(e), v) : i(e) }

	function h(e) { return 45 === e ? (t.consume(e), d) : i(e) }

	function u(e) { return null === e ? i(e) : 45 === e ? (t.consume(e), c) : markdownLineEnding(e) ? (o = u, M(e)) : (t.consume(e), u) }

	function c(e) { return 45 === e ? (t.consume(e), d) : u(e) }

	function d(t) { return 62 === t ? R(t) : 45 === t ? c(t) : u(t) }

	function f(e) { return e === "CDATA[".charCodeAt(s++) ? (t.consume(e), 6 === s ? p : f) : i(e) }

	function p(e) { return null === e ? i(e) : 93 === e ? (t.consume(e), g) : markdownLineEnding(e) ? (o = p, M(e)) : (t.consume(e), p) }

	function g(e) { return 93 === e ? (t.consume(e), m) : p(e) }

	function m(e) { return 62 === e ? R(e) : 93 === e ? (t.consume(e), m) : p(e) }

	function v(e) { return null === e || 62 === e ? R(e) : markdownLineEnding(e) ? (o = v, M(e)) : (t.consume(e), v) }

	function y(e) { return null === e ? i(e) : 63 === e ? (t.consume(e), x) : markdownLineEnding(e) ? (o = y, M(e)) : (t.consume(e), y) }

	function x(t) { return 62 === t ? R(t) : y(t) }

	function b(e) { return asciiAlpha(e) ? (t.consume(e), w) : i(e) }

	function w(e) { return 45 === e || asciiAlphanumeric(e) ? (t.consume(e), w) : T(e) }

	function T(e) { return markdownLineEnding(e) ? (o = T, M(e)) : markdownSpace(e) ? (t.consume(e), T) : R(e) }

	function S(e) { return 45 === e || asciiAlphanumeric(e) ? (t.consume(e), S) : 47 === e || 62 === e || markdownLineEndingOrSpace(e) ? _(e) : i(e) }

	function _(e) { return 47 === e ? (t.consume(e), R) : 58 === e || 95 === e || asciiAlpha(e) ? (t.consume(e), E) : markdownLineEnding(e) ? (o = _, M(e)) : markdownSpace(e) ? (t.consume(e), _) : R(e) }

	function E(e) { return 45 === e || 46 === e || 58 === e || 95 === e || asciiAlphanumeric(e) ? (t.consume(e), E) : A(e) }

	function A(e) { return 61 === e ? (t.consume(e), C) : markdownLineEnding(e) ? (o = A, M(e)) : markdownSpace(e) ? (t.consume(e), A) : _(e) }

	function C(e) { return null === e || 60 === e || 61 === e || 62 === e || 96 === e ? i(e) : 34 === e || 39 === e ? (t.consume(e), r = e, k) : markdownLineEnding(e) ? (o = C, M(e)) : markdownSpace(e) ? (t.consume(e), C) : (t.consume(e), P) }

	function k(e) { return e === r ? (t.consume(e), r = void 0, O) : null === e ? i(e) : markdownLineEnding(e) ? (o = k, M(e)) : (t.consume(e), k) }

	function P(e) { return null === e || 34 === e || 39 === e || 60 === e || 61 === e || 96 === e ? i(e) : 47 === e || 62 === e || markdownLineEndingOrSpace(e) ? _(e) : (t.consume(e), P) }

	function O(t) { return 47 === t || 62 === t || markdownLineEndingOrSpace(t) ? _(t) : i(t) }

	function R(n) { return 62 === n ? (t.consume(n), t.exit("htmlTextData"), t.exit("htmlText"), e) : i(n) }

	function M(e) { return t.exit("htmlTextData"), t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), L }

	function L(e) { return markdownSpace(e) ? factorySpace(t, D, "linePrefix", n.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(e) : D(e) }

	function D(e) { return t.enter("htmlTextData"), o(e) } }
const labelEnd = { name: "labelEnd", resolveAll: resolveAllLabelEnd, resolveTo: resolveToLabelEnd, tokenize: tokenizeLabelEnd },
	resourceConstruct = { tokenize: tokenizeResource },
	referenceFullConstruct = { tokenize: tokenizeReferenceFull },
	referenceCollapsedConstruct = { tokenize: tokenizeReferenceCollapsed };

function resolveAllLabelEnd(t) { let e = -1; const i = []; for (; ++e < t.length;) { const n = t[e][1]; if (i.push(t[e]), "labelImage" === n.type || "labelLink" === n.type || "labelEnd" === n.type) { const t = "labelImage" === n.type ? 4 : 2;
			n.type = "data", e += t } } return t.length !== i.length && splice(t, 0, t.length, i), t }

function resolveToLabelEnd(t, e) { let i, n, r, s, o = t.length,
		a = 0; for (; o--;)
		if (i = t[o][1], n) { if ("link" === i.type || "labelLink" === i.type && i._inactive) break; "enter" === t[o][0] && "labelLink" === i.type && (i._inactive = !0) } else if (r) { if ("enter" === t[o][0] && ("labelImage" === i.type || "labelLink" === i.type) && !i._balanced && (n = o, "labelLink" !== i.type)) { a = 2; break } } else "labelEnd" === i.type && (r = o); const l = { type: "labelLink" === t[n][1].type ? "link" : "image", start: { ...t[n][1].start }, end: { ...t[t.length - 1][1].end } },
		h = { type: "label", start: { ...t[n][1].start }, end: { ...t[r][1].end } },
		u = { type: "labelText", start: { ...t[n + a + 2][1].end }, end: { ...t[r - 2][1].start } }; return s = [
		["enter", l, e],
		["enter", h, e]
	], s = push(s, t.slice(n + 1, n + a + 3)), s = push(s, [
		["enter", u, e]
	]), s = push(s, resolveAll(e.parser.constructs.insideSpan.null, t.slice(n + a + 4, r - 3), e)), s = push(s, [
		["exit", u, e], t[r - 2], t[r - 1],
		["exit", h, e]
	]), s = push(s, t.slice(r + 1)), s = push(s, [
		["exit", l, e]
	]), splice(t, n, t.length, s), t }

function tokenizeLabelEnd(t, e, i) { const n = this; let r, s, o = n.events.length; for (; o--;)
		if (("labelImage" === n.events[o][1].type || "labelLink" === n.events[o][1].type) && !n.events[o][1]._balanced) { r = n.events[o][1]; break } return function(e) { return r ? r._inactive ? u(e) : (s = n.parser.defined.includes(normalizeIdentifier(n.sliceSerialize({ start: r.end, end: n.now() }))), t.enter("labelEnd"), t.enter("labelMarker"), t.consume(e), t.exit("labelMarker"), t.exit("labelEnd"), a) : i(e) };

	function a(e) { return 40 === e ? t.attempt(resourceConstruct, h, s ? h : u)(e) : 91 === e ? t.attempt(referenceFullConstruct, h, s ? l : u)(e) : s ? h(e) : u(e) }

	function l(e) { return t.attempt(referenceCollapsedConstruct, h, u)(e) }

	function h(t) { return e(t) }

	function u(t) { return r._balanced = !0, i(t) } }

function tokenizeResource(t, e, i) { return function(e) { return t.enter("resource"), t.enter("resourceMarker"), t.consume(e), t.exit("resourceMarker"), n };

	function n(e) { return markdownLineEndingOrSpace(e) ? factoryWhitespace(t, r)(e) : r(e) }

	function r(e) { return 41 === e ? h(e) : factoryDestination(t, s, o, "resourceDestination", "resourceDestinationLiteral", "resourceDestinationLiteralMarker", "resourceDestinationRaw", "resourceDestinationString", 32)(e) }

	function s(e) { return markdownLineEndingOrSpace(e) ? factoryWhitespace(t, a)(e) : h(e) }

	function o(t) { return i(t) }

	function a(e) { return 34 === e || 39 === e || 40 === e ? factoryTitle(t, l, i, "resourceTitle", "resourceTitleMarker", "resourceTitleString")(e) : h(e) }

	function l(e) { return markdownLineEndingOrSpace(e) ? factoryWhitespace(t, h)(e) : h(e) }

	function h(n) { return 41 === n ? (t.enter("resourceMarker"), t.consume(n), t.exit("resourceMarker"), t.exit("resource"), e) : i(n) } }

function tokenizeReferenceFull(t, e, i) { const n = this; return function(e) { return factoryLabel.call(n, t, r, s, "reference", "referenceMarker", "referenceString")(e) };

	function r(t) { return n.parser.defined.includes(normalizeIdentifier(n.sliceSerialize(n.events[n.events.length - 1][1]).slice(1, -1))) ? e(t) : i(t) }

	function s(t) { return i(t) } }

function tokenizeReferenceCollapsed(t, e, i) { return function(e) { return t.enter("reference"), t.enter("referenceMarker"), t.consume(e), t.exit("referenceMarker"), n };

	function n(n) { return 93 === n ? (t.enter("referenceMarker"), t.consume(n), t.exit("referenceMarker"), t.exit("reference"), e) : i(n) } }
const labelStartImage = { name: "labelStartImage", resolveAll: labelEnd.resolveAll, tokenize: tokenizeLabelStartImage };

function tokenizeLabelStartImage(t, e, i) { const n = this; return function(e) { return t.enter("labelImage"), t.enter("labelImageMarker"), t.consume(e), t.exit("labelImageMarker"), r };

	function r(e) { return 91 === e ? (t.enter("labelMarker"), t.consume(e), t.exit("labelMarker"), t.exit("labelImage"), s) : i(e) }

	function s(t) { return 94 === t && "_hiddenFootnoteSupport" in n.parser.constructs ? i(t) : e(t) } }
const labelStartLink = { name: "labelStartLink", resolveAll: labelEnd.resolveAll, tokenize: tokenizeLabelStartLink };

function tokenizeLabelStartLink(t, e, i) { const n = this; return function(e) { return t.enter("labelLink"), t.enter("labelMarker"), t.consume(e), t.exit("labelMarker"), t.exit("labelLink"), r };

	function r(t) { return 94 === t && "_hiddenFootnoteSupport" in n.parser.constructs ? i(t) : e(t) } }
const lineEnding = { name: "lineEnding", tokenize: tokenizeLineEnding };

function tokenizeLineEnding(t, e) { return function(i) { return t.enter("lineEnding"), t.consume(i), t.exit("lineEnding"), factorySpace(t, e, "linePrefix") } }
const thematicBreak$2 = { name: "thematicBreak", tokenize: tokenizeThematicBreak };

function tokenizeThematicBreak(t, e, i) { let n, r = 0; return function(e) { return t.enter("thematicBreak"),
			function(t) { return n = t, s(t) }(e) };

	function s(s) { return s === n ? (t.enter("thematicBreakSequence"), o(s)) : r >= 3 && (null === s || markdownLineEnding(s)) ? (t.exit("thematicBreak"), e(s)) : i(s) }

	function o(e) { return e === n ? (t.consume(e), r++, o) : (t.exit("thematicBreakSequence"), markdownSpace(e) ? factorySpace(t, s, "whitespace")(e) : s(e)) } }
const list$2 = { continuation: { tokenize: tokenizeListContinuation }, exit: tokenizeListEnd, name: "list", tokenize: tokenizeListStart },
	listItemPrefixWhitespaceConstruct = { partial: !0, tokenize: tokenizeListItemPrefixWhitespace },
	indentConstruct = { partial: !0, tokenize: tokenizeIndent$1 };

function tokenizeListStart(t, e, i) { const n = this,
		r = n.events[n.events.length - 1]; let s = r && "linePrefix" === r[1].type ? r[2].sliceSerialize(r[1], !0).length : 0,
		o = 0; return function(e) { const r = n.containerState.type || (42 === e || 43 === e || 45 === e ? "listUnordered" : "listOrdered"); if ("listUnordered" === r ? !n.containerState.marker || e === n.containerState.marker : asciiDigit(e)) { if (n.containerState.type || (n.containerState.type = r, t.enter(r, { _container: !0 })), "listUnordered" === r) return t.enter("listItemPrefix"), 42 === e || 45 === e ? t.check(thematicBreak$2, i, l)(e) : l(e); if (!n.interrupt || 49 === e) return t.enter("listItemPrefix"), t.enter("listItemValue"), a(e) } return i(e) };

	function a(e) { return asciiDigit(e) && ++o < 10 ? (t.consume(e), a) : (!n.interrupt || o < 2) && (n.containerState.marker ? e === n.containerState.marker : 41 === e || 46 === e) ? (t.exit("listItemValue"), l(e)) : i(e) }

	function l(e) { return t.enter("listItemMarker"), t.consume(e), t.exit("listItemMarker"), n.containerState.marker = n.containerState.marker || e, t.check(blankLine, n.interrupt ? i : h, t.attempt(listItemPrefixWhitespaceConstruct, c, u)) }

	function h(t) { return n.containerState.initialBlankLine = !0, s++, c(t) }

	function u(e) { return markdownSpace(e) ? (t.enter("listItemPrefixWhitespace"), t.consume(e), t.exit("listItemPrefixWhitespace"), c) : i(e) }

	function c(i) { return n.containerState.size = s + n.sliceSerialize(t.exit("listItemPrefix"), !0).length, e(i) } }

function tokenizeListContinuation(t, e, i) { const n = this; return n.containerState._closeFlow = void 0, t.check(blankLine, (function(i) { return n.containerState.furtherBlankLines = n.containerState.furtherBlankLines || n.containerState.initialBlankLine, factorySpace(t, e, "listItemIndent", n.containerState.size + 1)(i) }), (function(i) { return n.containerState.furtherBlankLines || !markdownSpace(i) ? (n.containerState.furtherBlankLines = void 0, n.containerState.initialBlankLine = void 0, r(i)) : (n.containerState.furtherBlankLines = void 0, n.containerState.initialBlankLine = void 0, t.attempt(indentConstruct, e, r)(i)) }));

	function r(r) { return n.containerState._closeFlow = !0, n.interrupt = void 0, factorySpace(t, t.attempt(list$2, e, i), "linePrefix", n.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(r) } }

function tokenizeIndent$1(t, e, i) { const n = this; return factorySpace(t, (function(t) { const r = n.events[n.events.length - 1]; return r && "listItemIndent" === r[1].type && r[2].sliceSerialize(r[1], !0).length === n.containerState.size ? e(t) : i(t) }), "listItemIndent", n.containerState.size + 1) }

function tokenizeListEnd(t) { t.exit(this.containerState.type) }

function tokenizeListItemPrefixWhitespace(t, e, i) { const n = this; return factorySpace(t, (function(t) { const r = n.events[n.events.length - 1]; return !markdownSpace(t) && r && "listItemPrefixWhitespace" === r[1].type ? e(t) : i(t) }), "listItemPrefixWhitespace", n.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 5) }
const setextUnderline = { name: "setextUnderline", resolveTo: resolveToSetextUnderline, tokenize: tokenizeSetextUnderline };

function resolveToSetextUnderline(t, e) { let i, n, r, s = t.length; for (; s--;)
		if ("enter" === t[s][0]) { if ("content" === t[s][1].type) { i = s; break } "paragraph" === t[s][1].type && (n = s) } else "content" === t[s][1].type && t.splice(s, 1), r || "definition" !== t[s][1].type || (r = s); const o = { type: "setextHeading", start: { ...t[i][1].start }, end: { ...t[t.length - 1][1].end } }; return t[n][1].type = "setextHeadingText", r ? (t.splice(n, 0, ["enter", o, e]), t.splice(r + 1, 0, ["exit", t[i][1], e]), t[i][1].end = { ...t[r][1].end }) : t[i][1] = o, t.push(["exit", o, e]), t }

function tokenizeSetextUnderline(t, e, i) { const n = this; let r; return function(e) { let o, a = n.events.length; for (; a--;)
			if ("lineEnding" !== n.events[a][1].type && "linePrefix" !== n.events[a][1].type && "content" !== n.events[a][1].type) { o = "paragraph" === n.events[a][1].type; break } return n.parser.lazy[n.now().line] || !n.interrupt && !o ? i(e) : (t.enter("setextHeadingLine"), r = e, function(e) { return t.enter("setextHeadingLineSequence"), s(e) }(e)) };

	function s(e) { return e === r ? (t.consume(e), s) : (t.exit("setextHeadingLineSequence"), markdownSpace(e) ? factorySpace(t, o, "lineSuffix")(e) : o(e)) }

	function o(n) { return null === n || markdownLineEnding(n) ? (t.exit("setextHeadingLine"), e(n)) : i(n) } }
const flow$1 = { tokenize: initializeFlow };

function initializeFlow(t) { const e = this,
		i = t.attempt(blankLine, (function(n) { if (null !== n) return t.enter("lineEndingBlank"), t.consume(n), t.exit("lineEndingBlank"), e.currentConstruct = void 0, i;
			t.consume(n) }), t.attempt(this.parser.constructs.flowInitial, n, factorySpace(t, t.attempt(this.parser.constructs.flow, n, t.attempt(content, n)), "linePrefix"))); return i;

	function n(n) { if (null !== n) return t.enter("lineEnding"), t.consume(n), t.exit("lineEnding"), e.currentConstruct = void 0, i;
		t.consume(n) } }
const resolver = { resolveAll: createResolver() },
	string$1 = initializeFactory("string"),
	text$5 = initializeFactory("text");

function initializeFactory(t) { return { resolveAll: createResolver("text" === t ? resolveAllLineSuffixes : void 0), tokenize: function(e) { const i = this,
				n = this.parser.constructs[t],
				r = e.attempt(n, s, o); return s;

			function s(t) { return l(t) ? r(t) : o(t) }

			function o(t) { if (null !== t) return e.enter("data"), e.consume(t), a;
				e.consume(t) }

			function a(t) { return l(t) ? (e.exit("data"), r(t)) : (e.consume(t), a) }

			function l(t) { if (null === t) return !0; const e = n[t]; let r = -1; if (e)
					for (; ++r < e.length;) { const t = e[r]; if (!t.previous || t.previous.call(i, i.previous)) return !0 }
				return !1 } } } }

function createResolver(t) { return function(e, i) { let n, r = -1; for (; ++r <= e.length;) void 0 === n ? e[r] && "data" === e[r][1].type && (n = r, r++) : e[r] && "data" === e[r][1].type || (r !== n + 2 && (e[n][1].end = e[r - 1][1].end, e.splice(n + 2, r - n - 2), r = n + 2), n = void 0); return t ? t(e, i) : e } }

function resolveAllLineSuffixes(t, e) { let i = 0; for (; ++i <= t.length;)
		if ((i === t.length || "lineEnding" === t[i][1].type) && "data" === t[i - 1][1].type) { const n = t[i - 1][1],
				r = e.sliceStream(n); let s, o = r.length,
				a = -1,
				l = 0; for (; o--;) { const t = r[o]; if ("string" == typeof t) { for (a = t.length; 32 === t.charCodeAt(a - 1);) l++, a--; if (a) break;
					a = -1 } else if (-2 === t) s = !0, l++;
				else if (-1 !== t) { o++; break } } if (e._contentTypeTextTrailing && i === t.length && (l = 0), l) { const r = { type: i === t.length || s || l < 2 ? "lineSuffix" : "hardBreakTrailing", start: { _bufferIndex: o ? a : n.start._bufferIndex + a, _index: n.start._index + o, line: n.end.line, column: n.end.column - l, offset: n.end.offset - l }, end: { ...n.end } };
				n.end = { ...r.start }, n.start.offset === n.end.offset ? Object.assign(n, r) : (t.splice(i, 0, ["enter", r, e], ["exit", r, e]), i += 2) } i++ } return t }
const document$1 = { 42: list$2, 43: list$2, 45: list$2, 48: list$2, 49: list$2, 50: list$2, 51: list$2, 52: list$2, 53: list$2, 54: list$2, 55: list$2, 56: list$2, 57: list$2, 62: blockQuote },
	contentInitial = { 91: definition$1 },
	flowInitial = {
		[-2]: codeIndented, [-1]: codeIndented, 32: codeIndented },
	flow = { 35: headingAtx, 42: thematicBreak$2, 45: [setextUnderline, thematicBreak$2], 60: htmlFlow, 61: setextUnderline, 95: thematicBreak$2, 96: codeFenced, 126: codeFenced },
	string = { 38: characterReference, 92: characterEscape },
	text$4 = {
		[-5]: lineEnding, [-4]: lineEnding, [-3]: lineEnding, 33: labelStartImage, 38: characterReference, 42: attention, 60: [autolink, htmlText], 91: labelStartLink, 92: [hardBreakEscape, characterEscape], 93: labelEnd, 95: attention, 96: codeText },
	insideSpan = { null: [attention, resolver] },
	attentionMarkers = { null: [42, 95] },
	disable = { null: [] },
	defaultConstructs = Object.freeze(Object.defineProperty({ __proto__: null, attentionMarkers: attentionMarkers, contentInitial: contentInitial, disable: disable, document: document$1, flow: flow, flowInitial: flowInitial, insideSpan: insideSpan, string: string, text: text$4 }, Symbol.toStringTag, { value: "Module" }));

function createTokenizer(t, e, i) { let n = { _bufferIndex: -1, _index: 0, line: i && i.line || 1, column: i && i.column || 1, offset: i && i.offset || 0 }; const r = {},
		s = []; let o = [],
		a = []; const l = { attempt: g((function(t, e) { m(t, e.from) })), check: g(p), consume: function(t) { markdownLineEnding(t) ? (n.line++, n.column = 1, n.offset += -3 === t ? 2 : 1, v()) : -1 !== t && (n.column++, n.offset++), n._bufferIndex < 0 ? n._index++ : (n._bufferIndex++, n._bufferIndex === o[n._index].length && (n._bufferIndex = -1, n._index++)), h.previous = t }, enter: function(t, e) { const i = e || {}; return i.type = t, i.start = d(), h.events.push(["enter", i, h]), a.push(i), i }, exit: function(t) { const e = a.pop(); return e.end = d(), h.events.push(["exit", e, h]), e }, interrupt: g(p, { interrupt: !0 }) },
		h = { code: null, containerState: {}, defineSkip: function(t) { r[t.line] = t.column, v() }, events: [], now: d, parser: t, previous: null, sliceSerialize: function(t, e) { return serializeChunks(c(t), e) }, sliceStream: c, write: function(t) { return o = push(o, t),
					function() { let t; for (; n._index < o.length;) { const e = o[n._index]; if ("string" == typeof e)
								for (t = n._index, n._bufferIndex < 0 && (n._bufferIndex = 0); n._index === t && n._bufferIndex < e.length;) f(e.charCodeAt(n._bufferIndex));
							else f(e) } }(), null !== o[o.length - 1] ? [] : (m(e, 0), h.events = resolveAll(s, h.events, h), h.events) } }; let u = e.tokenize.call(h, l); return e.resolveAll && s.push(e), h;

	function c(t) { return sliceChunks(o, t) }

	function d() { const { _bufferIndex: t, _index: e, line: i, column: r, offset: s } = n; return { _bufferIndex: t, _index: e, line: i, column: r, offset: s } }

	function f(t) { u = u(t) }

	function p(t, e) { e.restore() }

	function g(t, e) { return function(i, r, s) { let o, u, c, f; return Array.isArray(i) ? g(i) : "tokenize" in i ? g([i]) : (p = i, function(t) { const e = null !== t && p[t],
					i = null !== t && p.null; return g([...Array.isArray(e) ? e : e ? [e] : [], ...Array.isArray(i) ? i : i ? [i] : []])(t) }); var p;

			function g(t) { return o = t, u = 0, 0 === t.length ? s : m(t[u]) }

			function m(t) { return function(i) { return f = function() { const t = d(),
							e = h.previous,
							i = h.currentConstruct,
							r = h.events.length,
							s = Array.from(a); return { from: r, restore: function() { n = t, h.previous = e, h.currentConstruct = i, h.events.length = r, a = s, v() } } }(), c = t, t.partial || (h.currentConstruct = t), t.name && h.parser.constructs.disable.null.includes(t.name) ? x() : t.tokenize.call(e ? Object.assign(Object.create(h), e) : h, l, y, x)(i) } }

			function y(e) { return t(c, f), r }

			function x(t) { return f.restore(), ++u < o.length ? m(o[u]) : s } } }

	function m(t, e) { t.resolveAll && !s.includes(t) && s.push(t), t.resolve && splice(h.events, e, h.events.length - e, t.resolve(h.events.slice(e), h)), t.resolveTo && (h.events = t.resolveTo(h.events, h)) }

	function v() { n.line in r && n.column < 2 && (n.column = r[n.line], n.offset += r[n.line] - 1) } }

function sliceChunks(t, e) { const i = e.start._index,
		n = e.start._bufferIndex,
		r = e.end._index,
		s = e.end._bufferIndex; let o; if (i === r) o = [t[i].slice(n, s)];
	else { if (o = t.slice(i, r), n > -1) { const t = o[0]; "string" == typeof t ? o[0] = t.slice(n) : o.shift() } s > 0 && o.push(t[r].slice(0, s)) } return o }

function serializeChunks(t, e) { let i = -1; const n = []; let r; for (; ++i < t.length;) { const s = t[i]; let o; if ("string" == typeof s) o = s;
		else switch (s) {
			case -5:
				o = "\r"; break;
			case -4:
				o = "\n"; break;
			case -3:
				o = "\r\n"; break;
			case -2:
				o = e ? " " : "\t"; break;
			case -1:
				if (!e && r) continue;
				o = " "; break;
			default:
				o = String.fromCharCode(s) } r = -2 === s, n.push(o) } return n.join("") }

function parse(t) { const e = { constructs: combineExtensions([defaultConstructs, ...(t || {}).extensions || []]), content: i(content$1), defined: [], document: i(document$2), flow: i(flow$1), lazy: {}, string: i(string$1), text: i(text$5) }; return e;

	function i(t) { return function(i) { return createTokenizer(e, t, i) } } }

function postprocess(t) { for (; !subtokenize(t);); return t }
const search = /[\0\t\n\r]/g;

function preprocess() { let t, e = 1,
		i = "",
		n = !0; return function(r, s, o) { const a = []; let l, h, u, c, d; for (r = i + ("string" == typeof r ? r.toString() : new TextDecoder(s || void 0).decode(r)), u = 0, i = "", n && (65279 === r.charCodeAt(0) && u++, n = void 0); u < r.length;) { if (search.lastIndex = u, l = search.exec(r), c = l && void 0 !== l.index ? l.index : r.length, d = r.charCodeAt(c), !l) { i = r.slice(u); break } if (10 === d && u === c && t) a.push(-3), t = void 0;
			else switch (t && (a.push(-5), t = void 0), u < c && (a.push(r.slice(u, c)), e += c - u), d) {
				case 0:
					a.push(65533), e++; break;
				case 9:
					for (h = 4 * Math.ceil(e / 4), a.push(-2); e++ < h;) a.push(-1); break;
				case 10:
					a.push(-4), e = 1; break;
				default:
					t = !0, e = 1 } u = c + 1 } return o && (t && a.push(-5), i && a.push(i), a.push(null)), a } }
const characterEscapeOrReference = /\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;

function decodeString(t) { return t.replace(characterEscapeOrReference, decode) }

function decode(t, e, i) { if (e) return e; if (35 === i.charCodeAt(0)) { const t = i.charCodeAt(1),
			e = 120 === t || 88 === t; return decodeNumericCharacterReference(i.slice(e ? 2 : 1), e ? 16 : 10) } return decodeNamedCharacterReference(i) || t }
const own$4 = {}.hasOwnProperty;

function fromMarkdown(t, e, i) { return "string" != typeof e && (i = e, e = void 0), compiler(i)(postprocess(parse(i).document().write(preprocess()(t, e, !0)))) }

function compiler(t) { const e = { transforms: [], canContainEols: ["emphasis", "fragment", "heading", "paragraph", "strong"], enter: { autolink: r(y), autolinkProtocol: u, autolinkEmail: u, atxHeading: r(g), blockQuote: r((function() { return { type: "blockquote", children: [] } })), characterEscape: u, characterReference: u, codeFenced: r(p), codeFencedFenceInfo: s, codeFencedFenceMeta: s, codeIndented: r(p, s), codeText: r((function() { return { type: "inlineCode", value: "" } }), s), codeTextData: u, data: u, codeFlowValue: u, definition: r((function() { return { type: "definition", identifier: "", label: null, title: null, url: "" } })), definitionDestinationString: s, definitionLabelString: s, definitionTitleString: s, emphasis: r((function() { return { type: "emphasis", children: [] } })), hardBreakEscape: r(m), hardBreakTrailing: r(m), htmlFlow: r(v, s), htmlFlowData: u, htmlText: r(v, s), htmlTextData: u, image: r((function() { return { type: "image", title: null, url: "", alt: null } })), label: s, link: r(y), listItem: r((function(t) { return { type: "listItem", spread: t._spread, checked: null, children: [] } })), listItemValue: function(t) { this.data.expectingFirstListItemValue && (this.stack[this.stack.length - 2].start = Number.parseInt(this.sliceSerialize(t), 10), this.data.expectingFirstListItemValue = void 0) }, listOrdered: r(x, (function() { this.data.expectingFirstListItemValue = !0 })), listUnordered: r(x), paragraph: r((function() { return { type: "paragraph", children: [] } })), reference: function() { this.data.referenceType = "collapsed" }, referenceString: s, resourceDestinationString: s, resourceTitleString: s, setextHeading: r(g), strong: r((function() { return { type: "strong", children: [] } })), thematicBreak: r((function() { return { type: "thematicBreak" } })) }, exit: { atxHeading: a(), atxHeadingSequence: function(t) { const e = this.stack[this.stack.length - 1]; if (!e.depth) { const i = this.sliceSerialize(t).length;
					e.depth = i } }, autolink: a(), autolinkEmail: function(t) { c.call(this, t), this.stack[this.stack.length - 1].url = "mailto:" + this.sliceSerialize(t) }, autolinkProtocol: function(t) { c.call(this, t), this.stack[this.stack.length - 1].url = this.sliceSerialize(t) }, blockQuote: a(), characterEscapeValue: c, characterReferenceMarkerHexadecimal: f, characterReferenceMarkerNumeric: f, characterReferenceValue: function(t) { const e = this.sliceSerialize(t),
					i = this.data.characterReferenceType; let n;
				i ? (n = decodeNumericCharacterReference(e, "characterReferenceMarkerNumeric" === i ? 10 : 16), this.data.characterReferenceType = void 0) : n = decodeNamedCharacterReference(e), this.stack[this.stack.length - 1].value += n }, characterReference: function(t) { this.stack.pop().position.end = point$1(t.end) }, codeFenced: a((function() { const t = this.resume();
				this.stack[this.stack.length - 1].value = t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g, ""), this.data.flowCodeInside = void 0 })), codeFencedFence: function() { this.data.flowCodeInside || (this.buffer(), this.data.flowCodeInside = !0) }, codeFencedFenceInfo: function() { const t = this.resume();
				this.stack[this.stack.length - 1].lang = t }, codeFencedFenceMeta: function() { const t = this.resume();
				this.stack[this.stack.length - 1].meta = t }, codeFlowValue: c, codeIndented: a((function() { const t = this.resume();
				this.stack[this.stack.length - 1].value = t.replace(/(\r?\n|\r)$/g, "") })), codeText: a((function() { const t = this.resume();
				this.stack[this.stack.length - 1].value = t })), codeTextData: c, data: c, definition: a(), definitionDestinationString: function() { const t = this.resume();
				this.stack[this.stack.length - 1].url = t }, definitionLabelString: function(t) { const e = this.resume(),
					i = this.stack[this.stack.length - 1];
				i.label = e, i.identifier = normalizeIdentifier(this.sliceSerialize(t)).toLowerCase() }, definitionTitleString: function() { const t = this.resume();
				this.stack[this.stack.length - 1].title = t }, emphasis: a(), hardBreakEscape: a(d), hardBreakTrailing: a(d), htmlFlow: a((function() { const t = this.resume();
				this.stack[this.stack.length - 1].value = t })), htmlFlowData: c, htmlText: a((function() { const t = this.resume();
				this.stack[this.stack.length - 1].value = t })), htmlTextData: c, image: a((function() { const t = this.stack[this.stack.length - 1]; if (this.data.inReference) { const e = this.data.referenceType || "shortcut";
					t.type += "Reference", t.referenceType = e, delete t.url, delete t.title } else delete t.identifier, delete t.label;
				this.data.referenceType = void 0 })), label: function() { const t = this.stack[this.stack.length - 1],
					e = this.resume(),
					i = this.stack[this.stack.length - 1]; if (this.data.inReference = !0, "link" === i.type) { const e = t.children;
					i.children = e } else i.alt = e }, labelText: function(t) { const e = this.sliceSerialize(t),
					i = this.stack[this.stack.length - 2];
				i.label = decodeString(e), i.identifier = normalizeIdentifier(e).toLowerCase() }, lineEnding: function(t) { const i = this.stack[this.stack.length - 1]; if (this.data.atHardBreak) return i.children[i.children.length - 1].position.end = point$1(t.end), void(this.data.atHardBreak = void 0);!this.data.setextHeadingSlurpLineEnding && e.canContainEols.includes(i.type) && (u.call(this, t), c.call(this, t)) }, link: a((function() { const t = this.stack[this.stack.length - 1]; if (this.data.inReference) { const e = this.data.referenceType || "shortcut";
					t.type += "Reference", t.referenceType = e, delete t.url, delete t.title } else delete t.identifier, delete t.label;
				this.data.referenceType = void 0 })), listItem: a(), listOrdered: a(), listUnordered: a(), paragraph: a(), referenceString: function(t) { const e = this.resume(),
					i = this.stack[this.stack.length - 1];
				i.label = e, i.identifier = normalizeIdentifier(this.sliceSerialize(t)).toLowerCase(), this.data.referenceType = "full" }, resourceDestinationString: function() { const t = this.resume();
				this.stack[this.stack.length - 1].url = t }, resourceTitleString: function() { const t = this.resume();
				this.stack[this.stack.length - 1].title = t }, resource: function() { this.data.inReference = void 0 }, setextHeading: a((function() { this.data.setextHeadingSlurpLineEnding = void 0 })), setextHeadingLineSequence: function(t) { this.stack[this.stack.length - 1].depth = 61 === this.sliceSerialize(t).codePointAt(0) ? 1 : 2 }, setextHeadingText: function() { this.data.setextHeadingSlurpLineEnding = !0 }, strong: a(), thematicBreak: a() } };
	configure(e, (t || {}).mdastExtensions || []); const i = {}; return function(t) { let r = { type: "root", children: [] }; const a = { stack: [r], tokenStack: [], config: e, enter: o, exit: l, buffer: s, resume: h, data: i },
			u = []; let c = -1; for (; ++c < t.length;) "listOrdered" !== t[c][1].type && "listUnordered" !== t[c][1].type || ("enter" === t[c][0] ? u.push(c) : c = n(t, u.pop(), c)); for (c = -1; ++c < t.length;) { const i = e[t[c][0]];
			own$4.call(i, t[c][1].type) && i[t[c][1].type].call(Object.assign({ sliceSerialize: t[c][2].sliceSerialize }, a), t[c][1]) } if (a.tokenStack.length > 0) { const t = a.tokenStack[a.tokenStack.length - 1];
			(t[1] || defaultOnError).call(a, void 0, t[0]) } for (r.position = { start: point$1(t.length > 0 ? t[0][1].start : { line: 1, column: 1, offset: 0 }), end: point$1(t.length > 0 ? t[t.length - 2][1].end : { line: 1, column: 1, offset: 0 }) }, c = -1; ++c < e.transforms.length;) r = e.transforms[c](r) || r; return r };

	function n(t, e, i) { let n, r, s, o, a = e - 1,
			l = -1,
			h = !1; for (; ++a <= i;) { const e = t[a]; switch (e[1].type) {
				case "listUnordered":
				case "listOrdered":
				case "blockQuote":
					"enter" === e[0] ? l++ : l--, o = void 0; break;
				case "lineEndingBlank":
					"enter" === e[0] && (!n || o || l || s || (s = a), o = void 0); break;
				case "linePrefix":
				case "listItemValue":
				case "listItemMarker":
				case "listItemPrefix":
				case "listItemPrefixWhitespace":
					break;
				default:
					o = void 0 } if (!l && "enter" === e[0] && "listItemPrefix" === e[1].type || -1 === l && "exit" === e[0] && ("listUnordered" === e[1].type || "listOrdered" === e[1].type)) { if (n) { let o = a; for (r = void 0; o--;) { const e = t[o]; if ("lineEnding" === e[1].type || "lineEndingBlank" === e[1].type) { if ("exit" === e[0]) continue;
							r && (t[r][1].type = "lineEndingBlank", h = !0), e[1].type = "lineEnding", r = o } else if ("linePrefix" !== e[1].type && "blockQuotePrefix" !== e[1].type && "blockQuotePrefixWhitespace" !== e[1].type && "blockQuoteMarker" !== e[1].type && "listItemIndent" !== e[1].type) break } s && (!r || s < r) && (n._spread = !0), n.end = Object.assign({}, r ? t[r][1].start : e[1].end), t.splice(r || a, 0, ["exit", n, e[2]]), a++, i++ } if ("listItemPrefix" === e[1].type) { const r = { type: "listItem", _spread: !1, start: Object.assign({}, e[1].start), end: void 0 };
					n = r, t.splice(a, 0, ["enter", r, e[2]]), a++, i++, s = void 0, o = !0 } } } return t[e][1]._spread = h, i }

	function r(t, e) { return function(i) { o.call(this, t(i), i), e && e.call(this, i) } }

	function s() { this.stack.push({ type: "fragment", children: [] }) }

	function o(t, e, i) { this.stack[this.stack.length - 1].children.push(t), this.stack.push(t), this.tokenStack.push([e, i || void 0]), t.position = { start: point$1(e.start), end: void 0 } }

	function a(t) { return function(e) { t && t.call(this, e), l.call(this, e) } }

	function l(t, e) { const i = this.stack.pop(),
			n = this.tokenStack.pop(); if (!n) throw new Error("Cannot close `" + t.type + "` (" + stringifyPosition({ start: t.start, end: t.end }) + "): it’s not open");
		n[0].type !== t.type && (e ? e.call(this, t, n[0]) : (n[1] || defaultOnError).call(this, t, n[0])), i.position.end = point$1(t.end) }

	function h() { return toString$2(this.stack.pop()) }

	function u(t) { const e = this.stack[this.stack.length - 1].children; let i = e[e.length - 1];
		i && "text" === i.type || (i = { type: "text", value: "" }, i.position = { start: point$1(t.start), end: void 0 }, e.push(i)), this.stack.push(i) }

	function c(t) { const e = this.stack.pop();
		e.value += this.sliceSerialize(t), e.position.end = point$1(t.end) }

	function d() { this.data.atHardBreak = !0 }

	function f(t) { this.data.characterReferenceType = t.type }

	function p() { return { type: "code", lang: null, meta: null, value: "" } }

	function g() { return { type: "heading", depth: 0, children: [] } }

	function m() { return { type: "break" } }

	function v() { return { type: "html", value: "" } }

	function y() { return { type: "link", title: null, url: "", children: [] } }

	function x(t) { return { type: "list", ordered: "listOrdered" === t.type, start: null, spread: t._spread, children: [] } } }

function point$1(t) { return { line: t.line, column: t.column, offset: t.offset } }

function configure(t, e) { let i = -1; for (; ++i < e.length;) { const n = e[i];
		Array.isArray(n) ? configure(t, n) : extension(t, n) } }

function extension(t, e) { let i; for (i in e)
		if (own$4.call(e, i)) switch (i) {
			case "canContainEols": { const n = e[i];
				n && t[i].push(...n); break }
			case "transforms": { const n = e[i];
				n && t[i].push(...n); break }
			case "enter":
			case "exit": { const n = e[i];
				n && Object.assign(t[i], n); break } } }

function defaultOnError(t, e) { throw t ? new Error("Cannot close `" + t.type + "` (" + stringifyPosition({ start: t.start, end: t.end }) + "): a different token (`" + e.type + "`, " + stringifyPosition({ start: e.start, end: e.end }) + ") is open") : new Error("Cannot close document, a token (`" + e.type + "`, " + stringifyPosition({ start: e.start, end: e.end }) + ") is still open") }

function remarkParse(t) { const e = this;
	e.parser = function(i) { return fromMarkdown(i, { ...e.data("settings"), ...t, extensions: e.data("micromarkExtensions") || [], mdastExtensions: e.data("fromMarkdownExtensions") || [] }) } }

function ccount(t, e) { const i = String(t); if ("string" != typeof e) throw new TypeError("Expected character"); let n = 0,
		r = i.indexOf(e); for (; - 1 !== r;) n++, r = i.indexOf(e, r + e.length); return n }

function escapeStringRegexp(t) { if ("string" != typeof t) throw new TypeError("Expected a string"); return t.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d") }
const convert = function(t) { if (null == t) return ok; if ("function" == typeof t) return castFactory(t); if ("object" == typeof t) return Array.isArray(t) ? anyFactory(t) : propsFactory(t); if ("string" == typeof t) return typeFactory(t); throw new Error("Expected function, string, or object as test") };

function anyFactory(t) { const e = []; let i = -1; for (; ++i < t.length;) e[i] = convert(t[i]); return castFactory((function(...t) { let i = -1; for (; ++i < e.length;)
			if (e[i].apply(this, t)) return !0; return !1 })) }

function propsFactory(t) { const e = t; return castFactory((function(i) { const n = i; let r; for (r in t)
			if (n[r] !== e[r]) return !1; return !0 })) }

function typeFactory(t) { return castFactory((function(e) { return e && e.type === t })) }

function castFactory(t) { return function(e, i, n) { return Boolean(looksLikeANode(e) && t.call(this, e, "number" == typeof i ? i : void 0, n || void 0)) } }

function ok() { return !0 }

function looksLikeANode(t) { return null !== t && "object" == typeof t && "type" in t }

function color(t) { return t }
const empty$1 = [],
	CONTINUE = !0,
	EXIT = !1,
	SKIP = "skip";

function visitParents(t, e, i, n) { let r; "function" == typeof e && "function" != typeof i ? (n = i, i = e) : r = e; const s = convert(r),
		o = n ? -1 : 1;! function t(r, a, l) { const h = r && "object" == typeof r ? r : {}; if ("string" == typeof h.type) { const t = "string" == typeof h.tagName ? h.tagName : "string" == typeof h.name ? h.name : void 0;
			Object.defineProperty(u, "name", { value: "node (" + color(r.type + (t ? "<" + t + ">" : "")) + ")" }) } return u;

		function u() { let h, u, c, d = empty$1; if ((!e || s(r, a, l[l.length - 1] || void 0)) && (d = toResult(i(r, l)), d[0] === EXIT)) return d; if ("children" in r && r.children) { const e = r; if (e.children && d[0] !== SKIP)
					for (u = (n ? e.children.length : -1) + o, c = l.concat(e); u > -1 && u < e.children.length;) { const i = e.children[u]; if (h = t(i, u, c)(), h[0] === EXIT) return h;
						u = "number" == typeof h[1] ? h[1] : u + o } } return d } }(t, void 0, [])() }

function toResult(t) { return Array.isArray(t) ? t : "number" == typeof t ? [CONTINUE, t] : null == t ? empty$1 : [t] }

function findAndReplace(t, e, i) { const n = convert((i || {}).ignore || []),
		r = toPairs(e); let s = -1; for (; ++s < r.length;) visitParents(t, "text", o);

	function o(t, e) { let i, o = -1; for (; ++o < e.length;) { const t = e[o],
				r = i ? i.children : void 0; if (n(t, r ? r.indexOf(t) : void 0, i)) return;
			i = t } if (i) return function(t, e) { const i = e[e.length - 1],
				n = r[s][0],
				o = r[s][1]; let a = 0; const l = i.children.indexOf(t); let h = !1,
				u = [];
			n.lastIndex = 0; let c = n.exec(t.value); for (; c;) { const i = c.index,
					r = { index: c.index, input: c.input, stack: [...e, t] }; let s = o(...c, r); if ("string" == typeof s && (s = s.length > 0 ? { type: "text", value: s } : void 0), !1 === s ? n.lastIndex = i + 1 : (a !== i && u.push({ type: "text", value: t.value.slice(a, i) }), Array.isArray(s) ? u.push(...s) : s && u.push(s), a = i + c[0].length, h = !0), !n.global) break;
				c = n.exec(t.value) } return h ? (a < t.value.length && u.push({ type: "text", value: t.value.slice(a) }), i.children.splice(l, 1, ...u)) : u = [t], l + u.length }(t, e) } }

function toPairs(t) { const e = []; if (!Array.isArray(t)) throw new TypeError("Expected find and replace tuple or list of tuples"); const i = !t[0] || Array.isArray(t[0]) ? t : [t]; let n = -1; for (; ++n < i.length;) { const t = i[n];
		e.push([toExpression(t[0]), toFunction(t[1])]) } return e }

function toExpression(t) { return "string" == typeof t ? new RegExp(escapeStringRegexp(t), "g") : t }

function toFunction(t) { return "function" == typeof t ? t : function() { return t } }
const inConstruct = "phrasing",
	notInConstruct = ["autolink", "link", "image", "label"];

function gfmAutolinkLiteralFromMarkdown() { return { transforms: [transformGfmAutolinkLiterals], enter: { literalAutolink: enterLiteralAutolink, literalAutolinkEmail: enterLiteralAutolinkValue, literalAutolinkHttp: enterLiteralAutolinkValue, literalAutolinkWww: enterLiteralAutolinkValue }, exit: { literalAutolink: exitLiteralAutolink, literalAutolinkEmail: exitLiteralAutolinkEmail, literalAutolinkHttp: exitLiteralAutolinkHttp, literalAutolinkWww: exitLiteralAutolinkWww } } }

function gfmAutolinkLiteralToMarkdown() { return { unsafe: [{ character: "@", before: "[+\\-.\\w]", after: "[\\-.\\w]", inConstruct: inConstruct, notInConstruct: notInConstruct }, { character: ".", before: "[Ww]", after: "[\\-.\\w]", inConstruct: inConstruct, notInConstruct: notInConstruct }, { character: ":", before: "[ps]", after: "\\/", inConstruct: inConstruct, notInConstruct: notInConstruct }] } }

function enterLiteralAutolink(t) { this.enter({ type: "link", title: null, url: "", children: [] }, t) }

function enterLiteralAutolinkValue(t) { this.config.enter.autolinkProtocol.call(this, t) }

function exitLiteralAutolinkHttp(t) { this.config.exit.autolinkProtocol.call(this, t) }

function exitLiteralAutolinkWww(t) { this.config.exit.data.call(this, t); const e = this.stack[this.stack.length - 1];
	ok$1("link" === e.type), e.url = "http://" + this.sliceSerialize(t) }

function exitLiteralAutolinkEmail(t) { this.config.exit.autolinkEmail.call(this, t) }

function exitLiteralAutolink(t) { this.exit(t) }

function transformGfmAutolinkLiterals(t) { findAndReplace(t, [
		[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi, findUrl],
		[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)", "gu"), findEmail]
	], { ignore: ["link", "linkReference"] }) }

function findUrl(t, e, i, n, r) { let s = ""; if (!previous(r)) return !1; if (/^w/i.test(e) && (i = e + i, e = "", s = "http://"), !isCorrectDomain(i)) return !1; const o = splitUrl(i + n); if (!o[0]) return !1; const a = { type: "link", title: null, url: s + e + o[0], children: [{ type: "text", value: e + o[0] }] }; return o[1] ? [a, { type: "text", value: o[1] }] : a }

function findEmail(t, e, i, n) { return !(!previous(n, !0) || /[-\d_]$/.test(i)) && { type: "link", title: null, url: "mailto:" + e + "@" + i, children: [{ type: "text", value: e + "@" + i }] } }

function isCorrectDomain(t) { const e = t.split("."); return !(e.length < 2 || e[e.length - 1] && (/_/.test(e[e.length - 1]) || !/[a-zA-Z\d]/.test(e[e.length - 1])) || e[e.length - 2] && (/_/.test(e[e.length - 2]) || !/[a-zA-Z\d]/.test(e[e.length - 2]))) }

function splitUrl(t) { const e = /[!"&'),.:;<>?\]}]+$/.exec(t); if (!e) return [t, void 0];
	t = t.slice(0, e.index); let i = e[0],
		n = i.indexOf(")"); const r = ccount(t, "("); let s = ccount(t, ")"); for (; - 1 !== n && r > s;) t += i.slice(0, n + 1), i = i.slice(n + 1), n = i.indexOf(")"), s++; return [t, i] }

function previous(t, e) { const i = t.input.charCodeAt(t.index - 1); return (0 === t.index || unicodeWhitespace(i) || unicodePunctuation(i)) && (!e || 47 !== i) }

function enterFootnoteCallString() { this.buffer() }

function enterFootnoteCall(t) { this.enter({ type: "footnoteReference", identifier: "", label: "" }, t) }

function enterFootnoteDefinitionLabelString() { this.buffer() }

function enterFootnoteDefinition(t) { this.enter({ type: "footnoteDefinition", identifier: "", label: "", children: [] }, t) }

function exitFootnoteCallString(t) { const e = this.resume(),
		i = this.stack[this.stack.length - 1];
	ok$1("footnoteReference" === i.type), i.identifier = normalizeIdentifier(this.sliceSerialize(t)).toLowerCase(), i.label = e }

function exitFootnoteCall(t) { this.exit(t) }

function exitFootnoteDefinitionLabelString(t) { const e = this.resume(),
		i = this.stack[this.stack.length - 1];
	ok$1("footnoteDefinition" === i.type), i.identifier = normalizeIdentifier(this.sliceSerialize(t)).toLowerCase(), i.label = e }

function exitFootnoteDefinition(t) { this.exit(t) }

function footnoteReferencePeek() { return "[" }

function footnoteReference$1(t, e, i, n) { const r = i.createTracker(n); let s = r.move("[^"); const o = i.enter("footnoteReference"),
		a = i.enter("reference"); return s += r.move(i.safe(i.associationId(t), { after: "]", before: s })), a(), o(), s += r.move("]"), s }

function gfmFootnoteFromMarkdown() { return { enter: { gfmFootnoteCallString: enterFootnoteCallString, gfmFootnoteCall: enterFootnoteCall, gfmFootnoteDefinitionLabelString: enterFootnoteDefinitionLabelString, gfmFootnoteDefinition: enterFootnoteDefinition }, exit: { gfmFootnoteCallString: exitFootnoteCallString, gfmFootnoteCall: exitFootnoteCall, gfmFootnoteDefinitionLabelString: exitFootnoteDefinitionLabelString, gfmFootnoteDefinition: exitFootnoteDefinition } } }

function gfmFootnoteToMarkdown(t) { let e = !1; return t && t.firstLineBlank && (e = !0), { handlers: { footnoteDefinition: function(t, i, n, r) { const s = n.createTracker(r); let o = s.move("[^"); const a = n.enter("footnoteDefinition"),
					l = n.enter("label"); return o += s.move(n.safe(n.associationId(t), { before: o, after: "]" })), l(), o += s.move("]:"), t.children && t.children.length > 0 && (s.shift(4), o += s.move((e ? "\n" : " ") + n.indentLines(n.containerFlow(t, s.current()), e ? mapAll : mapExceptFirst))), a(), o }, footnoteReference: footnoteReference$1 }, unsafe: [{ character: "[", inConstruct: ["label", "phrasing", "reference"] }] } }

function mapExceptFirst(t, e, i) { return 0 === e ? t : mapAll(t, e, i) }

function mapAll(t, e, i) { return (i ? "" : "    ") + t } footnoteReference$1.peek = footnoteReferencePeek;
const constructsWithoutStrikethrough = ["autolink", "destinationLiteral", "destinationRaw", "reference", "titleQuote", "titleApostrophe"];

function gfmStrikethroughFromMarkdown() { return { canContainEols: ["delete"], enter: { strikethrough: enterStrikethrough }, exit: { strikethrough: exitStrikethrough } } }

function gfmStrikethroughToMarkdown() { return { unsafe: [{ character: "~", inConstruct: "phrasing", notInConstruct: constructsWithoutStrikethrough }], handlers: { delete: handleDelete } } }

function enterStrikethrough(t) { this.enter({ type: "delete", children: [] }, t) }

function exitStrikethrough(t) { this.exit(t) }

function handleDelete(t, e, i, n) { const r = i.createTracker(n),
		s = i.enter("strikethrough"); let o = r.move("~~"); return o += i.containerPhrasing(t, { ...r.current(), before: o, after: "~" }), o += r.move("~~"), s(), o }

function peekDelete() { return "~" }

function defaultStringLength(t) { return t.length }

function markdownTable(t, e) { const i = e || {},
		n = (i.align || []).concat(),
		r = i.stringLength || defaultStringLength,
		s = [],
		o = [],
		a = [],
		l = []; let h = 0,
		u = -1; for (; ++u < t.length;) { const e = [],
			n = []; let s = -1; for (t[u].length > h && (h = t[u].length); ++s < t[u].length;) { const o = serialize$1(t[u][s]); if (!1 !== i.alignDelimiters) { const t = r(o);
				n[s] = t, (void 0 === l[s] || t > l[s]) && (l[s] = t) } e.push(o) } o[u] = e, a[u] = n } let c = -1; if ("object" == typeof n && "length" in n)
		for (; ++c < h;) s[c] = toAlignment(n[c]);
	else { const t = toAlignment(n); for (; ++c < h;) s[c] = t } c = -1; const d = [],
		f = []; for (; ++c < h;) { const t = s[c]; let e = "",
			n = "";
		99 === t ? (e = ":", n = ":") : 108 === t ? e = ":" : 114 === t && (n = ":"); let r = !1 === i.alignDelimiters ? 1 : Math.max(1, l[c] - e.length - n.length); const o = e + "-".repeat(r) + n;!1 !== i.alignDelimiters && (r = e.length + r + n.length, r > l[c] && (l[c] = r), f[c] = r), d[c] = o } o.splice(1, 0, d), a.splice(1, 0, f), u = -1; const p = []; for (; ++u < o.length;) { const t = o[u],
			e = a[u];
		c = -1; const n = []; for (; ++c < h;) { const r = t[c] || ""; let o = "",
				a = ""; if (!1 !== i.alignDelimiters) { const t = l[c] - (e[c] || 0),
					i = s[c];
				114 === i ? o = " ".repeat(t) : 99 === i ? t % 2 ? (o = " ".repeat(t / 2 + .5), a = " ".repeat(t / 2 - .5)) : (o = " ".repeat(t / 2), a = o) : a = " ".repeat(t) }!1 === i.delimiterStart || c || n.push("|"), !1 === i.padding || !1 === i.alignDelimiters && "" === r || !1 === i.delimiterStart && !c || n.push(" "), !1 !== i.alignDelimiters && n.push(o), n.push(r), !1 !== i.alignDelimiters && n.push(a), !1 !== i.padding && n.push(" "), !1 === i.delimiterEnd && c === h - 1 || n.push("|") } p.push(!1 === i.delimiterEnd ? n.join("").replace(/ +$/, "") : n.join("")) } return p.join("\n") }

function serialize$1(t) { return null == t ? "" : String(t) }

function toAlignment(t) { const e = "string" == typeof t ? t.codePointAt(0) : 0; return 67 === e || 99 === e ? 99 : 76 === e || 108 === e ? 108 : 82 === e || 114 === e ? 114 : 0 } handleDelete.peek = peekDelete;
const own$3 = {}.hasOwnProperty;

function zwitch(t, e) { const i = e || {};

	function n(e, ...i) { let r = n.invalid; const s = n.handlers; if (e && own$3.call(e, t)) { const i = String(e[t]);
			r = own$3.call(s, i) ? s[i] : n.unknown } if (r) return r.call(this, e, ...i) } return n.handlers = i.handlers || {}, n.invalid = i.invalid, n.unknown = i.unknown, n }

function blockquote$1(t, e, i, n) { const r = i.enter("blockquote"),
		s = i.createTracker(n);
	s.move("> "), s.shift(2); const o = i.indentLines(i.containerFlow(t, s.current()), map$1); return r(), o }

function map$1(t, e, i) { return ">" + (i ? "" : " ") + t }

function patternInScope(t, e) { return listInScope(t, e.inConstruct, !0) && !listInScope(t, e.notInConstruct, !1) }

function listInScope(t, e, i) { if ("string" == typeof e && (e = [e]), !e || 0 === e.length) return i; let n = -1; for (; ++n < e.length;)
		if (t.includes(e[n])) return !0; return !1 }

function hardBreak$1(t, e, i, n) { let r = -1; for (; ++r < i.unsafe.length;)
		if ("\n" === i.unsafe[r].character && patternInScope(i.stack, i.unsafe[r])) return /[ \t]/.test(n.before) ? "" : " "; return "\\\n" }

function longestStreak(t, e) { const i = String(t); let n = i.indexOf(e),
		r = n,
		s = 0,
		o = 0; if ("string" != typeof e) throw new TypeError("Expected substring"); for (; - 1 !== n;) n === r ? ++s > o && (o = s) : s = 1, r = n + e.length, n = i.indexOf(e, r); return o }

function formatCodeAsIndented(t, e) { return Boolean(!1 === e.options.fences && t.value && !t.lang && /[^ \r\n]/.test(t.value) && !/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value)) }

function checkFence(t) { const e = t.options.fence || "`"; if ("`" !== e && "~" !== e) throw new Error("Cannot serialize code with `" + e + "` for `options.fence`, expected `` ` `` or `~`"); return e }

function code$2(t, e, i, n) { const r = checkFence(i),
		s = t.value || "",
		o = "`" === r ? "GraveAccent" : "Tilde"; if (formatCodeAsIndented(t, i)) { const t = i.enter("codeIndented"),
			e = i.indentLines(s, map); return t(), e } const a = i.createTracker(n),
		l = r.repeat(Math.max(longestStreak(s, r) + 1, 3)),
		h = i.enter("codeFenced"); let u = a.move(l); if (t.lang) { const e = i.enter(`codeFencedLang${o}`);
		u += a.move(i.safe(t.lang, { before: u, after: " ", encode: ["`"], ...a.current() })), e() } if (t.lang && t.meta) { const e = i.enter(`codeFencedMeta${o}`);
		u += a.move(" "), u += a.move(i.safe(t.meta, { before: u, after: "\n", encode: ["`"], ...a.current() })), e() } return u += a.move("\n"), s && (u += a.move(s + "\n")), u += a.move(l), h(), u }

function map(t, e, i) { return (i ? "" : "    ") + t }

function checkQuote(t) { const e = t.options.quote || '"'; if ('"' !== e && "'" !== e) throw new Error("Cannot serialize title with `" + e + "` for `options.quote`, expected `\"`, or `'`"); return e }

function definition(t, e, i, n) { const r = checkQuote(i),
		s = '"' === r ? "Quote" : "Apostrophe",
		o = i.enter("definition"); let a = i.enter("label"); const l = i.createTracker(n); let h = l.move("["); return h += l.move(i.safe(i.associationId(t), { before: h, after: "]", ...l.current() })), h += l.move("]: "), a(), !t.url || /[\0- \u007F]/.test(t.url) ? (a = i.enter("destinationLiteral"), h += l.move("<"), h += l.move(i.safe(t.url, { before: h, after: ">", ...l.current() })), h += l.move(">")) : (a = i.enter("destinationRaw"), h += l.move(i.safe(t.url, { before: h, after: t.title ? " " : "\n", ...l.current() }))), a(), t.title && (a = i.enter(`title${s}`), h += l.move(" " + r), h += l.move(i.safe(t.title, { before: h, after: r, ...l.current() })), h += l.move(r), a()), o(), h }

function checkEmphasis(t) { const e = t.options.emphasis || "*"; if ("*" !== e && "_" !== e) throw new Error("Cannot serialize emphasis with `" + e + "` for `options.emphasis`, expected `*`, or `_`"); return e }

function encodeCharacterReference(t) { return "&#x" + t.toString(16).toUpperCase() + ";" }

function encodeInfo(t, e, i) { const n = classifyCharacter(t),
		r = classifyCharacter(e); return void 0 === n ? void 0 === r ? "_" === i ? { inside: !0, outside: !0 } : { inside: !1, outside: !1 } : 1 === r ? { inside: !0, outside: !0 } : { inside: !1, outside: !0 } : 1 === n ? void 0 === r ? { inside: !1, outside: !1 } : 1 === r ? { inside: !0, outside: !0 } : { inside: !1, outside: !1 } : void 0 === r ? { inside: !1, outside: !1 } : 1 === r ? { inside: !0, outside: !1 } : { inside: !1, outside: !1 } }

function emphasis$1(t, e, i, n) { const r = checkEmphasis(i),
		s = i.enter("emphasis"),
		o = i.createTracker(n),
		a = o.move(r); let l = o.move(i.containerPhrasing(t, { after: r, before: a, ...o.current() })); const h = l.charCodeAt(0),
		u = encodeInfo(n.before.charCodeAt(n.before.length - 1), h, r);
	u.inside && (l = encodeCharacterReference(h) + l.slice(1)); const c = l.charCodeAt(l.length - 1),
		d = encodeInfo(n.after.charCodeAt(0), c, r);
	d.inside && (l = l.slice(0, -1) + encodeCharacterReference(c)); const f = o.move(r); return s(), i.attentionEncodeSurroundingInfo = { after: d.outside, before: u.outside }, a + l + f }

function emphasisPeek(t, e, i) { return i.options.emphasis || "*" }

function visit(t, e, i, n) { let r, s, o; "function" == typeof e && "function" != typeof i ? (s = void 0, o = e, r = i) : (s = e, o = i, r = n), visitParents(t, s, (function(t, e) { const i = e[e.length - 1],
			n = i ? i.children.indexOf(t) : void 0; return o(t, n, i) }), r) }

function formatHeadingAsSetext(t, e) { let i = !1; return visit(t, (function(t) { if ("value" in t && /\r?\n|\r/.test(t.value) || "break" === t.type) return i = !0, EXIT })), Boolean((!t.depth || t.depth < 3) && toString$2(t) && (e.options.setext || i)) }

function heading$1(t, e, i, n) { const r = Math.max(Math.min(6, t.depth || 1), 1),
		s = i.createTracker(n); if (formatHeadingAsSetext(t, i)) { const e = i.enter("headingSetext"),
			n = i.enter("phrasing"),
			o = i.containerPhrasing(t, { ...s.current(), before: "\n", after: "\n" }); return n(), e(), o + "\n" + (1 === r ? "=" : "-").repeat(o.length - (Math.max(o.lastIndexOf("\r"), o.lastIndexOf("\n")) + 1)) } const o = "#".repeat(r),
		a = i.enter("headingAtx"),
		l = i.enter("phrasing");
	s.move(o + " "); let h = i.containerPhrasing(t, { before: "# ", after: "\n", ...s.current() }); return /^[\t ]/.test(h) && (h = encodeCharacterReference(h.charCodeAt(0)) + h.slice(1)), h = h ? o + " " + h : o, i.options.closeAtx && (h += " " + o), l(), a(), h }

function html$5(t) { return t.value || "" }

function htmlPeek() { return "<" }

function image$1(t, e, i, n) { const r = checkQuote(i),
		s = '"' === r ? "Quote" : "Apostrophe",
		o = i.enter("image"); let a = i.enter("label"); const l = i.createTracker(n); let h = l.move("!["); return h += l.move(i.safe(t.alt, { before: h, after: "]", ...l.current() })), h += l.move("]("), a(), !t.url && t.title || /[\0- \u007F]/.test(t.url) ? (a = i.enter("destinationLiteral"), h += l.move("<"), h += l.move(i.safe(t.url, { before: h, after: ">", ...l.current() })), h += l.move(">")) : (a = i.enter("destinationRaw"), h += l.move(i.safe(t.url, { before: h, after: t.title ? " " : ")", ...l.current() }))), a(), t.title && (a = i.enter(`title${s}`), h += l.move(" " + r), h += l.move(i.safe(t.title, { before: h, after: r, ...l.current() })), h += l.move(r), a()), h += l.move(")"), o(), h }

function imagePeek() { return "!" }

function imageReference$1(t, e, i, n) { const r = t.referenceType,
		s = i.enter("imageReference"); let o = i.enter("label"); const a = i.createTracker(n); let l = a.move("!["); const h = i.safe(t.alt, { before: l, after: "]", ...a.current() });
	l += a.move(h + "]["), o(); const u = i.stack;
	i.stack = [], o = i.enter("reference"); const c = i.safe(i.associationId(t), { before: l, after: "]", ...a.current() }); return o(), i.stack = u, s(), "full" !== r && h && h === c ? "shortcut" === r ? l = l.slice(0, -1) : l += a.move("]") : l += a.move(c + "]"), l }

function imageReferencePeek() { return "!" }

function inlineCode$1(t, e, i) { let n = t.value || "",
		r = "`",
		s = -1; for (; new RegExp("(^|[^`])" + r + "([^`]|$)").test(n);) r += "`"; for (/[^ \r\n]/.test(n) && (/^[ \r\n]/.test(n) && /[ \r\n]$/.test(n) || /^`|`$/.test(n)) && (n = " " + n + " "); ++s < i.unsafe.length;) { const t = i.unsafe[s],
			e = i.compilePattern(t); let r; if (t.atBreak)
			for (; r = e.exec(n);) { let t = r.index;
				10 === n.charCodeAt(t) && 13 === n.charCodeAt(t - 1) && t--, n = n.slice(0, t) + " " + n.slice(r.index + 1) } } return r + n + r }

function inlineCodePeek() { return "`" }

function formatLinkAsAutolink(t, e) { const i = toString$2(t); return Boolean(!e.options.resourceLink && t.url && !t.title && t.children && 1 === t.children.length && "text" === t.children[0].type && (i === t.url || "mailto:" + i === t.url) && /^[a-z][a-z+.-]+:/i.test(t.url) && !/[\0- <>\u007F]/.test(t.url)) }

function link$1(t, e, i, n) { const r = checkQuote(i),
		s = '"' === r ? "Quote" : "Apostrophe",
		o = i.createTracker(n); let a, l; if (formatLinkAsAutolink(t, i)) { const e = i.stack;
		i.stack = [], a = i.enter("autolink"); let n = o.move("<"); return n += o.move(i.containerPhrasing(t, { before: n, after: ">", ...o.current() })), n += o.move(">"), a(), i.stack = e, n } a = i.enter("link"), l = i.enter("label"); let h = o.move("["); return h += o.move(i.containerPhrasing(t, { before: h, after: "](", ...o.current() })), h += o.move("]("), l(), !t.url && t.title || /[\0- \u007F]/.test(t.url) ? (l = i.enter("destinationLiteral"), h += o.move("<"), h += o.move(i.safe(t.url, { before: h, after: ">", ...o.current() })), h += o.move(">")) : (l = i.enter("destinationRaw"), h += o.move(i.safe(t.url, { before: h, after: t.title ? " " : ")", ...o.current() }))), l(), t.title && (l = i.enter(`title${s}`), h += o.move(" " + r), h += o.move(i.safe(t.title, { before: h, after: r, ...o.current() })), h += o.move(r), l()), h += o.move(")"), a(), h }

function linkPeek(t, e, i) { return formatLinkAsAutolink(t, i) ? "<" : "[" }

function linkReference$1(t, e, i, n) { const r = t.referenceType,
		s = i.enter("linkReference"); let o = i.enter("label"); const a = i.createTracker(n); let l = a.move("["); const h = i.containerPhrasing(t, { before: l, after: "]", ...a.current() });
	l += a.move(h + "]["), o(); const u = i.stack;
	i.stack = [], o = i.enter("reference"); const c = i.safe(i.associationId(t), { before: l, after: "]", ...a.current() }); return o(), i.stack = u, s(), "full" !== r && h && h === c ? "shortcut" === r ? l = l.slice(0, -1) : l += a.move("]") : l += a.move(c + "]"), l }

function linkReferencePeek() { return "[" }

function checkBullet(t) { const e = t.options.bullet || "*"; if ("*" !== e && "+" !== e && "-" !== e) throw new Error("Cannot serialize items with `" + e + "` for `options.bullet`, expected `*`, `+`, or `-`"); return e }

function checkBulletOther(t) { const e = checkBullet(t),
		i = t.options.bulletOther; if (!i) return "*" === e ? "-" : "*"; if ("*" !== i && "+" !== i && "-" !== i) throw new Error("Cannot serialize items with `" + i + "` for `options.bulletOther`, expected `*`, `+`, or `-`"); if (i === e) throw new Error("Expected `bullet` (`" + e + "`) and `bulletOther` (`" + i + "`) to be different"); return i }

function checkBulletOrdered(t) { const e = t.options.bulletOrdered || "."; if ("." !== e && ")" !== e) throw new Error("Cannot serialize items with `" + e + "` for `options.bulletOrdered`, expected `.` or `)`"); return e }

function checkRule(t) { const e = t.options.rule || "*"; if ("*" !== e && "-" !== e && "_" !== e) throw new Error("Cannot serialize rules with `" + e + "` for `options.rule`, expected `*`, `-`, or `_`"); return e }

function list$1(t, e, i, n) { const r = i.enter("list"),
		s = i.bulletCurrent; let o = t.ordered ? checkBulletOrdered(i) : checkBullet(i); const a = t.ordered ? "." === o ? ")" : "." : checkBulletOther(i); let l = !(!e || !i.bulletLastUsed) && o === i.bulletLastUsed; if (!t.ordered) { const e = t.children ? t.children[0] : void 0; if ("*" !== o && "-" !== o || !e || e.children && e.children[0] || "list" !== i.stack[i.stack.length - 1] || "listItem" !== i.stack[i.stack.length - 2] || "list" !== i.stack[i.stack.length - 3] || "listItem" !== i.stack[i.stack.length - 4] || 0 !== i.indexStack[i.indexStack.length - 1] || 0 !== i.indexStack[i.indexStack.length - 2] || 0 !== i.indexStack[i.indexStack.length - 3] || (l = !0), checkRule(i) === o && e) { let e = -1; for (; ++e < t.children.length;) { const i = t.children[e]; if (i && "listItem" === i.type && i.children && i.children[0] && "thematicBreak" === i.children[0].type) { l = !0; break } } } } l && (o = a), i.bulletCurrent = o; const h = i.containerFlow(t, n); return i.bulletLastUsed = o, i.bulletCurrent = s, r(), h }

function checkListItemIndent(t) { const e = t.options.listItemIndent || "one"; if ("tab" !== e && "one" !== e && "mixed" !== e) throw new Error("Cannot serialize items with `" + e + "` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`"); return e }

function listItem$1(t, e, i, n) { const r = checkListItemIndent(i); let s = i.bulletCurrent || checkBullet(i);
	e && "list" === e.type && e.ordered && (s = ("number" == typeof e.start && e.start > -1 ? e.start : 1) + (!1 === i.options.incrementListMarker ? 0 : e.children.indexOf(t)) + s); let o = s.length + 1;
	("tab" === r || "mixed" === r && (e && "list" === e.type && e.spread || t.spread)) && (o = 4 * Math.ceil(o / 4)); const a = i.createTracker(n);
	a.move(s + " ".repeat(o - s.length)), a.shift(o); const l = i.enter("listItem"),
		h = i.indentLines(i.containerFlow(t, a.current()), (function(t, e, i) { return e ? (i ? "" : " ".repeat(o)) + t : (i ? s : s + " ".repeat(o - s.length)) + t })); return l(), h }

function paragraph$1(t, e, i, n) { const r = i.enter("paragraph"),
		s = i.enter("phrasing"),
		o = i.containerPhrasing(t, n); return s(), r(), o } emphasis$1.peek = emphasisPeek, html$5.peek = htmlPeek, image$1.peek = imagePeek, imageReference$1.peek = imageReferencePeek, inlineCode$1.peek = inlineCodePeek, link$1.peek = linkPeek, linkReference$1.peek = linkReferencePeek;
const phrasing = convert(["break", "delete", "emphasis", "footnote", "footnoteReference", "image", "imageReference", "inlineCode", "inlineMath", "link", "linkReference", "mdxJsxTextElement", "mdxTextExpression", "strong", "text", "textDirective"]);

function root$g(t, e, i, n) { return (t.children.some((function(t) { return phrasing(t) })) ? i.containerPhrasing : i.containerFlow).call(i, t, n) }

function checkStrong(t) { const e = t.options.strong || "*"; if ("*" !== e && "_" !== e) throw new Error("Cannot serialize strong with `" + e + "` for `options.strong`, expected `*`, or `_`"); return e }

function strong$1(t, e, i, n) { const r = checkStrong(i),
		s = i.enter("strong"),
		o = i.createTracker(n),
		a = o.move(r + r); let l = o.move(i.containerPhrasing(t, { after: r, before: a, ...o.current() })); const h = l.charCodeAt(0),
		u = encodeInfo(n.before.charCodeAt(n.before.length - 1), h, r);
	u.inside && (l = encodeCharacterReference(h) + l.slice(1)); const c = l.charCodeAt(l.length - 1),
		d = encodeInfo(n.after.charCodeAt(0), c, r);
	d.inside && (l = l.slice(0, -1) + encodeCharacterReference(c)); const f = o.move(r + r); return s(), i.attentionEncodeSurroundingInfo = { after: d.outside, before: u.outside }, a + l + f }

function strongPeek(t, e, i) { return i.options.strong || "*" }

function text$3(t, e, i, n) { return i.safe(t.value, n) }

function checkRuleRepetition(t) { const e = t.options.ruleRepetition || 3; if (e < 3) throw new Error("Cannot serialize rules with repetition `" + e + "` for `options.ruleRepetition`, expected `3` or more"); return e }

function thematicBreak$1(t, e, i) { const n = (checkRule(i) + (i.options.ruleSpaces ? " " : "")).repeat(checkRuleRepetition(i)); return i.options.ruleSpaces ? n.slice(0, -1) : n } strong$1.peek = strongPeek;
const handle$1 = { blockquote: blockquote$1, break: hardBreak$1, code: code$2, definition: definition, emphasis: emphasis$1, hardBreak: hardBreak$1, heading: heading$1, html: html$5, image: image$1, imageReference: imageReference$1, inlineCode: inlineCode$1, link: link$1, linkReference: linkReference$1, list: list$1, listItem: listItem$1, paragraph: paragraph$1, root: root$g, strong: strong$1, text: text$3, thematicBreak: thematicBreak$1 };

function gfmTableFromMarkdown() { return { enter: { table: enterTable, tableData: enterCell, tableHeader: enterCell, tableRow: enterRow }, exit: { codeText: exitCodeText, table: exitTable, tableData: exit, tableHeader: exit, tableRow: exit } } }

function enterTable(t) { const e = t._align;
	this.enter({ type: "table", align: e.map((function(t) { return "none" === t ? null : t })), children: [] }, t), this.data.inTable = !0 }

function exitTable(t) { this.exit(t), this.data.inTable = void 0 }

function enterRow(t) { this.enter({ type: "tableRow", children: [] }, t) }

function exit(t) { this.exit(t) }

function enterCell(t) { this.enter({ type: "tableCell", children: [] }, t) }

function exitCodeText(t) { let e = this.resume();
	this.data.inTable && (e = e.replace(/\\([\\|])/g, replace)); const i = this.stack[this.stack.length - 1];
	ok$1("inlineCode" === i.type), i.value = e, this.exit(t) }

function replace(t, e) { return "|" === e ? e : t }

function gfmTableToMarkdown(t) { const e = t || {},
		i = e.tableCellPadding,
		n = e.tablePipeAlign,
		r = e.stringLength,
		s = i ? " " : "|"; return { unsafe: [{ character: "\r", inConstruct: "tableCell" }, { character: "\n", inConstruct: "tableCell" }, { atBreak: !0, character: "|", after: "[\t :-]" }, { character: "|", inConstruct: "tableCell" }, { atBreak: !0, character: ":", after: "-" }, { atBreak: !0, character: "-", after: "[:|-]" }], handlers: { inlineCode: function(t, e, i) { let n = handle$1.inlineCode(t, e, i); return i.stack.includes("tableCell") && (n = n.replace(/\|/g, "\\$&")), n }, table: function(t, e, i, n) { return a(function(t, e, i) { const n = t.children; let r = -1; const s = [],
						o = e.enter("table"); for (; ++r < n.length;) s[r] = l(n[r], e, i); return o(), s }(t, i, n), t.align) }, tableCell: o, tableRow: function(t, e, i, n) { const r = a([l(t, i, n)]); return r.slice(0, r.indexOf("\n")) } } };

	function o(t, e, i, n) { const r = i.enter("tableCell"),
			o = i.enter("phrasing"),
			a = i.containerPhrasing(t, { ...n, before: s, after: s }); return o(), r(), a }

	function a(t, e) { return markdownTable(t, { align: e, alignDelimiters: n, padding: i, stringLength: r }) }

	function l(t, e, i) { const n = t.children; let r = -1; const s = [],
			a = e.enter("tableRow"); for (; ++r < n.length;) s[r] = o(n[r], 0, e, i); return a(), s } }

function gfmTaskListItemFromMarkdown() { return { exit: { taskListCheckValueChecked: exitCheck, taskListCheckValueUnchecked: exitCheck, paragraph: exitParagraphWithTaskListItem } } }

function gfmTaskListItemToMarkdown() { return { unsafe: [{ atBreak: !0, character: "-", after: "[:|-]" }], handlers: { listItem: listItemWithTaskListItem } } }

function exitCheck(t) { const e = this.stack[this.stack.length - 2];
	ok$1("listItem" === e.type), e.checked = "taskListCheckValueChecked" === t.type }

function exitParagraphWithTaskListItem(t) { const e = this.stack[this.stack.length - 2]; if (e && "listItem" === e.type && "boolean" == typeof e.checked) { const t = this.stack[this.stack.length - 1];
		ok$1("paragraph" === t.type); const i = t.children[0]; if (i && "text" === i.type) { const n = e.children; let r, s = -1; for (; ++s < n.length;) { const t = n[s]; if ("paragraph" === t.type) { r = t; break } } r === t && (i.value = i.value.slice(1), 0 === i.value.length ? t.children.shift() : t.position && i.position && "number" == typeof i.position.start.offset && (i.position.start.column++, i.position.start.offset++, t.position.start = Object.assign({}, i.position.start))) } } this.exit(t) }

function listItemWithTaskListItem(t, e, i, n) { const r = t.children[0],
		s = "boolean" == typeof t.checked && r && "paragraph" === r.type,
		o = "[" + (t.checked ? "x" : " ") + "] ",
		a = i.createTracker(n);
	s && a.move(o); let l = handle$1.listItem(t, e, i, { ...n, ...a.current() }); return s && (l = l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/, (function(t) { return t + o }))), l }

function gfmFromMarkdown() { return [gfmAutolinkLiteralFromMarkdown(), gfmFootnoteFromMarkdown(), gfmStrikethroughFromMarkdown(), gfmTableFromMarkdown(), gfmTaskListItemFromMarkdown()] }

function gfmToMarkdown(t) { return { extensions: [gfmAutolinkLiteralToMarkdown(), gfmFootnoteToMarkdown(t), gfmStrikethroughToMarkdown(), gfmTableToMarkdown(t), gfmTaskListItemToMarkdown()] } }
const wwwPrefix = { tokenize: tokenizeWwwPrefix, partial: !0 },
	domain = { tokenize: tokenizeDomain, partial: !0 },
	path = { tokenize: tokenizePath, partial: !0 },
	trail = { tokenize: tokenizeTrail, partial: !0 },
	emailDomainDotTrail = { tokenize: tokenizeEmailDomainDotTrail, partial: !0 },
	wwwAutolink = { name: "wwwAutolink", tokenize: tokenizeWwwAutolink, previous: previousWww },
	protocolAutolink = { name: "protocolAutolink", tokenize: tokenizeProtocolAutolink, previous: previousProtocol },
	emailAutolink = { name: "emailAutolink", tokenize: tokenizeEmailAutolink, previous: previousEmail },
	text$2 = {};

function gfmAutolinkLiteral() { return { text: text$2 } }
let code$1 = 48;
for (; code$1 < 123;) text$2[code$1] = emailAutolink, code$1++, 58 === code$1 ? code$1 = 65 : 91 === code$1 && (code$1 = 97);

function tokenizeEmailAutolink(t, e, i) { const n = this; let r, s; return function(e) { return gfmAtext(e) && previousEmail.call(n, n.previous) && !previousUnbalanced(n.events) ? (t.enter("literalAutolink"), t.enter("literalAutolinkEmail"), o(e)) : i(e) };

	function o(e) { return gfmAtext(e) ? (t.consume(e), o) : 64 === e ? (t.consume(e), a) : i(e) }

	function a(e) { return 46 === e ? t.check(emailDomainDotTrail, h, l)(e) : 45 === e || 95 === e || asciiAlphanumeric(e) ? (s = !0, t.consume(e), a) : h(e) }

	function l(e) { return t.consume(e), r = !0, a }

	function h(o) { return s && r && asciiAlpha(n.previous) ? (t.exit("literalAutolinkEmail"), t.exit("literalAutolink"), e(o)) : i(o) } }

function tokenizeWwwAutolink(t, e, i) { const n = this; return function(e) { return 87 !== e && 119 !== e || !previousWww.call(n, n.previous) || previousUnbalanced(n.events) ? i(e) : (t.enter("literalAutolink"), t.enter("literalAutolinkWww"), t.check(wwwPrefix, t.attempt(domain, t.attempt(path, r), i), i)(e)) };

	function r(i) { return t.exit("literalAutolinkWww"), t.exit("literalAutolink"), e(i) } }

function tokenizeProtocolAutolink(t, e, i) { const n = this; let r = "",
		s = !1; return function(e) { return 72 !== e && 104 !== e || !previousProtocol.call(n, n.previous) || previousUnbalanced(n.events) ? i(e) : (t.enter("literalAutolink"), t.enter("literalAutolinkHttp"), r += String.fromCodePoint(e), t.consume(e), o) };

	function o(e) { if (asciiAlpha(e) && r.length < 5) return r += String.fromCodePoint(e), t.consume(e), o; if (58 === e) { const i = r.toLowerCase(); if ("http" === i || "https" === i) return t.consume(e), a } return i(e) }

	function a(e) { return 47 === e ? (t.consume(e), s ? l : (s = !0, a)) : i(e) }

	function l(e) { return null === e || asciiControl(e) || markdownLineEndingOrSpace(e) || unicodeWhitespace(e) || unicodePunctuation(e) ? i(e) : t.attempt(domain, t.attempt(path, h), i)(e) }

	function h(i) { return t.exit("literalAutolinkHttp"), t.exit("literalAutolink"), e(i) } }

function tokenizeWwwPrefix(t, e, i) { let n = 0; return function e(s) { return (87 === s || 119 === s) && n < 3 ? (n++, t.consume(s), e) : 46 === s && 3 === n ? (t.consume(s), r) : i(s) };

	function r(t) { return null === t ? i(t) : e(t) } }

function tokenizeDomain(t, e, i) { let n, r, s; return o;

	function o(e) { return 46 === e || 95 === e ? t.check(trail, l, a)(e) : null === e || markdownLineEndingOrSpace(e) || unicodeWhitespace(e) || 45 !== e && unicodePunctuation(e) ? l(e) : (s = !0, t.consume(e), o) }

	function a(e) { return 95 === e ? n = !0 : (r = n, n = void 0), t.consume(e), o }

	function l(t) { return r || n || !s ? i(t) : e(t) } }

function tokenizePath(t, e) { let i = 0,
		n = 0; return r;

	function r(o) { return 40 === o ? (i++, t.consume(o), r) : 41 === o && n < i ? s(o) : 33 === o || 34 === o || 38 === o || 39 === o || 41 === o || 42 === o || 44 === o || 46 === o || 58 === o || 59 === o || 60 === o || 63 === o || 93 === o || 95 === o || 126 === o ? t.check(trail, e, s)(o) : null === o || markdownLineEndingOrSpace(o) || unicodeWhitespace(o) ? e(o) : (t.consume(o), r) }

	function s(e) { return 41 === e && n++, t.consume(e), r } }

function tokenizeTrail(t, e, i) { return n;

	function n(o) { return 33 === o || 34 === o || 39 === o || 41 === o || 42 === o || 44 === o || 46 === o || 58 === o || 59 === o || 63 === o || 95 === o || 126 === o ? (t.consume(o), n) : 38 === o ? (t.consume(o), s) : 93 === o ? (t.consume(o), r) : 60 === o || null === o || markdownLineEndingOrSpace(o) || unicodeWhitespace(o) ? e(o) : i(o) }

	function r(t) { return null === t || 40 === t || 91 === t || markdownLineEndingOrSpace(t) || unicodeWhitespace(t) ? e(t) : n(t) }

	function s(t) { return asciiAlpha(t) ? o(t) : i(t) }

	function o(e) { return 59 === e ? (t.consume(e), n) : asciiAlpha(e) ? (t.consume(e), o) : i(e) } }

function tokenizeEmailDomainDotTrail(t, e, i) { return function(e) { return t.consume(e), n };

	function n(t) { return asciiAlphanumeric(t) ? i(t) : e(t) } }

function previousWww(t) { return null === t || 40 === t || 42 === t || 95 === t || 91 === t || 93 === t || 126 === t || markdownLineEndingOrSpace(t) }

function previousProtocol(t) { return !asciiAlpha(t) }

function previousEmail(t) { return !(47 === t || gfmAtext(t)) }

function gfmAtext(t) { return 43 === t || 45 === t || 46 === t || 95 === t || asciiAlphanumeric(t) }

function previousUnbalanced(t) { let e = t.length,
		i = !1; for (; e--;) { const n = t[e][1]; if (("labelLink" === n.type || "labelImage" === n.type) && !n._balanced) { i = !0; break } if (n._gfmAutolinkLiteralWalkedInto) { i = !1; break } } return t.length > 0 && !i && (t[t.length - 1][1]._gfmAutolinkLiteralWalkedInto = !0), i } text$2[43] = emailAutolink, text$2[45] = emailAutolink, text$2[46] = emailAutolink, text$2[95] = emailAutolink, text$2[72] = [emailAutolink, protocolAutolink], text$2[104] = [emailAutolink, protocolAutolink], text$2[87] = [emailAutolink, wwwAutolink], text$2[119] = [emailAutolink, wwwAutolink];
const indent = { tokenize: tokenizeIndent, partial: !0 };

function gfmFootnote() { return { document: { 91: { name: "gfmFootnoteDefinition", tokenize: tokenizeDefinitionStart, continuation: { tokenize: tokenizeDefinitionContinuation }, exit: gfmFootnoteDefinitionEnd } }, text: { 91: { name: "gfmFootnoteCall", tokenize: tokenizeGfmFootnoteCall }, 93: { name: "gfmPotentialFootnoteCall", add: "after", tokenize: tokenizePotentialGfmFootnoteCall, resolveTo: resolveToPotentialGfmFootnoteCall } } } }

function tokenizePotentialGfmFootnoteCall(t, e, i) { const n = this; let r = n.events.length; const s = n.parser.gfmFootnotes || (n.parser.gfmFootnotes = []); let o; for (; r--;) { const t = n.events[r][1]; if ("labelImage" === t.type) { o = t; break } if ("gfmFootnoteCall" === t.type || "labelLink" === t.type || "label" === t.type || "image" === t.type || "link" === t.type) break } return function(r) { if (!o || !o._balanced) return i(r); const a = normalizeIdentifier(n.sliceSerialize({ start: o.end, end: n.now() })); return 94 === a.codePointAt(0) && s.includes(a.slice(1)) ? (t.enter("gfmFootnoteCallLabelMarker"), t.consume(r), t.exit("gfmFootnoteCallLabelMarker"), e(r)) : i(r) } }

function resolveToPotentialGfmFootnoteCall(t, e) { let i = t.length; for (; i--;)
		if ("labelImage" === t[i][1].type && "enter" === t[i][0]) { t[i][1]; break } t[i + 1][1].type = "data", t[i + 3][1].type = "gfmFootnoteCallLabelMarker"; const n = { type: "gfmFootnoteCall", start: Object.assign({}, t[i + 3][1].start), end: Object.assign({}, t[t.length - 1][1].end) },
		r = { type: "gfmFootnoteCallMarker", start: Object.assign({}, t[i + 3][1].end), end: Object.assign({}, t[i + 3][1].end) };
	r.end.column++, r.end.offset++, r.end._bufferIndex++; const s = { type: "gfmFootnoteCallString", start: Object.assign({}, r.end), end: Object.assign({}, t[t.length - 1][1].start) },
		o = { type: "chunkString", contentType: "string", start: Object.assign({}, s.start), end: Object.assign({}, s.end) },
		a = [t[i + 1], t[i + 2],
			["enter", n, e], t[i + 3], t[i + 4],
			["enter", r, e],
			["exit", r, e],
			["enter", s, e],
			["enter", o, e],
			["exit", o, e],
			["exit", s, e], t[t.length - 2], t[t.length - 1],
			["exit", n, e]
		]; return t.splice(i, t.length - i + 1, ...a), t }

function tokenizeGfmFootnoteCall(t, e, i) { const n = this,
		r = n.parser.gfmFootnotes || (n.parser.gfmFootnotes = []); let s, o = 0; return function(e) { return t.enter("gfmFootnoteCall"), t.enter("gfmFootnoteCallLabelMarker"), t.consume(e), t.exit("gfmFootnoteCallLabelMarker"), a };

	function a(e) { return 94 !== e ? i(e) : (t.enter("gfmFootnoteCallMarker"), t.consume(e), t.exit("gfmFootnoteCallMarker"), t.enter("gfmFootnoteCallString"), t.enter("chunkString").contentType = "string", l) }

	function l(a) { if (o > 999 || 93 === a && !s || null === a || 91 === a || markdownLineEndingOrSpace(a)) return i(a); if (93 === a) { t.exit("chunkString"); const s = t.exit("gfmFootnoteCallString"); return r.includes(normalizeIdentifier(n.sliceSerialize(s))) ? (t.enter("gfmFootnoteCallLabelMarker"), t.consume(a), t.exit("gfmFootnoteCallLabelMarker"), t.exit("gfmFootnoteCall"), e) : i(a) } return markdownLineEndingOrSpace(a) || (s = !0), o++, t.consume(a), 92 === a ? h : l }

	function h(e) { return 91 === e || 92 === e || 93 === e ? (t.consume(e), o++, l) : l(e) } }

function tokenizeDefinitionStart(t, e, i) { const n = this,
		r = n.parser.gfmFootnotes || (n.parser.gfmFootnotes = []); let s, o, a = 0; return function(e) { return t.enter("gfmFootnoteDefinition")._container = !0, t.enter("gfmFootnoteDefinitionLabel"), t.enter("gfmFootnoteDefinitionLabelMarker"), t.consume(e), t.exit("gfmFootnoteDefinitionLabelMarker"), l };

	function l(e) { return 94 === e ? (t.enter("gfmFootnoteDefinitionMarker"), t.consume(e), t.exit("gfmFootnoteDefinitionMarker"), t.enter("gfmFootnoteDefinitionLabelString"), t.enter("chunkString").contentType = "string", h) : i(e) }

	function h(e) { if (a > 999 || 93 === e && !o || null === e || 91 === e || markdownLineEndingOrSpace(e)) return i(e); if (93 === e) { t.exit("chunkString"); const i = t.exit("gfmFootnoteDefinitionLabelString"); return s = normalizeIdentifier(n.sliceSerialize(i)), t.enter("gfmFootnoteDefinitionLabelMarker"), t.consume(e), t.exit("gfmFootnoteDefinitionLabelMarker"), t.exit("gfmFootnoteDefinitionLabel"), c } return markdownLineEndingOrSpace(e) || (o = !0), a++, t.consume(e), 92 === e ? u : h }

	function u(e) { return 91 === e || 92 === e || 93 === e ? (t.consume(e), a++, h) : h(e) }

	function c(e) { return 58 === e ? (t.enter("definitionMarker"), t.consume(e), t.exit("definitionMarker"), r.includes(s) || r.push(s), factorySpace(t, d, "gfmFootnoteDefinitionWhitespace")) : i(e) }

	function d(t) { return e(t) } }

function tokenizeDefinitionContinuation(t, e, i) { return t.check(blankLine, e, t.attempt(indent, e, i)) }

function gfmFootnoteDefinitionEnd(t) { t.exit("gfmFootnoteDefinition") }

function tokenizeIndent(t, e, i) { const n = this; return factorySpace(t, (function(t) { const r = n.events[n.events.length - 1]; return r && "gfmFootnoteDefinitionIndent" === r[1].type && 4 === r[2].sliceSerialize(r[1], !0).length ? e(t) : i(t) }), "gfmFootnoteDefinitionIndent", 5) }

function gfmStrikethrough(t) { let e = (t || {}).singleTilde; const i = { name: "strikethrough", tokenize: function(t, i, n) { const r = this.previous,
				s = this.events; let o = 0; return function(e) { return 126 === r && "characterEscape" !== s[s.length - 1][1].type ? n(e) : (t.enter("strikethroughSequenceTemporary"), a(e)) };

			function a(s) { const l = classifyCharacter(r); if (126 === s) return o > 1 ? n(s) : (t.consume(s), o++, a); if (o < 2 && !e) return n(s); const h = t.exit("strikethroughSequenceTemporary"),
					u = classifyCharacter(s); return h._open = !u || 2 === u && Boolean(l), h._close = !l || 2 === l && Boolean(u), i(s) } }, resolveAll: function(t, e) { let i = -1; for (; ++i < t.length;)
				if ("enter" === t[i][0] && "strikethroughSequenceTemporary" === t[i][1].type && t[i][1]._close) { let n = i; for (; n--;)
						if ("exit" === t[n][0] && "strikethroughSequenceTemporary" === t[n][1].type && t[n][1]._open && t[i][1].end.offset - t[i][1].start.offset == t[n][1].end.offset - t[n][1].start.offset) { t[i][1].type = "strikethroughSequence", t[n][1].type = "strikethroughSequence"; const r = { type: "strikethrough", start: Object.assign({}, t[n][1].start), end: Object.assign({}, t[i][1].end) },
								s = { type: "strikethroughText", start: Object.assign({}, t[n][1].end), end: Object.assign({}, t[i][1].start) },
								o = [
									["enter", r, e],
									["enter", t[n][1], e],
									["exit", t[n][1], e],
									["enter", s, e]
								],
								a = e.parser.constructs.insideSpan.null;
							a && splice(o, o.length, 0, resolveAll(a, t.slice(n + 1, i), e)), splice(o, o.length, 0, [
								["exit", s, e],
								["enter", t[i][1], e],
								["exit", t[i][1], e],
								["exit", r, e]
							]), splice(t, n - 1, i - n + 3, o), i = n + o.length - 2; break } } for (i = -1; ++i < t.length;) "strikethroughSequenceTemporary" === t[i][1].type && (t[i][1].type = "data"); return t } }; return null == e && (e = !0), { text: { 126: i }, insideSpan: { null: [i] }, attentionMarkers: { null: [126] } } } class EditMap { constructor() { this.map = [] } add(t, e, i) { addImplementation(this, t, e, i) } consume(t) { if (this.map.sort((function(t, e) { return t[0] - e[0] })), 0 === this.map.length) return; let e = this.map.length; const i = []; for (; e > 0;) e -= 1, i.push(t.slice(this.map[e][0] + this.map[e][1]), this.map[e][2]), t.length = this.map[e][0];
		i.push(t.slice()), t.length = 0; let n = i.pop(); for (; n;) { for (const e of n) t.push(e);
			n = i.pop() } this.map.length = 0 } }

function addImplementation(t, e, i, n) { let r = 0; if (0 !== i || 0 !== n.length) { for (; r < t.map.length;) { if (t.map[r][0] === e) return t.map[r][1] += i, void t.map[r][2].push(...n);
			r += 1 } t.map.push([e, i, n]) } }

function gfmTableAlign(t, e) { let i = !1; const n = []; for (; e < t.length;) { const r = t[e]; if (i) { if ("enter" === r[0]) "tableContent" === r[1].type && n.push("tableDelimiterMarker" === t[e + 1][1].type ? "left" : "none");
			else if ("tableContent" === r[1].type) { if ("tableDelimiterMarker" === t[e - 1][1].type) { const t = n.length - 1;
					n[t] = "left" === n[t] ? "center" : "right" } } else if ("tableDelimiterRow" === r[1].type) break } else "enter" === r[0] && "tableDelimiterRow" === r[1].type && (i = !0);
		e += 1 } return n }

function gfmTable() { return { flow: { null: { name: "table", tokenize: tokenizeTable, resolveAll: resolveTable } } } }

function tokenizeTable(t, e, i) { const n = this; let r, s = 0,
		o = 0; return function(t) { let e = n.events.length - 1; for (; e > -1;) { const t = n.events[e][1].type; if ("lineEnding" !== t && "linePrefix" !== t) break;
			e-- } const r = e > -1 ? n.events[e][1].type : null,
			s = "tableHead" === r || "tableRow" === r ? b : a; return s === b && n.parser.lazy[n.now().line] ? i(t) : s(t) };

	function a(e) { return t.enter("tableHead"), t.enter("tableRow"),
			function(t) { return 124 === t || (r = !0, o += 1), l(t) }(e) }

	function l(e) { return null === e ? i(e) : markdownLineEnding(e) ? o > 1 ? (o = 0, n.interrupt = !0, t.exit("tableRow"), t.enter("lineEnding"), t.consume(e), t.exit("lineEnding"), c) : i(e) : markdownSpace(e) ? factorySpace(t, l, "whitespace")(e) : (o += 1, r && (r = !1, s += 1), 124 === e ? (t.enter("tableCellDivider"), t.consume(e), t.exit("tableCellDivider"), r = !0, l) : (t.enter("data"), h(e))) }

	function h(e) { return null === e || 124 === e || markdownLineEndingOrSpace(e) ? (t.exit("data"), l(e)) : (t.consume(e), 92 === e ? u : h) }

	function u(e) { return 92 === e || 124 === e ? (t.consume(e), h) : h(e) }

	function c(e) { return n.interrupt = !1, n.parser.lazy[n.now().line] ? i(e) : (t.enter("tableDelimiterRow"), r = !1, markdownSpace(e) ? factorySpace(t, d, "linePrefix", n.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(e) : d(e)) }

	function d(e) { return 45 === e || 58 === e ? p(e) : 124 === e ? (r = !0, t.enter("tableCellDivider"), t.consume(e), t.exit("tableCellDivider"), f) : x(e) }

	function f(e) { return markdownSpace(e) ? factorySpace(t, p, "whitespace")(e) : p(e) }

	function p(e) { return 58 === e ? (o += 1, r = !0, t.enter("tableDelimiterMarker"), t.consume(e), t.exit("tableDelimiterMarker"), g) : 45 === e ? (o += 1, g(e)) : null === e || markdownLineEnding(e) ? y(e) : x(e) }

	function g(e) { return 45 === e ? (t.enter("tableDelimiterFiller"), m(e)) : x(e) }

	function m(e) { return 45 === e ? (t.consume(e), m) : 58 === e ? (r = !0, t.exit("tableDelimiterFiller"), t.enter("tableDelimiterMarker"), t.consume(e), t.exit("tableDelimiterMarker"), v) : (t.exit("tableDelimiterFiller"), v(e)) }

	function v(e) { return markdownSpace(e) ? factorySpace(t, y, "whitespace")(e) : y(e) }

	function y(i) { return 124 === i ? d(i) : (null === i || markdownLineEnding(i)) && r && s === o ? (t.exit("tableDelimiterRow"), t.exit("tableHead"), e(i)) : x(i) }

	function x(t) { return i(t) }

	function b(e) { return t.enter("tableRow"), w(e) }

	function w(i) { return 124 === i ? (t.enter("tableCellDivider"), t.consume(i), t.exit("tableCellDivider"), w) : null === i || markdownLineEnding(i) ? (t.exit("tableRow"), e(i)) : markdownSpace(i) ? factorySpace(t, w, "whitespace")(i) : (t.enter("data"), T(i)) }

	function T(e) { return null === e || 124 === e || markdownLineEndingOrSpace(e) ? (t.exit("data"), w(e)) : (t.consume(e), 92 === e ? S : T) }

	function S(e) { return 92 === e || 124 === e ? (t.consume(e), T) : T(e) } }

function resolveTable(t, e) { let i, n, r, s = -1,
		o = !0,
		a = 0,
		l = [0, 0, 0, 0],
		h = [0, 0, 0, 0],
		u = !1,
		c = 0; const d = new EditMap; for (; ++s < t.length;) { const f = t[s],
			p = f[1]; "enter" === f[0] ? "tableHead" === p.type ? (u = !1, 0 !== c && (flushTableEnd(d, e, c, i, n), n = void 0, c = 0), i = { type: "table", start: Object.assign({}, p.start), end: Object.assign({}, p.end) }, d.add(s, 0, [
			["enter", i, e]
		])) : "tableRow" === p.type || "tableDelimiterRow" === p.type ? (o = !0, r = void 0, l = [0, 0, 0, 0], h = [0, s + 1, 0, 0], u && (u = !1, n = { type: "tableBody", start: Object.assign({}, p.start), end: Object.assign({}, p.end) }, d.add(s, 0, [
			["enter", n, e]
		])), a = "tableDelimiterRow" === p.type ? 2 : n ? 3 : 1) : !a || "data" !== p.type && "tableDelimiterMarker" !== p.type && "tableDelimiterFiller" !== p.type ? "tableCellDivider" === p.type && (o ? o = !1 : (0 !== l[1] && (h[0] = h[1], r = flushCell(d, e, l, a, void 0, r)), l = h, h = [l[1], s, 0, 0])) : (o = !1, 0 === h[2] && (0 !== l[1] && (h[0] = h[1], r = flushCell(d, e, l, a, void 0, r), l = [0, 0, 0, 0]), h[2] = s)) : "tableHead" === p.type ? (u = !0, c = s) : "tableRow" === p.type || "tableDelimiterRow" === p.type ? (c = s, 0 !== l[1] ? (h[0] = h[1], r = flushCell(d, e, l, a, s, r)) : 0 !== h[1] && (r = flushCell(d, e, h, a, s, r)), a = 0) : !a || "data" !== p.type && "tableDelimiterMarker" !== p.type && "tableDelimiterFiller" !== p.type || (h[3] = s) } for (0 !== c && flushTableEnd(d, e, c, i, n), d.consume(e.events), s = -1; ++s < e.events.length;) { const t = e.events[s]; "enter" === t[0] && "table" === t[1].type && (t[1]._align = gfmTableAlign(e.events, s)) } return t }

function flushCell(t, e, i, n, r, s) { const o = 1 === n ? "tableHeader" : 2 === n ? "tableDelimiter" : "tableData";
	0 !== i[0] && (s.end = Object.assign({}, getPoint(e.events, i[0])), t.add(i[0], 0, [
		["exit", s, e]
	])); const a = getPoint(e.events, i[1]); if (s = { type: o, start: Object.assign({}, a), end: Object.assign({}, a) }, t.add(i[1], 0, [
			["enter", s, e]
		]), 0 !== i[2]) { const r = getPoint(e.events, i[2]),
			s = getPoint(e.events, i[3]),
			o = { type: "tableContent", start: Object.assign({}, r), end: Object.assign({}, s) }; if (t.add(i[2], 0, [
				["enter", o, e]
			]), 2 !== n) { const n = e.events[i[2]],
				r = e.events[i[3]]; if (n[1].end = Object.assign({}, r[1].end), n[1].type = "chunkText", n[1].contentType = "text", i[3] > i[2] + 1) { const e = i[2] + 1,
					n = i[3] - i[2] - 1;
				t.add(e, n, []) } } t.add(i[3] + 1, 0, [
			["exit", o, e]
		]) } return void 0 !== r && (s.end = Object.assign({}, getPoint(e.events, r)), t.add(r, 0, [
		["exit", s, e]
	]), s = void 0), s }

function flushTableEnd(t, e, i, n, r) { const s = [],
		o = getPoint(e.events, i);
	r && (r.end = Object.assign({}, o), s.push(["exit", r, e])), n.end = Object.assign({}, o), s.push(["exit", n, e]), t.add(i + 1, 0, s) }

function getPoint(t, e) { const i = t[e],
		n = "enter" === i[0] ? "start" : "end"; return i[1][n] }
const tasklistCheck = { name: "tasklistCheck", tokenize: tokenizeTasklistCheck };

function gfmTaskListItem() { return { text: { 91: tasklistCheck } } }

function tokenizeTasklistCheck(t, e, i) { const n = this; return function(e) { return null === n.previous && n._gfmTasklistFirstContentOfListItem ? (t.enter("taskListCheck"), t.enter("taskListCheckMarker"), t.consume(e), t.exit("taskListCheckMarker"), r) : i(e) };

	function r(e) { return markdownLineEndingOrSpace(e) ? (t.enter("taskListCheckValueUnchecked"), t.consume(e), t.exit("taskListCheckValueUnchecked"), s) : 88 === e || 120 === e ? (t.enter("taskListCheckValueChecked"), t.consume(e), t.exit("taskListCheckValueChecked"), s) : i(e) }

	function s(e) { return 93 === e ? (t.enter("taskListCheckMarker"), t.consume(e), t.exit("taskListCheckMarker"), t.exit("taskListCheck"), o) : i(e) }

	function o(n) { return markdownLineEnding(n) ? e(n) : markdownSpace(n) ? t.check({ tokenize: spaceThenNonSpace }, e, i)(n) : i(n) } }

function spaceThenNonSpace(t, e, i) { return factorySpace(t, (function(t) { return null === t ? i(t) : e(t) }), "whitespace") }

function gfm(t) { return combineExtensions([gfmAutolinkLiteral(), gfmFootnote(), gfmStrikethrough(t), gfmTable(), gfmTaskListItem()]) }
const emptyOptions$2 = {};

function remarkGfm(t) { const e = t || emptyOptions$2,
		i = this.data(),
		n = i.micromarkExtensions || (i.micromarkExtensions = []),
		r = i.fromMarkdownExtensions || (i.fromMarkdownExtensions = []),
		s = i.toMarkdownExtensions || (i.toMarkdownExtensions = []);
	n.push(gfm(e)), r.push(gfmFromMarkdown()), s.push(gfmToMarkdown(e)) }

function blockquote(t, e) { const i = { type: "element", tagName: "blockquote", properties: {}, children: t.wrap(t.all(e), !0) }; return t.patch(e, i), t.applyData(e, i) }

function hardBreak(t, e) { const i = { type: "element", tagName: "br", properties: {}, children: [] }; return t.patch(e, i), [t.applyData(e, i), { type: "text", value: "\n" }] }

function code(t, e) { const i = e.value ? e.value + "\n" : "",
		n = {};
	e.lang && (n.className = ["language-" + e.lang]); let r = { type: "element", tagName: "code", properties: n, children: [{ type: "text", value: i }] }; return e.meta && (r.data = { meta: e.meta }), t.patch(e, r), r = t.applyData(e, r), r = { type: "element", tagName: "pre", properties: {}, children: [r] }, t.patch(e, r), r }

function strikethrough(t, e) { const i = { type: "element", tagName: "del", properties: {}, children: t.all(e) }; return t.patch(e, i), t.applyData(e, i) }

function emphasis(t, e) { const i = { type: "element", tagName: "em", properties: {}, children: t.all(e) }; return t.patch(e, i), t.applyData(e, i) }

function footnoteReference(t, e) { const i = "string" == typeof t.options.clobberPrefix ? t.options.clobberPrefix : "user-content-",
		n = String(e.identifier).toUpperCase(),
		r = normalizeUri(n.toLowerCase()),
		s = t.footnoteOrder.indexOf(n); let o, a = t.footnoteCounts.get(n);
	void 0 === a ? (a = 0, t.footnoteOrder.push(n), o = t.footnoteOrder.length) : o = s + 1, a += 1, t.footnoteCounts.set(n, a); const l = { type: "element", tagName: "a", properties: { href: "#" + i + "fn-" + r, id: i + "fnref-" + r + (a > 1 ? "-" + a : ""), dataFootnoteRef: !0, ariaDescribedBy: ["footnote-label"] }, children: [{ type: "text", value: String(o) }] };
	t.patch(e, l); const h = { type: "element", tagName: "sup", properties: {}, children: [l] }; return t.patch(e, h), t.applyData(e, h) }

function heading(t, e) { const i = { type: "element", tagName: "h" + e.depth, properties: {}, children: t.all(e) }; return t.patch(e, i), t.applyData(e, i) }

function html$4(t, e) { if (t.options.allowDangerousHtml) { const i = { type: "raw", value: e.value }; return t.patch(e, i), t.applyData(e, i) } }

function revert(t, e) { const i = e.referenceType; let n = "]"; if ("collapsed" === i ? n += "[]" : "full" === i && (n += "[" + (e.label || e.identifier) + "]"), "imageReference" === e.type) return [{ type: "text", value: "![" + e.alt + n }]; const r = t.all(e),
		s = r[0];
	s && "text" === s.type ? s.value = "[" + s.value : r.unshift({ type: "text", value: "[" }); const o = r[r.length - 1]; return o && "text" === o.type ? o.value += n : r.push({ type: "text", value: n }), r }

function imageReference(t, e) { const i = String(e.identifier).toUpperCase(),
		n = t.definitionById.get(i); if (!n) return revert(t, e); const r = { src: normalizeUri(n.url || ""), alt: e.alt };
	null !== n.title && void 0 !== n.title && (r.title = n.title); const s = { type: "element", tagName: "img", properties: r, children: [] }; return t.patch(e, s), t.applyData(e, s) }

function image(t, e) { const i = { src: normalizeUri(e.url) };
	null !== e.alt && void 0 !== e.alt && (i.alt = e.alt), null !== e.title && void 0 !== e.title && (i.title = e.title); const n = { type: "element", tagName: "img", properties: i, children: [] }; return t.patch(e, n), t.applyData(e, n) }

function inlineCode(t, e) { const i = { type: "text", value: e.value.replace(/\r?\n|\r/g, " ") };
	t.patch(e, i); const n = { type: "element", tagName: "code", properties: {}, children: [i] }; return t.patch(e, n), t.applyData(e, n) }

function linkReference(t, e) { const i = String(e.identifier).toUpperCase(),
		n = t.definitionById.get(i); if (!n) return revert(t, e); const r = { href: normalizeUri(n.url || "") };
	null !== n.title && void 0 !== n.title && (r.title = n.title); const s = { type: "element", tagName: "a", properties: r, children: t.all(e) }; return t.patch(e, s), t.applyData(e, s) }

function link(t, e) { const i = { href: normalizeUri(e.url) };
	null !== e.title && void 0 !== e.title && (i.title = e.title); const n = { type: "element", tagName: "a", properties: i, children: t.all(e) }; return t.patch(e, n), t.applyData(e, n) }

function listItem(t, e, i) { const n = t.all(e),
		r = i ? listLoose(i) : listItemLoose(e),
		s = {},
		o = []; if ("boolean" == typeof e.checked) { const t = n[0]; let i;
		t && "element" === t.type && "p" === t.tagName ? i = t : (i = { type: "element", tagName: "p", properties: {}, children: [] }, n.unshift(i)), i.children.length > 0 && i.children.unshift({ type: "text", value: " " }), i.children.unshift({ type: "element", tagName: "input", properties: { type: "checkbox", checked: e.checked, disabled: !0 }, children: [] }), s.className = ["task-list-item"] } let a = -1; for (; ++a < n.length;) { const t = n[a];
		(r || 0 !== a || "element" !== t.type || "p" !== t.tagName) && o.push({ type: "text", value: "\n" }), "element" !== t.type || "p" !== t.tagName || r ? o.push(t) : o.push(...t.children) } const l = n[n.length - 1];
	l && (r || "element" !== l.type || "p" !== l.tagName) && o.push({ type: "text", value: "\n" }); const h = { type: "element", tagName: "li", properties: s, children: o }; return t.patch(e, h), t.applyData(e, h) }

function listLoose(t) { let e = !1; if ("list" === t.type) { e = t.spread || !1; const i = t.children; let n = -1; for (; !e && ++n < i.length;) e = listItemLoose(i[n]) } return e }

function listItemLoose(t) { const e = t.spread; return null == e ? t.children.length > 1 : e }

function list(t, e) { const i = {},
		n = t.all(e); let r = -1; for ("number" == typeof e.start && 1 !== e.start && (i.start = e.start); ++r < n.length;) { const t = n[r]; if ("element" === t.type && "li" === t.tagName && t.properties && Array.isArray(t.properties.className) && t.properties.className.includes("task-list-item")) { i.className = ["contains-task-list"]; break } } const s = { type: "element", tagName: e.ordered ? "ol" : "ul", properties: i, children: t.wrap(n, !0) }; return t.patch(e, s), t.applyData(e, s) }

function paragraph(t, e) { const i = { type: "element", tagName: "p", properties: {}, children: t.all(e) }; return t.patch(e, i), t.applyData(e, i) }

function root$f(t, e) { const i = { type: "root", children: t.wrap(t.all(e)) }; return t.patch(e, i), t.applyData(e, i) }

function strong(t, e) { const i = { type: "element", tagName: "strong", properties: {}, children: t.all(e) }; return t.patch(e, i), t.applyData(e, i) }
const pointEnd = point("end"),
	pointStart = point("start");

function point(t) { return function(e) { const i = e && e.position && e.position[t] || {}; if ("number" == typeof i.line && i.line > 0 && "number" == typeof i.column && i.column > 0) return { line: i.line, column: i.column, offset: "number" == typeof i.offset && i.offset > -1 ? i.offset : void 0 } } }

function position(t) { const e = pointStart(t),
		i = pointEnd(t); if (e && i) return { start: e, end: i } }

function table(t, e) { const i = t.all(e),
		n = i.shift(),
		r = []; if (n) { const i = { type: "element", tagName: "thead", properties: {}, children: t.wrap([n], !0) };
		t.patch(e.children[0], i), r.push(i) } if (i.length > 0) { const n = { type: "element", tagName: "tbody", properties: {}, children: t.wrap(i, !0) },
			s = pointStart(e.children[1]),
			o = pointEnd(e.children[e.children.length - 1]);
		s && o && (n.position = { start: s, end: o }), r.push(n) } const s = { type: "element", tagName: "table", properties: {}, children: t.wrap(r, !0) }; return t.patch(e, s), t.applyData(e, s) }

function tableRow(t, e, i) { const n = i ? i.children : void 0,
		r = 0 === (n ? n.indexOf(e) : 1) ? "th" : "td",
		s = i && "table" === i.type ? i.align : void 0,
		o = s ? s.length : e.children.length; let a = -1; const l = []; for (; ++a < o;) { const i = e.children[a],
			n = {},
			o = s ? s[a] : void 0;
		o && (n.align = o); let h = { type: "element", tagName: r, properties: n, children: [] };
		i && (h.children = t.all(i), t.patch(i, h), h = t.applyData(i, h)), l.push(h) } const h = { type: "element", tagName: "tr", properties: {}, children: t.wrap(l, !0) }; return t.patch(e, h), t.applyData(e, h) }

function tableCell(t, e) { const i = { type: "element", tagName: "td", properties: {}, children: t.all(e) }; return t.patch(e, i), t.applyData(e, i) }
const tab = 9,
	space = 32;

function trimLines(t) { const e = String(t),
		i = /\r?\n|\r/g; let n = i.exec(e),
		r = 0; const s = []; for (; n;) s.push(trimLine(e.slice(r, n.index), r > 0, !0), n[0]), r = n.index + n[0].length, n = i.exec(e); return s.push(trimLine(e.slice(r), r > 0, !1)), s.join("") }

function trimLine(t, e, i) { let n = 0,
		r = t.length; if (e) { let e = t.codePointAt(n); for (; e === tab || e === space;) n++, e = t.codePointAt(n) } if (i) { let e = t.codePointAt(r - 1); for (; e === tab || e === space;) r--, e = t.codePointAt(r - 1) } return r > n ? t.slice(n, r) : "" }

function text$1(t, e) { const i = { type: "text", value: trimLines(String(e.value)) }; return t.patch(e, i), t.applyData(e, i) }

function thematicBreak(t, e) { const i = { type: "element", tagName: "hr", properties: {}, children: [] }; return t.patch(e, i), t.applyData(e, i) }
const handlers = { blockquote: blockquote, break: hardBreak, code: code, delete: strikethrough, emphasis: emphasis, footnoteReference: footnoteReference, heading: heading, html: html$4, imageReference: imageReference, image: image, inlineCode: inlineCode, linkReference: linkReference, link: link, listItem: listItem, list: list, paragraph: paragraph, root: root$f, strong: strong, table: table, tableCell: tableCell, tableRow: tableRow, text: text$1, thematicBreak: thematicBreak, toml: ignore, yaml: ignore, definition: ignore, footnoteDefinition: ignore };

function ignore() {}
const VOID = -1,
	PRIMITIVE = 0,
	ARRAY = 1,
	OBJECT = 2,
	DATE = 3,
	REGEXP = 4,
	MAP = 5,
	SET = 6,
	ERROR = 7,
	BIGINT = 8,
	env = "object" == typeof self ? self : globalThis,
	deserializer = (t, e) => { const i = (e, i) => (t.set(i, e), e),
			n = r => { if (t.has(r)) return t.get(r); const [s, o] = e[r]; switch (s) {
					case PRIMITIVE:
					case VOID:
						return i(o, r);
					case ARRAY: { const t = i([], r); for (const e of o) t.push(n(e)); return t }
					case OBJECT: { const t = i({}, r); for (const [e, i] of o) t[n(e)] = n(i); return t }
					case DATE:
						return i(new Date(o), r);
					case REGEXP: { const { source: t, flags: e } = o; return i(new RegExp(t, e), r) }
					case MAP: { const t = i(new Map, r); for (const [e, i] of o) t.set(n(e), n(i)); return t }
					case SET: { const t = i(new Set, r); for (const e of o) t.add(n(e)); return t }
					case ERROR: { const { name: t, message: e } = o; return i(new env[t](e), r) }
					case BIGINT:
						return i(BigInt(o), r);
					case "BigInt":
						return i(Object(BigInt(o)), r);
					case "ArrayBuffer":
						return i(new Uint8Array(o).buffer, o);
					case "DataView": { const { buffer: t } = new Uint8Array(o); return i(new DataView(t), o) } } return i(new env[s](o), r) }; return n },
	deserialize = t => deserializer(new Map, t)(0),
	EMPTY = "",
	{ toString: toString$1 } = {},
	{ keys: keys } = Object,
	typeOf = t => { const e = typeof t; if ("object" !== e || !t) return [PRIMITIVE, e]; const i = toString$1.call(t).slice(8, -1); switch (i) {
			case "Array":
				return [ARRAY, EMPTY];
			case "Object":
				return [OBJECT, EMPTY];
			case "Date":
				return [DATE, EMPTY];
			case "RegExp":
				return [REGEXP, EMPTY];
			case "Map":
				return [MAP, EMPTY];
			case "Set":
				return [SET, EMPTY];
			case "DataView":
				return [ARRAY, i] } return i.includes("Array") ? [ARRAY, i] : i.includes("Error") ? [ERROR, i] : [OBJECT, i] },
	shouldSkip = ([t, e]) => t === PRIMITIVE && ("function" === e || "symbol" === e),
	serializer = (t, e, i, n) => { const r = (t, e) => { const r = n.push(t) - 1; return i.set(e, r), r },
			s = n => { if (i.has(n)) return i.get(n); let [o, a] = typeOf(n); switch (o) {
					case PRIMITIVE: { let e = n; switch (a) {
							case "bigint":
								o = BIGINT, e = n.toString(); break;
							case "function":
							case "symbol":
								if (t) throw new TypeError("unable to serialize " + a);
								e = null; break;
							case "undefined":
								return r([VOID], n) } return r([o, e], n) }
					case ARRAY: { if (a) { let t = n; return "DataView" === a ? t = new Uint8Array(n.buffer) : "ArrayBuffer" === a && (t = new Uint8Array(n)), r([a, [...t]], n) } const t = [],
							e = r([o, t], n); for (const i of n) t.push(s(i)); return e }
					case OBJECT: { if (a) switch (a) {
							case "BigInt":
								return r([a, n.toString()], n);
							case "Boolean":
							case "Number":
							case "String":
								return r([a, n.valueOf()], n) }
						if (e && "toJSON" in n) return s(n.toJSON()); const i = [],
							l = r([o, i], n); for (const e of keys(n)) !t && shouldSkip(typeOf(n[e])) || i.push([s(e), s(n[e])]); return l }
					case DATE:
						return r([o, n.toISOString()], n);
					case REGEXP: { const { source: t, flags: e } = n; return r([o, { source: t, flags: e }], n) }
					case MAP: { const e = [],
							i = r([o, e], n); for (const [r, o] of n)(t || !shouldSkip(typeOf(r)) && !shouldSkip(typeOf(o))) && e.push([s(r), s(o)]); return i }
					case SET: { const e = [],
							i = r([o, e], n); for (const r of n) !t && shouldSkip(typeOf(r)) || e.push(s(r)); return i } } const { message: l } = n; return r([o, { name: a, message: l }], n) }; return s },
	serialize = (t, { json: e, lossy: i } = {}) => { const n = []; return serializer(!(e || i), !!e, new Map, n)(t), n },
	structuredClone$1 = "function" == typeof structuredClone ? (t, e) => e && ("json" in e || "lossy" in e) ? deserialize(serialize(t, e)) : structuredClone(t) : (t, e) => deserialize(serialize(t, e));

function defaultFootnoteBackContent(t, e) { const i = [{ type: "text", value: "↩" }]; return e > 1 && i.push({ type: "element", tagName: "sup", properties: {}, children: [{ type: "text", value: String(e) }] }), i }

function defaultFootnoteBackLabel(t, e) { return "Back to reference " + (t + 1) + (e > 1 ? "-" + e : "") }

function footer(t) { const e = "string" == typeof t.options.clobberPrefix ? t.options.clobberPrefix : "user-content-",
		i = t.options.footnoteBackContent || defaultFootnoteBackContent,
		n = t.options.footnoteBackLabel || defaultFootnoteBackLabel,
		r = t.options.footnoteLabel || "Footnotes",
		s = t.options.footnoteLabelTagName || "h2",
		o = t.options.footnoteLabelProperties || { className: ["sr-only"] },
		a = []; let l = -1; for (; ++l < t.footnoteOrder.length;) { const r = t.footnoteById.get(t.footnoteOrder[l]); if (!r) continue; const s = t.all(r),
			o = String(r.identifier).toUpperCase(),
			h = normalizeUri(o.toLowerCase()); let u = 0; const c = [],
			d = t.footnoteCounts.get(o); for (; void 0 !== d && ++u <= d;) { c.length > 0 && c.push({ type: "text", value: " " }); let t = "string" == typeof i ? i : i(l, u); "string" == typeof t && (t = { type: "text", value: t }), c.push({ type: "element", tagName: "a", properties: { href: "#" + e + "fnref-" + h + (u > 1 ? "-" + u : ""), dataFootnoteBackref: "", ariaLabel: "string" == typeof n ? n : n(l, u), className: ["data-footnote-backref"] }, children: Array.isArray(t) ? t : [t] }) } const f = s[s.length - 1]; if (f && "element" === f.type && "p" === f.tagName) { const t = f.children[f.children.length - 1];
			t && "text" === t.type ? t.value += " " : f.children.push({ type: "text", value: " " }), f.children.push(...c) } else s.push(...c); const p = { type: "element", tagName: "li", properties: { id: e + "fn-" + h }, children: t.wrap(s, !0) };
		t.patch(r, p), a.push(p) } if (0 !== a.length) return { type: "element", tagName: "section", properties: { dataFootnotes: !0, className: ["footnotes"] }, children: [{ type: "element", tagName: s, properties: { ...structuredClone$1(o), id: "footnote-label" }, children: [{ type: "text", value: r }] }, { type: "text", value: "\n" }, { type: "element", tagName: "ol", properties: {}, children: t.wrap(a, !0) }, { type: "text", value: "\n" }] } }
const own$2 = {}.hasOwnProperty,
	emptyOptions$1 = {};

function createState(t, e) { const i = e || emptyOptions$1,
		n = new Map,
		r = new Map,
		s = new Map,
		o = { ...handlers, ...i.handlers },
		a = { all: function(t) { const e = []; if ("children" in t) { const i = t.children; let n = -1; for (; ++n < i.length;) { const r = a.one(i[n], t); if (r) { if (n && "break" === i[n - 1].type && (Array.isArray(r) || "text" !== r.type || (r.value = trimMarkdownSpaceStart(r.value)), !Array.isArray(r) && "element" === r.type)) { const t = r.children[0];
								t && "text" === t.type && (t.value = trimMarkdownSpaceStart(t.value)) } Array.isArray(r) ? e.push(...r) : e.push(r) } } } return e }, applyData: applyData, definitionById: n, footnoteById: r, footnoteCounts: s, footnoteOrder: [], handlers: o, one: function(t, e) { const i = t.type,
					n = a.handlers[i]; if (own$2.call(a.handlers, i) && n) return n(a, t, e); if (a.options.passThrough && a.options.passThrough.includes(i)) { if ("children" in t) { const { children: e, ...i } = t, n = structuredClone$1(i); return n.children = a.all(t), n } return structuredClone$1(t) } return (a.options.unknownHandler || defaultUnknownHandler)(a, t, e) }, options: i, patch: patch, wrap: wrap }; return visit(t, (function(t) { if ("definition" === t.type || "footnoteDefinition" === t.type) { const e = "definition" === t.type ? n : r,
				i = String(t.identifier).toUpperCase();
			e.has(i) || e.set(i, t) } })), a }

function patch(t, e) { t.position && (e.position = position(t)) }

function applyData(t, e) { let i = e; if (t && t.data) { const e = t.data.hName,
			n = t.data.hChildren,
			r = t.data.hProperties; "string" == typeof e && ("element" === i.type ? i.tagName = e : i = { type: "element", tagName: e, properties: {}, children: "children" in i ? i.children : [i] }), "element" === i.type && r && Object.assign(i.properties, structuredClone$1(r)), "children" in i && i.children && null != n && (i.children = n) } return i }

function defaultUnknownHandler(t, e) { const i = e.data || {},
		n = !("value" in e) || own$2.call(i, "hProperties") || own$2.call(i, "hChildren") ? { type: "element", tagName: "div", properties: {}, children: t.all(e) } : { type: "text", value: e.value }; return t.patch(e, n), t.applyData(e, n) }

function wrap(t, e) { const i = []; let n = -1; for (e && i.push({ type: "text", value: "\n" }); ++n < t.length;) n && i.push({ type: "text", value: "\n" }), i.push(t[n]); return e && t.length > 0 && i.push({ type: "text", value: "\n" }), i }

function trimMarkdownSpaceStart(t) { let e = 0,
		i = t.charCodeAt(e); for (; 9 === i || 32 === i;) e++, i = t.charCodeAt(e); return t.slice(e) }

function toHast(t, e) { const i = createState(t, e),
		n = i.one(t, void 0),
		r = footer(i),
		s = Array.isArray(n) ? { type: "root", children: n } : n || { type: "root", children: [] }; return r && s.children.push({ type: "text", value: "\n" }, r), s }

function remarkRehype(t, e) { return t && "run" in t ? async function(i, n) { const r = toHast(i, { file: n, ...e });
		await t.run(r, n) }: function(i, n) { return toHast(i, { file: n, ...t || e }) } }
const htmlVoidElements = ["area", "base", "basefont", "bgsound", "br", "col", "command", "embed", "frame", "hr", "image", "img", "input", "keygen", "link", "meta", "param", "source", "track", "wbr"];
class Schema { constructor(t, e, i) { this.normal = e, this.property = t, i && (this.space = i) } }

function merge(t, e) { const i = {},
		n = {}; for (const r of t) Object.assign(i, r.property), Object.assign(n, r.normal); return new Schema(i, n, e) }

function normalize(t) { return t.toLowerCase() } Schema.prototype.normal = {}, Schema.prototype.property = {}, Schema.prototype.space = void 0;
class Info { constructor(t, e) { this.attribute = e, this.property = t } } Info.prototype.attribute = "", Info.prototype.booleanish = !1, Info.prototype.boolean = !1, Info.prototype.commaOrSpaceSeparated = !1, Info.prototype.commaSeparated = !1, Info.prototype.defined = !1, Info.prototype.mustUseProperty = !1, Info.prototype.number = !1, Info.prototype.overloadedBoolean = !1, Info.prototype.property = "", Info.prototype.spaceSeparated = !1, Info.prototype.space = void 0;
let powers = 0;
const boolean = increment(),
	booleanish = increment(),
	overloadedBoolean = increment(),
	number = increment(),
	spaceSeparated = increment(),
	commaSeparated = increment(),
	commaOrSpaceSeparated = increment();

function increment() { return 2 ** ++powers }
const types = Object.freeze(Object.defineProperty({ __proto__: null, boolean: boolean, booleanish: booleanish, commaOrSpaceSeparated: commaOrSpaceSeparated, commaSeparated: commaSeparated, number: number, overloadedBoolean: overloadedBoolean, spaceSeparated: spaceSeparated }, Symbol.toStringTag, { value: "Module" })),
	checks = Object.keys(types);
class DefinedInfo extends Info { constructor(t, e, i, n) { let r = -1; if (super(t, e), mark(this, "space", n), "number" == typeof i)
			for (; ++r < checks.length;) { const t = checks[r];
				mark(this, checks[r], (i & types[t]) === types[t]) } } }

function mark(t, e, i) { i && (t[e] = i) }

function create(t) { const e = {},
		i = {}; for (const [n, r] of Object.entries(t.properties)) { const s = new DefinedInfo(n, t.transform(t.attributes || {}, n), r, t.space);
		t.mustUseProperty && t.mustUseProperty.includes(n) && (s.mustUseProperty = !0), e[n] = s, i[normalize(n)] = n, i[normalize(s.attribute)] = n } return new Schema(e, i, t.space) } DefinedInfo.prototype.defined = !0;
const aria = create({ properties: { ariaActiveDescendant: null, ariaAtomic: booleanish, ariaAutoComplete: null, ariaBusy: booleanish, ariaChecked: booleanish, ariaColCount: number, ariaColIndex: number, ariaColSpan: number, ariaControls: spaceSeparated, ariaCurrent: null, ariaDescribedBy: spaceSeparated, ariaDetails: null, ariaDisabled: booleanish, ariaDropEffect: spaceSeparated, ariaErrorMessage: null, ariaExpanded: booleanish, ariaFlowTo: spaceSeparated, ariaGrabbed: booleanish, ariaHasPopup: null, ariaHidden: booleanish, ariaInvalid: null, ariaKeyShortcuts: null, ariaLabel: null, ariaLabelledBy: spaceSeparated, ariaLevel: number, ariaLive: null, ariaModal: booleanish, ariaMultiLine: booleanish, ariaMultiSelectable: booleanish, ariaOrientation: null, ariaOwns: spaceSeparated, ariaPlaceholder: null, ariaPosInSet: number, ariaPressed: booleanish, ariaReadOnly: booleanish, ariaRelevant: null, ariaRequired: booleanish, ariaRoleDescription: spaceSeparated, ariaRowCount: number, ariaRowIndex: number, ariaRowSpan: number, ariaSelected: booleanish, ariaSetSize: number, ariaSort: null, ariaValueMax: number, ariaValueMin: number, ariaValueNow: number, ariaValueText: null, role: null }, transform: (t, e) => "role" === e ? e : "aria-" + e.slice(4).toLowerCase() });

function caseSensitiveTransform(t, e) { return e in t ? t[e] : e }

function caseInsensitiveTransform(t, e) { return caseSensitiveTransform(t, e.toLowerCase()) }
const html$3 = create({ attributes: { acceptcharset: "accept-charset", classname: "class", htmlfor: "for", httpequiv: "http-equiv" }, mustUseProperty: ["checked", "multiple", "muted", "selected"], properties: { abbr: null, accept: commaSeparated, acceptCharset: spaceSeparated, accessKey: spaceSeparated, action: null, allow: null, allowFullScreen: boolean, allowPaymentRequest: boolean, allowUserMedia: boolean, alt: null, as: null, async: boolean, autoCapitalize: null, autoComplete: spaceSeparated, autoFocus: boolean, autoPlay: boolean, blocking: spaceSeparated, capture: null, charSet: null, checked: boolean, cite: null, className: spaceSeparated, cols: number, colSpan: null, content: null, contentEditable: booleanish, controls: boolean, controlsList: spaceSeparated, coords: number | commaSeparated, crossOrigin: null, data: null, dateTime: null, decoding: null, default: boolean, defer: boolean, dir: null, dirName: null, disabled: boolean, download: overloadedBoolean, draggable: booleanish, encType: null, enterKeyHint: null, fetchPriority: null, form: null, formAction: null, formEncType: null, formMethod: null, formNoValidate: boolean, formTarget: null, headers: spaceSeparated, height: number, hidden: overloadedBoolean, high: number, href: null, hrefLang: null, htmlFor: spaceSeparated, httpEquiv: spaceSeparated, id: null, imageSizes: null, imageSrcSet: null, inert: boolean, inputMode: null, integrity: null, is: null, isMap: boolean, itemId: null, itemProp: spaceSeparated, itemRef: spaceSeparated, itemScope: boolean, itemType: spaceSeparated, kind: null, label: null, lang: null, language: null, list: null, loading: null, loop: boolean, low: number, manifest: null, max: null, maxLength: number, media: null, method: null, min: null, minLength: number, multiple: boolean, muted: boolean, name: null, nonce: null, noModule: boolean, noValidate: boolean, onAbort: null, onAfterPrint: null, onAuxClick: null, onBeforeMatch: null, onBeforePrint: null, onBeforeToggle: null, onBeforeUnload: null, onBlur: null, onCancel: null, onCanPlay: null, onCanPlayThrough: null, onChange: null, onClick: null, onClose: null, onContextLost: null, onContextMenu: null, onContextRestored: null, onCopy: null, onCueChange: null, onCut: null, onDblClick: null, onDrag: null, onDragEnd: null, onDragEnter: null, onDragExit: null, onDragLeave: null, onDragOver: null, onDragStart: null, onDrop: null, onDurationChange: null, onEmptied: null, onEnded: null, onError: null, onFocus: null, onFormData: null, onHashChange: null, onInput: null, onInvalid: null, onKeyDown: null, onKeyPress: null, onKeyUp: null, onLanguageChange: null, onLoad: null, onLoadedData: null, onLoadedMetadata: null, onLoadEnd: null, onLoadStart: null, onMessage: null, onMessageError: null, onMouseDown: null, onMouseEnter: null, onMouseLeave: null, onMouseMove: null, onMouseOut: null, onMouseOver: null, onMouseUp: null, onOffline: null, onOnline: null, onPageHide: null, onPageShow: null, onPaste: null, onPause: null, onPlay: null, onPlaying: null, onPopState: null, onProgress: null, onRateChange: null, onRejectionHandled: null, onReset: null, onResize: null, onScroll: null, onScrollEnd: null, onSecurityPolicyViolation: null, onSeeked: null, onSeeking: null, onSelect: null, onSlotChange: null, onStalled: null, onStorage: null, onSubmit: null, onSuspend: null, onTimeUpdate: null, onToggle: null, onUnhandledRejection: null, onUnload: null, onVolumeChange: null, onWaiting: null, onWheel: null, open: boolean, optimum: number, pattern: null, ping: spaceSeparated, placeholder: null, playsInline: boolean, popover: null, popoverTarget: null, popoverTargetAction: null, poster: null, preload: null, readOnly: boolean, referrerPolicy: null, rel: spaceSeparated, required: boolean, reversed: boolean, rows: number, rowSpan: number, sandbox: spaceSeparated, scope: null, scoped: boolean, seamless: boolean, selected: boolean, shadowRootClonable: boolean, shadowRootDelegatesFocus: boolean, shadowRootMode: null, shape: null, size: number, sizes: null, slot: null, span: number, spellCheck: booleanish, src: null, srcDoc: null, srcLang: null, srcSet: null, start: number, step: null, style: null, tabIndex: number, target: null, title: null, translate: null, type: null, typeMustMatch: boolean, useMap: null, value: booleanish, width: number, wrap: null, writingSuggestions: null, align: null, aLink: null, archive: spaceSeparated, axis: null, background: null, bgColor: null, border: number, borderColor: null, bottomMargin: number, cellPadding: null, cellSpacing: null, char: null, charOff: null, classId: null, clear: null, code: null, codeBase: null, codeType: null, color: null, compact: boolean, declare: boolean, event: null, face: null, frame: null, frameBorder: null, hSpace: number, leftMargin: number, link: null, longDesc: null, lowSrc: null, marginHeight: number, marginWidth: number, noResize: boolean, noHref: boolean, noShade: boolean, noWrap: boolean, object: null, profile: null, prompt: null, rev: null, rightMargin: number, rules: null, scheme: null, scrolling: booleanish, standby: null, summary: null, text: null, topMargin: number, valueType: null, version: null, vAlign: null, vLink: null, vSpace: number, allowTransparency: null, autoCorrect: null, autoSave: null, disablePictureInPicture: boolean, disableRemotePlayback: boolean, prefix: null, property: null, results: number, security: null, unselectable: null }, space: "html", transform: caseInsensitiveTransform }),
	svg$1 = create({ attributes: { accentHeight: "accent-height", alignmentBaseline: "alignment-baseline", arabicForm: "arabic-form", baselineShift: "baseline-shift", capHeight: "cap-height", className: "class", clipPath: "clip-path", clipRule: "clip-rule", colorInterpolation: "color-interpolation", colorInterpolationFilters: "color-interpolation-filters", colorProfile: "color-profile", colorRendering: "color-rendering", crossOrigin: "crossorigin", dataType: "datatype", dominantBaseline: "dominant-baseline", enableBackground: "enable-background", fillOpacity: "fill-opacity", fillRule: "fill-rule", floodColor: "flood-color", floodOpacity: "flood-opacity", fontFamily: "font-family", fontSize: "font-size", fontSizeAdjust: "font-size-adjust", fontStretch: "font-stretch", fontStyle: "font-style", fontVariant: "font-variant", fontWeight: "font-weight", glyphName: "glyph-name", glyphOrientationHorizontal: "glyph-orientation-horizontal", glyphOrientationVertical: "glyph-orientation-vertical", hrefLang: "hreflang", horizAdvX: "horiz-adv-x", horizOriginX: "horiz-origin-x", horizOriginY: "horiz-origin-y", imageRendering: "image-rendering", letterSpacing: "letter-spacing", lightingColor: "lighting-color", markerEnd: "marker-end", markerMid: "marker-mid", markerStart: "marker-start", navDown: "nav-down", navDownLeft: "nav-down-left", navDownRight: "nav-down-right", navLeft: "nav-left", navNext: "nav-next", navPrev: "nav-prev", navRight: "nav-right", navUp: "nav-up", navUpLeft: "nav-up-left", navUpRight: "nav-up-right", onAbort: "onabort", onActivate: "onactivate", onAfterPrint: "onafterprint", onBeforePrint: "onbeforeprint", onBegin: "onbegin", onCancel: "oncancel", onCanPlay: "oncanplay", onCanPlayThrough: "oncanplaythrough", onChange: "onchange", onClick: "onclick", onClose: "onclose", onCopy: "oncopy", onCueChange: "oncuechange", onCut: "oncut", onDblClick: "ondblclick", onDrag: "ondrag", onDragEnd: "ondragend", onDragEnter: "ondragenter", onDragExit: "ondragexit", onDragLeave: "ondragleave", onDragOver: "ondragover", onDragStart: "ondragstart", onDrop: "ondrop", onDurationChange: "ondurationchange", onEmptied: "onemptied", onEnd: "onend", onEnded: "onended", onError: "onerror", onFocus: "onfocus", onFocusIn: "onfocusin", onFocusOut: "onfocusout", onHashChange: "onhashchange", onInput: "oninput", onInvalid: "oninvalid", onKeyDown: "onkeydown", onKeyPress: "onkeypress", onKeyUp: "onkeyup", onLoad: "onload", onLoadedData: "onloadeddata", onLoadedMetadata: "onloadedmetadata", onLoadStart: "onloadstart", onMessage: "onmessage", onMouseDown: "onmousedown", onMouseEnter: "onmouseenter", onMouseLeave: "onmouseleave", onMouseMove: "onmousemove", onMouseOut: "onmouseout", onMouseOver: "onmouseover", onMouseUp: "onmouseup", onMouseWheel: "onmousewheel", onOffline: "onoffline", onOnline: "ononline", onPageHide: "onpagehide", onPageShow: "onpageshow", onPaste: "onpaste", onPause: "onpause", onPlay: "onplay", onPlaying: "onplaying", onPopState: "onpopstate", onProgress: "onprogress", onRateChange: "onratechange", onRepeat: "onrepeat", onReset: "onreset", onResize: "onresize", onScroll: "onscroll", onSeeked: "onseeked", onSeeking: "onseeking", onSelect: "onselect", onShow: "onshow", onStalled: "onstalled", onStorage: "onstorage", onSubmit: "onsubmit", onSuspend: "onsuspend", onTimeUpdate: "ontimeupdate", onToggle: "ontoggle", onUnload: "onunload", onVolumeChange: "onvolumechange", onWaiting: "onwaiting", onZoom: "onzoom", overlinePosition: "overline-position", overlineThickness: "overline-thickness", paintOrder: "paint-order", panose1: "panose-1", pointerEvents: "pointer-events", referrerPolicy: "referrerpolicy", renderingIntent: "rendering-intent", shapeRendering: "shape-rendering", stopColor: "stop-color", stopOpacity: "stop-opacity", strikethroughPosition: "strikethrough-position", strikethroughThickness: "strikethrough-thickness", strokeDashArray: "stroke-dasharray", strokeDashOffset: "stroke-dashoffset", strokeLineCap: "stroke-linecap", strokeLineJoin: "stroke-linejoin", strokeMiterLimit: "stroke-miterlimit", strokeOpacity: "stroke-opacity", strokeWidth: "stroke-width", tabIndex: "tabindex", textAnchor: "text-anchor", textDecoration: "text-decoration", textRendering: "text-rendering", transformOrigin: "transform-origin", typeOf: "typeof", underlinePosition: "underline-position", underlineThickness: "underline-thickness", unicodeBidi: "unicode-bidi", unicodeRange: "unicode-range", unitsPerEm: "units-per-em", vAlphabetic: "v-alphabetic", vHanging: "v-hanging", vIdeographic: "v-ideographic", vMathematical: "v-mathematical", vectorEffect: "vector-effect", vertAdvY: "vert-adv-y", vertOriginX: "vert-origin-x", vertOriginY: "vert-origin-y", wordSpacing: "word-spacing", writingMode: "writing-mode", xHeight: "x-height", playbackOrder: "playbackorder", timelineBegin: "timelinebegin" }, properties: { about: commaOrSpaceSeparated, accentHeight: number, accumulate: null, additive: null, alignmentBaseline: null, alphabetic: number, amplitude: number, arabicForm: null, ascent: number, attributeName: null, attributeType: null, azimuth: number, bandwidth: null, baselineShift: null, baseFrequency: null, baseProfile: null, bbox: null, begin: null, bias: number, by: null, calcMode: null, capHeight: number, className: spaceSeparated, clip: null, clipPath: null, clipPathUnits: null, clipRule: null, color: null, colorInterpolation: null, colorInterpolationFilters: null, colorProfile: null, colorRendering: null, content: null, contentScriptType: null, contentStyleType: null, crossOrigin: null, cursor: null, cx: null, cy: null, d: null, dataType: null, defaultAction: null, descent: number, diffuseConstant: number, direction: null, display: null, dur: null, divisor: number, dominantBaseline: null, download: boolean, dx: null, dy: null, edgeMode: null, editable: null, elevation: number, enableBackground: null, end: null, event: null, exponent: number, externalResourcesRequired: null, fill: null, fillOpacity: number, fillRule: null, filter: null, filterRes: null, filterUnits: null, floodColor: null, floodOpacity: null, focusable: null, focusHighlight: null, fontFamily: null, fontSize: null, fontSizeAdjust: null, fontStretch: null, fontStyle: null, fontVariant: null, fontWeight: null, format: null, fr: null, from: null, fx: null, fy: null, g1: commaSeparated, g2: commaSeparated, glyphName: commaSeparated, glyphOrientationHorizontal: null, glyphOrientationVertical: null, glyphRef: null, gradientTransform: null, gradientUnits: null, handler: null, hanging: number, hatchContentUnits: null, hatchUnits: null, height: null, href: null, hrefLang: null, horizAdvX: number, horizOriginX: number, horizOriginY: number, id: null, ideographic: number, imageRendering: null, initialVisibility: null, in: null, in2: null, intercept: number, k: number, k1: number, k2: number, k3: number, k4: number, kernelMatrix: commaOrSpaceSeparated, kernelUnitLength: null, keyPoints: null, keySplines: null, keyTimes: null, kerning: null, lang: null, lengthAdjust: null, letterSpacing: null, lightingColor: null, limitingConeAngle: number, local: null, markerEnd: null, markerMid: null, markerStart: null, markerHeight: null, markerUnits: null, markerWidth: null, mask: null, maskContentUnits: null, maskUnits: null, mathematical: null, max: null, media: null, mediaCharacterEncoding: null, mediaContentEncodings: null, mediaSize: number, mediaTime: null, method: null, min: null, mode: null, name: null, navDown: null, navDownLeft: null, navDownRight: null, navLeft: null, navNext: null, navPrev: null, navRight: null, navUp: null, navUpLeft: null, navUpRight: null, numOctaves: null, observer: null, offset: null, onAbort: null, onActivate: null, onAfterPrint: null, onBeforePrint: null, onBegin: null, onCancel: null, onCanPlay: null, onCanPlayThrough: null, onChange: null, onClick: null, onClose: null, onCopy: null, onCueChange: null, onCut: null, onDblClick: null, onDrag: null, onDragEnd: null, onDragEnter: null, onDragExit: null, onDragLeave: null, onDragOver: null, onDragStart: null, onDrop: null, onDurationChange: null, onEmptied: null, onEnd: null, onEnded: null, onError: null, onFocus: null, onFocusIn: null, onFocusOut: null, onHashChange: null, onInput: null, onInvalid: null, onKeyDown: null, onKeyPress: null, onKeyUp: null, onLoad: null, onLoadedData: null, onLoadedMetadata: null, onLoadStart: null, onMessage: null, onMouseDown: null, onMouseEnter: null, onMouseLeave: null, onMouseMove: null, onMouseOut: null, onMouseOver: null, onMouseUp: null, onMouseWheel: null, onOffline: null, onOnline: null, onPageHide: null, onPageShow: null, onPaste: null, onPause: null, onPlay: null, onPlaying: null, onPopState: null, onProgress: null, onRateChange: null, onRepeat: null, onReset: null, onResize: null, onScroll: null, onSeeked: null, onSeeking: null, onSelect: null, onShow: null, onStalled: null, onStorage: null, onSubmit: null, onSuspend: null, onTimeUpdate: null, onToggle: null, onUnload: null, onVolumeChange: null, onWaiting: null, onZoom: null, opacity: null, operator: null, order: null, orient: null, orientation: null, origin: null, overflow: null, overlay: null, overlinePosition: number, overlineThickness: number, paintOrder: null, panose1: null, path: null, pathLength: number, patternContentUnits: null, patternTransform: null, patternUnits: null, phase: null, ping: spaceSeparated, pitch: null, playbackOrder: null, pointerEvents: null, points: null, pointsAtX: number, pointsAtY: number, pointsAtZ: number, preserveAlpha: null, preserveAspectRatio: null, primitiveUnits: null, propagate: null, property: commaOrSpaceSeparated, r: null, radius: null, referrerPolicy: null, refX: null, refY: null, rel: commaOrSpaceSeparated, rev: commaOrSpaceSeparated, renderingIntent: null, repeatCount: null, repeatDur: null, requiredExtensions: commaOrSpaceSeparated, requiredFeatures: commaOrSpaceSeparated, requiredFonts: commaOrSpaceSeparated, requiredFormats: commaOrSpaceSeparated, resource: null, restart: null, result: null, rotate: null, rx: null, ry: null, scale: null, seed: null, shapeRendering: null, side: null, slope: null, snapshotTime: null, specularConstant: number, specularExponent: number, spreadMethod: null, spacing: null, startOffset: null, stdDeviation: null, stemh: null, stemv: null, stitchTiles: null, stopColor: null, stopOpacity: null, strikethroughPosition: number, strikethroughThickness: number, string: null, stroke: null, strokeDashArray: commaOrSpaceSeparated, strokeDashOffset: null, strokeLineCap: null, strokeLineJoin: null, strokeMiterLimit: number, strokeOpacity: number, strokeWidth: null, style: null, surfaceScale: number, syncBehavior: null, syncBehaviorDefault: null, syncMaster: null, syncTolerance: null, syncToleranceDefault: null, systemLanguage: commaOrSpaceSeparated, tabIndex: number, tableValues: null, target: null, targetX: number, targetY: number, textAnchor: null, textDecoration: null, textRendering: null, textLength: null, timelineBegin: null, title: null, transformBehavior: null, type: null, typeOf: commaOrSpaceSeparated, to: null, transform: null, transformOrigin: null, u1: null, u2: null, underlinePosition: number, underlineThickness: number, unicode: null, unicodeBidi: null, unicodeRange: null, unitsPerEm: number, values: null, vAlphabetic: number, vMathematical: number, vectorEffect: null, vHanging: number, vIdeographic: number, version: null, vertAdvY: number, vertOriginX: number, vertOriginY: number, viewBox: null, viewTarget: null, visibility: null, width: null, widths: null, wordSpacing: null, writingMode: null, x: null, x1: null, x2: null, xChannelSelector: null, xHeight: number, y: null, y1: null, y2: null, yChannelSelector: null, z: null, zoomAndPan: null }, space: "svg", transform: caseSensitiveTransform }),
	xlink = create({ properties: { xLinkActuate: null, xLinkArcRole: null, xLinkHref: null, xLinkRole: null, xLinkShow: null, xLinkTitle: null, xLinkType: null }, space: "xlink", transform: (t, e) => "xlink:" + e.slice(5).toLowerCase() }),
	xmlns = create({ attributes: { xmlnsxlink: "xmlns:xlink" }, properties: { xmlnsXLink: null, xmlns: null }, space: "xmlns", transform: caseInsensitiveTransform }),
	xml = create({ properties: { xmlBase: null, xmlLang: null, xmlSpace: null }, space: "xml", transform: (t, e) => "xml:" + e.slice(3).toLowerCase() }),
	cap = /[A-Z]/g,
	dash = /-[a-z]/g,
	valid = /^data[-\w.:]+$/i;

function find(t, e) { const i = normalize(e); let n = e,
		r = Info; if (i in t.normal) return t.property[t.normal[i]]; if (i.length > 4 && "data" === i.slice(0, 4) && valid.test(e)) { if ("-" === e.charAt(4)) { const t = e.slice(5).replace(dash, camelcase);
			n = "data" + t.charAt(0).toUpperCase() + t.slice(1) } else { const t = e.slice(4); if (!dash.test(t)) { let i = t.replace(cap, kebab); "-" !== i.charAt(0) && (i = "-" + i), e = "data" + i } } r = DefinedInfo } return new r(n, e) }

function kebab(t) { return "-" + t.toLowerCase() }

function camelcase(t) { return t.charAt(1).toUpperCase() }
const html$2 = merge([aria, html$3, xlink, xmlns, xml], "html"),
	svg = merge([aria, svg$1, xlink, xmlns, xml], "svg"),
	defaultSubsetRegex = /["&'<>`]/g,
	surrogatePairsRegex = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
	controlCharactersRegex = /[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,
	regexEscapeRegex = /[|\\{}()[\]^$+*?.]/g,
	subsetToRegexCache = new WeakMap;

function core(t, e) { return t = t.replace(e.subset ? charactersToExpressionCached(e.subset) : defaultSubsetRegex, i), e.subset || e.escapeOnly ? t : t.replace(surrogatePairsRegex, (function(t, i, n) { return e.format(1024 * (t.charCodeAt(0) - 55296) + t.charCodeAt(1) - 56320 + 65536, n.charCodeAt(i + 2), e) })).replace(controlCharactersRegex, i);

	function i(t, i, n) { return e.format(t.charCodeAt(0), n.charCodeAt(i + 1), e) } }

function charactersToExpressionCached(t) { let e = subsetToRegexCache.get(t); return e || (e = charactersToExpression(t), subsetToRegexCache.set(t, e)), e }

function charactersToExpression(t) { const e = []; let i = -1; for (; ++i < t.length;) e.push(t[i].replace(regexEscapeRegex, "\\$&")); return new RegExp("(?:" + e.join("|") + ")", "g") }
const hexadecimalRegex = /[\dA-Fa-f]/;

function toHexadecimal(t, e, i) { const n = "&#x" + t.toString(16).toUpperCase(); return i && e && !hexadecimalRegex.test(String.fromCharCode(e)) ? n : n + ";" }
const decimalRegex = /\d/;

function toDecimal(t, e, i) { const n = "&#" + String(t); return i && e && !decimalRegex.test(String.fromCharCode(e)) ? n : n + ";" }
const characterEntitiesLegacy = ["AElig", "AMP", "Aacute", "Acirc", "Agrave", "Aring", "Atilde", "Auml", "COPY", "Ccedil", "ETH", "Eacute", "Ecirc", "Egrave", "Euml", "GT", "Iacute", "Icirc", "Igrave", "Iuml", "LT", "Ntilde", "Oacute", "Ocirc", "Ograve", "Oslash", "Otilde", "Ouml", "QUOT", "REG", "THORN", "Uacute", "Ucirc", "Ugrave", "Uuml", "Yacute", "aacute", "acirc", "acute", "aelig", "agrave", "amp", "aring", "atilde", "auml", "brvbar", "ccedil", "cedil", "cent", "copy", "curren", "deg", "divide", "eacute", "ecirc", "egrave", "eth", "euml", "frac12", "frac14", "frac34", "gt", "iacute", "icirc", "iexcl", "igrave", "iquest", "iuml", "laquo", "lt", "macr", "micro", "middot", "nbsp", "not", "ntilde", "oacute", "ocirc", "ograve", "ordf", "ordm", "oslash", "otilde", "ouml", "para", "plusmn", "pound", "quot", "raquo", "reg", "sect", "shy", "sup1", "sup2", "sup3", "szlig", "thorn", "times", "uacute", "ucirc", "ugrave", "uml", "uuml", "yacute", "yen", "yuml"],
	characterEntitiesHtml4 = { nbsp: " ", iexcl: "¡", cent: "¢", pound: "£", curren: "¤", yen: "¥", brvbar: "¦", sect: "§", uml: "¨", copy: "©", ordf: "ª", laquo: "«", not: "¬", shy: "­", reg: "®", macr: "¯", deg: "°", plusmn: "±", sup2: "²", sup3: "³", acute: "´", micro: "µ", para: "¶", middot: "·", cedil: "¸", sup1: "¹", ordm: "º", raquo: "»", frac14: "¼", frac12: "½", frac34: "¾", iquest: "¿", Agrave: "À", Aacute: "Á", Acirc: "Â", Atilde: "Ã", Auml: "Ä", Aring: "Å", AElig: "Æ", Ccedil: "Ç", Egrave: "È", Eacute: "É", Ecirc: "Ê", Euml: "Ë", Igrave: "Ì", Iacute: "Í", Icirc: "Î", Iuml: "Ï", ETH: "Ð", Ntilde: "Ñ", Ograve: "Ò", Oacute: "Ó", Ocirc: "Ô", Otilde: "Õ", Ouml: "Ö", times: "×", Oslash: "Ø", Ugrave: "Ù", Uacute: "Ú", Ucirc: "Û", Uuml: "Ü", Yacute: "Ý", THORN: "Þ", szlig: "ß", agrave: "à", aacute: "á", acirc: "â", atilde: "ã", auml: "ä", aring: "å", aelig: "æ", ccedil: "ç", egrave: "è", eacute: "é", ecirc: "ê", euml: "ë", igrave: "ì", iacute: "í", icirc: "î", iuml: "ï", eth: "ð", ntilde: "ñ", ograve: "ò", oacute: "ó", ocirc: "ô", otilde: "õ", ouml: "ö", divide: "÷", oslash: "ø", ugrave: "ù", uacute: "ú", ucirc: "û", uuml: "ü", yacute: "ý", thorn: "þ", yuml: "ÿ", fnof: "ƒ", Alpha: "Α", Beta: "Β", Gamma: "Γ", Delta: "Δ", Epsilon: "Ε", Zeta: "Ζ", Eta: "Η", Theta: "Θ", Iota: "Ι", Kappa: "Κ", Lambda: "Λ", Mu: "Μ", Nu: "Ν", Xi: "Ξ", Omicron: "Ο", Pi: "Π", Rho: "Ρ", Sigma: "Σ", Tau: "Τ", Upsilon: "Υ", Phi: "Φ", Chi: "Χ", Psi: "Ψ", Omega: "Ω", alpha: "α", beta: "β", gamma: "γ", delta: "δ", epsilon: "ε", zeta: "ζ", eta: "η", theta: "θ", iota: "ι", kappa: "κ", lambda: "λ", mu: "μ", nu: "ν", xi: "ξ", omicron: "ο", pi: "π", rho: "ρ", sigmaf: "ς", sigma: "σ", tau: "τ", upsilon: "υ", phi: "φ", chi: "χ", psi: "ψ", omega: "ω", thetasym: "ϑ", upsih: "ϒ", piv: "ϖ", bull: "•", hellip: "…", prime: "′", Prime: "″", oline: "‾", frasl: "⁄", weierp: "℘", image: "ℑ", real: "ℜ", trade: "™", alefsym: "ℵ", larr: "←", uarr: "↑", rarr: "→", darr: "↓", harr: "↔", crarr: "↵", lArr: "⇐", uArr: "⇑", rArr: "⇒", dArr: "⇓", hArr: "⇔", forall: "∀", part: "∂", exist: "∃", empty: "∅", nabla: "∇", isin: "∈", notin: "∉", ni: "∋", prod: "∏", sum: "∑", minus: "−", lowast: "∗", radic: "√", prop: "∝", infin: "∞", ang: "∠", and: "∧", or: "∨", cap: "∩", cup: "∪", int: "∫", there4: "∴", sim: "∼", cong: "≅", asymp: "≈", ne: "≠", equiv: "≡", le: "≤", ge: "≥", sub: "⊂", sup: "⊃", nsub: "⊄", sube: "⊆", supe: "⊇", oplus: "⊕", otimes: "⊗", perp: "⊥", sdot: "⋅", lceil: "⌈", rceil: "⌉", lfloor: "⌊", rfloor: "⌋", lang: "〈", rang: "〉", loz: "◊", spades: "♠", clubs: "♣", hearts: "♥", diams: "♦", quot: '"', amp: "&", lt: "<", gt: ">", OElig: "Œ", oelig: "œ", Scaron: "Š", scaron: "š", Yuml: "Ÿ", circ: "ˆ", tilde: "˜", ensp: " ", emsp: " ", thinsp: " ", zwnj: "‌", zwj: "‍", lrm: "‎", rlm: "‏", ndash: "–", mdash: "—", lsquo: "‘", rsquo: "’", sbquo: "‚", ldquo: "“", rdquo: "”", bdquo: "„", dagger: "†", Dagger: "‡", permil: "‰", lsaquo: "‹", rsaquo: "›", euro: "€" },
	dangerous = ["cent", "copy", "divide", "gt", "lt", "not", "para", "times"],
	own$1 = {}.hasOwnProperty,
	characters = {};
let key;
for (key in characterEntitiesHtml4) own$1.call(characterEntitiesHtml4, key) && (characters[characterEntitiesHtml4[key]] = key);
const notAlphanumericRegex = /[^\dA-Za-z]/;

function toNamed(t, e, i, n) { const r = String.fromCharCode(t); if (own$1.call(characters, r)) { const t = characters[r],
			s = "&" + t; return i && characterEntitiesLegacy.includes(t) && !dangerous.includes(t) && (!n || e && 61 !== e && notAlphanumericRegex.test(String.fromCharCode(e))) ? s : s + ";" } return "" }

function formatSmart(t, e, i) { let n, r = toHexadecimal(t, e, i.omitOptionalSemicolons); if ((i.useNamedReferences || i.useShortestReferences) && (n = toNamed(t, e, i.omitOptionalSemicolons, i.attribute)), (i.useShortestReferences || !n) && i.useShortestReferences) { const n = toDecimal(t, e, i.omitOptionalSemicolons);
		n.length < r.length && (r = n) } return n && (!i.useShortestReferences || n.length < r.length) ? n : r }

function stringifyEntities(t, e) { return core(t, Object.assign({ format: formatSmart }, e)) }
const htmlCommentRegex = /^>|^->|<!--|-->|--!>|<!-$/g,
	bogusCommentEntitySubset = [">"],
	commentEntitySubset = ["<", ">"];

function comment(t, e, i, n) { return n.settings.bogusComments ? "<?" + stringifyEntities(t.value, Object.assign({}, n.settings.characterReferences, { subset: bogusCommentEntitySubset })) + ">" : "\x3c!--" + t.value.replace(htmlCommentRegex, (function(t) { return stringifyEntities(t, Object.assign({}, n.settings.characterReferences, { subset: commentEntitySubset })) })) + "--\x3e" }

function doctype(t, e, i, n) { return "<!" + (n.settings.upperDoctype ? "DOCTYPE" : "doctype") + (n.settings.tightDoctype ? "" : " ") + "html>" }

function stringify$1(t, e) { const i = e || {}; return ("" === t[t.length - 1] ? [...t, ""] : t).join((i.padRight ? " " : "") + "," + (!1 === i.padLeft ? "" : " ")).trim() }

function stringify(t) { return t.join(" ").trim() }
const re = /[ \t\n\f\r]/g;

function whitespace(t) { return "object" == typeof t ? "text" === t.type && empty(t.value) : empty(t) }

function empty(t) { return "" === t.replace(re, "") }
const siblingAfter = siblings(1),
	siblingBefore = siblings(-1),
	emptyChildren$1 = [];

function siblings(t) { return function(e, i, n) { const r = e ? e.children : emptyChildren$1; let s = (i || 0) + t,
			o = r[s]; if (!n)
			for (; o && whitespace(o);) s += t, o = r[s]; return o } }
const own = {}.hasOwnProperty;

function omission(t) { return function(e, i, n) { return own.call(t, e.tagName) && t[e.tagName](e, i, n) } }
const closing = omission({ body: body$1, caption: headOrColgroupOrCaption, colgroup: headOrColgroupOrCaption, dd: dd, dt: dt, head: headOrColgroupOrCaption, html: html$1, li: li, optgroup: optgroup, option: option, p: p, rp: rubyElement, rt: rubyElement, tbody: tbody$1, td: cells, tfoot: tfoot, th: cells, thead: thead, tr: tr });

function headOrColgroupOrCaption(t, e, i) { const n = siblingAfter(i, e, !0); return !n || "comment" !== n.type && !("text" === n.type && whitespace(n.value.charAt(0))) }

function html$1(t, e, i) { const n = siblingAfter(i, e); return !n || "comment" !== n.type }

function body$1(t, e, i) { const n = siblingAfter(i, e); return !n || "comment" !== n.type }

function p(t, e, i) { const n = siblingAfter(i, e); return n ? "element" === n.type && ("address" === n.tagName || "article" === n.tagName || "aside" === n.tagName || "blockquote" === n.tagName || "details" === n.tagName || "div" === n.tagName || "dl" === n.tagName || "fieldset" === n.tagName || "figcaption" === n.tagName || "figure" === n.tagName || "footer" === n.tagName || "form" === n.tagName || "h1" === n.tagName || "h2" === n.tagName || "h3" === n.tagName || "h4" === n.tagName || "h5" === n.tagName || "h6" === n.tagName || "header" === n.tagName || "hgroup" === n.tagName || "hr" === n.tagName || "main" === n.tagName || "menu" === n.tagName || "nav" === n.tagName || "ol" === n.tagName || "p" === n.tagName || "pre" === n.tagName || "section" === n.tagName || "table" === n.tagName || "ul" === n.tagName) : !i || !("element" === i.type && ("a" === i.tagName || "audio" === i.tagName || "del" === i.tagName || "ins" === i.tagName || "map" === i.tagName || "noscript" === i.tagName || "video" === i.tagName)) }

function li(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && "li" === n.tagName }

function dt(t, e, i) { const n = siblingAfter(i, e); return Boolean(n && "element" === n.type && ("dt" === n.tagName || "dd" === n.tagName)) }

function dd(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && ("dt" === n.tagName || "dd" === n.tagName) }

function rubyElement(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && ("rp" === n.tagName || "rt" === n.tagName) }

function optgroup(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && "optgroup" === n.tagName }

function option(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && ("option" === n.tagName || "optgroup" === n.tagName) }

function thead(t, e, i) { const n = siblingAfter(i, e); return Boolean(n && "element" === n.type && ("tbody" === n.tagName || "tfoot" === n.tagName)) }

function tbody$1(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && ("tbody" === n.tagName || "tfoot" === n.tagName) }

function tfoot(t, e, i) { return !siblingAfter(i, e) }

function tr(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && "tr" === n.tagName }

function cells(t, e, i) { const n = siblingAfter(i, e); return !n || "element" === n.type && ("td" === n.tagName || "th" === n.tagName) }
const opening = omission({ body: body, colgroup: colgroup, head: head, html: html, tbody: tbody });

function html(t) { const e = siblingAfter(t, -1); return !e || "comment" !== e.type }

function head(t) { const e = new Set; for (const n of t.children)
		if ("element" === n.type && ("base" === n.tagName || "title" === n.tagName)) { if (e.has(n.tagName)) return !1;
			e.add(n.tagName) } const i = t.children[0]; return !i || "element" === i.type }

function body(t) { const e = siblingAfter(t, -1, !0); return !(e && ("comment" === e.type || "text" === e.type && whitespace(e.value.charAt(0)) || "element" === e.type && ("meta" === e.tagName || "link" === e.tagName || "script" === e.tagName || "style" === e.tagName || "template" === e.tagName))) }

function colgroup(t, e, i) { const n = siblingBefore(i, e),
		r = siblingAfter(t, -1, !0); return !(i && n && "element" === n.type && "colgroup" === n.tagName && closing(n, i.children.indexOf(n), i)) && Boolean(r && "element" === r.type && "col" === r.tagName) }

function tbody(t, e, i) { const n = siblingBefore(i, e),
		r = siblingAfter(t, -1); return (!i || !n || "element" !== n.type || "thead" !== n.tagName && "tbody" !== n.tagName || !closing(n, i.children.indexOf(n), i)) && Boolean(r && "element" === r.type && "tr" === r.tagName) }
const constants = { name: [
		["\t\n\f\r &/=>".split(""), "\t\n\f\r \"&'/=>`".split("")],
		["\0\t\n\f\r \"&'/<=>".split(""), "\0\t\n\f\r \"&'/<=>`".split("")]
	], unquoted: [
		["\t\n\f\r &>".split(""), "\0\t\n\f\r \"&'<=>`".split("")],
		["\0\t\n\f\r \"&'<=>`".split(""), "\0\t\n\f\r \"&'<=>`".split("")]
	], single: [
		["&'".split(""), "\"&'`".split("")],
		["\0&'".split(""), "\0\"&'`".split("")]
	], double: [
		['"&'.split(""), "\"&'`".split("")],
		['\0"&'.split(""), "\0\"&'`".split("")]
	] };

function element(t, e, i, n) { const r = n.schema,
		s = "svg" !== r.space && n.settings.omitOptionalTags; let o = "svg" === r.space ? n.settings.closeEmptyElements : n.settings.voids.includes(t.tagName.toLowerCase()); const a = []; let l; "html" === r.space && "svg" === t.tagName && (n.schema = svg); const h = serializeAttributes(n, t.properties),
		u = n.all("html" === r.space && "template" === t.tagName ? t.content : t); return n.schema = r, u && (o = !1), !h && s && opening(t, e, i) || (a.push("<", t.tagName, h ? " " + h : ""), o && ("svg" === r.space || n.settings.closeSelfClosing) && (l = h.charAt(h.length - 1), (!n.settings.tightSelfClosing || "/" === l || l && '"' !== l && "'" !== l) && a.push(" "), a.push("/")), a.push(">")), a.push(u), o || s && closing(t, e, i) || a.push("</" + t.tagName + ">"), a.join("") }

function serializeAttributes(t, e) { const i = []; let n, r = -1; if (e)
		for (n in e)
			if (null !== e[n] && void 0 !== e[n]) { const r = serializeAttribute(t, n, e[n]);
				r && i.push(r) } for (; ++r < i.length;) { const e = t.settings.tightAttributes ? i[r].charAt(i[r].length - 1) : void 0;
		r !== i.length - 1 && '"' !== e && "'" !== e && (i[r] += " ") } return i.join("") }

function serializeAttribute(t, e, i) { const n = find(t.schema, e),
		r = t.settings.allowParseErrors && "html" === t.schema.space ? 0 : 1,
		s = t.settings.allowDangerousCharacters ? 0 : 1; let o, a = t.quote; if (!n.overloadedBoolean || i !== n.attribute && "" !== i ? !n.boolean && !n.overloadedBoolean || "string" == typeof i && i !== n.attribute && "" !== i || (i = Boolean(i)) : i = !0, null == i || !1 === i || "number" == typeof i && Number.isNaN(i)) return ""; const l = stringifyEntities(n.attribute, Object.assign({}, t.settings.characterReferences, { subset: constants.name[r][s] })); return !0 === i ? l : (i = Array.isArray(i) ? (n.commaSeparated ? stringify$1 : stringify)(i, { padLeft: !t.settings.tightCommaSeparatedLists }) : String(i), t.settings.collapseEmptyAttributes && !i ? l : (t.settings.preferUnquoted && (o = stringifyEntities(i, Object.assign({}, t.settings.characterReferences, { attribute: !0, subset: constants.unquoted[r][s] }))), o !== i && (t.settings.quoteSmart && ccount(i, a) > ccount(i, t.alternative) && (a = t.alternative), o = a + stringifyEntities(i, Object.assign({}, t.settings.characterReferences, { subset: ("'" === a ? constants.single : constants.double)[r][s], attribute: !0 })) + a), l + (o ? "=" + o : o))) }
const textEntitySubset = ["<", "&"];

function text(t, e, i, n) { return !i || "element" !== i.type || "script" !== i.tagName && "style" !== i.tagName ? stringifyEntities(t.value, Object.assign({}, n.settings.characterReferences, { subset: textEntitySubset })) : t.value }

function raw(t, e, i, n) { return n.settings.allowDangerousHtml ? t.value : text(t, e, i, n) }

function root$e(t, e, i, n) { return n.all(t) }
const handle = zwitch("type", { invalid: invalid, unknown: unknown, handlers: { comment: comment, doctype: doctype, element: element, raw: raw, root: root$e, text: text } });

function invalid(t) { throw new Error("Expected node, not `" + t + "`") }

function unknown(t) { throw new Error("Cannot compile unknown node `" + t.type + "`") }
const emptyOptions = {},
	emptyCharacterReferences = {},
	emptyChildren = [];

function toHtml(t, e) { const i = e || emptyOptions,
		n = i.quote || '"',
		r = '"' === n ? "'" : '"'; if ('"' !== n && "'" !== n) throw new Error("Invalid quote `" + n + "`, expected `'` or `\"`"); return { one: one, all: all, settings: { omitOptionalTags: i.omitOptionalTags || !1, allowParseErrors: i.allowParseErrors || !1, allowDangerousCharacters: i.allowDangerousCharacters || !1, quoteSmart: i.quoteSmart || !1, preferUnquoted: i.preferUnquoted || !1, tightAttributes: i.tightAttributes || !1, upperDoctype: i.upperDoctype || !1, tightDoctype: i.tightDoctype || !1, bogusComments: i.bogusComments || !1, tightCommaSeparatedLists: i.tightCommaSeparatedLists || !1, tightSelfClosing: i.tightSelfClosing || !1, collapseEmptyAttributes: i.collapseEmptyAttributes || !1, allowDangerousHtml: i.allowDangerousHtml || !1, voids: i.voids || htmlVoidElements, characterReferences: i.characterReferences || emptyCharacterReferences, closeSelfClosing: i.closeSelfClosing || !1, closeEmptyElements: i.closeEmptyElements || !1 }, schema: "svg" === i.space ? svg : html$2, quote: n, alternative: r }.one(Array.isArray(t) ? { type: "root", children: t } : t, void 0, void 0) }

function one(t, e, i) { return handle(t, e, i, this) }

function all(t) { const e = [],
		i = t && t.children || emptyChildren; let n = -1; for (; ++n < i.length;) e[n] = this.one(i[n], n, t); return e.join("") }

function rehypeStringify(t) { const e = { ...this.data("settings"), ...t };
	this.compiler = function(t) { return toHtml(t, e) } }
const defaultHistoryOptions = { minInterval: 300, maxSize: 1e6 };
class TextAreaHistory { constructor(t) { __publicField(this, "states", []), __publicField(this, "currentIndex", -1), __publicField(this, "options"), __publicField(this, "getSize", (() => this.states.reduce(((t, e) => t + 2 * e.value.length), 0))), this.options = mergeDefaultInterface(t, defaultHistoryOptions) } undo() { if (-this.currentIndex > this.states.length) return; const t = this.states.at(this.currentIndex - 1); return t ? (this.currentIndex--, t) : void 0 } redo() { if (this.currentIndex >= -1) return; const t = this.states.at(this.currentIndex + 1); return t ? (this.currentIndex++, t) : void 0 } saveState(t, e) { const i = this.states.at(-1); if ((null == i ? void 0 : i.value) === t) return;
		this.currentIndex < -1 && (this.states = this.states.slice(0, this.currentIndex + 1)), this.currentIndex = -1, i && Date.now() - i.timestamp.getTime() <= (this.options.minInterval ?? 300) && this.states.pop(); let n = this.getSize(); for (this.states.push({ timestamp: new Date, cursor: e, value: t }), n += 2 * t.length; n > (this.options.maxSize ?? 1e6);) { const t = this.states.shift(); if (!t) break;
			n -= 2 * t.value.length } } } class InputEnhancer { constructor(t, e, i) { __publicField(this, "textarea"), __publicField(this, "container"), __publicField(this, "settings"), __publicField(this, "pressedKeys"), __publicField(this, "escapePressed", !1), __publicField(this, "onKeyDownValue"), __publicField(this, "history"), __publicField(this, "events", new EventTarget), __publicField(this, "update", (() => this.events.dispatchEvent(new Event("update")))), this.textarea = t, this.container = e, this.settings = i, this.pressedKeys = new Set, t.addEventListener("keydown", this.handleKeyDown.bind(this)), t.addEventListener("keyup", this.handleKeyUp.bind(this)), t.addEventListener("focus", (() => { this.pressedKeys.clear(), this.escapePressed = !1 })), t.addEventListener("blur", (() => { this.pressedKeys.clear() })), t.addEventListener("mousedown", this.handleMouseDown.bind(this)), this.history = new TextAreaHistory(i.historyOpts), this.history.saveState(this.textarea.value, this.textarea.selectionStart); for (const n of i.listeners) t.addEventListener(...n) } isWordCharacter(t) { return new RegExp(/^[a-zA-Z0-9_\-']*$/).test(t) } handleMouseDown(t) { const e = this.getSelection().start,
			i = this.textarea.value.at(e);
		2 == t.detail && "\n" != i && " " != i && requestAnimationFrame((() => { const t = this.isWordCharacter(this.textarea.value[e]); let i = e,
				n = e; for (; i >= 0 && this.isWordCharacter(this.textarea.value[i]) == t && " " != this.textarea.value[i];) i--; for (; n < this.textarea.value.length && this.isWordCharacter(this.textarea.value[n]) == t && " " != this.textarea.value[n];) n++;
			this.textarea.setSelectionRange(i + 1, n) })) } handleKeyDown(t) { const e = t.key.toLowerCase();
		this.pressedKeys.add(e); const i = this.settings.shortcuts.filter((t => areEqualSets(this.pressedKeys, t.combination))); if (i.length > 0) { t.preventDefault(), i.length > 1 && console.warn(`[carta] Multiple keyboard shortcuts have the same the combination: ${this.pressedKeys}`); for (const t of i) t.action(this), t.preventSave || this.history.saveState(this.textarea.value, this.textarea.selectionStart), this.update();
			this.onKeyDownValue = void 0 } else { if ("enter" === e) this.handleNewLine(t);
			else if ("tab" != e || this.escapePressed || this.settings.disableTabCapture) "escape" === e && (this.escapePressed = !0);
			else { t.preventDefault(); let e = null; const i = this.settings.tabOuts.map((t => t.delimiter)).flat(); for (const t of i)
					if (this.textarea.value.slice(this.textarea.selectionEnd, this.textarea.selectionEnd + t.length) === t) { e = t; break } if (e) { const t = this.textarea.selectionEnd + e.length;
					this.textarea.setSelectionRange(t, t) } else { if (t.shiftKey) { const t = this.getLine(),
							e = t.start,
							i = t.value,
							n = this.textarea.selectionStart;
						i.startsWith("\t") && (this.removeAt(e, 1), this.textarea.selectionStart = n - 1, this.textarea.selectionEnd = n - 1) } else { const t = this.textarea.selectionStart;
						this.insertAt(this.textarea.selectionStart, "\t"), this.textarea.selectionStart = t + 1, this.textarea.selectionEnd = t + 1 } this.update() } } this.onKeyDownValue = this.textarea.value } } handleKeyUp(t) { const e = t.key.toLowerCase();
		this.pressedKeys.delete(e), void 0 !== this.onKeyDownValue && this.textarea.value != this.onKeyDownValue && this.history.saveState(this.textarea.value, this.textarea.selectionStart) } handleNewLine(t) { const e = this.textarea.selectionStart; let i; for (i = e; i > 0 && "\n" !== this.textarea.value.at(i - 1); i--); const n = this.textarea.value.slice(i, e); for (const r of this.settings.prefixes) { const s = r.match(n); if (s) { t.preventDefault(); const o = Array.isArray(s) ? s[0] : s; if ("" === n.slice(o.length).trim()) { const t = this.getLine(i); return this.removeAt(i, t.value.length), this.textarea.setSelectionRange(t.start, t.start), void this.update() } const a = r.maker(s, n);
				this.insertAt(e, "\n" + a), this.update(); const l = e + a.length + 1;
				this.textarea.setSelectionRange(l, l); break } } } getSelection() { const t = this.textarea.selectionStart,
			e = this.textarea.selectionEnd; return { start: t, end: e, direction: this.textarea.selectionDirection, slice: this.textarea.value.slice(t, e) } } getLine(t = this.textarea.selectionStart) { let e, i; for (e = t; e > 0 && "\n" !== this.textarea.value.at(e - 1); e--); for (i = t; i < this.textarea.value.length - 1 && "\n" !== this.textarea.value.at(i); i++); return { start: e, end: i, value: this.textarea.value.slice(e, i) } } insertAt(t, e) { const i = this.textarea.value;
		this.textarea.value = i.slice(0, t) + e + i.slice(t) } removeAt(t, e = 1) { const i = this.textarea.value;
		this.textarea.value = i.slice(0, t) + i.slice(t + e) } toggleSelectionSurrounding(t) { const e = this.getSelection(),
			i = Array.isArray(t) ? t[0] : t,
			n = Array.isArray(t) ? t[1] : t,
			r = this.textarea.value.slice(e.start - i.length, e.start),
			s = this.textarea.value.slice(e.end, e.end + n.length);
		r === i && s === n ? (this.removeAt(e.end, n.length), this.removeAt(e.start - i.length, i.length), this.textarea.setSelectionRange(e.start - n.length, e.end - n.length)) : (this.insertAt(e.end, n), this.insertAt(e.start, i), this.textarea.setSelectionRange(e.start + i.length, e.end + i.length)) } toggleLinePrefix(t, e = "attach") { const i = this.getSelection(); let n = i.start; for (; n > 0 && "\n" !== this.textarea.value.at(n - 1);) n--; let r = !0; const s = i.start; let o = i.end; for (; r;) { for (this.textarea.value.slice(n, n + t.length) === t ? "attach" === e && " " === this.textarea.value.at(n + t.length) ? (this.removeAt(n, t.length + 1), o -= t.length + 1) : (this.removeAt(n, t.length), o -= t.length) : "attach" === e ? (this.insertAt(n, t + " "), o += t.length + 1) : (this.insertAt(n, t), o += t.length); n < this.textarea.value.length && "\n" !== this.textarea.value.at(n);) n++; "\n" == this.textarea.value.at(n) && n++, r = n < o } this.textarea.setSelectionRange(s, o) } getCursorXY(t = this.textarea.selectionStart) { const { offsetLeft: e, offsetTop: i } = this.textarea, n = document.createElement("div"), r = getComputedStyle(this.textarea); for (const u of r) n.style[u] = r[u]; const s = "INPUT" === this.textarea.tagName ? this.textarea.value.replace(/ /g, ".") : this.textarea.value,
			o = s.substr(0, t);
		n.textContent = o, "TEXTAREA" === this.textarea.tagName && (n.style.height = "auto"), "INPUT" === this.textarea.tagName && (n.style.width = "auto"); const a = document.createElement("span");
		a.className += "carta-font-code", a.textContent = s.substr(t) || ".", n.appendChild(a), document.body.appendChild(n); const { offsetLeft: l, offsetTop: h } = a; return document.body.removeChild(n), { x: e + l, y: i + h, left: e + l, top: i + h, right: this.textarea.clientWidth - e, bottom: this.textarea.clientHeight - i } } moveElemToCaret(t) { const e = t.clientWidth,
			i = t.clientHeight,
			n = this.getCursorXY(),
			r = this.getRowHeight(); let s, o = n.left;
		e < this.container.clientWidth && o + e - this.container.scrollLeft >= this.container.clientWidth && (s = this.container.clientWidth - o, o = void 0); let a, l = n.top;
		i < this.container.clientHeight && l + i - this.container.scrollTop >= this.container.clientHeight && (a = this.container.clientHeight - l, l = void 0), t.style.left = void 0 !== o ? o + "px" : "unset", t.style.right = void 0 !== s ? s + "px" : "unset", t.style.top = void 0 !== l ? l + r + "px" : "unset", t.style.bottom = void 0 !== a ? a + "px" : "unset" } $bindToCaret(t, e) { var i;
		e.portal.appendChild(t); const n = Array.from((null == (i = e.editorElement) ? void 0 : i.classList) ?? []).find((t => t.startsWith("carta-theme__")));
		t.classList.add(n ?? "carta-theme__default"), t.style.position = "fixed"; const r = () => { const e = this.getCursorXY(),
				i = { x: e.x + this.textarea.getBoundingClientRect().left, y: e.y + this.textarea.getBoundingClientRect().top },
				n = this.getRowHeight(),
				r = t.clientWidth,
				s = t.clientHeight; let o, a = i.x;
			a + r >= window.innerWidth && (o = window.innerWidth - a, a = void 0); let l, h = i.y;
			h + s >= window.innerHeight && (l = window.innerHeight - h, h = void 0), t.style.left = void 0 !== a ? a + "px" : "unset", t.style.right = void 0 !== o ? o + "px" : "unset", t.style.top = void 0 !== h ? h + n + "px" : "unset", t.style.bottom = void 0 !== l ? l + "px" : "unset" }; return this.textarea.addEventListener("input", r), window.addEventListener("resize", r), window.addEventListener("scroll", r), r(), { destroy: () => { try { e.portal.removeChild(t) } catch {} this.textarea.removeEventListener("input", r), window.removeEventListener("resize", r), window.removeEventListener("scroll", r) } } } getRowHeight() { const t = getComputedStyle(this.container).lineHeight,
			e = parseFloat(t),
			i = parseFloat(getComputedStyle(this.container).fontSize); return isNaN(e) ? Math.ceil(1.2 * i) : t.endsWith("em") ? Math.ceil(e * i) : t.endsWith("%") ? Math.ceil(e / 100 * i) : t.endsWith("px") ? Math.ceil(e) : Math.ceil(i * e) } }
const defaultKeyboardShortcuts = [{ id: "bold", combination: new Set(["control", "b"]), action: t => t.toggleSelectionSurrounding("**") }, { id: "italic", combination: new Set(["control", "i"]), action: t => t.toggleSelectionSurrounding("*") }, { id: "quote", combination: new Set(["control", "shift", ","]), action: t => t.toggleLinePrefix(">") }, { id: "link", combination: new Set(["control", "k"]), action: t => { t.toggleSelectionSurrounding(["[", "]"]); const e = t.getSelection().end + 1;
		t.insertAt(e, "(url)"), t.textarea.setSelectionRange(e + 1, e + 4) } }, { id: "strikethrough", combination: new Set(["control", "shift", "x"]), action: t => t.toggleSelectionSurrounding("~~") }, { id: "code", combination: new Set(["control", "e"]), action: t => t.toggleSelectionSurrounding("`") }, { id: "undo", combination: new Set(["control", "z"]), preventSave: !0, action: t => { const e = t.history.undo();
		e && (t.textarea.value = e.value, t.textarea.selectionStart = e.cursor, t.textarea.selectionEnd = e.cursor) } }, { id: "redo", combination: new Set(["control", "y"]), preventSave: !0, action: t => { const e = t.history.redo();
		e && (t.textarea.value = e.value, t.textarea.selectionStart = e.cursor, t.textarea.selectionEnd = e.cursor) } }];
var root$d = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M4.5 2.75a.75.75 0 0 0-1.5 0v10.5a.75.75 0 0 0 1.5 0v-4.5h7v4.5a.75.75 0 0 0 1.5 0V2.75a.75.75 0 0 0-1.5 0v4.5h-7v-4.5Z" clip-rule="evenodd"></path></svg>');

function HeadingIcon(t) { var e = root$d();
	append(t, e) }
var root$c = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M6.5 2a.75.75 0 0 0 0 1.5h1.93l-2.412 9H4A.75.75 0 0 0 4 14h5.5a.75.75 0 0 0 0-1.5H7.57l2.412-9H12A.75.75 0 0 0 12 2H6.5Z" clip-rule="evenodd"></path></svg>');

function ItalicIcon(t) { var e = root$c();
	append(t, e) }
var root$b = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M4 2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h5.5a3.5 3.5 0 0 0 1.852-6.47A3.5 3.5 0 0 0 8.5 2H4Zm4.5 5a1.5 1.5 0 1 0 0-3H5v3h3.5ZM5 9v3h4.5a1.5 1.5 0 0 0 0-3H5Z" clip-rule="evenodd"></path></svg>');

function BoldIcon(t) { var e = root$b();
	append(t, e) }
var root$a = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M1.5 3.75a.75.75 0 0 0-1.5 0v8.5a.75.75 0 0 0 1.5 0v-8.5ZM4.75 3a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5Zm0 4.25a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm-.75 5a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>');

function QuoteIcon(t) { var e = root$a();
	append(t, e) }
var root$9 = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M9.929 3.132a2.078 2.078 0 1 1 2.94 2.94l-.65.648a.75.75 0 0 0 1.061 1.06l.649-.648a3.579 3.579 0 0 0-5.06-5.06L6.218 4.72a3.578 3.578 0 0 0 0 5.06a.75.75 0 0 0 1.061-1.06a2.078 2.078 0 0 1 0-2.94L9.93 3.132Zm-.15 3.086a.75.75 0 0 0-1.057 1.064c.816.81.818 2.13.004 2.942l-2.654 2.647a2.08 2.08 0 0 1-2.94-2.944l.647-.647a.75.75 0 0 0-1.06-1.06l-.648.647a3.58 3.58 0 0 0 5.06 5.066l2.654-2.647a3.575 3.575 0 0 0-.007-5.068Z" clip-rule="evenodd"></path></svg>');

function LinkIcon(t) { var e = root$9();
	append(t, e) }
var root$8 = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M1 4.75a1 1 0 1 0 0-2a1 1 0 0 0 0 2ZM4.75 3a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm0 4.25a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm-.75 5a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75a.75.75 0 0 1-.75-.75ZM2 8a1 1 0 1 1-2 0a1 1 0 0 1 2 0Zm-1 5.25a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>');

function ListBulletedIcon(t) { var e = root$8();
	append(t, e) }
var root$7 = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M0 2h2v4H1V3H0V2Zm1.637 9.008H0v-1h1.637a1.382 1.382 0 0 1 .803 2.506L1.76 13H3v1H0v-.972L1.859 11.7a.382.382 0 0 0-.222-.693ZM4.75 3a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm0 4.25a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H4.75Zm-.75 5a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>');

function ListNumberedIcon(t) { var e = root$7();
	append(t, e) }
var root$6 = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M4.78 3.28a.75.75 0 0 0-1.06-1.06L1.75 4.19l-.47-.47A.75.75 0 0 0 .22 4.78l1 1a.75.75 0 0 0 1.06 0l2.5-2.5ZM6 3.75A.75.75 0 0 1 6.75 3h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 6 3.75ZM6 8a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 6 8Zm.75 3.5a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Zm-1.97-1.28a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 0 1-1.06 0l-1-1a.75.75 0 1 1 1.06-1.06l.47.47l1.97-1.97a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg>');

function ListTaskIcon(t) { var e = root$6();
	append(t, e) }
var root$5 = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M9.424 2.023a.75.75 0 0 1 .556.904L7.48 13.42a.75.75 0 0 1-1.46-.348L8.52 2.58a.75.75 0 0 1 .904-.556ZM11.16 4.22a.75.75 0 0 1 1.06 0l3.25 3.25L16 8l-.53.53l-3.25 3.25a.75.75 0 1 1-1.06-1.06L13.88 8l-2.72-2.72a.75.75 0 0 1 0-1.06ZM4.84 5.28a.75.75 0 1 0-1.06-1.06L.53 7.47L0 8l.53.53l3.25 3.25a.75.75 0 0 0 1.06-1.06L2.12 8l2.72-2.72Z" clip-rule="evenodd"></path></svg>');

function CodeIcon(t) { var e = root$5();
	append(t, e) }
var root$4 = ns_template('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect x="0" y="0" width="16" height="16" fill="none" stroke="none"></rect><path fill="currentColor" fill-rule="evenodd" d="M7.886 1a3.136 3.136 0 0 0-2.41 5.144L6.4 7.25H2.75a.75.75 0 0 0 0 1.5h4.899l1.722 2.066A1.636 1.636 0 0 1 8.114 13.5H8a1.75 1.75 0 0 1-1.75-1.75a.75.75 0 0 0-1.5 0A3.25 3.25 0 0 0 8 15h.114a3.136 3.136 0 0 0 2.41-5.144L9.6 8.75h3.649a.75.75 0 0 0 0-1.5H8.351L6.63 5.184A1.636 1.636 0 0 1 7.886 2.5H8c.966 0 1.75.784 1.75 1.75a.75.75 0 0 0 1.5 0A3.25 3.25 0 0 0 8 1h-.114Z" clip-rule="evenodd"></path></svg>');

function StrikethroughIcon(t) { var e = root$4();
	append(t, e) }
const defaultIcons = [{ id: "heading", action: t => t.toggleLinePrefix("###"), component: HeadingIcon, label: "Heading" }, { id: "bold", action: t => t.toggleSelectionSurrounding("**"), component: BoldIcon, label: "Bold" }, { id: "italic", action: t => t.toggleSelectionSurrounding("*"), component: ItalicIcon, label: "Italic" }, { id: "strikethrough", action: t => t.toggleSelectionSurrounding("~~"), component: StrikethroughIcon, label: "Strikethrough" }, { id: "quote", action: t => t.toggleLinePrefix(">"), component: QuoteIcon, label: "Quote" }, { id: "code", action: t => t.toggleSelectionSurrounding("`"), component: CodeIcon, label: "Code" }, { id: "link", action: t => { t.toggleSelectionSurrounding(["[", "]"]); const e = t.getSelection().end + 1;
			t.insertAt(e, "(url)"), t.textarea.setSelectionRange(e + 1, e + 4) }, component: LinkIcon, label: "Link" }, { id: "bulletedList", action: t => t.toggleLinePrefix("- ", "detach"), component: ListBulletedIcon, label: "Bulleted list" }, { id: "numberedList", action: t => t.toggleLinePrefix("1. ", "detach"), component: ListNumberedIcon, label: "Numbered list" }, { id: "taskList", action: t => t.toggleLinePrefix("- [ ] ", "detach"), component: ListTaskIcon, label: "Task list" }],
	matchRegexs = { taskList: /^(\s*)(-\s+\[)[ xX]?(\]\s+)/, bulletedList: /^(\s*)([-*]\s+)/, numberedList: /^(\s*)(\d+)(\.\s+)/, blockquote: /^(\s*)([> ]*[>]\s+)/ },
	defaultPrefixes = [{ id: "taskList", match: t => matchRegexs.taskList.exec(t), maker: t => `${t[1]}${t[2]} ${t[3]}` }, { id: "bulletedList", match: t => matchRegexs.bulletedList.exec(t), maker: t => `${t[1]}${t[2]}` }, { id: "numberedList", match: t => matchRegexs.numberedList.exec(t), maker: t => `${t[1]}${Number(t[2])+1}${t[3]}` }, { id: "blockquote", match: t => matchRegexs.blockquote.exec(t), maker: t => `${t[1]}${t[2]}` }];
class Renderer { constructor(t) { __publicField(this, "container"), this.container = t } }
const defaultTabOuts = [{ id: "bold", delimiter: "**" }, { id: "italic", delimiter: ["*", "_"] }, { id: "link", delimiter: ")" }, { id: "strikethrough", delimiter: "~~" }, { id: "inline-code", delimiter: "`" }, { id: "block-code", delimiter: "\n```" }],
	cartaEvents = ["carta-render", "carta-render-ssr"];
class Carta { constructor(t) { __publicField(this, "sanitizer"), __publicField(this, "historyOptions"), __publicField(this, "theme"), __publicField(this, "shikiOptions"), __publicField(this, "rehypeOptions"), __publicField(this, "rendererDebounce"), __publicField(this, "keyboardShortcuts"), __publicField(this, "icons"), __publicField(this, "prefixes"), __publicField(this, "tabOuts"), __publicField(this, "grammarRules"), __publicField(this, "highlightingRules"), __publicField(this, "textareaListeners"), __publicField(this, "cartaListeners"), __publicField(this, "components"), __publicField(this, "dispatcher", new EventTarget), __publicField(this, "gfmOptions"), __publicField(this, "syncProcessor"), __publicField(this, "asyncProcessor"), __publicField(this, "disableTabCapture"), __publicField(this, "mElement"), __publicField(this, "mInput"), __publicField(this, "mRenderer"), __publicField(this, "mHighlighter"), __publicField(this, "mSyncTransformers", []), __publicField(this, "mAsyncTransformers", []), __publicField(this, "elementsToBind", []), this.sanitizer = (null == t ? void 0 : t.sanitizer) || void 0, this.historyOptions = null == t ? void 0 : t.historyOptions, this.theme = null == t ? void 0 : t.theme, this.shikiOptions = null == t ? void 0 : t.shikiOptions, this.rendererDebounce = (null == t ? void 0 : t.rendererDebounce) ?? 300, this.keyboardShortcuts = [], this.icons = [], this.prefixes = [], this.tabOuts = [], this.textareaListeners = [], this.cartaListeners = [], this.components = [], this.grammarRules = [], this.highlightingRules = [], this.rehypeOptions = (null == t ? void 0 : t.rehypeOptions) ?? {}; const e = []; for (const i of (null == t ? void 0 : t.extensions) ?? []) this.keyboardShortcuts.push(...i.shortcuts ?? []), this.icons.push(...i.icons ?? []), this.prefixes.push(...i.prefixes ?? []), this.tabOuts.push(...i.tabOuts ?? []), this.components.push(...i.components ?? []), this.grammarRules.push(...i.grammarRules ?? []), this.highlightingRules.push(...i.highlightingRules ?? []), e.push(...i.listeners ?? []);
		this.textareaListeners = e.filter((t => !cartaEvents.includes(t[0]))), this.cartaListeners = e.filter((t => cartaEvents.includes(t[0]))), this.cartaListeners.forEach((t => { this.dispatcher.addEventListener(...t) })), this.keyboardShortcuts.push(...defaultKeyboardShortcuts.filter((e => { var i; return !0 !== (null == t ? void 0 : t.disableShortcuts) && !(null == (i = null == t ? void 0 : t.disableShortcuts) ? void 0 : i.includes(e.id)) }))), this.icons.unshift(...defaultIcons.filter((e => { var i; return !0 !== (null == t ? void 0 : t.disableIcons) && !(null == (i = null == t ? void 0 : t.disableIcons) ? void 0 : i.includes(e.id)) }))), this.prefixes.push(...defaultPrefixes.filter((e => { var i; return !0 !== (null == t ? void 0 : t.disablePrefixes) && !(null == (i = null == t ? void 0 : t.disablePrefixes) ? void 0 : i.includes(e.id)) }))), this.tabOuts.push(...defaultTabOuts.filter((e => { var i; return !0 !== (null == t ? void 0 : t.disableTabOuts) && !(null == (i = null == t ? void 0 : t.disableTabOuts) ? void 0 : i.includes(e.id)) }))), this.disableTabCapture = (null == t ? void 0 : t.disableTabCapture) ?? !1, this.mSyncTransformers = [], this.mAsyncTransformers = []; for (const i of (null == t ? void 0 : t.extensions) ?? [])
			for (const t of i.transformers ?? []) "sync" === t.execution ? this.mSyncTransformers.push(t) : this.mAsyncTransformers.push(t);
		this.gfmOptions = null == t ? void 0 : t.gfmOptions, this.syncProcessor = this.setupSynchronousProcessor({ gfmOptions: this.gfmOptions, rehypeOptions: this.rehypeOptions }), this.asyncProcessor = this.setupAsynchronousProcessor({ gfmOptions: this.gfmOptions, rehypeOptions: this.rehypeOptions }); for (const i of (null == t ? void 0 : t.extensions) ?? []) i.onLoad && i.onLoad({ carta: this }) } get element() { return this.mElement } get input() { return this.mInput } get renderer() { return this.mRenderer } async highlighter() { return this.mHighlighter || (this.mHighlighter = (async () => { const t = await __vitePreload((() => import("./highlight.BeG7RkMn.js")), __vite__mapDeps([0, 1, 2, 3, 4]), import.meta.url),
				{ loadHighlighter: e, loadDefaultTheme: i } = t; return e({ theme: this.theme ?? await i(), grammarRules: this.grammarRules, highlightingRules: this.highlightingRules, shiki: this.shikiOptions }) })()), this.mHighlighter } setupSynchronousProcessor({ gfmOptions: t, rehypeOptions: e }) { const i = unified(),
			n = this.mSyncTransformers.filter((t => "remark" === t.type)),
			r = this.mSyncTransformers.filter((t => "rehype" === t.type));
		i.use(remarkParse), i.use(remarkGfm, t); for (const s of n) s.transform({ processor: i, carta: this });
		i.use(remarkRehype, e); for (const s of r) s.transform({ processor: i, carta: this }); return i.use(rehypeStringify), i } async setupAsynchronousProcessor({ gfmOptions: t, rehypeOptions: e }) { const i = unified(),
			n = [...this.mSyncTransformers, ...this.mAsyncTransformers].filter((t => "remark" === t.type)),
			r = [...this.mSyncTransformers, ...this.mAsyncTransformers].filter((t => "rehype" === t.type));
		i.use(remarkParse), i.use(remarkGfm, t); for (const s of n) await s.transform({ processor: i, carta: this });
		i.use(remarkRehype, e); for (const s of r) await s.transform({ processor: i, carta: this }); return i.use(rehypeStringify), i } async render(t) { { const e = await __vitePreload((() => import("./highlight.BeG7RkMn.js")), __vite__mapDeps([0, 1, 2, 3, 4]), import.meta.url),
				{ loadNestedLanguages: i } = e,
				n = await this.highlighter();
			await i(n, t) } const e = await this.asyncProcessor,
			i = await e.process(t); if (!i) return ""; const n = String(i); return this.dispatcher.dispatchEvent(new CustomEvent$1("carta-render", { detail: { carta: this } })), (this.sanitizer && this.sanitizer(n)) ?? n } renderSSR(t) { const e = String(this.syncProcessor.processSync(t)); return "string" != typeof e ? "" : (this.dispatcher.dispatchEvent(new CustomEvent$1("carta-render-ssr", { detail: { carta: this } })), this.sanitizer ? this.sanitizer(e) : e) } $setElement(t) { this.mElement = t } $setInput(t, e, i) { const n = this.input;
		this.mInput = new InputEnhancer(t, e, { shortcuts: this.keyboardShortcuts, prefixes: this.prefixes, tabOuts: this.tabOuts, listeners: this.textareaListeners, historyOpts: this.historyOptions, disableTabCapture: this.disableTabCapture }), n && (n.events.removeEventListener("update", i), this.mInput.history = n.history), this.mInput.events.addEventListener("update", i), this.elementsToBind.forEach((t => { var e;
			t.callback = null == (e = this.input) ? void 0 : e.$bindToCaret(t.elem, { portal: t.portal, editorElement: this.element }).destroy })) } $setRenderer(t) { this.mRenderer = new Renderer(t) } bindToCaret(t, e = document.querySelector("body")) { let i; return this.input && (i = this.input.$bindToCaret(t, { portal: e, editorElement: this.element }).destroy), this.elementsToBind.push({ elem: t, portal: e, callback: i }), { destroy: () => { i && i(), this.elementsToBind = this.elementsToBind.filter((e => e.elem != t)) } } } }
var purify_cjs, hasRequiredPurify_cjs;

function requirePurify_cjs() { if (hasRequiredPurify_cjs) return purify_cjs;
	hasRequiredPurify_cjs = 1; const { entries: t, setPrototypeOf: e, isFrozen: i, getPrototypeOf: n, getOwnPropertyDescriptor: r } = Object; let { freeze: s, seal: o, create: a } = Object, { apply: l, construct: h } = "undefined" != typeof Reflect && Reflect;
	s || (s = function(t) { return t }), o || (o = function(t) { return t }), l || (l = function(t, e, i) { return t.apply(e, i) }), h || (h = function(t, e) { return new t(...e) }); const u = E(Array.prototype.forEach),
		c = E(Array.prototype.lastIndexOf),
		d = E(Array.prototype.pop),
		f = E(Array.prototype.push),
		p = E(Array.prototype.splice),
		g = E(String.prototype.toLowerCase),
		m = E(String.prototype.toString),
		v = E(String.prototype.match),
		y = E(String.prototype.replace),
		x = E(String.prototype.indexOf),
		b = E(String.prototype.trim),
		w = E(Object.prototype.hasOwnProperty),
		T = E(RegExp.prototype.test),
		S = (_ = TypeError, function() { for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i]; return h(_, e) }); var _;

	function E(t) { return function(e) { e instanceof RegExp && (e.lastIndex = 0); for (var i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) n[r - 1] = arguments[r]; return l(t, e, n) } }

	function A(t, n) { let r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : g;
		e && e(t, null); let s = n.length; for (; s--;) { let e = n[s]; if ("string" == typeof e) { const t = r(e);
				t !== e && (i(n) || (n[s] = t), e = t) } t[e] = !0 } return t }

	function C(t) { for (let e = 0; e < t.length; e++) w(t, e) || (t[e] = null); return t }

	function k(e) { const i = a(null); for (const [n, r] of t(e)) w(e, n) && (Array.isArray(r) ? i[n] = C(r) : r && "object" == typeof r && r.constructor === Object ? i[n] = k(r) : i[n] = r); return i }

	function P(t, e) { for (; null !== t;) { const i = r(t, e); if (i) { if (i.get) return E(i.get); if ("function" == typeof i.value) return E(i.value) } t = n(t) } return function() { return null } } const O = s(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]),
		R = s(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]),
		M = s(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]),
		L = s(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]),
		D = s(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]),
		F = s(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]),
		I = s(["#text"]),
		B = s(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"]),
		N = s(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]),
		z = s(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]),
		U = s(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]),
		Y = o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),
		X = o(/<%[\w\W]*|[\w\W]*%>/gm),
		G = o(/\$\{[\w\W]*/gm),
		H = o(/^data-[\-\w.\u00B7-\uFFFF]+$/),
		W = o(/^aria-[\-\w]+$/),
		V = o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),
		j = o(/^(?:\w+script|data):/i),
		$ = o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),
		q = o(/^html$/i),
		K = o(/^[a-z][.\w]*(-[.\w]+)+$/i); var Z = Object.freeze({ __proto__: null, ARIA_ATTR: W, ATTR_WHITESPACE: $, CUSTOM_ELEMENT: K, DATA_ATTR: H, DOCTYPE_NAME: q, ERB_EXPR: X, IS_ALLOWED_URI: V, IS_SCRIPT_OR_DATA: j, MUSTACHE_EXPR: Y, TMPLIT_EXPR: G }); var J = function e() { let i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "undefined" == typeof window ? null : window; const n = t => e(t); if (n.version = "3.2.6", n.removed = [], !i || !i.document || 9 !== i.document.nodeType || !i.Element) return n.isSupported = !1, n; let { document: r } = i; const o = r,
			l = o.currentScript,
			{ DocumentFragment: h, HTMLTemplateElement: _, Node: E, Element: C, NodeFilter: Y, NamedNodeMap: X = i.NamedNodeMap || i.MozNamedAttrMap, HTMLFormElement: G, DOMParser: H, trustedTypes: W } = i,
			j = C.prototype,
			$ = P(j, "cloneNode"),
			K = P(j, "remove"),
			J = P(j, "nextSibling"),
			Q = P(j, "childNodes"),
			tt = P(j, "parentNode"); if ("function" == typeof _) { const t = r.createElement("template");
			t.content && t.content.ownerDocument && (r = t.content.ownerDocument) } let et, it = ""; const { implementation: nt, createNodeIterator: rt, createDocumentFragment: st, getElementsByTagName: ot } = r, { importNode: at } = o; let lt = { afterSanitizeAttributes: [], afterSanitizeElements: [], afterSanitizeShadowDOM: [], beforeSanitizeAttributes: [], beforeSanitizeElements: [], beforeSanitizeShadowDOM: [], uponSanitizeAttribute: [], uponSanitizeElement: [], uponSanitizeShadowNode: [] };
		n.isSupported = "function" == typeof t && "function" == typeof tt && nt && void 0 !== nt.createHTMLDocument; const { MUSTACHE_EXPR: ht, ERB_EXPR: ut, TMPLIT_EXPR: ct, DATA_ATTR: dt, ARIA_ATTR: ft, IS_SCRIPT_OR_DATA: pt, ATTR_WHITESPACE: gt, CUSTOM_ELEMENT: mt } = Z; let { IS_ALLOWED_URI: vt } = Z, yt = null; const xt = A({}, [...O, ...R, ...M, ...D, ...I]); let bt = null; const wt = A({}, [...B, ...N, ...z, ...U]); let Tt = Object.seal(a(null, { tagNameCheck: { writable: !0, configurable: !1, enumerable: !0, value: null }, attributeNameCheck: { writable: !0, configurable: !1, enumerable: !0, value: null }, allowCustomizedBuiltInElements: { writable: !0, configurable: !1, enumerable: !0, value: !1 } })),
			St = null,
			_t = null,
			Et = !0,
			At = !0,
			Ct = !1,
			kt = !0,
			Pt = !1,
			Ot = !0,
			Rt = !1,
			Mt = !1,
			Lt = !1,
			Dt = !1,
			Ft = !1,
			It = !1,
			Bt = !0,
			Nt = !1,
			zt = !0,
			Ut = !1,
			Yt = {},
			Xt = null; const Gt = A({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]); let Ht = null; const Wt = A({}, ["audio", "video", "img", "source", "image", "track"]); let Vt = null; const jt = A({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]),
			$t = "http://www.w3.org/1998/Math/MathML",
			qt = "http://www.w3.org/2000/svg",
			Kt = "http://www.w3.org/1999/xhtml"; let Zt = Kt,
			Jt = !1,
			Qt = null; const te = A({}, [$t, qt, Kt], m); let ee = A({}, ["mi", "mo", "mn", "ms", "mtext"]),
			ie = A({}, ["annotation-xml"]); const ne = A({}, ["title", "style", "font", "a", "script"]); let re = null; const se = ["application/xhtml+xml", "text/html"]; let oe = null,
			ae = null; const le = r.createElement("form"),
			he = function(t) { return t instanceof RegExp || t instanceof Function },
			ue = function() { let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if (!ae || ae !== t) { if (t && "object" == typeof t || (t = {}), t = k(t), re = -1 === se.indexOf(t.PARSER_MEDIA_TYPE) ? "text/html" : t.PARSER_MEDIA_TYPE, oe = "application/xhtml+xml" === re ? m : g, yt = w(t, "ALLOWED_TAGS") ? A({}, t.ALLOWED_TAGS, oe) : xt, bt = w(t, "ALLOWED_ATTR") ? A({}, t.ALLOWED_ATTR, oe) : wt, Qt = w(t, "ALLOWED_NAMESPACES") ? A({}, t.ALLOWED_NAMESPACES, m) : te, Vt = w(t, "ADD_URI_SAFE_ATTR") ? A(k(jt), t.ADD_URI_SAFE_ATTR, oe) : jt, Ht = w(t, "ADD_DATA_URI_TAGS") ? A(k(Wt), t.ADD_DATA_URI_TAGS, oe) : Wt, Xt = w(t, "FORBID_CONTENTS") ? A({}, t.FORBID_CONTENTS, oe) : Gt, St = w(t, "FORBID_TAGS") ? A({}, t.FORBID_TAGS, oe) : k({}), _t = w(t, "FORBID_ATTR") ? A({}, t.FORBID_ATTR, oe) : k({}), Yt = !!w(t, "USE_PROFILES") && t.USE_PROFILES, Et = !1 !== t.ALLOW_ARIA_ATTR, At = !1 !== t.ALLOW_DATA_ATTR, Ct = t.ALLOW_UNKNOWN_PROTOCOLS || !1, kt = !1 !== t.ALLOW_SELF_CLOSE_IN_ATTR, Pt = t.SAFE_FOR_TEMPLATES || !1, Ot = !1 !== t.SAFE_FOR_XML, Rt = t.WHOLE_DOCUMENT || !1, Dt = t.RETURN_DOM || !1, Ft = t.RETURN_DOM_FRAGMENT || !1, It = t.RETURN_TRUSTED_TYPE || !1, Lt = t.FORCE_BODY || !1, Bt = !1 !== t.SANITIZE_DOM, Nt = t.SANITIZE_NAMED_PROPS || !1, zt = !1 !== t.KEEP_CONTENT, Ut = t.IN_PLACE || !1, vt = t.ALLOWED_URI_REGEXP || V, Zt = t.NAMESPACE || Kt, ee = t.MATHML_TEXT_INTEGRATION_POINTS || ee, ie = t.HTML_INTEGRATION_POINTS || ie, Tt = t.CUSTOM_ELEMENT_HANDLING || {}, t.CUSTOM_ELEMENT_HANDLING && he(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (Tt.tagNameCheck = t.CUSTOM_ELEMENT_HANDLING.tagNameCheck), t.CUSTOM_ELEMENT_HANDLING && he(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (Tt.attributeNameCheck = t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), t.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (Tt.allowCustomizedBuiltInElements = t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), Pt && (At = !1), Ft && (Dt = !0), Yt && (yt = A({}, I), bt = [], !0 === Yt.html && (A(yt, O), A(bt, B)), !0 === Yt.svg && (A(yt, R), A(bt, N), A(bt, U)), !0 === Yt.svgFilters && (A(yt, M), A(bt, N), A(bt, U)), !0 === Yt.mathMl && (A(yt, D), A(bt, z), A(bt, U))), t.ADD_TAGS && (yt === xt && (yt = k(yt)), A(yt, t.ADD_TAGS, oe)), t.ADD_ATTR && (bt === wt && (bt = k(bt)), A(bt, t.ADD_ATTR, oe)), t.ADD_URI_SAFE_ATTR && A(Vt, t.ADD_URI_SAFE_ATTR, oe), t.FORBID_CONTENTS && (Xt === Gt && (Xt = k(Xt)), A(Xt, t.FORBID_CONTENTS, oe)), zt && (yt["#text"] = !0), Rt && A(yt, ["html", "head", "body"]), yt.table && (A(yt, ["tbody"]), delete St.tbody), t.TRUSTED_TYPES_POLICY) { if ("function" != typeof t.TRUSTED_TYPES_POLICY.createHTML) throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.'); if ("function" != typeof t.TRUSTED_TYPES_POLICY.createScriptURL) throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
						et = t.TRUSTED_TYPES_POLICY, it = et.createHTML("") } else void 0 === et && (et = function(t, e) { if ("object" != typeof t || "function" != typeof t.createPolicy) return null; let i = null; const n = "data-tt-policy-suffix";
						e && e.hasAttribute(n) && (i = e.getAttribute(n)); const r = "dompurify" + (i ? "#" + i : ""); try { return t.createPolicy(r, { createHTML: t => t, createScriptURL: t => t }) } catch (s) { return console.warn("TrustedTypes policy " + r + " could not be created."), null } }(W, l)), null !== et && "string" == typeof it && (it = et.createHTML(""));
					s && s(t), ae = t } },
			ce = A({}, [...R, ...M, ...L]),
			de = A({}, [...D, ...F]),
			fe = function(t) { f(n.removed, { element: t }); try { tt(t).removeChild(t) } catch (e) { K(t) } },
			pe = function(t, e) { try { f(n.removed, { attribute: e.getAttributeNode(t), from: e }) } catch (i) { f(n.removed, { attribute: null, from: e }) } if (e.removeAttribute(t), "is" === t)
					if (Dt || Ft) try { fe(e) } catch (i) {} else try { e.setAttribute(t, "") } catch (i) {} },
			ge = function(t) { let e = null,
					i = null; if (Lt) t = "<remove></remove>" + t;
				else { const e = v(t, /^[\r\n\t ]+/);
					i = e && e[0] } "application/xhtml+xml" === re && Zt === Kt && (t = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + t + "</body></html>"); const n = et ? et.createHTML(t) : t; if (Zt === Kt) try { e = (new H).parseFromString(n, re) } catch (o) {}
				if (!e || !e.documentElement) { e = nt.createDocument(Zt, "template", null); try { e.documentElement.innerHTML = Jt ? it : n } catch (o) {} } const s = e.body || e.documentElement; return t && i && s.insertBefore(r.createTextNode(i), s.childNodes[0] || null), Zt === Kt ? ot.call(e, Rt ? "html" : "body")[0] : Rt ? e.documentElement : s },
			me = function(t) { return rt.call(t.ownerDocument || t, t, Y.SHOW_ELEMENT | Y.SHOW_COMMENT | Y.SHOW_TEXT | Y.SHOW_PROCESSING_INSTRUCTION | Y.SHOW_CDATA_SECTION, null) },
			ve = function(t) { return t instanceof G && ("string" != typeof t.nodeName || "string" != typeof t.textContent || "function" != typeof t.removeChild || !(t.attributes instanceof X) || "function" != typeof t.removeAttribute || "function" != typeof t.setAttribute || "string" != typeof t.namespaceURI || "function" != typeof t.insertBefore || "function" != typeof t.hasChildNodes) },
			ye = function(t) { return "function" == typeof E && t instanceof E };

		function xe(t, e, i) { u(t, (t => { t.call(n, e, i, ae) })) } const be = function(t) { let e = null; if (xe(lt.beforeSanitizeElements, t, null), ve(t)) return fe(t), !0; const i = oe(t.nodeName); if (xe(lt.uponSanitizeElement, t, { tagName: i, allowedTags: yt }), Ot && t.hasChildNodes() && !ye(t.firstElementChild) && T(/<[/\w!]/g, t.innerHTML) && T(/<[/\w!]/g, t.textContent)) return fe(t), !0; if (7 === t.nodeType) return fe(t), !0; if (Ot && 8 === t.nodeType && T(/<[/\w]/g, t.data)) return fe(t), !0; if (!yt[i] || St[i]) { if (!St[i] && Te(i)) { if (Tt.tagNameCheck instanceof RegExp && T(Tt.tagNameCheck, i)) return !1; if (Tt.tagNameCheck instanceof Function && Tt.tagNameCheck(i)) return !1 } if (zt && !Xt[i]) { const e = tt(t) || t.parentNode,
							i = Q(t) || t.childNodes; if (i && e)
							for (let n = i.length - 1; n >= 0; --n) { const r = $(i[n], !0);
								r.__removalCount = (t.__removalCount || 0) + 1, e.insertBefore(r, J(t)) } } return fe(t), !0 } return t instanceof C && ! function(t) { let e = tt(t);
					e && e.tagName || (e = { namespaceURI: Zt, tagName: "template" }); const i = g(t.tagName),
						n = g(e.tagName); return !!Qt[t.namespaceURI] && (t.namespaceURI === qt ? e.namespaceURI === Kt ? "svg" === i : e.namespaceURI === $t ? "svg" === i && ("annotation-xml" === n || ee[n]) : Boolean(ce[i]) : t.namespaceURI === $t ? e.namespaceURI === Kt ? "math" === i : e.namespaceURI === qt ? "math" === i && ie[n] : Boolean(de[i]) : t.namespaceURI === Kt ? !(e.namespaceURI === qt && !ie[n]) && !(e.namespaceURI === $t && !ee[n]) && !de[i] && (ne[i] || !ce[i]) : !("application/xhtml+xml" !== re || !Qt[t.namespaceURI])) }(t) ? (fe(t), !0) : "noscript" !== i && "noembed" !== i && "noframes" !== i || !T(/<\/no(script|embed|frames)/i, t.innerHTML) ? (Pt && 3 === t.nodeType && (e = t.textContent, u([ht, ut, ct], (t => { e = y(e, t, " ") })), t.textContent !== e && (f(n.removed, { element: t.cloneNode() }), t.textContent = e)), xe(lt.afterSanitizeElements, t, null), !1) : (fe(t), !0) },
			we = function(t, e, i) { if (Bt && ("id" === e || "name" === e) && (i in r || i in le)) return !1; if (At && !_t[e] && T(dt, e));
				else if (Et && T(ft, e));
				else if (!bt[e] || _t[e]) { if (!(Te(t) && (Tt.tagNameCheck instanceof RegExp && T(Tt.tagNameCheck, t) || Tt.tagNameCheck instanceof Function && Tt.tagNameCheck(t)) && (Tt.attributeNameCheck instanceof RegExp && T(Tt.attributeNameCheck, e) || Tt.attributeNameCheck instanceof Function && Tt.attributeNameCheck(e)) || "is" === e && Tt.allowCustomizedBuiltInElements && (Tt.tagNameCheck instanceof RegExp && T(Tt.tagNameCheck, i) || Tt.tagNameCheck instanceof Function && Tt.tagNameCheck(i)))) return !1 } else if (Vt[e]);
				else if (T(vt, y(i, gt, "")));
				else if ("src" !== e && "xlink:href" !== e && "href" !== e || "script" === t || 0 !== x(i, "data:") || !Ht[t])
					if (Ct && !T(pt, y(i, gt, "")));
					else if (i) return !1; return !0 },
			Te = function(t) { return "annotation-xml" !== t && v(t, mt) },
			Se = function(t) { xe(lt.beforeSanitizeAttributes, t, null); const { attributes: e } = t; if (!e || ve(t)) return; const i = { attrName: "", attrValue: "", keepAttr: !0, allowedAttributes: bt, forceKeepAttr: void 0 }; let r = e.length; for (; r--;) { const o = e[r],
						{ name: a, namespaceURI: l, value: h } = o,
						c = oe(a),
						f = h; let p = "value" === a ? f : b(f); if (i.attrName = c, i.attrValue = p, i.keepAttr = !0, i.forceKeepAttr = void 0, xe(lt.uponSanitizeAttribute, t, i), p = i.attrValue, !Nt || "id" !== c && "name" !== c || (pe(a, t), p = "user-content-" + p), Ot && T(/((--!?|])>)|<\/(style|title)/i, p)) { pe(a, t); continue } if (i.forceKeepAttr) continue; if (!i.keepAttr) { pe(a, t); continue } if (!kt && T(/\/>/i, p)) { pe(a, t); continue } Pt && u([ht, ut, ct], (t => { p = y(p, t, " ") })); const g = oe(t.nodeName); if (we(g, c, p)) { if (et && "object" == typeof W && "function" == typeof W.getAttributeType)
							if (l);
							else switch (W.getAttributeType(g, c)) {
								case "TrustedHTML":
									p = et.createHTML(p); break;
								case "TrustedScriptURL":
									p = et.createScriptURL(p) }
						if (p !== f) try { l ? t.setAttributeNS(l, a, p) : t.setAttribute(a, p), ve(t) ? fe(t) : d(n.removed) } catch (s) { pe(a, t) } } else pe(a, t) } xe(lt.afterSanitizeAttributes, t, null) },
			_e = function t(e) { let i = null; const n = me(e); for (xe(lt.beforeSanitizeShadowDOM, e, null); i = n.nextNode();) xe(lt.uponSanitizeShadowNode, i, null), be(i), Se(i), i.content instanceof h && t(i.content);
				xe(lt.afterSanitizeShadowDOM, e, null) }; return n.sanitize = function(t) { let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
				i = null,
				r = null,
				s = null,
				a = null; if (Jt = !t, Jt && (t = "\x3c!--\x3e"), "string" != typeof t && !ye(t)) { if ("function" != typeof t.toString) throw S("toString is not a function"); if ("string" != typeof(t = t.toString())) throw S("dirty is not a string, aborting") } if (!n.isSupported) return t; if (Mt || ue(e), n.removed = [], "string" == typeof t && (Ut = !1), Ut) { if (t.nodeName) { const e = oe(t.nodeName); if (!yt[e] || St[e]) throw S("root node is forbidden and cannot be sanitized in-place") } } else if (t instanceof E) i = ge("\x3c!----\x3e"), r = i.ownerDocument.importNode(t, !0), 1 === r.nodeType && "BODY" === r.nodeName || "HTML" === r.nodeName ? i = r : i.appendChild(r);
			else { if (!Dt && !Pt && !Rt && -1 === t.indexOf("<")) return et && It ? et.createHTML(t) : t; if (i = ge(t), !i) return Dt ? null : It ? it : "" } i && Lt && fe(i.firstChild); const l = me(Ut ? t : i); for (; s = l.nextNode();) be(s), Se(s), s.content instanceof h && _e(s.content); if (Ut) return t; if (Dt) { if (Ft)
					for (a = st.call(i.ownerDocument); i.firstChild;) a.appendChild(i.firstChild);
				else a = i; return (bt.shadowroot || bt.shadowrootmode) && (a = at.call(o, a, !0)), a } let c = Rt ? i.outerHTML : i.innerHTML; return Rt && yt["!doctype"] && i.ownerDocument && i.ownerDocument.doctype && i.ownerDocument.doctype.name && T(q, i.ownerDocument.doctype.name) && (c = "<!DOCTYPE " + i.ownerDocument.doctype.name + ">\n" + c), Pt && u([ht, ut, ct], (t => { c = y(c, t, " ") })), et && It ? et.createHTML(c) : c }, n.setConfig = function() { ue(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}), Mt = !0 }, n.clearConfig = function() { ae = null, Mt = !1 }, n.isValidAttribute = function(t, e, i) { ae || ue({}); const n = oe(t),
				r = oe(e); return we(n, r, i) }, n.addHook = function(t, e) { "function" == typeof e && f(lt[t], e) }, n.removeHook = function(t, e) { if (void 0 !== e) { const i = c(lt[t], e); return -1 === i ? void 0 : p(lt[t], i, 1)[0] } return d(lt[t]) }, n.removeHooks = function(t) { lt[t] = [] }, n.removeAllHooks = function() { lt = { afterSanitizeAttributes: [], afterSanitizeElements: [], afterSanitizeShadowDOM: [], beforeSanitizeAttributes: [], beforeSanitizeElements: [], beforeSanitizeShadowDOM: [], uponSanitizeAttribute: [], uponSanitizeElement: [], uponSanitizeShadowNode: [] } }, n }(); return purify_cjs = J }
var browser = window.DOMPurify || (window.DOMPurify = requirePurify_cjs().default || requirePurify_cjs());
const DOMPurify = getDefaultExportFromCjs(browser);
var on_click$3 = () => dialogState.closeDialog(),
	root_3$2 = template('<button class="text-ui-lighter hover:text-white text-2xl leading-none w-6 h-6 flex items-center justify-center" aria-label="Close dialog">×</button>'),
	root_2$4 = template('<div id="dialog-title" class="bg-ui-dark text-ui-lighter text-3xl font-pixel-default px-3 py-2 border-b-2 border-ui-darker flex items-center justify-between"><span> </span> <!></div>'),
	root_4$1 = template('<div id="dialog-message" class="ml-2 text-ui-darker font-pixel-default text-2xl leading-relaxed markdown-content"><!></div>'),
	root_6$1 = template('<div id="dialog-message" class="ml-2 text-ui-darker font-pixel-default text-2xl leading-relaxed whitespace-pre-wrap"> </div>'),
	on_click_1$2 = (t, e) => dialogState.handleChoice(get(e)),
	on_keydown = (t, e) => "Enter" === t.key && dialogState.handleChoice(get(e)),
	root_8$1 = template('<div role="button" tabindex="0"><span class="text-ui-darker min-w-[1.5rem] group-hover:text-white transition-colors"></span> <span class="flex-1 group-hover:text-white transition-colors"> </span></div>'),
	root_7$2 = template('<div class="border-t-2 border-ui-darker bg-ui-shade overflow-y-auto"><div class="flex flex-col space-y-0"></div></div>'),
	root_1$5 = template('<div class="fixed bottom-16 left-6 right-6 z-50 pointer-events-none flex justify-center" role="dialog" aria-modal="false" aria-describedby="dialog-message"><div><!> <div class="flex-1 overflow-auto px-3 py-2"><!></div> <!></div></div>');

function Dialog(t, e) { push$1(e, !0); let i = new Carta({ sanitizer: DOMPurify.sanitize }),
		n = state("");
	onMount((() => (document.addEventListener("keydown", dialogState.keypressHandler), () => { document.removeEventListener("keydown", dialogState.keypressHandler) }))), user_effect((() => { var t;
		(null == (t = dialogState.currentDialog) ? void 0 : t.markdown) && i && dialogState.currentDialog.message ? i.render(dialogState.currentDialog.message).then((t => { set(n, proxy(t)) })) : set(n, "") })); var r = comment$1(),
		s = first_child(r);
	if_block(s, (() => dialogState.isOpen && dialogState.currentDialog), (t => { var e = root_1$5(); const r = derived((() => dialogState.currentDialog)); var s = child(e); const o = derived((() => `bg-ui-base pixel-corners pixel-corners-b-ui-darker border-ui-darker border-4 w-full overflow-hidden flex flex-col pointer-events-auto shadow-lg ${function(t){switch(t){case"small":return"max-w-md max-h-60";case"medium":return"max-w-xl max-h-80";case"large":return"max-w-4xl max-h-[32rem]";case"auto":return"max-w-5xl max-h-[40rem]";default:return"max-w-2xl max-h-80"}}(get(r).size)??""} ${(get(r).className||"")??""}`)); var a = child(s);
		if_block(a, (() => get(r).title), (t => { var e = root_2$4(),
				i = child(e),
				n = child(i, !0);
			reset(i); var s = sibling(i, 2);
			if_block(s, (() => !1 !== get(r).dismissable), (t => { var e = root_3$2();
				e.__click = [on_click$3], append(t, e) })), reset(e), template_effect((() => set_text(n, get(r).title))), append(t, e) })); var l = sibling(a, 2),
			h = child(l);
		if_block(h, (() => get(r).markdown && i && get(n)), (t => { var e = root_4$1();
			html$6(child(e), (() => get(n))), reset(e), append(t, e) }), (t => { var e = comment$1(),
				i = first_child(e);
			if_block(i, (() => !get(r).markdown), (t => { var e = root_6$1(),
					i = child(e, !0);
				reset(e), template_effect((() => set_text(i, get(r).message))), append(t, e) }), null, !0), append(t, e) })), reset(l); var u = sibling(l, 2);
		if_block(u, (() => get(r).choices && get(r).choices.length > 0), (t => { var e = root_7$2(),
				i = child(e);
			each(i, 21, (() => get(r).choices), index$1, ((t, e, i) => { var n = root_8$1();
				n.__click = [on_click_1$2, e], n.__keydown = [on_keydown, e]; var s = child(n);
				s.textContent = `${i+1} -`; var o = sibling(s, 2),
					a = child(o, !0);
				reset(o), reset(n), template_effect((() => { set_class(n, `flex items-center gap-2 px-4 py-1 font-pixel-default text-ui-darker text-2xl cursor-pointer transition-colors group disabled:opacity-50 disabled:cursor-not-allowed ${(get(e).disabled?"opacity-50 cursor-not-allowed":"")??""} ${(get(e).className||"")??""} ${(i<get(r).choices.length-1?"border-b-2 border-ui-darker":"")??""}`), toggle_class(n, "pointer-events-none", get(e).disabled), set_text(a, get(e).text) })), append(t, n) })), reset(i), reset(e), append(t, e) })), reset(s), reset(e), template_effect((() => { set_attribute(e, "aria-labelledby", get(r).title ? "dialog-title" : void 0), set_class(s, get(o)) })), append(t, e) })), append(t, r), pop() } delegate(["click", "keydown"]);
const passwordGif = "" + new URL("../assets/head-password.C0CDx_zO.gif", import.meta.url).href;
var $$_import_uiState = reactive_import((() => uiState)),
	on_click$2 = (t, e) => e(),
	root_2$3 = template('<img alt="Mystical Creature" class="w-64 h-64 object-contain rounded-full" style="image-rendering: pixelated;">'),
	root_1$4 = template('<button class="absolute top-2 right-4 font-pixel-default text-2xl z-20 hover:text-red-400 transition-colors">×</button> <div class="flex-1 flex items-center justify-center px-8 py-6 mt-4"><div class="relative"><div class="w-72 h-72 rounded-full bg-gradient-to-r from-purple-900 via-blue-900 to-purple-900 p-3 shadow-2xl"><div class="w-full h-full rounded-full bg-gradient-to-r from-purple-800 via-blue-800 to-purple-800 p-2"><div class="w-full h-full rounded-full bg-black/30 flex items-center justify-center overflow-hidden"><!></div></div></div> <div class="absolute inset-0 rounded-full animate-pulse"><div class="w-full h-full rounded-full bg-purple-400/20"></div></div> <div class="absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full animate-ping opacity-75"></div> <div class="absolute -bottom-2 -left-2 w-4 h-4 bg-blue-400 rounded-full animate-ping opacity-60"></div></div></div>', 1);

function HeadDisplay(t, e) {
	function i() { $$_import_uiState($$_import_uiState().isHeadDisplayOpen = !1), $$_import_uiState($$_import_uiState().currentHeadType = null) } push$1(e, !1); const n = () => "password" === $$_import_uiState().currentHeadType ? passwordGif : "";
	init(); var r = derived_safe_equal((() => "password" === $$_import_uiState().currentHeadType ? "The creature growls..." : "Mystical Creature"));
	UIPanel(t, { get title() { return get(r) }, containerClass: "max-w-[35rem] h-[28rem] flex flex-col", children: (t, e) => { var r = root_1$4(),
				s = first_child(r);
			s.__click = [on_click$2, i]; var o = sibling(s, 2),
				a = child(o),
				l = child(a),
				h = child(l),
				u = child(h),
				c = child(u);
			if_block(c, n, (t => { var e = root_2$3();
				template_effect((() => set_attribute(e, "src", n()))), append(t, e) })), reset(u), reset(h), reset(l), next(6), reset(a), reset(o), append(t, r) }, $$slots: { default: !0 } }), pop() } delegate(["click"]);
var root_1$3 = template(`<link rel="preload" as="image"${attr("href",loadingGif)}>`),
	on_click$1 = () => location.reload(),
	root_2$2 = template('<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md h-1/3 max-h-[200px] bg-[#c14b4bcc] pixel-corners pixel-corners-b-[#8d3d39]"><div class="flex flex-col gap-12 text-2xl items-center justify-center h-full"><div class="text-center text-[#f6e8e7]">You have been disconnected! <br> Please refresh your browser to reconnect.</div> <button class="w-24 px-2 text-[#8d8750] pixel-corners bg-[#dbd167] pixel-corners-b-[#8d8750]">refresh</button></div></div>'),
	root_3$1 = template(`<div class="w-full h-full"><div class="flex flex-col gap-12 items-center justify-center h-full bg-ui-lighter"><img${attr("src",loadingGif)} alt="loading.gif" style="image-rendering: pixelated;"> <div class="text-center text-4xl text-ui-shade -mt-12"><!></div></div></div>`),
	on_click_1$1 = () => uiState.toggleMusic(),
	root_6 = template('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#8f563b" viewBox="0 0 16 16"><path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06m7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0"></path></svg>'),
	root_7$1 = template('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#8f563b" viewBox="0 0 16 16"><path d="M11.536 14.01A8.47 8.47 0 0 0 14.026 8a8.47 8.47 0 0 0-2.49-6.01l-.708.707A7.48 7.48 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303z"></path><path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.48 5.48 0 0 1 11.025 8a5.48 5.48 0 0 1-1.61 3.89z"></path><path d="M8.707 11.182A4.5 4.5 0 0 0 10.025 8a4.5 4.5 0 0 0-1.318-3.182L8 5.525A3.5 3.5 0 0 1 9.025 8 3.5 3.5 0 0 1 8 10.475zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06"></path></svg>'),
	root$3 = template('<div class="absolute w-full h-full font-pixel-default"><!> <!> <div class="absolute w-full h-full pointer-events-none"><h1 class="ml-8 mt-4"> </h1> <button class="ml-8 mt-2 w-12 h-12 bg-ui-light pixel-corners-b-ui-dark text-ui-dark hover:bg-ui-lighter pointer-events-auto flex items-center justify-center text-lg font-bold transition-colors"><!></button></div> <!> <!> <!></div>');

function UI(t, e) { push$1(e, !1), onMount((() => (window.addEventListener("keyup", uiState.keypressHandler), () => { window.removeEventListener("keyup", uiState.keypressHandler) }))), init(); var i = root$3();
	head$1((t => { var e = root_1$3();
		append(t, e) })); var n = child(i);
	if_block(n, (() => uiState.connectionStatus == ConnectionStatus.Disconnected), (t => { var e = root_2$2(),
			i = child(e);
		sibling(child(i), 2).__click = [on_click$1], reset(i), reset(e), append(t, e) })); var r = sibling(n, 2);
	if_block(r, (() => [ConnectionStatus.Switching, ConnectionStatus.Loading].includes(uiState.connectionStatus)), (t => { var e = root_3$1(),
			i = child(e),
			n = sibling(child(i), 2),
			r = child(n);
		if_block(r, (() => uiState.connectionStatus == ConnectionStatus.Switching), (t => { var e = text$6("Switching area...");
			append(t, e) }), (t => { var e = text$6("Loading...");
			append(t, e) })), reset(n), reset(i), reset(e), transition(1, e, (() => fade), (() => ({ duration: 300 }))), transition(2, e, (() => fade), (() => ({ duration: 300 }))), append(t, e) })); var s = sibling(r, 2),
		o = child(s),
		a = child(o);
	reset(o); var l = sibling(o, 2);
	l.__click = [on_click_1$1]; var h = child(l);
	if_block(h, (() => uiState.isMusicMuted), (t => { var e = root_6();
		append(t, e) }), (t => { var e = root_7$1();
		append(t, e) })), reset(l), reset(s); var u = sibling(s, 2);
	if_block(u, (() => uiState.isFlagPaintingOpen), (t => { FlagPainting(t) }), (t => { var e = comment$1(),
			i = first_child(e);
		if_block(i, (() => uiState.isMenuOpen), (t => { Menu(t, {}) }), (t => { var e = comment$1(),
				i = first_child(e);
			if_block(i, (() => uiState.isPaintingShopOpen), (t => { PaintingShop(t, {}) }), (t => { var e = comment$1(),
					i = first_child(e);
				if_block(i, (() => uiState.isShopOpen), (t => { Shop(t, {}) }), (t => { var e = comment$1(),
						i = first_child(e);
					if_block(i, (() => uiState.isPixelServiceOpen), (t => { PixelService(t, {}) }), (t => { var e = comment$1(),
							i = first_child(e);
						if_block(i, (() => uiState.isHeadDisplayOpen), (t => { HeadDisplay(t, {}) }), null, !0), append(t, e) }), !0), append(t, e) }), !0), append(t, e) }), !0), append(t, e) }), !0), append(t, e) })); var c = sibling(u, 2);
	if_block(c, (() => uiState.isHowToPlayOpen), (t => { HowToPlay(t, {}) }), (t => { var e = comment$1(),
			i = first_child(e);
		if_block(i, (() => "Home" === uiState.area && uiState.selfHome), (t => { HomeOverlay(t, {}) }), null, !0), append(t, e) })), Dialog(sibling(c, 2), {}), reset(i), template_effect((() => { set_text(a, `ping: ${uiState.ping??""}ms`), set_attribute(l, "title", uiState.isMusicMuted ? "Unmute music" : "Mute music") })), append(t, i), pop() } delegate(["click"]);
class AuthState { constructor() { __privateAdd(this, _user, state()), __privateAdd(this, _isInitialised, state(!1)), __privateAdd(this, _isAuthenticated, derived((() => { var t; return !!(null == (t = this.user) ? void 0 : t.id) }))), __privateAdd(this, _isFirstTime, state(!1)), __privateAdd(this, _error, state()), this.fetchState() } get user() { return get(__privateGet(this, _user)) } set user(t) { set(__privateGet(this, _user), proxy(t)) } get isInitialised() { return get(__privateGet(this, _isInitialised)) } set isInitialised(t) { set(__privateGet(this, _isInitialised), proxy(t)) } get isAuthenticated() { return get(__privateGet(this, _isAuthenticated)) } get isFirstTime() { return get(__privateGet(this, _isFirstTime)) } set isFirstTime(t) { set(__privateGet(this, _isFirstTime), proxy(t)) } get error() { return get(__privateGet(this, _error)) } set error(t) { set(__privateGet(this, _error), proxy(t)) } async fetchState() { try { const t = await api.user.me();
			this.isInitialised = !0, 200 == t.status ? (this.user = { id: t.body.id, name: t.body.name, team_name: t.body.team_name, team_emoji: t.body.team_emoji }, this.isFirstTime = t.body.firstTime, this.error = void 0) : 403 !== t.status && (this.error = 429 === t.status ? "Rate limit exceeded. Please try again later." : "Failed to authenticate") } catch (t) { this.isInitialised = !0, this.error = "Network error occurred", console.error("Failed to fetch user state:", t) } } } _user = new WeakMap, _isInitialised = new WeakMap, _isAuthenticated = new WeakMap, _isFirstTime = new WeakMap, _error = new WeakMap;
const authState = new AuthState,
	logoImgSrc = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO0AAAA8CAYAAACKLz0FAAAAAXNSR0IArs4c6QAAA4VJREFUeJzt3b+KFEEQx/FeWQQTURAuNDlB0PUQEwNBRBNBMBTE1MQHOPQBRNkHMDH1BQThDDQQDExEzlMQ3MTwQFBMBBHObLYWutwuuudP9Xw/0bA30zfMbtG/a3rrJiHB4zsbBynnASjn/rP9Sez1Q13fCIA8FC3gTHT6DUGPxFvnzrZ3N8DI7X78FH1dRmVmWsAZihZwZiUeE4n7dX379dpzduZXo6+fmsdjlebrNu/p0GlRmZkWcIaiBZyZaj9IicQpcU6S0U671nqO9X5yrtXGafs5SPL8xYmN6Dmb3/fX3sNivjzWonJfz7PLcUq9F23cv6xBGZWZaQFnKFrAGTUea6wRom3W2KNFmpyYpMl5JvIepg/eieOHy5Oe3mwOUyKxJM/fCcsYVup5aoY2TgrrmG3XCDMt4AxFCzgzvXTmeJGv3eWsNKaMY40W1lW7NuRENRmJj/5cNMdv7m01x79vv1peMJutHUf6++ii6X5KPc+h/XllNYTnwEwLOEPRAs6YV49zIq51/DZWF7tUKvL9OrbZHM9EDJabK/b29qLXXn6yGx3HqtTz7HLVt5QhfJYkZlrAGYoWcKbY5grN0KJOl3JWCLXVXW2/8ZEr15rj03efL38gIrEc0/v7MoSYqkn5EyAHMy3gDEULODORmytunD8cPYnOFWVZu0zkoEOFX3SuACpB0QLOTLS9x0TlsojE+bzvW05B32OgQhQt4IwajyUtKnuhRfo2NopoHSekL6LjhMbaiaKNLg3W39v2tQcXTkZff3krvqdai5pevPjwpzl++/kH8RjwiqIFnJnKaVeLynKa9iIn0lu/PqZF4pSOE3LPsIzEpTpOpMjpCWw93xrjZSSevP8WH1OJx5LHz7CsTYmZFnCGogWcWflqXkpURjqt44QkO07I3hOlOk6U0tcGBhmJa9pEodEiscRMCzhD0QLOqJ0rUqbpoRlCpLeu7lo7TvSlr32/pcb3+HnWMNMCzlC0gDPmxm5jYN1DK5utJf1DZ6U5m9p4rae+u0NunjZmzLSAMxQt4Ew1K2ohrK4e99V5w9qhQusyUeq/EI5NSucH75hpAWcoWsCZaiJDCPrmCprU1W0MkVhipgWcoWgBZ6qKD2NoUof/05qh1YSZFnCGogWcqTI+hDCMr+mhe7VGYomZFnCGogWcqT5KhEBUrt0YIrHETAs4Q9ECzvwDNfiG/m/Ir0wAAAAASUVORK5CYII=";
var root_1$2 = template('<div><button class="pixel-corners pixel-corners-b-ui-logo-outline-colour bg-ui-logo-colour hover:bg-ui-logo-outline-colour px-4 py-2 font-pixel-default text-6xl">PLAY</button> <div class="font-pixel-default text-lg text-gray-400">Logged in as <span class="font-bold"> </span> (of team <span class="font-bold"> </span>)</div></div>'),
	root_2$1 = template(`<a${attr("href",`${API_BASE_URL}/auth/noctf/login`)}>LOGIN</a>`),
	root_3 = template('<div class="text-xl text-red-500 font-pixel-default"> </div>'),
	root$2 = template(`<div class="w-full h-full flex flex-col gap-16 items-center justify-center bg-white"><div class="absolute"></div> <div class="flex flex-col items-center"><img${attr("src",logoImgSrc)} alt="skateboarding dog ctf" class="w-[30vw] mb-8 z-50" style="image-rendering: pixelated;"> <div class="font-pixel-default text-gray-400">A game with skateboards, dogs and flags. Made with ❤️ by 🛹🐶</div></div> <!> <!></div>`);

function Landing(t, e) { let i;
	push$1(e, !0); const n = ["top", "right", "bottom", "left"];
	class r { constructor(t) { __publicField(this, "scene"), __publicField(this, "characters", []), __publicField(this, "spawnTimer"), __publicField(this, "hasSkbdg", !1), this.scene = t, this.spawnTimer = t.time.addEvent({ delay: 300, callback: this.spawnCharacter, callbackScope: this, loop: !0 }), this.scene.events.on("update", this.update, this), this.spawnCharacter() } getOffScreenPosition(t) { const { width: e, height: i } = this.scene.scale; let r, s, o = n[Math.floor(Math.random() * n.length)]; for (; o === t;) o = n[Math.floor(Math.random() * n.length)]; switch (o) {
				case "top":
					r = Math.random() * e, s = -100; break;
				case "right":
					r = e + 100, s = Math.random() * i; break;
				case "bottom":
					r = Math.random() * e, s = i + 100; break;
				case "left":
					r = -100, s = Math.random() * i } return { x: r, y: s, edge: o } } update() { for (const t of this.characters)
				if (!t.isDragging)
					if (t.moveX)
						if (Math.abs(t.sprite.x - t.targetX) > t.speed) { const e = t.targetX > t.sprite.x ? "right" : "left";
							t.sprite.playAnimations("moving", stringToDirection(e)), t.sprite.x += t.speed * ("right" === e ? 1 : -1) } else t.sprite.x = t.targetX, t.moveX = !1;
			else if (Math.abs(t.sprite.y - t.targetY) > t.speed) { const e = t.targetY > t.sprite.y ? "down" : "up";
				t.sprite.playAnimations("moving", stringToDirection(e)), t.sprite.y += t.speed * ("down" === e ? 1 : -1) } else Math.abs(t.sprite.x - t.targetX) > t.speed ? t.moveX = !0 : ("skbdg" === t.spriteName && (this.hasSkbdg = !1), t.sprite.destroy(), this.characters = this.characters.filter((e => e !== t))) } setupDragEvents(t, e) { t.setInteractive(), this.scene.input.setDraggable(t), t.on("dragstart", (() => { var i, n, r;
				e.isDragging = !0; const s = (null == (r = null == (n = null == (i = t.dog) ? void 0 : i.anims) ? void 0 : n.currentAnim) ? void 0 : r.key).split("-")[2];
				t.playAnimations("idle", stringToDirection(s)) })), t.on("drag", (e => { t.x = e.x, t.y = e.y })), t.on("dragend", (() => { e.isDragging = !1; const i = e.moveX ? e.targetX > t.x ? "right" : "left" : e.targetY > t.y ? "down" : "up";
				t.playAnimations("moving", stringToDirection(i)) })) } spawnCharacter() { const t = this.getOffScreenPosition(),
				e = this.getOffScreenPosition(t.edge),
				i = this.hasSkbdg ? PLAYER_SPRITES.filter((t => "skbdg" != t)) : PLAYER_SPRITES,
				n = i[Math.floor(Math.random() * i.length)]; "skbdg" === n && (this.hasSkbdg = !0); const r = "skbdg" == n ? BOARD_COLOURS[0] : BOARD_COLOURS[1 + Math.floor(Math.random() * (BOARD_COLOURS.length - 1))],
				s = "skbdg" == n ? WHEEL_COLOURS[0] : WHEEL_COLOURS[1 + Math.floor(Math.random() * (WHEEL_COLOURS.length - 1))],
				o = new DogBoard(this.scene, n, r, s, -32);
			o.x = t.x, o.y = t.y; const a = "left" === t.edge || "right" === t.edge,
				l = { sprite: o, spriteName: n, targetX: e.x, targetY: e.y, speed: 2, moveX: a, isDragging: !1 };
			this.characters.push(l), this.setupDragEvents(o, l); const h = a ? e.x > t.x ? "right" : "left" : e.y > t.y ? "down" : "up";
			o.playAnimations("moving", stringToDirection(h)) } destroy() { this.spawnTimer.destroy(), this.scene.events.off("update", this.update, this), this.characters.forEach((t => { t.sprite.removeAllListeners(), t.sprite.destroy() })), this.characters = [] } } onMount((() => { const t = { type: Phaser.AUTO, parent: i, transparent: !0, pixelArt: !0, roundPixels: !0, scale: { mode: Phaser.Scale.RESIZE, width: "100%", height: "100%", autoCenter: Phaser.Scale.CENTER_BOTH }, scene: { preload() { this.load.setPath("assets"), loadSprites(this) }, create() { createAnimations(this.game.anims); const t = new r(this);
						this.characterManager = t }, destroy() { var t;
						null == (t = this.characterManager) || t.destroy() } } },
			e = new Phaser.Game(t); return () => { e.destroy(!0) } })); var s = root$2(),
		o = child(s);
	bind_this(o, (t => i = t), (() => i)); var a = sibling(o, 4);
	if_block(a, (() => authState.isAuthenticated), (t => { var i = root_1$2(),
			n = child(i);
		n.__click = function(...t) { var i;
			null == (i = e.start) || i.apply(this, t) }; var r = sibling(n, 2),
			s = sibling(child(r)),
			o = child(s, !0);
		reset(s); var a = sibling(s, 2),
			l = child(a, !0);
		reset(a), next(), reset(r), reset(i), template_effect((() => { var t, e;
			set_class(i, `flex flex-col gap-4 items-center ${(authState.isInitialised?"opacity-100":"opacity-0")??""}`), set_text(o, null == (t = authState.user) ? void 0 : t.name), set_text(l, null == (e = authState.user) ? void 0 : e.team_name) })), append(t, i) }), (t => { var e = root_2$1();
		template_effect((() => set_class(e, `btn pixel-corners pixel-corners-b-ui-logo-outline-colour bg-ui-logo-colour hover:bg-ui-dark px-4 py-2 font-pixel-default text-6xl ${(authState.isInitialised?"opacity-100":"opacity-0")??""}`))), append(t, e) })); var l = sibling(a, 2);
	if_block(l, (() => authState.error), (t => { var e = root_3(),
			i = child(e, !0);
		reset(e), template_effect((() => set_text(i, authState.error))), append(t, e) })), reset(s), append(t, s), pop() } delegate(["click"]);
const defaultHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAYAAABP97SyAAAAAXNSR0IArs4c6QAAAcRJREFUaIHtmjFOw0AQRb9RQgiiQYBEQ8tFUuUGXIICilSUVCmg4BLcIFUuQkuDhBANIgQihYZVvGOv18M4gVnP62xrZ2fy9bPe9QCGYRiG0V4yemMyHizrjNnp7wEAPmZv3sPhaCpKaDIeeNcl81TmNxxNvZq2RNkooMMe0O0BKCq3Ltw8bt7F15w13hQ8Pjn1rp8eH6gHMgDY7vUBFD3ExcX5nM/crSWwUq4kn8p4pmA0wI83cr+4CBfnt56jmIKUGp5shJDnuCSvoBWoHfG/6OHBvh9w90gUb/H+LBpPSV5BK1A7VqB2rEDtsNfBptcp7nzcdTZ5Ba1A7ZR5MANWO2q632v63bOQEIlHPUjPYDrdXgaEd/7tU7DkVOtf45RzeVPap6AW5SihvJNX0ArUjvhM5vz63ru+vfS/TcTWSbrOXdz43xdpPC7JK2gFakfswRib3j9SklfQCtSO2IN3V2dN5BGMJ/Vw8gpagdrhdzoxz2Douyol5uHCfC+vrPmTV9AK1E4dD1aek0r7WGJwz0EppmCos/evcMrVzSt5BQs925RQ/2euG3AtvWq5eSo9F+sRT15B9pvMpj3J9RwleQW/AWC+lN5p2z51AAAAAElFTkSuQmCC",
	huskyHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAYAAABP97SyAAAAAXNSR0IArs4c6QAAAgZJREFUaIHtmjEvBFEQx98tjYjmJCriA1itApcgIZEQBcVFoyBEJAqFj6GQiBAKDQqdziWuwBVa6wMIlcQ1l8s17CnYYmYvM553IvNuft3b3Tc7/5v8M+/tO2MURVEUpXXJ4Av5+Zk6NeHl+alhjCBoM8YYE8cfTgk1iAPy6ejsIucXiiWgKXDKRgDtrgEywddv5Fq5hCROErcex07xtIJnF5dgPDUxAsa1aoX07G9JKoc9d3V9R+aD8b6CKlA6KQ++lcvkhHPkybnpMTDm+hRHrVoh32eL9xVUgdJxXsnsH5+C8dbmGhh3Z7PkfOx5HM8V7yuoAqWT8iDuQ1EUgfH68iIZsLev3yoB7FEuPvYozhfjfQVVoHRS32RGhwbJ/R231uT6Hge3FuY8d3v/0FrfZFSgdNi1KOc5br+2sbpE3t87PCHv5xdmyXy0D/53An+N9wKt94Oc57KWfRA/X0Z9EL8Pe5LD+wqqQOmkPIj3c1yfOnp8B+OVAeghbm2JPZeOB1O09aT3FVSB0mHPJrg+hcHP4/M8nler+BzeV1AFSsd6LYo9sJ1rWi7f8XqaGs/7CqpA6bAexGcTYRhavSAX0n3rJqL7KpcPh/cVVIHSYT2Iz9x3dg/A2NaTtmDP4Xw4vK+gCpRO6nxwcnwYXyLPC13/S8bxg++gQEOhWAI3va+gCpTOJ21nkq3yAxSvAAAAAElFTkSuQmCC",
	longdogHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAYAAABP97SyAAAAAXNSR0IArs4c6QAAAf1JREFUaIHtmb9OAkEQxj8Oi71AZUkpFhQW8ABCSWJja+IT+AA+gs9gaWVia2NCCbYkUFhQiCUlBSFwCf8suNWb4bgVOJU95td9t3u7M/cxe7cLIAiCIAiCIAiCIAiCIPw1KX6hVqsRPZvNAADpdFpfWgTbvfGY9D/J53cK6KPbJVq5Lu+SWhMXAKBarRLt7BSNBRyZOugnNJ/PAQCO87/PRMfBnVvH4Tm4rua0c7zmiqVSrAHx8dqtFtHKdckaAFaTnMNzcN9qzoSpJvc7+hgIW0Uja46/57LZbOQEw+Ewst10P58v5D0ZWpOaxDsoCdqO8UuGc3NVJvr1rU90v0/1YDCIHI/X4GX5NHJ8XoMmEu+gJGg7G9cg5/zsmOjnxjvRuVwu1vFv7x42uj/xDkqCtrNxDd4/NSLbTd+eu44v70GGJGg7YTVIzjgcf6fsKgXgu8YC35B8PxY3qeC8mUwGADD2PATjlB29ZjqZEJ31n9gXi6VhY3+n766ePMeKnkfPq53ScY1GIwDA1D+b4STewZX/JkzU63WiPc8jNVgoFEj79UUxcrzHlzbRnU6HaKUUibFSqfww0iWJd3Dr3YTnr2K/jZ5H+av4poiDHJNzpjOYbftv+4tJvIOSoO3sfCbD6fV6RPMzGk6z2Yw7BELiHZQEbUcStB1J0HY+AQhZnR4ULKxSAAAAAElFTkSuQmCC",
	samoyedHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAYAAABP97SyAAAAAXNSR0IArs4c6QAAAfZJREFUaIHtmrFuwjAQhn9DUaIIMZAtA0+QoS/QPkCfoFKfoE/UJ6jUtUsfgL5Ah4xMDIyeIhQGkk4u+DAxlpGKnfsWdNg+3+U4HPsMMAzDMAzDMMz/IOgXXdd1fQPW67VRx3Q6/VNxDZvqujbqO5rHSJ7nmk8jT2NunjtfBVmWAQDG4zEAYL/fe+lTepIkAQDsdjsvfRzBqqo0uSxLTZZSdsAhcvP53MsgpW8ymeD4U7HZbDS5KIpefdFHkB0MHed/UboOLhaLqxkDnOawYd11IvoIsoOhc5KDUkpNns1mTgrpeNu66Nrf1Z7oI8gOho5pHRQA0DSNkp32Y0f7uIug/WkO0vlo/6ZpBACkaWrUP7wIqic0GoXhe9u2AM7/csLwwgNTDnbA4cnYcuDa0HWRzmewh54BDetMhh0MHet+0PZueEGO9I639aft1B6b/ugjyA6GjnNtgp6Tvj4/avL714+XQS9P95r89rHUZHouSxFC8DoYFdE76JyDtw7nYGxE76BzbcL1HNMX3/mijyA7GDrOOWg7x6Q8lP3t35XsbXedjxJ9BNnB0DnJQVsNnsq+NXTbeNsdANv46CPIDobO2fqgukWo7o4pbPU72v65XPUaQPvTd08Kbc+yTADAdrs19h9eBNUtBlVdunVUHfPc7YvoI/gLcLemyAaZZI4AAAAASUVORK5CYII=",
	shibeHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAYAAABP97SyAAAAAXNSR0IArs4c6QAAAfRJREFUaIHtmbFKA0EQhuc0pstxnGghahuQdAqCYClYi2jtO2hhl85CX0QRa8FSFATtgmCjEEUQyRUXVIh3xMYgMzlvmKyouzdflbndzO7kz8/u3gIoiqIoSnHx6IPLTej+dE4hRuPP7eHxh8zm8v/RAm2nxHWYnl/LbW9eHNBHph42HR/hvIJaoO2wHqTEN8coph7hPMFB89Hx/OqyKJ/zCmqBtsN6sNt+ELVPzSyg+P76PPf7tL90PA7nFdQCbYf1IPUQt05RgsDPbW8/NnLb6bonXWedV1ALtB3xeZCuQ5WJGoo5T3HQfHQ86d7XeQW1QNsRnwcpXmUSxX4Vx9w6yZ3vpHtPivMKaoG2I/bg+MYZihdrIYqP6ksolr5DWamfoPi0EaH4+XBdlM95BbVA22HvB2d3za4aOM+Mre4b5b/awiXo/aBrOF+g8V6Uw9RjpjivoBZoO6wHowjvBcMw/KZnNnSvSqF7Tel8OJxXUAu0nT4P0vu6u51R3GG7hUKpJ6VQz9H59N99xChyXkEt0Hay1kEPAOCl1QQAgCDw0YFQ6knTdY7zXJKkHgBAqTScma94CsZPtwAA4KWvvz6ZQegp1+m8Z7YXT8EM5TwAgCRJAUDuSSmDeq5cHvn89IaeF09BSu+//fUL/S3Uc9y8nFfwA5sOlLiKy2Z2AAAAAElFTkSuQmCC",
	skbdgHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAYAAABP97SyAAAAAXNSR0IArs4c6QAAAj5JREFUaIHtmTGLE0EUx38rITG7CGuMCMkhRA7OIqjFFcKh1wlWWoj4EU4/g6Uf4CrRwt7CxtZSESwsVFJ4IASEFOIlKcySyzax2oOZxFlm93LnzL1fN/tmX/6Pf2bfzC4IgiAIgiAIwskQ7D7u5s2Z2yTc6FwqrgbY6/+yvSUwBc8Ul+IGUqDrVLBcY3k0L5wvdX+BNWjU772DUqDrVI48YXixZIbvR6Ijw3sHpUDXkQJdRwp0ncrBn9/KhbPn7PrY1uZVY/zGo+fG+JfXT4z5Pn6264t6Pd47KAW6zsJeVP8PX7+mvrPRz3vl956aIC3f1qYa3x+OlfHXbz1jPu8dlAJdx/o8eOX+S2P857unhcUAXL7zzBjff/XQKp/3DkqBrlP6ncy92+vK+O37H1b362uubD4d7x2UAl2nwj++r23cfADA2vaO1beLRqNhJcB2/trdXWV8EL4IAPY+vVk6/1Q4qJA5t769c+xiiqDr1J303sFgPleXWL/fByBJkuySMqHbzf2mv1J6vYXzXwBQrVYBaDabStB7BxfWYKfTAWAwGAAwHo/1Kf8VYRgCEMfx0rj/Dk6nUwDq9Xp2bQ7QbreB8g7e6pr73IfeqFT+OI71Pq30de8dPCwwTVPSND1JLSvBewcPn6KZe5PJRJnQarWUsd6HVt0X9d/T9eRx+hz0De8dDIbD4dJArVYDIIoi43lwNCrXx/LIOy8mSRIAzGazpXHvHVzYi2a78iiKjl1METKd2alIf5Z47+BfN8eAiQ2fxugAAAAASUVORK5CYII=",
	tinnyHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAYAAABP97SyAAAAAXNSR0IArs4c6QAAAmNJREFUaIHtmr1KA0EUhc9uVoNImggWwb9SIYogKBgjYuFD2FoJgoXPYSEIVoKVD2EhQkhhIYgEbI2mEpImiARMtIijzDXOzahrnOt83ezsTu7h5GR+NoDH4/F4PP+XYGl++tn2mVgq6R6resO4qvgreIGuEw0Mpow3PD7U6SXbzMYKV794B71A14mG0mntQrVW09r0O94hk0YODo+N/Zsb61bjcZmjesQ76AW6TlS5K2sXRkbHjQ9USZtmkmYkk8kYx+MyTvtpxihUj3gHvUDXifC6v+vr6wcAVO7K2lqTyySFZiTNZIbeX7GcZ2nmKPIdTCaTAIBGo9HjUuJBvoOcc3Rt2mu6qEc7MxLvoBfoOhF3A7f/s50nOeh43DzHId5BL9B12AxyZyB0XuL2axzcmRCF+40Q76AX6DpRGCYAAK1W80sDPN5fa+0qprR2jVk70szR8QaG9fG6RemS76ByLgjbWp9brV7W822UDqVLvoN4fd+nnLM+h7yPp7BuP7/DOa12piTeQS/Qddi1KMfIZM7Yb3suirR5PFvEO+gFus7buwm1AqDzCJ1nuHf6J6dFrZ3PmjNYKOnPr63qGeQ+j+4HgzAMgPd5Xb6DiUT7h7TZfOpxKT+Dck7pku9gB+eMmaTv7wrnVz9a0IcML8wY76eZUyhd8h2kF2Zm5wAAqVR7V1EsnP1qQbYs5pYBAPV6+5t1dXmh9Yt38MP/r/f3dgEAY+MTAIBcfkXLIF1blkqluGoDAGSzWa1Nz3iKhbMAAG7LNwCAre0drV+8g5/uJnL5lV8s4+uoOm/LRx37xTv4AkDftcFjoZRSAAAAAElFTkSuQmCC";
var on_click = (t, e) => set(e, "dog"),
	on_click_1 = (t, e) => set(e, "board"),
	on_click_2 = (t, e) => set(e, "wheels"),
	on_click_3 = (t, e, i) => set(e, proxy(get(i))),
	root_2 = template('<button><img class="w-[64px]" style="image-rendering: pixelated;"></button>'),
	root_1$1 = template('<div class="flex flex-row gap-2 flex-wrap"></div>'),
	on_click_4 = (t, e, i) => set(e, proxy(get(i))),
	root_5$1 = template('<button aria-label="boardColour"><div></div></button>'),
	root_4 = template('<div class="flex flex-row gap-2 flex-wrap"></div>'),
	on_click_5 = (t, e, i) => set(e, proxy(get(i))),
	root_8 = template('<button aria-label="wheelColour"><div></div></button>'),
	root_7 = template('<div class="flex flex-row gap-2 flex-wrap"></div>'),
	root$1 = template('<div class="w-full h-full flex flex-col gap-32 items-center bg-white"><div class="flex flex-col font-pixel-default text-gray-500 mt-16 items-center"><div class="text-4xl">skateboarding dog game</div> <div class="text-xl text-gray-400">character creation</div></div> <div class="flex flex-col gap-2 items-center"><div class="flex flex-row items-center gap-8 pixel-corners-b-ui-dark bg-ui-light p-2 pl-8 w-[44rem]"><div class="flex flex-col items-center w-2/6 h-80"><div class="z-10"></div> <div class="text-4xl h-16 font-pixel-default text-ui-primary line-clamp-1"> </div></div> <div class="w-4/6 h-full pixel-corners-b-ui-dark bg-ui-shade flex flex-col"><div class="bg-ui-dark flex flex-row font-pixel-default"><button>dog</button> <button>board</button> <button>wheels</button></div> <div class="p-2"><!></div></div></div> <div class="text-xl text-gray-400 font-pixel-default">use w,a,s,d to change directions</div></div> <button class="pixel-corners pixel-corners-b-ui-dark bg-ui-base hover:bg-ui-dark px-4 py-2 font-pixel-default text-6xl">PLAY</button></div>');

function CharacterSelect(t, e) { let i, n;
	push$1(e, !0); let r = state("default"),
		s = state("dog"),
		o = state(proxy(BOARD_COLOURS[1])),
		a = state(proxy(WHEEL_COLOURS[1]));
	user_effect((() => { get(r) && n && n(get(r), get(o), get(a)) })), user_effect((() => { get(o) && n && n(get(r), get(o), get(a)) })), user_effect((() => { get(a) && n && n(get(r), get(o), get(a)) })); const l = { default: defaultHead, husky: huskyHead, longdog: longdogHead, samoyed: samoyedHead, shibe: shibeHead, skbdg: skbdgHead, tinny: tinnyHead };
	onMount((() => { const t = { type: Phaser.AUTO, parent: i, transparent: !0, pixelArt: !0, roundPixels: !0, scale: { mode: Phaser.Scale.RESIZE, width: "100%", height: "100%", autoCenter: Phaser.Scale.CENTER_BOTH }, scene: { preload() { this.load.setPath("assets"), loadSprites(this) }, create() { createAnimations(this.game.anims), n = (t, e, i) => { this.dogBoard && this.dogBoard.removeAll(!0), this.dogBoard = new DogBoard(this, t, e, i), this.dogBoard.x = 4, this.dogBoard.y = 20, this.dogBoard.setScale(3, 3), this.isIdle = !1, this.idleStart = Date.now(); const n = this.direction;
							this.dogBoard.dog.setFrame(5 * n), this.dogBoard.board.setFrame(n), this.dogBoard.wheels.setFrame(n) }, n(get(r), get(o), get(a)), this.cursors = {
							[Direction.UP]: this.input.keyboard.addKey("W"), [Direction.DOWN]: this.input.keyboard.addKey("S"), [Direction.LEFT]: this.input.keyboard.addKey("A"), [Direction.RIGHT]: this.input.keyboard.addKey("D") }, this.direction = Direction.DOWN, this.isIdle = !1, this.idleStart = 0 }, update() { const t = DIRECTIONS.find((t => { var e; return null == (e = this.cursors) ? void 0 : e[stringToDirection(t)].isDown }));
						t ? (this.idleStart = 0, this.isIdle = !1, this.direction = stringToDirection(t), this.dogBoard.playAnimations("moving", stringToDirection(t))) : (0 === this.idleStart && (this.idleStart = Date.now()), Date.now() - this.idleStart > 1e3 && !this.isIdle && (this.isIdle = !0, this.dogBoard.playAnimations("idle", this.direction))) }, destroy() {} } },
			e = new Phaser.Game(t); return () => { e.destroy(!0) } })); var h = root$1(),
		u = sibling(child(h), 2),
		c = child(u),
		d = child(c),
		f = child(d);
	bind_this(f, (t => i = t), (() => i)); var p = sibling(f, 2),
		g = child(p, !0);
	reset(p), reset(d); var m = sibling(d, 2),
		v = child(m),
		y = child(v);
	y.__click = [on_click, s]; var x = sibling(y, 2);
	x.__click = [on_click_1, s]; var b = sibling(x, 2);
	b.__click = [on_click_2, s], reset(v); var w = sibling(v, 2),
		T = child(w);
	if_block(T, (() => "dog" === get(s)), (t => { var e = root_1$1();
		each(e, 21, (() => PLAYER_SPRITES), index$1, ((t, e) => { var i = root_2(); const n = derived((() => get(r) == get(e)));
			i.__click = [on_click_3, r, e]; var s = child(i);
			reset(i), template_effect((() => { set_class(i, `bg-ui-light ${(get(n)?"pixel-corners-b-ui-lighter":"pixel-corners-b-ui-dark hover:bg-ui-shade")??""}`), set_attribute(s, "src", l[get(e)]), set_attribute(s, "alt", get(e)), set_attribute(s, "title", get(e)) })), append(t, i) })), reset(e), append(t, e) }), (t => { var e = comment$1(),
			i = first_child(e);
		if_block(i, (() => "board" === get(s)), (t => { var e = root_4();
			each(e, 21, (() => BOARD_COLOURS), index$1, ((t, e) => { var i = root_5$1(); const n = derived((() => get(o) == get(e))),
					r = derived((() => `#${get(e).toString(16).padStart(6,"0")}`));
				i.__click = [on_click_4, o, e]; var s = child(i);
				reset(i), template_effect((() => { set_class(s, `w-12 h-12 ${(get(n)?"pixel-corners-b-ui-lighter":"pixel-corners-b-ui-dark")??""}`), set_attribute(s, "style", `background-color: ${get(r)??""}`) })), append(t, i) })), reset(e), append(t, e) }), (t => { var e = comment$1(),
				i = first_child(e);
			if_block(i, (() => "wheels" === get(s)), (t => { var e = root_7();
				each(e, 21, (() => WHEEL_COLOURS), index$1, ((t, e) => { var i = root_8(); const n = derived((() => get(a) == get(e))),
						r = derived((() => `#${get(e).toString(16).padStart(6,"0")}`));
					i.__click = [on_click_5, a, e]; var s = child(i);
					reset(i), template_effect((() => { set_class(s, `w-12 h-12 ${(get(n)?"pixel-corners-b-ui-lighter":"pixel-corners-b-ui-dark")??""}`), set_attribute(s, "style", `background-color: ${get(r)??""}`) })), append(t, i) })), reset(e), append(t, e) }), null, !0), append(t, e) }), !0), append(t, e) })), reset(w), reset(m), reset(c), next(2), reset(u), sibling(u, 2).__click = async () => { var t; const i = await api.user.setup({ body: { sprite: get(r), boardColour: get(o), wheelColour: get(a) } });
		204 !== i.status ? alert(`Error occurred: ${null==(t=i.body)?void 0:t.error}`) : (e.startGame(), uiState.isHowToPlayOpen = !0) }, reset(h), template_effect((() => { var t, e;
		set_attribute(p, "title", null == (t = authState.user) ? void 0 : t.name), set_text(g, null == (e = authState.user) ? void 0 : e.name), set_class(y, `pixel-corners-top flex-grow ${("dog"===get(s)?"bg-ui-shade":"")??""}`), set_class(x, `pixel-corners-top flex-grow ${("board"===get(s)?"bg-ui-shade":"")??""}`), set_class(b, `pixel-corners-top flex-grow ${("wheels"===get(s)?"bg-ui-shade":"")??""}`) })), transition(1, h, (() => fade)), append(t, h), pop() } delegate(["click"]);
var root_1 = template('<div id="game-container" class="svelte-p0nz26"><div id="game-canvas" class="svelte-p0nz26"></div> <div id="ui-overlay" class="svelte-p0nz26"><!></div></div>'),
	root_5 = template('<div class="absolute bottom-8 center bg-red-500 p-4 rounded-md">Login failed because you are not part of a CTF team. Create or join\n            a team on the main CTF platform and then try again.</div>'),
	root = template('<div id="app" class="svelte-p0nz26"><!> <!></div>');

function _page(t, e) { push$1(e, !0), user_effect((() => { if (!get(r)) return; const t = startGame("game-container");
		window.addEventListener("resize", (() => { t.scale.refresh() })), t.events.once("ready", (() => {})), window.addEventListener("load", (() => {})) })); const i = !!new URLSearchParams(window.location.search).get("play"),
		n = new URLSearchParams(window.location.search).get("error"); let r = state(i),
		s = state(!1); var o = root(),
		a = child(o);
	if_block(a, (() => get(r)), (t => { var e = root_1(),
			i = sibling(child(e), 2);
		UI(child(i), {}), reset(i), reset(e), append(t, e) }), (t => { var e = comment$1(),
			i = first_child(e);
		if_block(i, (() => get(s)), (t => { CharacterSelect(t, { startGame: () => set(r, !0) }) }), (t => { Landing(t, { start: () => authState.isFirstTime ? set(s, !0) : set(r, !0) }) }), !0), append(t, e) })); var l = sibling(a, 2);
	if_block(l, (() => "no_team" === n), (t => { var e = root_5();
		append(t, e) })), reset(o), append(t, o), pop() }
export { _page as _, toHtml as t };